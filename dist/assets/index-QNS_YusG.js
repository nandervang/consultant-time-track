var HZ=Object.defineProperty;var WZ=(e,t,n)=>t in e?HZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Tc=(e,t,n)=>WZ(e,typeof t!="symbol"?t+"":t,n);function VZ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qZ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var BF={exports:{}},Yb={},FF={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg=Symbol.for("react.element"),KZ=Symbol.for("react.portal"),GZ=Symbol.for("react.fragment"),YZ=Symbol.for("react.strict_mode"),XZ=Symbol.for("react.profiler"),QZ=Symbol.for("react.provider"),JZ=Symbol.for("react.context"),ZZ=Symbol.for("react.forward_ref"),eee=Symbol.for("react.suspense"),tee=Symbol.for("react.memo"),nee=Symbol.for("react.lazy"),pP=Symbol.iterator;function ree(e){return e===null||typeof e!="object"?null:(e=pP&&e[pP]||e["@@iterator"],typeof e=="function"?e:null)}var $F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UF=Object.assign,zF={};function Zf(e,t,n){this.props=e,this.context=t,this.refs=zF,this.updater=n||$F}Zf.prototype.isReactComponent={};Zf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function HF(){}HF.prototype=Zf.prototype;function Lk(e,t,n){this.props=e,this.context=t,this.refs=zF,this.updater=n||$F}var Bk=Lk.prototype=new HF;Bk.constructor=Lk;UF(Bk,Zf.prototype);Bk.isPureReactComponent=!0;var mP=Array.isArray,WF=Object.prototype.hasOwnProperty,Fk={current:null},VF={key:!0,ref:!0,__self:!0,__source:!0};function qF(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)WF.call(t,r)&&!VF.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:mg,type:e,key:s,ref:a,props:i,_owner:Fk.current}}function iee(e,t){return{$$typeof:mg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $k(e){return typeof e=="object"&&e!==null&&e.$$typeof===mg}function see(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gP=/\/+/g;function OE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?see(""+e.key):t.toString(36)}function Uv(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case mg:case KZ:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+OE(a,0):r,mP(i)?(n="",e!=null&&(n=e.replace(gP,"$&/")+"/"),Uv(i,t,n,"",function(u){return u})):i!=null&&($k(i)&&(i=iee(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(gP,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",mP(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+OE(s,o);a+=Uv(s,t,n,l,i)}else if(l=ree(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+OE(s,o++),a+=Uv(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function x0(e,t,n){if(e==null)return e;var r=[],i=0;return Uv(e,r,"","",function(s){return t.call(n,s,i++)}),r}function aee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ii={current:null},zv={transition:null},oee={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:zv,ReactCurrentOwner:Fk};function KF(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:x0,forEach:function(e,t,n){x0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return x0(e,function(){t++}),t},toArray:function(e){return x0(e,function(t){return t})||[]},only:function(e){if(!$k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=Zf;lt.Fragment=GZ;lt.Profiler=XZ;lt.PureComponent=Lk;lt.StrictMode=YZ;lt.Suspense=eee;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oee;lt.act=KF;lt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=UF({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Fk.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)WF.call(t,l)&&!VF.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:mg,type:e.type,key:i,ref:s,props:r,_owner:a}};lt.createContext=function(e){return e={$$typeof:JZ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QZ,_context:e},e.Consumer=e};lt.createElement=qF;lt.createFactory=function(e){var t=qF.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:ZZ,render:e}};lt.isValidElement=$k;lt.lazy=function(e){return{$$typeof:nee,_payload:{_status:-1,_result:e},_init:aee}};lt.memo=function(e,t){return{$$typeof:tee,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=zv.transition;zv.transition={};try{e()}finally{zv.transition=t}};lt.unstable_act=KF;lt.useCallback=function(e,t){return ii.current.useCallback(e,t)};lt.useContext=function(e){return ii.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return ii.current.useDeferredValue(e)};lt.useEffect=function(e,t){return ii.current.useEffect(e,t)};lt.useId=function(){return ii.current.useId()};lt.useImperativeHandle=function(e,t,n){return ii.current.useImperativeHandle(e,t,n)};lt.useInsertionEffect=function(e,t){return ii.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return ii.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return ii.current.useMemo(e,t)};lt.useReducer=function(e,t,n){return ii.current.useReducer(e,t,n)};lt.useRef=function(e){return ii.current.useRef(e)};lt.useState=function(e){return ii.current.useState(e)};lt.useSyncExternalStore=function(e,t,n){return ii.current.useSyncExternalStore(e,t,n)};lt.useTransition=function(){return ii.current.useTransition()};lt.version="18.3.1";FF.exports=lt;var b=FF.exports;const nt=Br(b),Xb=VZ({__proto__:null,default:nt},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lee=b,cee=Symbol.for("react.element"),uee=Symbol.for("react.fragment"),dee=Object.prototype.hasOwnProperty,fee=lee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hee={key:!0,ref:!0,__self:!0,__source:!0};function GF(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)dee.call(t,r)&&!hee.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:cee,type:e,key:s,ref:a,props:i,_owner:fee.current}}Yb.Fragment=uee;Yb.jsx=GF;Yb.jsxs=GF;BF.exports=Yb;var c=BF.exports,YF={exports:{}},Qi={},XF={exports:{}},QF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,V){var I=M.length;M.push(V);e:for(;0<I;){var ee=I-1>>>1,W=M[ee];if(0<i(W,V))M[ee]=V,M[I]=W,I=ee;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var V=M[0],I=M.pop();if(I!==V){M[0]=I;e:for(var ee=0,W=M.length,$=W>>>1;ee<$;){var xe=2*(ee+1)-1,ke=M[xe],Ae=xe+1,le=M[Ae];if(0>i(ke,I))Ae<W&&0>i(le,ke)?(M[ee]=le,M[Ae]=I,ee=Ae):(M[ee]=ke,M[xe]=I,ee=xe);else if(Ae<W&&0>i(le,I))M[ee]=le,M[Ae]=I,ee=Ae;else break e}}return V}function i(M,V){var I=M.sortIndex-V.sortIndex;return I!==0?I:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=M)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function E(M){if(g=!1,w(M),!m)if(n(l)!==null)m=!0,j(_);else{var V=n(u);V!==null&&R(E,V.startTime-M)}}function _(M,V){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var I=h;try{for(w(V),f=n(l);f!==null&&(!(f.expirationTime>V)||M&&!D());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var W=ee(f.expirationTime<=V);V=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),w(V)}else r(l);f=n(l)}if(f!==null)var $=!0;else{var xe=n(u);xe!==null&&R(E,xe.startTime-V),$=!1}return $}finally{f=null,h=I,p=!1}}var N=!1,T=null,C=-1,O=5,A=-1;function D(){return!(e.unstable_now()-A<O)}function k(){if(T!==null){var M=e.unstable_now();A=M;var V=!0;try{V=T(!0,M)}finally{V?P():(N=!1,T=null)}}else N=!1}var P;if(typeof x=="function")P=function(){x(k)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=k,P=function(){L.postMessage(null)}}else P=function(){v(k,0)};function j(M){T=M,N||(N=!0,P())}function R(M,V){C=v(function(){M(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,j(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var I=h;h=V;try{return M()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var I=h;h=M;try{return V()}finally{h=I}},e.unstable_scheduleCallback=function(M,V,I){var ee=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ee+I:ee):I=ee,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=I+W,M={id:d++,callback:V,priorityLevel:M,startTime:I,expirationTime:W,sortIndex:-1},I>ee?(M.sortIndex=I,t(u,M),n(l)===null&&M===n(u)&&(g?(y(C),C=-1):g=!0,R(E,I-ee))):(M.sortIndex=W,t(l,M),m||p||(m=!0,j(_))),M},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(M){var V=h;return function(){var I=h;h=V;try{return M.apply(this,arguments)}finally{h=I}}}})(QF);XF.exports=QF;var pee=XF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mee=b,Ki=pee;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JF=new Set,cm={};function Wu(e,t){pf(e,t),pf(e+"Capture",t)}function pf(e,t){for(cm[e]=t,e=0;e<t.length;e++)JF.add(t[e])}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n_=Object.prototype.hasOwnProperty,gee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vP={},yP={};function vee(e){return n_.call(yP,e)?!0:n_.call(vP,e)?!1:gee.test(e)?yP[e]=!0:(vP[e]=!0,!1)}function yee(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xee(e,t,n,r){if(t===null||typeof t>"u"||yee(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function si(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new si(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new si(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new si(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new si(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new si(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){br[e]=new si(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){br[e]=new si(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){br[e]=new si(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){br[e]=new si(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uk=/[\-:]([a-z])/g;function zk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uk,zk);br[t]=new si(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uk,zk);br[t]=new si(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uk,zk);br[t]=new si(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){br[e]=new si(e,1,!1,e.toLowerCase(),null,!1,!1)});br.xlinkHref=new si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){br[e]=new si(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hk(e,t,n,r){var i=br.hasOwnProperty(t)?br[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xee(t,n,i,r)&&(n=null),r||i===null?vee(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mo=mee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b0=Symbol.for("react.element"),Od=Symbol.for("react.portal"),jd=Symbol.for("react.fragment"),Wk=Symbol.for("react.strict_mode"),r_=Symbol.for("react.profiler"),ZF=Symbol.for("react.provider"),e5=Symbol.for("react.context"),Vk=Symbol.for("react.forward_ref"),i_=Symbol.for("react.suspense"),s_=Symbol.for("react.suspense_list"),qk=Symbol.for("react.memo"),sl=Symbol.for("react.lazy"),t5=Symbol.for("react.offscreen"),xP=Symbol.iterator;function Lh(e){return e===null||typeof e!="object"?null:(e=xP&&e[xP]||e["@@iterator"],typeof e=="function"?e:null)}var cn=Object.assign,jE;function mp(e){if(jE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jE=t&&t[1]||""}return`
`+jE+e}var IE=!1;function PE(e,t){if(!e||IE)return"";IE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{IE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mp(e):""}function bee(e){switch(e.tag){case 5:return mp(e.type);case 16:return mp("Lazy");case 13:return mp("Suspense");case 19:return mp("SuspenseList");case 0:case 2:case 15:return e=PE(e.type,!1),e;case 11:return e=PE(e.type.render,!1),e;case 1:return e=PE(e.type,!0),e;default:return""}}function a_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jd:return"Fragment";case Od:return"Portal";case r_:return"Profiler";case Wk:return"StrictMode";case i_:return"Suspense";case s_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e5:return(e.displayName||"Context")+".Consumer";case ZF:return(e._context.displayName||"Context")+".Provider";case Vk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qk:return t=e.displayName||null,t!==null?t:a_(e.type)||"Memo";case sl:t=e._payload,e=e._init;try{return a_(e(t))}catch{}}return null}function wee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a_(t);case 8:return t===Wk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eee(e){var t=n5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function w0(e){e._valueTracker||(e._valueTracker=Eee(e))}function r5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=n5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function o_(e,t){var n=t.checked;return cn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bP(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function i5(e,t){t=t.checked,t!=null&&Hk(e,"checked",t,!1)}function l_(e,t){i5(e,t);var n=Gl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?c_(e,t.type,n):t.hasOwnProperty("defaultValue")&&c_(e,t.type,Gl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wP(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function c_(e,t,n){(t!=="number"||vy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gp=Array.isArray;function Kd(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function u_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return cn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function EP(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ge(92));if(gp(n)){if(1<n.length)throw Error(ge(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gl(n)}}function s5(e,t){var n=Gl(t.value),r=Gl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function SP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function d_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var E0,o5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(E0=E0||document.createElement("div"),E0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=E0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function um(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},See=["Webkit","ms","Moz","O"];Object.keys(kp).forEach(function(e){See.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kp[t]=kp[e]})});function l5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||kp.hasOwnProperty(e)&&kp[e]?(""+t).trim():t+"px"}function c5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Nee=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f_(e,t){if(t){if(Nee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function h_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p_=null;function Kk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var m_=null,Gd=null,Yd=null;function NP(e){if(e=yg(e)){if(typeof m_!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=t1(t),m_(e.stateNode,e.type,t))}}function u5(e){Gd?Yd?Yd.push(e):Yd=[e]:Gd=e}function d5(){if(Gd){var e=Gd,t=Yd;if(Yd=Gd=null,NP(e),t)for(e=0;e<t.length;e++)NP(t[e])}}function f5(e,t){return e(t)}function h5(){}var DE=!1;function p5(e,t,n){if(DE)return e(t,n);DE=!0;try{return f5(e,t,n)}finally{DE=!1,(Gd!==null||Yd!==null)&&(h5(),d5())}}function dm(e,t){var n=e.stateNode;if(n===null)return null;var r=t1(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ge(231,t,typeof n));return n}var g_=!1;if(bo)try{var Bh={};Object.defineProperty(Bh,"passive",{get:function(){g_=!0}}),window.addEventListener("test",Bh,Bh),window.removeEventListener("test",Bh,Bh)}catch{g_=!1}function _ee(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ap=!1,yy=null,xy=!1,v_=null,Tee={onError:function(e){Ap=!0,yy=e}};function Cee(e,t,n,r,i,s,a,o,l){Ap=!1,yy=null,_ee.apply(Tee,arguments)}function kee(e,t,n,r,i,s,a,o,l){if(Cee.apply(this,arguments),Ap){if(Ap){var u=yy;Ap=!1,yy=null}else throw Error(ge(198));xy||(xy=!0,v_=u)}}function Vu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _P(e){if(Vu(e)!==e)throw Error(ge(188))}function Aee(e){var t=e.alternate;if(!t){if(t=Vu(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _P(i),e;if(s===r)return _P(i),t;s=s.sibling}throw Error(ge(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ge(189))}}if(n.alternate!==r)throw Error(ge(190))}if(n.tag!==3)throw Error(ge(188));return n.stateNode.current===n?e:t}function g5(e){return e=Aee(e),e!==null?v5(e):null}function v5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=v5(e);if(t!==null)return t;e=e.sibling}return null}var y5=Ki.unstable_scheduleCallback,TP=Ki.unstable_cancelCallback,Oee=Ki.unstable_shouldYield,jee=Ki.unstable_requestPaint,Nn=Ki.unstable_now,Iee=Ki.unstable_getCurrentPriorityLevel,Gk=Ki.unstable_ImmediatePriority,x5=Ki.unstable_UserBlockingPriority,by=Ki.unstable_NormalPriority,Pee=Ki.unstable_LowPriority,b5=Ki.unstable_IdlePriority,Qb=null,Ta=null;function Dee(e){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(Qb,e,void 0,(e.current.flags&128)===128)}catch{}}var Xs=Math.clz32?Math.clz32:Lee,Mee=Math.log,Ree=Math.LN2;function Lee(e){return e>>>=0,e===0?32:31-(Mee(e)/Ree|0)|0}var S0=64,N0=4194304;function vp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wy(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=vp(o):(s&=a,s!==0&&(r=vp(s)))}else a=n&~i,a!==0?r=vp(a):s!==0&&(r=vp(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xs(t),i=1<<n,r|=e[n],t&=~i;return r}function Bee(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fee(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Xs(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=Bee(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function y_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function w5(){var e=S0;return S0<<=1,!(S0&4194240)&&(S0=64),e}function ME(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gg(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xs(t),e[t]=n}function $ee(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Xs(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Yk(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Nt=0;function E5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S5,Xk,N5,_5,T5,x_=!1,_0=[],Cl=null,kl=null,Al=null,fm=new Map,hm=new Map,dl=[],Uee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CP(e,t){switch(e){case"focusin":case"focusout":Cl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":fm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hm.delete(t.pointerId)}}function Fh(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=yg(t),t!==null&&Xk(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function zee(e,t,n,r,i){switch(t){case"focusin":return Cl=Fh(Cl,e,t,n,r,i),!0;case"dragenter":return kl=Fh(kl,e,t,n,r,i),!0;case"mouseover":return Al=Fh(Al,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return fm.set(s,Fh(fm.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hm.set(s,Fh(hm.get(s)||null,e,t,n,r,i)),!0}return!1}function C5(e){var t=Vc(e.target);if(t!==null){var n=Vu(t);if(n!==null){if(t=n.tag,t===13){if(t=m5(n),t!==null){e.blockedOn=t,T5(e.priority,function(){N5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=b_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);p_=r,n.target.dispatchEvent(r),p_=null}else return t=yg(n),t!==null&&Xk(t),e.blockedOn=n,!1;t.shift()}return!0}function kP(e,t,n){Hv(e)&&n.delete(t)}function Hee(){x_=!1,Cl!==null&&Hv(Cl)&&(Cl=null),kl!==null&&Hv(kl)&&(kl=null),Al!==null&&Hv(Al)&&(Al=null),fm.forEach(kP),hm.forEach(kP)}function $h(e,t){e.blockedOn===t&&(e.blockedOn=null,x_||(x_=!0,Ki.unstable_scheduleCallback(Ki.unstable_NormalPriority,Hee)))}function pm(e){function t(i){return $h(i,e)}if(0<_0.length){$h(_0[0],e);for(var n=1;n<_0.length;n++){var r=_0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Cl!==null&&$h(Cl,e),kl!==null&&$h(kl,e),Al!==null&&$h(Al,e),fm.forEach(t),hm.forEach(t),n=0;n<dl.length;n++)r=dl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dl.length&&(n=dl[0],n.blockedOn===null);)C5(n),n.blockedOn===null&&dl.shift()}var Xd=Mo.ReactCurrentBatchConfig,Ey=!0;function Wee(e,t,n,r){var i=Nt,s=Xd.transition;Xd.transition=null;try{Nt=1,Qk(e,t,n,r)}finally{Nt=i,Xd.transition=s}}function Vee(e,t,n,r){var i=Nt,s=Xd.transition;Xd.transition=null;try{Nt=4,Qk(e,t,n,r)}finally{Nt=i,Xd.transition=s}}function Qk(e,t,n,r){if(Ey){var i=b_(e,t,n,r);if(i===null)VE(e,t,r,Sy,n),CP(e,r);else if(zee(i,e,t,n,r))r.stopPropagation();else if(CP(e,r),t&4&&-1<Uee.indexOf(e)){for(;i!==null;){var s=yg(i);if(s!==null&&S5(s),s=b_(e,t,n,r),s===null&&VE(e,t,r,Sy,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else VE(e,t,r,null,n)}}var Sy=null;function b_(e,t,n,r){if(Sy=null,e=Kk(r),e=Vc(e),e!==null)if(t=Vu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=m5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sy=e,null}function k5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iee()){case Gk:return 1;case x5:return 4;case by:case Pee:return 16;case b5:return 536870912;default:return 16}default:return 16}}var yl=null,Jk=null,Wv=null;function A5(){if(Wv)return Wv;var e,t=Jk,n=t.length,r,i="value"in yl?yl.value:yl.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Wv=i.slice(e,1<r?1-r:void 0)}function Vv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function T0(){return!0}function AP(){return!1}function Ji(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?T0:AP,this.isPropagationStopped=AP,this}return cn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=T0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=T0)},persist:function(){},isPersistent:T0}),t}var eh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zk=Ji(eh),vg=cn({},eh,{view:0,detail:0}),qee=Ji(vg),RE,LE,Uh,Jb=cn({},vg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eA,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uh&&(Uh&&e.type==="mousemove"?(RE=e.screenX-Uh.screenX,LE=e.screenY-Uh.screenY):LE=RE=0,Uh=e),RE)},movementY:function(e){return"movementY"in e?e.movementY:LE}}),OP=Ji(Jb),Kee=cn({},Jb,{dataTransfer:0}),Gee=Ji(Kee),Yee=cn({},vg,{relatedTarget:0}),BE=Ji(Yee),Xee=cn({},eh,{animationName:0,elapsedTime:0,pseudoElement:0}),Qee=Ji(Xee),Jee=cn({},eh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zee=Ji(Jee),ete=cn({},eh,{data:0}),jP=Ji(ete),tte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ite(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rte[e])?!!t[e]:!1}function eA(){return ite}var ste=cn({},vg,{key:function(e){if(e.key){var t=tte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eA,charCode:function(e){return e.type==="keypress"?Vv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ate=Ji(ste),ote=cn({},Jb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IP=Ji(ote),lte=cn({},vg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eA}),cte=Ji(lte),ute=cn({},eh,{propertyName:0,elapsedTime:0,pseudoElement:0}),dte=Ji(ute),fte=cn({},Jb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hte=Ji(fte),pte=[9,13,27,32],tA=bo&&"CompositionEvent"in window,Op=null;bo&&"documentMode"in document&&(Op=document.documentMode);var mte=bo&&"TextEvent"in window&&!Op,O5=bo&&(!tA||Op&&8<Op&&11>=Op),PP=" ",DP=!1;function j5(e,t){switch(e){case"keyup":return pte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Id=!1;function gte(e,t){switch(e){case"compositionend":return I5(t);case"keypress":return t.which!==32?null:(DP=!0,PP);case"textInput":return e=t.data,e===PP&&DP?null:e;default:return null}}function vte(e,t){if(Id)return e==="compositionend"||!tA&&j5(e,t)?(e=A5(),Wv=Jk=yl=null,Id=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return O5&&t.locale!=="ko"?null:t.data;default:return null}}var yte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yte[e.type]:t==="textarea"}function P5(e,t,n,r){u5(r),t=Ny(t,"onChange"),0<t.length&&(n=new Zk("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jp=null,mm=null;function xte(e){W5(e,0)}function Zb(e){var t=Md(e);if(r5(t))return e}function bte(e,t){if(e==="change")return t}var D5=!1;if(bo){var FE;if(bo){var $E="oninput"in document;if(!$E){var RP=document.createElement("div");RP.setAttribute("oninput","return;"),$E=typeof RP.oninput=="function"}FE=$E}else FE=!1;D5=FE&&(!document.documentMode||9<document.documentMode)}function LP(){jp&&(jp.detachEvent("onpropertychange",M5),mm=jp=null)}function M5(e){if(e.propertyName==="value"&&Zb(mm)){var t=[];P5(t,mm,e,Kk(e)),p5(xte,t)}}function wte(e,t,n){e==="focusin"?(LP(),jp=t,mm=n,jp.attachEvent("onpropertychange",M5)):e==="focusout"&&LP()}function Ete(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zb(mm)}function Ste(e,t){if(e==="click")return Zb(t)}function Nte(e,t){if(e==="input"||e==="change")return Zb(t)}function _te(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zs=typeof Object.is=="function"?Object.is:_te;function gm(e,t){if(Zs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!n_.call(t,i)||!Zs(e[i],t[i]))return!1}return!0}function BP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FP(e,t){var n=BP(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BP(n)}}function R5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?R5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L5(){for(var e=window,t=vy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vy(e.document)}return t}function nA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tte(e){var t=L5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&R5(n.ownerDocument.documentElement,n)){if(r!==null&&nA(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=FP(n,s);var a=FP(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cte=bo&&"documentMode"in document&&11>=document.documentMode,Pd=null,w_=null,Ip=null,E_=!1;function $P(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;E_||Pd==null||Pd!==vy(r)||(r=Pd,"selectionStart"in r&&nA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ip&&gm(Ip,r)||(Ip=r,r=Ny(w_,"onSelect"),0<r.length&&(t=new Zk("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pd)))}function C0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dd={animationend:C0("Animation","AnimationEnd"),animationiteration:C0("Animation","AnimationIteration"),animationstart:C0("Animation","AnimationStart"),transitionend:C0("Transition","TransitionEnd")},UE={},B5={};bo&&(B5=document.createElement("div").style,"AnimationEvent"in window||(delete Dd.animationend.animation,delete Dd.animationiteration.animation,delete Dd.animationstart.animation),"TransitionEvent"in window||delete Dd.transitionend.transition);function e1(e){if(UE[e])return UE[e];if(!Dd[e])return e;var t=Dd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in B5)return UE[e]=t[n];return e}var F5=e1("animationend"),$5=e1("animationiteration"),U5=e1("animationstart"),z5=e1("transitionend"),H5=new Map,UP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ic(e,t){H5.set(e,t),Wu(t,[e])}for(var zE=0;zE<UP.length;zE++){var HE=UP[zE],kte=HE.toLowerCase(),Ate=HE[0].toUpperCase()+HE.slice(1);ic(kte,"on"+Ate)}ic(F5,"onAnimationEnd");ic($5,"onAnimationIteration");ic(U5,"onAnimationStart");ic("dblclick","onDoubleClick");ic("focusin","onFocus");ic("focusout","onBlur");ic(z5,"onTransitionEnd");pf("onMouseEnter",["mouseout","mouseover"]);pf("onMouseLeave",["mouseout","mouseover"]);pf("onPointerEnter",["pointerout","pointerover"]);pf("onPointerLeave",["pointerout","pointerover"]);Wu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ote=new Set("cancel close invalid load scroll toggle".split(" ").concat(yp));function zP(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kee(r,t,void 0,e),e.currentTarget=null}function W5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;zP(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;zP(i,o,u),s=l}}}if(xy)throw e=v_,xy=!1,v_=null,e}function qt(e,t){var n=t[C_];n===void 0&&(n=t[C_]=new Set);var r=e+"__bubble";n.has(r)||(V5(t,e,2,!1),n.add(r))}function WE(e,t,n){var r=0;t&&(r|=4),V5(n,e,r,t)}var k0="_reactListening"+Math.random().toString(36).slice(2);function vm(e){if(!e[k0]){e[k0]=!0,JF.forEach(function(n){n!=="selectionchange"&&(Ote.has(n)||WE(n,!1,e),WE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[k0]||(t[k0]=!0,WE("selectionchange",!1,t))}}function V5(e,t,n,r){switch(k5(t)){case 1:var i=Wee;break;case 4:i=Vee;break;default:i=Qk}n=i.bind(null,t,n,e),i=void 0,!g_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function VE(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Vc(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}p5(function(){var u=s,d=Kk(n),f=[];e:{var h=H5.get(e);if(h!==void 0){var p=Zk,m=e;switch(e){case"keypress":if(Vv(n)===0)break e;case"keydown":case"keyup":p=ate;break;case"focusin":m="focus",p=BE;break;case"focusout":m="blur",p=BE;break;case"beforeblur":case"afterblur":p=BE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=OP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Gee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cte;break;case F5:case $5:case U5:p=Qee;break;case z5:p=dte;break;case"scroll":p=qee;break;case"wheel":p=hte;break;case"copy":case"cut":case"paste":p=Zee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=IP}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,w;x!==null;){w=x;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=dm(x,y),E!=null&&g.push(ym(x,E,w)))),v)break;x=x.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==p_&&(m=n.relatedTarget||n.fromElement)&&(Vc(m)||m[wo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Vc(m):null,m!==null&&(v=Vu(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=OP,E="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=IP,E="onPointerLeave",y="onPointerEnter",x="pointer"),v=p==null?h:Md(p),w=m==null?h:Md(m),h=new g(E,x+"leave",p,n,d),h.target=v,h.relatedTarget=w,E=null,Vc(d)===u&&(g=new g(y,x+"enter",m,n,d),g.target=w,g.relatedTarget=v,E=g),v=E,p&&m)t:{for(g=p,y=m,x=0,w=g;w;w=rd(w))x++;for(w=0,E=y;E;E=rd(E))w++;for(;0<x-w;)g=rd(g),x--;for(;0<w-x;)y=rd(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=rd(g),y=rd(y)}g=null}else g=null;p!==null&&HP(f,h,p,g,!1),m!==null&&v!==null&&HP(f,v,m,g,!0)}}e:{if(h=u?Md(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=bte;else if(MP(h))if(D5)_=Nte;else{_=Ete;var N=wte}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Ste);if(_&&(_=_(e,u))){P5(f,_,n,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&c_(h,"number",h.value)}switch(N=u?Md(u):window,e){case"focusin":(MP(N)||N.contentEditable==="true")&&(Pd=N,w_=u,Ip=null);break;case"focusout":Ip=w_=Pd=null;break;case"mousedown":E_=!0;break;case"contextmenu":case"mouseup":case"dragend":E_=!1,$P(f,n,d);break;case"selectionchange":if(Cte)break;case"keydown":case"keyup":$P(f,n,d)}var T;if(tA)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Id?j5(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(O5&&n.locale!=="ko"&&(Id||C!=="onCompositionStart"?C==="onCompositionEnd"&&Id&&(T=A5()):(yl=d,Jk="value"in yl?yl.value:yl.textContent,Id=!0)),N=Ny(u,C),0<N.length&&(C=new jP(C,e,null,n,d),f.push({event:C,listeners:N}),T?C.data=T:(T=I5(n),T!==null&&(C.data=T)))),(T=mte?gte(e,n):vte(e,n))&&(u=Ny(u,"onBeforeInput"),0<u.length&&(d=new jP("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}W5(f,t)})}function ym(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ny(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dm(e,n),s!=null&&r.unshift(ym(e,s,i)),s=dm(e,t),s!=null&&r.push(ym(e,s,i))),e=e.return}return r}function rd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function HP(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=dm(n,s),l!=null&&a.unshift(ym(n,l,o))):i||(l=dm(n,s),l!=null&&a.push(ym(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var jte=/\r\n?/g,Ite=/\u0000|\uFFFD/g;function WP(e){return(typeof e=="string"?e:""+e).replace(jte,`
`).replace(Ite,"")}function A0(e,t,n){if(t=WP(t),WP(e)!==t&&n)throw Error(ge(425))}function _y(){}var S_=null,N_=null;function __(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var T_=typeof setTimeout=="function"?setTimeout:void 0,Pte=typeof clearTimeout=="function"?clearTimeout:void 0,VP=typeof Promise=="function"?Promise:void 0,Dte=typeof queueMicrotask=="function"?queueMicrotask:typeof VP<"u"?function(e){return VP.resolve(null).then(e).catch(Mte)}:T_;function Mte(e){setTimeout(function(){throw e})}function qE(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),pm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pm(t)}function Ol(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var th=Math.random().toString(36).slice(2),ba="__reactFiber$"+th,xm="__reactProps$"+th,wo="__reactContainer$"+th,C_="__reactEvents$"+th,Rte="__reactListeners$"+th,Lte="__reactHandles$"+th;function Vc(e){var t=e[ba];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wo]||n[ba]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qP(e);e!==null;){if(n=e[ba])return n;e=qP(e)}return t}e=n,n=e.parentNode}return null}function yg(e){return e=e[ba]||e[wo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Md(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function t1(e){return e[xm]||null}var k_=[],Rd=-1;function sc(e){return{current:e}}function Yt(e){0>Rd||(e.current=k_[Rd],k_[Rd]=null,Rd--)}function Ft(e,t){Rd++,k_[Rd]=e.current,e.current=t}var Yl={},Mr=sc(Yl),vi=sc(!1),bu=Yl;function mf(e,t){var n=e.type.contextTypes;if(!n)return Yl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yi(e){return e=e.childContextTypes,e!=null}function Ty(){Yt(vi),Yt(Mr)}function KP(e,t,n){if(Mr.current!==Yl)throw Error(ge(168));Ft(Mr,t),Ft(vi,n)}function q5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ge(108,wee(e)||"Unknown",i));return cn({},n,r)}function Cy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yl,bu=Mr.current,Ft(Mr,e),Ft(vi,vi.current),!0}function GP(e,t,n){var r=e.stateNode;if(!r)throw Error(ge(169));n?(e=q5(e,t,bu),r.__reactInternalMemoizedMergedChildContext=e,Yt(vi),Yt(Mr),Ft(Mr,e)):Yt(vi),Ft(vi,n)}var to=null,n1=!1,KE=!1;function K5(e){to===null?to=[e]:to.push(e)}function Bte(e){n1=!0,K5(e)}function ac(){if(!KE&&to!==null){KE=!0;var e=0,t=Nt;try{var n=to;for(Nt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}to=null,n1=!1}catch(i){throw to!==null&&(to=to.slice(e+1)),y5(Gk,ac),i}finally{Nt=t,KE=!1}}return null}var Ld=[],Bd=0,ky=null,Ay=0,us=[],ds=0,wu=null,so=1,ao="";function Dc(e,t){Ld[Bd++]=Ay,Ld[Bd++]=ky,ky=e,Ay=t}function G5(e,t,n){us[ds++]=so,us[ds++]=ao,us[ds++]=wu,wu=e;var r=so;e=ao;var i=32-Xs(r)-1;r&=~(1<<i),n+=1;var s=32-Xs(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,so=1<<32-Xs(t)+i|n<<i|r,ao=s+e}else so=1<<s|n<<i|r,ao=e}function rA(e){e.return!==null&&(Dc(e,1),G5(e,1,0))}function iA(e){for(;e===ky;)ky=Ld[--Bd],Ld[Bd]=null,Ay=Ld[--Bd],Ld[Bd]=null;for(;e===wu;)wu=us[--ds],us[ds]=null,ao=us[--ds],us[ds]=null,so=us[--ds],us[ds]=null}var Fi=null,Ri=null,tn=!1,Us=null;function Y5(e,t){var n=gs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function YP(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fi=e,Ri=Ol(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fi=e,Ri=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wu!==null?{id:so,overflow:ao}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fi=e,Ri=null,!0):!1;default:return!1}}function A_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function O_(e){if(tn){var t=Ri;if(t){var n=t;if(!YP(e,t)){if(A_(e))throw Error(ge(418));t=Ol(n.nextSibling);var r=Fi;t&&YP(e,t)?Y5(r,n):(e.flags=e.flags&-4097|2,tn=!1,Fi=e)}}else{if(A_(e))throw Error(ge(418));e.flags=e.flags&-4097|2,tn=!1,Fi=e}}}function XP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fi=e}function O0(e){if(e!==Fi)return!1;if(!tn)return XP(e),tn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!__(e.type,e.memoizedProps)),t&&(t=Ri)){if(A_(e))throw X5(),Error(ge(418));for(;t;)Y5(e,t),t=Ol(t.nextSibling)}if(XP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ri=Ol(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ri=null}}else Ri=Fi?Ol(e.stateNode.nextSibling):null;return!0}function X5(){for(var e=Ri;e;)e=Ol(e.nextSibling)}function gf(){Ri=Fi=null,tn=!1}function sA(e){Us===null?Us=[e]:Us.push(e)}var Fte=Mo.ReactCurrentBatchConfig;function zh(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ge(309));var r=n.stateNode}if(!r)throw Error(ge(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(ge(284));if(!n._owner)throw Error(ge(290,e))}return e}function j0(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function QP(e){var t=e._init;return t(e._payload)}function Q5(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Dl(y,x),y.index=0,y.sibling=null,y}function s(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,x,w,E){return x===null||x.tag!==6?(x=eS(w,y.mode,E),x.return=y,x):(x=i(x,w),x.return=y,x)}function l(y,x,w,E){var _=w.type;return _===jd?d(y,x,w.props.children,E,w.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sl&&QP(_)===x.type)?(E=i(x,w.props),E.ref=zh(y,x,w),E.return=y,E):(E=Jv(w.type,w.key,w.props,null,y.mode,E),E.ref=zh(y,x,w),E.return=y,E)}function u(y,x,w,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=tS(w,y.mode,E),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function d(y,x,w,E,_){return x===null||x.tag!==7?(x=au(w,y.mode,E,_),x.return=y,x):(x=i(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=eS(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b0:return w=Jv(x.type,x.key,x.props,null,y.mode,w),w.ref=zh(y,null,x),w.return=y,w;case Od:return x=tS(x,y.mode,w),x.return=y,x;case sl:var E=x._init;return f(y,E(x._payload),w)}if(gp(x)||Lh(x))return x=au(x,y.mode,w,null),x.return=y,x;j0(y,x)}return null}function h(y,x,w,E){var _=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(y,x,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b0:return w.key===_?l(y,x,w,E):null;case Od:return w.key===_?u(y,x,w,E):null;case sl:return _=w._init,h(y,x,_(w._payload),E)}if(gp(w)||Lh(w))return _!==null?null:d(y,x,w,E,null);j0(y,w)}return null}function p(y,x,w,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,o(x,y,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case b0:return y=y.get(E.key===null?w:E.key)||null,l(x,y,E,_);case Od:return y=y.get(E.key===null?w:E.key)||null,u(x,y,E,_);case sl:var N=E._init;return p(y,x,w,N(E._payload),_)}if(gp(E)||Lh(E))return y=y.get(w)||null,d(x,y,E,_,null);j0(x,E)}return null}function m(y,x,w,E){for(var _=null,N=null,T=x,C=x=0,O=null;T!==null&&C<w.length;C++){T.index>C?(O=T,T=null):O=T.sibling;var A=h(y,T,w[C],E);if(A===null){T===null&&(T=O);break}e&&T&&A.alternate===null&&t(y,T),x=s(A,x,C),N===null?_=A:N.sibling=A,N=A,T=O}if(C===w.length)return n(y,T),tn&&Dc(y,C),_;if(T===null){for(;C<w.length;C++)T=f(y,w[C],E),T!==null&&(x=s(T,x,C),N===null?_=T:N.sibling=T,N=T);return tn&&Dc(y,C),_}for(T=r(y,T);C<w.length;C++)O=p(T,y,C,w[C],E),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?C:O.key),x=s(O,x,C),N===null?_=O:N.sibling=O,N=O);return e&&T.forEach(function(D){return t(y,D)}),tn&&Dc(y,C),_}function g(y,x,w,E){var _=Lh(w);if(typeof _!="function")throw Error(ge(150));if(w=_.call(w),w==null)throw Error(ge(151));for(var N=_=null,T=x,C=x=0,O=null,A=w.next();T!==null&&!A.done;C++,A=w.next()){T.index>C?(O=T,T=null):O=T.sibling;var D=h(y,T,A.value,E);if(D===null){T===null&&(T=O);break}e&&T&&D.alternate===null&&t(y,T),x=s(D,x,C),N===null?_=D:N.sibling=D,N=D,T=O}if(A.done)return n(y,T),tn&&Dc(y,C),_;if(T===null){for(;!A.done;C++,A=w.next())A=f(y,A.value,E),A!==null&&(x=s(A,x,C),N===null?_=A:N.sibling=A,N=A);return tn&&Dc(y,C),_}for(T=r(y,T);!A.done;C++,A=w.next())A=p(T,y,C,A.value,E),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?C:A.key),x=s(A,x,C),N===null?_=A:N.sibling=A,N=A);return e&&T.forEach(function(k){return t(y,k)}),tn&&Dc(y,C),_}function v(y,x,w,E){if(typeof w=="object"&&w!==null&&w.type===jd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case b0:e:{for(var _=w.key,N=x;N!==null;){if(N.key===_){if(_=w.type,_===jd){if(N.tag===7){n(y,N.sibling),x=i(N,w.props.children),x.return=y,y=x;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sl&&QP(_)===N.type){n(y,N.sibling),x=i(N,w.props),x.ref=zh(y,N,w),x.return=y,y=x;break e}n(y,N);break}else t(y,N);N=N.sibling}w.type===jd?(x=au(w.props.children,y.mode,E,w.key),x.return=y,y=x):(E=Jv(w.type,w.key,w.props,null,y.mode,E),E.ref=zh(y,x,w),E.return=y,y=E)}return a(y);case Od:e:{for(N=w.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=tS(w,y.mode,E),x.return=y,y=x}return a(y);case sl:return N=w._init,v(y,x,N(w._payload),E)}if(gp(w))return m(y,x,w,E);if(Lh(w))return g(y,x,w,E);j0(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,w),x.return=y,y=x):(n(y,x),x=eS(w,y.mode,E),x.return=y,y=x),a(y)):n(y,x)}return v}var vf=Q5(!0),J5=Q5(!1),Oy=sc(null),jy=null,Fd=null,aA=null;function oA(){aA=Fd=jy=null}function lA(e){var t=Oy.current;Yt(Oy),e._currentValue=t}function j_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qd(e,t){jy=e,aA=Fd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mi=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(aA!==e)if(e={context:e,memoizedValue:t,next:null},Fd===null){if(jy===null)throw Error(ge(308));Fd=e,jy.dependencies={lanes:0,firstContext:e}}else Fd=Fd.next=e;return t}var qc=null;function cA(e){qc===null?qc=[e]:qc.push(e)}function Z5(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,cA(t)):(n.next=i.next,i.next=n),t.interleaved=n,Eo(e,r)}function Eo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var al=!1;function uA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ho(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Eo(e,n)}return i=r.interleaved,i===null?(t.next=t,cA(r)):(t.next=i.next,i.next=t),r.interleaved=t,Eo(e,n)}function qv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yk(e,n)}}function JP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Iy(e,t,n,r){var i=e.updateQueue;al=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=u=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=cn({},f,h);break e;case 2:al=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Su|=a,e.lanes=a,e.memoizedState=f}}function ZP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ge(191,i));i.call(r)}}}var xg={},Ca=sc(xg),bm=sc(xg),wm=sc(xg);function Kc(e){if(e===xg)throw Error(ge(174));return e}function dA(e,t){switch(Ft(wm,t),Ft(bm,e),Ft(Ca,xg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:d_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=d_(t,e)}Yt(Ca),Ft(Ca,t)}function yf(){Yt(Ca),Yt(bm),Yt(wm)}function t$(e){Kc(wm.current);var t=Kc(Ca.current),n=d_(t,e.type);t!==n&&(Ft(bm,e),Ft(Ca,n))}function fA(e){bm.current===e&&(Yt(Ca),Yt(bm))}var an=sc(0);function Py(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var GE=[];function hA(){for(var e=0;e<GE.length;e++)GE[e]._workInProgressVersionPrimary=null;GE.length=0}var Kv=Mo.ReactCurrentDispatcher,YE=Mo.ReactCurrentBatchConfig,Eu=0,ln=null,Un=null,Xn=null,Dy=!1,Pp=!1,Em=0,$te=0;function Nr(){throw Error(ge(321))}function pA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zs(e[n],t[n]))return!1;return!0}function mA(e,t,n,r,i,s){if(Eu=s,ln=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kv.current=e===null||e.memoizedState===null?Wte:Vte,e=n(r,i),Pp){s=0;do{if(Pp=!1,Em=0,25<=s)throw Error(ge(301));s+=1,Xn=Un=null,t.updateQueue=null,Kv.current=qte,e=n(r,i)}while(Pp)}if(Kv.current=My,t=Un!==null&&Un.next!==null,Eu=0,Xn=Un=ln=null,Dy=!1,t)throw Error(ge(300));return e}function gA(){var e=Em!==0;return Em=0,e}function pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?ln.memoizedState=Xn=e:Xn=Xn.next=e,Xn}function Ts(){if(Un===null){var e=ln.alternate;e=e!==null?e.memoizedState:null}else e=Un.next;var t=Xn===null?ln.memoizedState:Xn.next;if(t!==null)Xn=t,Un=e;else{if(e===null)throw Error(ge(310));Un=e,e={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Xn===null?ln.memoizedState=Xn=e:Xn=Xn.next=e}return Xn}function Sm(e,t){return typeof t=="function"?t(e):t}function XE(e){var t=Ts(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var r=Un,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((Eu&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,ln.lanes|=d,Su|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Zs(r,t.memoizedState)||(mi=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ln.lanes|=s,Su|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function QE(e){var t=Ts(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Zs(s,t.memoizedState)||(mi=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function n$(){}function r$(e,t){var n=ln,r=Ts(),i=t(),s=!Zs(r.memoizedState,i);if(s&&(r.memoizedState=i,mi=!0),r=r.queue,vA(a$.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Xn!==null&&Xn.memoizedState.tag&1){if(n.flags|=2048,Nm(9,s$.bind(null,n,r,i,t),void 0,null),tr===null)throw Error(ge(349));Eu&30||i$(n,t,i)}return i}function i$(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function s$(e,t,n,r){t.value=n,t.getSnapshot=r,o$(t)&&l$(e)}function a$(e,t,n){return n(function(){o$(t)&&l$(e)})}function o$(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zs(e,n)}catch{return!0}}function l$(e){var t=Eo(e,1);t!==null&&Qs(t,e,1,-1)}function eD(e){var t=pa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:e},t.queue=e,e=e.dispatch=Hte.bind(null,ln,e),[t.memoizedState,e]}function Nm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function c$(){return Ts().memoizedState}function Gv(e,t,n,r){var i=pa();ln.flags|=e,i.memoizedState=Nm(1|t,n,void 0,r===void 0?null:r)}function r1(e,t,n,r){var i=Ts();r=r===void 0?null:r;var s=void 0;if(Un!==null){var a=Un.memoizedState;if(s=a.destroy,r!==null&&pA(r,a.deps)){i.memoizedState=Nm(t,n,s,r);return}}ln.flags|=e,i.memoizedState=Nm(1|t,n,s,r)}function tD(e,t){return Gv(8390656,8,e,t)}function vA(e,t){return r1(2048,8,e,t)}function u$(e,t){return r1(4,2,e,t)}function d$(e,t){return r1(4,4,e,t)}function f$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function h$(e,t,n){return n=n!=null?n.concat([e]):null,r1(4,4,f$.bind(null,t,e),n)}function yA(){}function p$(e,t){var n=Ts();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pA(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function m$(e,t){var n=Ts();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pA(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function g$(e,t,n){return Eu&21?(Zs(n,t)||(n=w5(),ln.lanes|=n,Su|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mi=!0),e.memoizedState=n)}function Ute(e,t){var n=Nt;Nt=n!==0&&4>n?n:4,e(!0);var r=YE.transition;YE.transition={};try{e(!1),t()}finally{Nt=n,YE.transition=r}}function v$(){return Ts().memoizedState}function zte(e,t,n){var r=Pl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y$(e))x$(t,n);else if(n=Z5(e,t,n,r),n!==null){var i=Zr();Qs(n,e,r,i),b$(n,t,r)}}function Hte(e,t,n){var r=Pl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y$(e))x$(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Zs(o,a)){var l=t.interleaved;l===null?(i.next=i,cA(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Z5(e,t,i,r),n!==null&&(i=Zr(),Qs(n,e,r,i),b$(n,t,r))}}function y$(e){var t=e.alternate;return e===ln||t!==null&&t===ln}function x$(e,t){Pp=Dy=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function b$(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yk(e,n)}}var My={readContext:_s,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},Wte={readContext:_s,useCallback:function(e,t){return pa().memoizedState=[e,t===void 0?null:t],e},useContext:_s,useEffect:tD,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gv(4194308,4,f$.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gv(4,2,e,t)},useMemo:function(e,t){var n=pa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pa();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zte.bind(null,ln,e),[r.memoizedState,e]},useRef:function(e){var t=pa();return e={current:e},t.memoizedState=e},useState:eD,useDebugValue:yA,useDeferredValue:function(e){return pa().memoizedState=e},useTransition:function(){var e=eD(!1),t=e[0];return e=Ute.bind(null,e[1]),pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ln,i=pa();if(tn){if(n===void 0)throw Error(ge(407));n=n()}else{if(n=t(),tr===null)throw Error(ge(349));Eu&30||i$(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,tD(a$.bind(null,r,s,e),[e]),r.flags|=2048,Nm(9,s$.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=pa(),t=tr.identifierPrefix;if(tn){var n=ao,r=so;n=(r&~(1<<32-Xs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Em++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$te++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vte={readContext:_s,useCallback:p$,useContext:_s,useEffect:vA,useImperativeHandle:h$,useInsertionEffect:u$,useLayoutEffect:d$,useMemo:m$,useReducer:XE,useRef:c$,useState:function(){return XE(Sm)},useDebugValue:yA,useDeferredValue:function(e){var t=Ts();return g$(t,Un.memoizedState,e)},useTransition:function(){var e=XE(Sm)[0],t=Ts().memoizedState;return[e,t]},useMutableSource:n$,useSyncExternalStore:r$,useId:v$,unstable_isNewReconciler:!1},qte={readContext:_s,useCallback:p$,useContext:_s,useEffect:vA,useImperativeHandle:h$,useInsertionEffect:u$,useLayoutEffect:d$,useMemo:m$,useReducer:QE,useRef:c$,useState:function(){return QE(Sm)},useDebugValue:yA,useDeferredValue:function(e){var t=Ts();return Un===null?t.memoizedState=e:g$(t,Un.memoizedState,e)},useTransition:function(){var e=QE(Sm)[0],t=Ts().memoizedState;return[e,t]},useMutableSource:n$,useSyncExternalStore:r$,useId:v$,unstable_isNewReconciler:!1};function Bs(e,t){if(e&&e.defaultProps){t=cn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function I_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:cn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var i1={isMounted:function(e){return(e=e._reactInternals)?Vu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zr(),i=Pl(e),s=ho(r,i);s.payload=t,n!=null&&(s.callback=n),t=jl(e,s,i),t!==null&&(Qs(t,e,i,r),qv(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zr(),i=Pl(e),s=ho(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=jl(e,s,i),t!==null&&(Qs(t,e,i,r),qv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zr(),r=Pl(e),i=ho(n,r);i.tag=2,t!=null&&(i.callback=t),t=jl(e,i,r),t!==null&&(Qs(t,e,r,n),qv(t,e,r))}};function nD(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!gm(n,r)||!gm(i,s):!0}function w$(e,t,n){var r=!1,i=Yl,s=t.contextType;return typeof s=="object"&&s!==null?s=_s(s):(i=yi(t)?bu:Mr.current,r=t.contextTypes,s=(r=r!=null)?mf(e,i):Yl),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=i1,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function rD(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&i1.enqueueReplaceState(t,t.state,null)}function P_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},uA(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=_s(s):(s=yi(t)?bu:Mr.current,i.context=mf(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(I_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&i1.enqueueReplaceState(i,i.state,null),Iy(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xf(e,t){try{var n="",r=t;do n+=bee(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function JE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function D_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kte=typeof WeakMap=="function"?WeakMap:Map;function E$(e,t,n){n=ho(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ly||(Ly=!0,W_=r),D_(e,t)},n}function S$(e,t,n){n=ho(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){D_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){D_(e,t),typeof r!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function iD(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kte;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=one.bind(null,e,t,n),t.then(e,e))}function sD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aD(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ho(-1,1),t.tag=2,jl(n,t,1))),n.lanes|=1),e)}var Gte=Mo.ReactCurrentOwner,mi=!1;function Yr(e,t,n,r){t.child=e===null?J5(t,null,n,r):vf(t,e.child,n,r)}function oD(e,t,n,r,i){n=n.render;var s=t.ref;return Qd(t,i),r=mA(e,t,n,r,s,i),n=gA(),e!==null&&!mi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,So(e,t,i)):(tn&&n&&rA(t),t.flags|=1,Yr(e,t,r,i),t.child)}function lD(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!TA(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,N$(e,t,s,r,i)):(e=Jv(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:gm,n(a,r)&&e.ref===t.ref)return So(e,t,i)}return t.flags|=1,e=Dl(s,r),e.ref=t.ref,e.return=t,t.child=e}function N$(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(gm(s,r)&&e.ref===t.ref)if(mi=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(mi=!0);else return t.lanes=e.lanes,So(e,t,i)}return M_(e,t,n,r,i)}function _$(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Ud,Ai),Ai|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ft(Ud,Ai),Ai|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ft(Ud,Ai),Ai|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ft(Ud,Ai),Ai|=r;return Yr(e,t,i,n),t.child}function T$(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function M_(e,t,n,r,i){var s=yi(n)?bu:Mr.current;return s=mf(t,s),Qd(t,i),n=mA(e,t,n,r,s,i),r=gA(),e!==null&&!mi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,So(e,t,i)):(tn&&r&&rA(t),t.flags|=1,Yr(e,t,n,i),t.child)}function cD(e,t,n,r,i){if(yi(n)){var s=!0;Cy(t)}else s=!1;if(Qd(t,i),t.stateNode===null)Yv(e,t),w$(t,n,r),P_(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_s(u):(u=yi(n)?bu:Mr.current,u=mf(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&rD(t,a,r,u),al=!1;var h=t.memoizedState;a.state=h,Iy(t,r,a,i),l=t.memoizedState,o!==r||h!==l||vi.current||al?(typeof d=="function"&&(I_(t,n,d,r),l=t.memoizedState),(o=al||nD(t,n,o,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,e$(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Bs(t.type,o),a.props=u,f=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=_s(l):(l=yi(n)?bu:Mr.current,l=mf(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&rD(t,a,r,l),al=!1,h=t.memoizedState,a.state=h,Iy(t,r,a,i);var m=t.memoizedState;o!==f||h!==m||vi.current||al?(typeof p=="function"&&(I_(t,n,p,r),m=t.memoizedState),(u=al||nD(t,n,u,r,h,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return R_(e,t,n,r,s,i)}function R_(e,t,n,r,i,s){T$(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&GP(t,n,!1),So(e,t,s);r=t.stateNode,Gte.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=vf(t,e.child,null,s),t.child=vf(t,null,o,s)):Yr(e,t,o,s),t.memoizedState=r.state,i&&GP(t,n,!0),t.child}function C$(e){var t=e.stateNode;t.pendingContext?KP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KP(e,t.context,!1),dA(e,t.containerInfo)}function uD(e,t,n,r,i){return gf(),sA(i),t.flags|=256,Yr(e,t,n,r),t.child}var L_={dehydrated:null,treeContext:null,retryLane:0};function B_(e){return{baseLanes:e,cachePool:null,transitions:null}}function k$(e,t,n){var r=t.pendingProps,i=an.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ft(an,i&1),e===null)return O_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=o1(a,r,0,null),e=au(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=B_(n),t.memoizedState=L_,e):xA(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Yte(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Dl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Dl(o,s):(s=au(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?B_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=L_,r}return s=e.child,e=s.sibling,r=Dl(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xA(e,t){return t=o1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function I0(e,t,n,r){return r!==null&&sA(r),vf(t,e.child,null,n),e=xA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yte(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=JE(Error(ge(422))),I0(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=o1({mode:"visible",children:r.children},i,0,null),s=au(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&vf(t,e.child,null,a),t.child.memoizedState=B_(a),t.memoizedState=L_,s);if(!(t.mode&1))return I0(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ge(419)),r=JE(s,r,void 0),I0(e,t,a,r)}if(o=(a&e.childLanes)!==0,mi||o){if(r=tr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Eo(e,i),Qs(r,e,i,-1))}return _A(),r=JE(Error(ge(421))),I0(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lne.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ri=Ol(i.nextSibling),Fi=t,tn=!0,Us=null,e!==null&&(us[ds++]=so,us[ds++]=ao,us[ds++]=wu,so=e.id,ao=e.overflow,wu=t),t=xA(t,r.children),t.flags|=4096,t)}function dD(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),j_(e.return,t,n)}function ZE(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function A$(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Yr(e,t,r.children,n),r=an.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dD(e,n,t);else if(e.tag===19)dD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ft(an,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Py(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ZE(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Py(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ZE(t,!0,n,null,s);break;case"together":ZE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function So(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Su|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,n=Dl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xte(e,t,n){switch(t.tag){case 3:C$(t),gf();break;case 5:t$(t);break;case 1:yi(t.type)&&Cy(t);break;case 4:dA(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ft(Oy,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ft(an,an.current&1),t.flags|=128,null):n&t.child.childLanes?k$(e,t,n):(Ft(an,an.current&1),e=So(e,t,n),e!==null?e.sibling:null);Ft(an,an.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return A$(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ft(an,an.current),r)break;return null;case 22:case 23:return t.lanes=0,_$(e,t,n)}return So(e,t,n)}var O$,F_,j$,I$;O$=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F_=function(){};j$=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kc(Ca.current);var s=null;switch(n){case"input":i=o_(e,i),r=o_(e,r),s=[];break;case"select":i=cn({},i,{value:void 0}),r=cn({},r,{value:void 0}),s=[];break;case"textarea":i=u_(e,i),r=u_(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_y)}f_(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};I$=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hh(e,t){if(!tn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _r(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qte(e,t,n){var r=t.pendingProps;switch(iA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(t),null;case 1:return yi(t.type)&&Ty(),_r(t),null;case 3:return r=t.stateNode,yf(),Yt(vi),Yt(Mr),hA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(O0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Us!==null&&(K_(Us),Us=null))),F_(e,t),_r(t),null;case 5:fA(t);var i=Kc(wm.current);if(n=t.type,e!==null&&t.stateNode!=null)j$(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ge(166));return _r(t),null}if(e=Kc(Ca.current),O0(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ba]=t,r[xm]=s,e=(t.mode&1)!==0,n){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(i=0;i<yp.length;i++)qt(yp[i],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":bP(r,s),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r);break;case"textarea":EP(r,s),qt("invalid",r)}f_(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&A0(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&A0(r.textContent,o,e),i=["children",""+o]):cm.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&qt("scroll",r)}switch(n){case"input":w0(r),wP(r,s,!0);break;case"textarea":w0(r),SP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_y)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ba]=t,e[xm]=r,O$(e,t,!1,!1),t.stateNode=e;e:{switch(a=h_(n,r),n){case"dialog":qt("cancel",e),qt("close",e),i=r;break;case"iframe":case"object":case"embed":qt("load",e),i=r;break;case"video":case"audio":for(i=0;i<yp.length;i++)qt(yp[i],e);i=r;break;case"source":qt("error",e),i=r;break;case"img":case"image":case"link":qt("error",e),qt("load",e),i=r;break;case"details":qt("toggle",e),i=r;break;case"input":bP(e,r),i=o_(e,r),qt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=cn({},r,{value:void 0}),qt("invalid",e);break;case"textarea":EP(e,r),i=u_(e,r),qt("invalid",e);break;default:i=r}f_(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?c5(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o5(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&um(e,l):typeof l=="number"&&um(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qt("scroll",e):l!=null&&Hk(e,s,l,a))}switch(n){case"input":w0(e),wP(e,r,!1);break;case"textarea":w0(e),SP(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gl(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Kd(e,!!r.multiple,s,!1):r.defaultValue!=null&&Kd(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_y)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _r(t),null;case 6:if(e&&t.stateNode!=null)I$(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ge(166));if(n=Kc(wm.current),Kc(Ca.current),O0(t)){if(r=t.stateNode,n=t.memoizedProps,r[ba]=t,(s=r.nodeValue!==n)&&(e=Fi,e!==null))switch(e.tag){case 3:A0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&A0(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ba]=t,t.stateNode=r}return _r(t),null;case 13:if(Yt(an),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tn&&Ri!==null&&t.mode&1&&!(t.flags&128))X5(),gf(),t.flags|=98560,s=!1;else if(s=O0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ge(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ge(317));s[ba]=t}else gf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_r(t),s=!1}else Us!==null&&(K_(Us),Us=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||an.current&1?zn===0&&(zn=3):_A())),t.updateQueue!==null&&(t.flags|=4),_r(t),null);case 4:return yf(),F_(e,t),e===null&&vm(t.stateNode.containerInfo),_r(t),null;case 10:return lA(t.type._context),_r(t),null;case 17:return yi(t.type)&&Ty(),_r(t),null;case 19:if(Yt(an),s=t.memoizedState,s===null)return _r(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Hh(s,!1);else{if(zn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Py(e),a!==null){for(t.flags|=128,Hh(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ft(an,an.current&1|2),t.child}e=e.sibling}s.tail!==null&&Nn()>bf&&(t.flags|=128,r=!0,Hh(s,!1),t.lanes=4194304)}else{if(!r)if(e=Py(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!tn)return _r(t),null}else 2*Nn()-s.renderingStartTime>bf&&n!==1073741824&&(t.flags|=128,r=!0,Hh(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Nn(),t.sibling=null,n=an.current,Ft(an,r?n&1|2:n&1),t):(_r(t),null);case 22:case 23:return NA(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ai&1073741824&&(_r(t),t.subtreeFlags&6&&(t.flags|=8192)):_r(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function Jte(e,t){switch(iA(t),t.tag){case 1:return yi(t.type)&&Ty(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yf(),Yt(vi),Yt(Mr),hA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fA(t),null;case 13:if(Yt(an),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));gf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(an),null;case 4:return yf(),null;case 10:return lA(t.type._context),null;case 22:case 23:return NA(),null;case 24:return null;default:return null}}var P0=!1,kr=!1,Zte=typeof WeakSet=="function"?WeakSet:Set,De=null;function $d(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hn(e,t,r)}else n.current=null}function $_(e,t,n){try{n()}catch(r){hn(e,t,r)}}var fD=!1;function ene(e,t){if(S_=Ey,e=L5(),nA(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(N_={focusedElem:e,selectionRange:n},Ey=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Bs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(E){hn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return m=fD,fD=!1,m}function Dp(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&$_(t,n,s)}i=i.next}while(i!==r)}}function s1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function U_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function P$(e){var t=e.alternate;t!==null&&(e.alternate=null,P$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ba],delete t[xm],delete t[C_],delete t[Rte],delete t[Lte])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D$(e){return e.tag===5||e.tag===3||e.tag===4}function hD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function z_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_y));else if(r!==4&&(e=e.child,e!==null))for(z_(e,t,n),e=e.sibling;e!==null;)z_(e,t,n),e=e.sibling}function H_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(H_(e,t,n),e=e.sibling;e!==null;)H_(e,t,n),e=e.sibling}var fr=null,Fs=!1;function Vo(e,t,n){for(n=n.child;n!==null;)M$(e,t,n),n=n.sibling}function M$(e,t,n){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(Qb,n)}catch{}switch(n.tag){case 5:kr||$d(n,t);case 6:var r=fr,i=Fs;fr=null,Vo(e,t,n),fr=r,Fs=i,fr!==null&&(Fs?(e=fr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fr.removeChild(n.stateNode));break;case 18:fr!==null&&(Fs?(e=fr,n=n.stateNode,e.nodeType===8?qE(e.parentNode,n):e.nodeType===1&&qE(e,n),pm(e)):qE(fr,n.stateNode));break;case 4:r=fr,i=Fs,fr=n.stateNode.containerInfo,Fs=!0,Vo(e,t,n),fr=r,Fs=i;break;case 0:case 11:case 14:case 15:if(!kr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&$_(n,t,a),i=i.next}while(i!==r)}Vo(e,t,n);break;case 1:if(!kr&&($d(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){hn(n,t,o)}Vo(e,t,n);break;case 21:Vo(e,t,n);break;case 22:n.mode&1?(kr=(r=kr)||n.memoizedState!==null,Vo(e,t,n),kr=r):Vo(e,t,n);break;default:Vo(e,t,n)}}function pD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zte),t.forEach(function(r){var i=cne.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ds(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:fr=o.stateNode,Fs=!1;break e;case 3:fr=o.stateNode.containerInfo,Fs=!0;break e;case 4:fr=o.stateNode.containerInfo,Fs=!0;break e}o=o.return}if(fr===null)throw Error(ge(160));M$(s,a,i),fr=null,Fs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){hn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R$(t,e),t=t.sibling}function R$(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ds(t,e),fa(e),r&4){try{Dp(3,e,e.return),s1(3,e)}catch(g){hn(e,e.return,g)}try{Dp(5,e,e.return)}catch(g){hn(e,e.return,g)}}break;case 1:Ds(t,e),fa(e),r&512&&n!==null&&$d(n,n.return);break;case 5:if(Ds(t,e),fa(e),r&512&&n!==null&&$d(n,n.return),e.flags&32){var i=e.stateNode;try{um(i,"")}catch(g){hn(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&i5(i,s),h_(o,a);var u=h_(o,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?c5(i,f):d==="dangerouslySetInnerHTML"?o5(i,f):d==="children"?um(i,f):Hk(i,d,f,u)}switch(o){case"input":l_(i,s);break;case"textarea":s5(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Kd(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Kd(i,!!s.multiple,s.defaultValue,!0):Kd(i,!!s.multiple,s.multiple?[]:"",!1))}i[xm]=s}catch(g){hn(e,e.return,g)}}break;case 6:if(Ds(t,e),fa(e),r&4){if(e.stateNode===null)throw Error(ge(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){hn(e,e.return,g)}}break;case 3:if(Ds(t,e),fa(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pm(t.containerInfo)}catch(g){hn(e,e.return,g)}break;case 4:Ds(t,e),fa(e);break;case 13:Ds(t,e),fa(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(EA=Nn())),r&4&&pD(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(kr=(u=kr)||d,Ds(t,e),kr=u):Ds(t,e),fa(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(De=e,d=e.child;d!==null;){for(f=De=d;De!==null;){switch(h=De,p=h.child,h.tag){case 0:case 11:case 14:case 15:Dp(4,h,h.return);break;case 1:$d(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){hn(r,n,g)}}break;case 5:$d(h,h.return);break;case 22:if(h.memoizedState!==null){gD(f);continue}}p!==null?(p.return=h,De=p):gD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=l5("display",a))}catch(g){hn(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){hn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ds(t,e),fa(e),r&4&&pD(e);break;case 21:break;default:Ds(t,e),fa(e)}}function fa(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(D$(n)){var r=n;break e}n=n.return}throw Error(ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(um(i,""),r.flags&=-33);var s=hD(e);H_(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=hD(e);z_(e,o,a);break;default:throw Error(ge(161))}}catch(l){hn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tne(e,t,n){De=e,L$(e)}function L$(e,t,n){for(var r=(e.mode&1)!==0;De!==null;){var i=De,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||P0;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||kr;o=P0;var u=kr;if(P0=a,(kr=l)&&!u)for(De=i;De!==null;)a=De,l=a.child,a.tag===22&&a.memoizedState!==null?vD(i):l!==null?(l.return=a,De=l):vD(i);for(;s!==null;)De=s,L$(s),s=s.sibling;De=i,P0=o,kr=u}mD(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,De=s):mD(e)}}function mD(e){for(;De!==null;){var t=De;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kr||s1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ZP(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ZP(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}kr||t.flags&512&&U_(t)}catch(h){hn(t,t.return,h)}}if(t===e){De=null;break}if(n=t.sibling,n!==null){n.return=t.return,De=n;break}De=t.return}}function gD(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var n=t.sibling;if(n!==null){n.return=t.return,De=n;break}De=t.return}}function vD(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{s1(4,t)}catch(l){hn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){hn(t,i,l)}}var s=t.return;try{U_(t)}catch(l){hn(t,s,l)}break;case 5:var a=t.return;try{U_(t)}catch(l){hn(t,a,l)}}}catch(l){hn(t,t.return,l)}if(t===e){De=null;break}var o=t.sibling;if(o!==null){o.return=t.return,De=o;break}De=t.return}}var nne=Math.ceil,Ry=Mo.ReactCurrentDispatcher,bA=Mo.ReactCurrentOwner,ws=Mo.ReactCurrentBatchConfig,gt=0,tr=null,In=null,xr=0,Ai=0,Ud=sc(0),zn=0,_m=null,Su=0,a1=0,wA=0,Mp=null,fi=null,EA=0,bf=1/0,Ja=null,Ly=!1,W_=null,Il=null,D0=!1,xl=null,By=0,Rp=0,V_=null,Xv=-1,Qv=0;function Zr(){return gt&6?Nn():Xv!==-1?Xv:Xv=Nn()}function Pl(e){return e.mode&1?gt&2&&xr!==0?xr&-xr:Fte.transition!==null?(Qv===0&&(Qv=w5()),Qv):(e=Nt,e!==0||(e=window.event,e=e===void 0?16:k5(e.type)),e):1}function Qs(e,t,n,r){if(50<Rp)throw Rp=0,V_=null,Error(ge(185));gg(e,n,r),(!(gt&2)||e!==tr)&&(e===tr&&(!(gt&2)&&(a1|=n),zn===4&&fl(e,xr)),xi(e,r),n===1&&gt===0&&!(t.mode&1)&&(bf=Nn()+500,n1&&ac()))}function xi(e,t){var n=e.callbackNode;Fee(e,t);var r=wy(e,e===tr?xr:0);if(r===0)n!==null&&TP(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&TP(n),t===1)e.tag===0?Bte(yD.bind(null,e)):K5(yD.bind(null,e)),Dte(function(){!(gt&6)&&ac()}),n=null;else{switch(E5(r)){case 1:n=Gk;break;case 4:n=x5;break;case 16:n=by;break;case 536870912:n=b5;break;default:n=by}n=V$(n,B$.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B$(e,t){if(Xv=-1,Qv=0,gt&6)throw Error(ge(327));var n=e.callbackNode;if(Jd()&&e.callbackNode!==n)return null;var r=wy(e,e===tr?xr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fy(e,r);else{t=r;var i=gt;gt|=2;var s=$$();(tr!==e||xr!==t)&&(Ja=null,bf=Nn()+500,su(e,t));do try{sne();break}catch(o){F$(e,o)}while(!0);oA(),Ry.current=s,gt=i,In!==null?t=0:(tr=null,xr=0,t=zn)}if(t!==0){if(t===2&&(i=y_(e),i!==0&&(r=i,t=q_(e,i))),t===1)throw n=_m,su(e,0),fl(e,r),xi(e,Nn()),n;if(t===6)fl(e,r);else{if(i=e.current.alternate,!(r&30)&&!rne(i)&&(t=Fy(e,r),t===2&&(s=y_(e),s!==0&&(r=s,t=q_(e,s))),t===1))throw n=_m,su(e,0),fl(e,r),xi(e,Nn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ge(345));case 2:Mc(e,fi,Ja);break;case 3:if(fl(e,r),(r&130023424)===r&&(t=EA+500-Nn(),10<t)){if(wy(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=T_(Mc.bind(null,e,fi,Ja),t);break}Mc(e,fi,Ja);break;case 4:if(fl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Xs(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nne(r/1960))-r,10<r){e.timeoutHandle=T_(Mc.bind(null,e,fi,Ja),r);break}Mc(e,fi,Ja);break;case 5:Mc(e,fi,Ja);break;default:throw Error(ge(329))}}}return xi(e,Nn()),e.callbackNode===n?B$.bind(null,e):null}function q_(e,t){var n=Mp;return e.current.memoizedState.isDehydrated&&(su(e,t).flags|=256),e=Fy(e,t),e!==2&&(t=fi,fi=n,t!==null&&K_(t)),e}function K_(e){fi===null?fi=e:fi.push.apply(fi,e)}function rne(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zs(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fl(e,t){for(t&=~wA,t&=~a1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xs(t),r=1<<n;e[n]=-1,t&=~r}}function yD(e){if(gt&6)throw Error(ge(327));Jd();var t=wy(e,0);if(!(t&1))return xi(e,Nn()),null;var n=Fy(e,t);if(e.tag!==0&&n===2){var r=y_(e);r!==0&&(t=r,n=q_(e,r))}if(n===1)throw n=_m,su(e,0),fl(e,t),xi(e,Nn()),n;if(n===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mc(e,fi,Ja),xi(e,Nn()),null}function SA(e,t){var n=gt;gt|=1;try{return e(t)}finally{gt=n,gt===0&&(bf=Nn()+500,n1&&ac())}}function Nu(e){xl!==null&&xl.tag===0&&!(gt&6)&&Jd();var t=gt;gt|=1;var n=ws.transition,r=Nt;try{if(ws.transition=null,Nt=1,e)return e()}finally{Nt=r,ws.transition=n,gt=t,!(gt&6)&&ac()}}function NA(){Ai=Ud.current,Yt(Ud)}function su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Pte(n)),In!==null)for(n=In.return;n!==null;){var r=n;switch(iA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ty();break;case 3:yf(),Yt(vi),Yt(Mr),hA();break;case 5:fA(r);break;case 4:yf();break;case 13:Yt(an);break;case 19:Yt(an);break;case 10:lA(r.type._context);break;case 22:case 23:NA()}n=n.return}if(tr=e,In=e=Dl(e.current,null),xr=Ai=t,zn=0,_m=null,wA=a1=Su=0,fi=Mp=null,qc!==null){for(t=0;t<qc.length;t++)if(n=qc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}qc=null}return e}function F$(e,t){do{var n=In;try{if(oA(),Kv.current=My,Dy){for(var r=ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dy=!1}if(Eu=0,Xn=Un=ln=null,Pp=!1,Em=0,bA.current=null,n===null||n.return===null){zn=1,_m=t,In=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=xr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sD(a);if(p!==null){p.flags&=-257,aD(p,a,o,s,t),p.mode&1&&iD(s,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){iD(s,u,t),_A();break e}l=Error(ge(426))}}else if(tn&&o.mode&1){var v=sD(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),aD(v,a,o,s,t),sA(xf(l,o));break e}}s=l=xf(l,o),zn!==4&&(zn=2),Mp===null?Mp=[s]:Mp.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=E$(s,l,t);JP(s,y);break e;case 1:o=l;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Il===null||!Il.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=S$(s,o,t);JP(s,E);break e}}s=s.return}while(s!==null)}z$(n)}catch(_){t=_,In===n&&n!==null&&(In=n=n.return);continue}break}while(!0)}function $$(){var e=Ry.current;return Ry.current=My,e===null?My:e}function _A(){(zn===0||zn===3||zn===2)&&(zn=4),tr===null||!(Su&268435455)&&!(a1&268435455)||fl(tr,xr)}function Fy(e,t){var n=gt;gt|=2;var r=$$();(tr!==e||xr!==t)&&(Ja=null,su(e,t));do try{ine();break}catch(i){F$(e,i)}while(!0);if(oA(),gt=n,Ry.current=r,In!==null)throw Error(ge(261));return tr=null,xr=0,zn}function ine(){for(;In!==null;)U$(In)}function sne(){for(;In!==null&&!Oee();)U$(In)}function U$(e){var t=W$(e.alternate,e,Ai);e.memoizedProps=e.pendingProps,t===null?z$(e):In=t,bA.current=null}function z$(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Jte(n,t),n!==null){n.flags&=32767,In=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zn=6,In=null;return}}else if(n=Qte(n,t,Ai),n!==null){In=n;return}if(t=t.sibling,t!==null){In=t;return}In=t=e}while(t!==null);zn===0&&(zn=5)}function Mc(e,t,n){var r=Nt,i=ws.transition;try{ws.transition=null,Nt=1,ane(e,t,n,r)}finally{ws.transition=i,Nt=r}return null}function ane(e,t,n,r){do Jd();while(xl!==null);if(gt&6)throw Error(ge(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if($ee(e,s),e===tr&&(In=tr=null,xr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||D0||(D0=!0,V$(by,function(){return Jd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ws.transition,ws.transition=null;var a=Nt;Nt=1;var o=gt;gt|=4,bA.current=null,ene(e,n),R$(n,e),Tte(N_),Ey=!!S_,N_=S_=null,e.current=n,tne(n),jee(),gt=o,Nt=a,ws.transition=s}else e.current=n;if(D0&&(D0=!1,xl=e,By=i),s=e.pendingLanes,s===0&&(Il=null),Dee(n.stateNode),xi(e,Nn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ly)throw Ly=!1,e=W_,W_=null,e;return By&1&&e.tag!==0&&Jd(),s=e.pendingLanes,s&1?e===V_?Rp++:(Rp=0,V_=e):Rp=0,ac(),null}function Jd(){if(xl!==null){var e=E5(By),t=ws.transition,n=Nt;try{if(ws.transition=null,Nt=16>e?16:e,xl===null)var r=!1;else{if(e=xl,xl=null,By=0,gt&6)throw Error(ge(331));var i=gt;for(gt|=4,De=e.current;De!==null;){var s=De,a=s.child;if(De.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(De=u;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:Dp(8,d,s)}var f=d.child;if(f!==null)f.return=d,De=f;else for(;De!==null;){d=De;var h=d.sibling,p=d.return;if(P$(d),d===u){De=null;break}if(h!==null){h.return=p,De=h;break}De=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}De=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,De=a;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Dp(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,De=y;break e}De=s.return}}var x=e.current;for(De=x;De!==null;){a=De;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,De=w;else e:for(a=x;De!==null;){if(o=De,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:s1(9,o)}}catch(_){hn(o,o.return,_)}if(o===a){De=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,De=E;break e}De=o.return}}if(gt=i,ac(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(Qb,e)}catch{}r=!0}return r}finally{Nt=n,ws.transition=t}}return!1}function xD(e,t,n){t=xf(n,t),t=E$(e,t,1),e=jl(e,t,1),t=Zr(),e!==null&&(gg(e,1,t),xi(e,t))}function hn(e,t,n){if(e.tag===3)xD(e,e,n);else for(;t!==null;){if(t.tag===3){xD(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Il===null||!Il.has(r))){e=xf(n,e),e=S$(t,e,1),t=jl(t,e,1),e=Zr(),t!==null&&(gg(t,1,e),xi(t,e));break}}t=t.return}}function one(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zr(),e.pingedLanes|=e.suspendedLanes&n,tr===e&&(xr&n)===n&&(zn===4||zn===3&&(xr&130023424)===xr&&500>Nn()-EA?su(e,0):wA|=n),xi(e,t)}function H$(e,t){t===0&&(e.mode&1?(t=N0,N0<<=1,!(N0&130023424)&&(N0=4194304)):t=1);var n=Zr();e=Eo(e,t),e!==null&&(gg(e,t,n),xi(e,n))}function lne(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),H$(e,n)}function cne(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ge(314))}r!==null&&r.delete(t),H$(e,n)}var W$;W$=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vi.current)mi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mi=!1,Xte(e,t,n);mi=!!(e.flags&131072)}else mi=!1,tn&&t.flags&1048576&&G5(t,Ay,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yv(e,t),e=t.pendingProps;var i=mf(t,Mr.current);Qd(t,n),i=mA(null,t,r,e,i,n);var s=gA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)?(s=!0,Cy(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uA(t),i.updater=i1,t.stateNode=i,i._reactInternals=t,P_(t,r,e,n),t=R_(null,t,r,!0,s,n)):(t.tag=0,tn&&s&&rA(t),Yr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yv(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=dne(r),e=Bs(r,e),i){case 0:t=M_(null,t,r,e,n);break e;case 1:t=cD(null,t,r,e,n);break e;case 11:t=oD(null,t,r,e,n);break e;case 14:t=lD(null,t,r,Bs(r.type,e),n);break e}throw Error(ge(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bs(r,i),M_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bs(r,i),cD(e,t,r,i,n);case 3:e:{if(C$(t),e===null)throw Error(ge(387));r=t.pendingProps,s=t.memoizedState,i=s.element,e$(e,t),Iy(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=xf(Error(ge(423)),t),t=uD(e,t,r,n,i);break e}else if(r!==i){i=xf(Error(ge(424)),t),t=uD(e,t,r,n,i);break e}else for(Ri=Ol(t.stateNode.containerInfo.firstChild),Fi=t,tn=!0,Us=null,n=J5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gf(),r===i){t=So(e,t,n);break e}Yr(e,t,r,n)}t=t.child}return t;case 5:return t$(t),e===null&&O_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,__(r,i)?a=null:s!==null&&__(r,s)&&(t.flags|=32),T$(e,t),Yr(e,t,a,n),t.child;case 6:return e===null&&O_(t),null;case 13:return k$(e,t,n);case 4:return dA(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vf(t,null,r,n):Yr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bs(r,i),oD(e,t,r,i,n);case 7:return Yr(e,t,t.pendingProps,n),t.child;case 8:return Yr(e,t,t.pendingProps.children,n),t.child;case 12:return Yr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ft(Oy,r._currentValue),r._currentValue=a,s!==null)if(Zs(s.value,a)){if(s.children===i.children&&!vi.current){t=So(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ho(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),j_(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ge(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),j_(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Yr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qd(t,n),i=_s(i),r=r(i),t.flags|=1,Yr(e,t,r,n),t.child;case 14:return r=t.type,i=Bs(r,t.pendingProps),i=Bs(r.type,i),lD(e,t,r,i,n);case 15:return N$(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bs(r,i),Yv(e,t),t.tag=1,yi(r)?(e=!0,Cy(t)):e=!1,Qd(t,n),w$(t,r,i),P_(t,r,i,n),R_(null,t,r,!0,e,n);case 19:return A$(e,t,n);case 22:return _$(e,t,n)}throw Error(ge(156,t.tag))};function V$(e,t){return y5(e,t)}function une(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(e,t,n,r){return new une(e,t,n,r)}function TA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dne(e){if(typeof e=="function")return TA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vk)return 11;if(e===qk)return 14}return 2}function Dl(e,t){var n=e.alternate;return n===null?(n=gs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jv(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")TA(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case jd:return au(n.children,i,s,t);case Wk:a=8,i|=8;break;case r_:return e=gs(12,n,t,i|2),e.elementType=r_,e.lanes=s,e;case i_:return e=gs(13,n,t,i),e.elementType=i_,e.lanes=s,e;case s_:return e=gs(19,n,t,i),e.elementType=s_,e.lanes=s,e;case t5:return o1(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZF:a=10;break e;case e5:a=9;break e;case Vk:a=11;break e;case qk:a=14;break e;case sl:a=16,r=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=gs(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function au(e,t,n,r){return e=gs(7,e,r,t),e.lanes=n,e}function o1(e,t,n,r){return e=gs(22,e,r,t),e.elementType=t5,e.lanes=n,e.stateNode={isHidden:!1},e}function eS(e,t,n){return e=gs(6,e,null,t),e.lanes=n,e}function tS(e,t,n){return t=gs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fne(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ME(0),this.expirationTimes=ME(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ME(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function CA(e,t,n,r,i,s,a,o,l){return e=new fne(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=gs(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uA(s),e}function hne(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Od,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function q$(e){if(!e)return Yl;e=e._reactInternals;e:{if(Vu(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var n=e.type;if(yi(n))return q5(e,n,t)}return t}function K$(e,t,n,r,i,s,a,o,l){return e=CA(n,r,!0,e,i,s,a,o,l),e.context=q$(null),n=e.current,r=Zr(),i=Pl(n),s=ho(r,i),s.callback=t??null,jl(n,s,i),e.current.lanes=i,gg(e,i,r),xi(e,r),e}function l1(e,t,n,r){var i=t.current,s=Zr(),a=Pl(i);return n=q$(n),t.context===null?t.context=n:t.pendingContext=n,t=ho(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jl(i,t,a),e!==null&&(Qs(e,i,a,s),qv(e,i,a)),a}function $y(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kA(e,t){bD(e,t),(e=e.alternate)&&bD(e,t)}function pne(){return null}var G$=typeof reportError=="function"?reportError:function(e){console.error(e)};function AA(e){this._internalRoot=e}c1.prototype.render=AA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));l1(e,t,null,null)};c1.prototype.unmount=AA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nu(function(){l1(null,e,null,null)}),t[wo]=null}};function c1(e){this._internalRoot=e}c1.prototype.unstable_scheduleHydration=function(e){if(e){var t=_5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dl.length&&t!==0&&t<dl[n].priority;n++);dl.splice(n,0,e),n===0&&C5(e)}};function OA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wD(){}function mne(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=$y(a);s.call(u)}}var a=K$(t,r,e,0,null,!1,!1,"",wD);return e._reactRootContainer=a,e[wo]=a.current,vm(e.nodeType===8?e.parentNode:e),Nu(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=$y(l);o.call(u)}}var l=CA(e,0,!1,null,null,!1,!1,"",wD);return e._reactRootContainer=l,e[wo]=l.current,vm(e.nodeType===8?e.parentNode:e),Nu(function(){l1(t,l,n,r)}),l}function d1(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=$y(a);o.call(l)}}l1(t,a,e,i)}else a=mne(n,t,e,i,r);return $y(a)}S5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vp(t.pendingLanes);n!==0&&(Yk(t,n|1),xi(t,Nn()),!(gt&6)&&(bf=Nn()+500,ac()))}break;case 13:Nu(function(){var r=Eo(e,1);if(r!==null){var i=Zr();Qs(r,e,1,i)}}),kA(e,1)}};Xk=function(e){if(e.tag===13){var t=Eo(e,134217728);if(t!==null){var n=Zr();Qs(t,e,134217728,n)}kA(e,134217728)}};N5=function(e){if(e.tag===13){var t=Pl(e),n=Eo(e,t);if(n!==null){var r=Zr();Qs(n,e,t,r)}kA(e,t)}};_5=function(){return Nt};T5=function(e,t){var n=Nt;try{return Nt=e,t()}finally{Nt=n}};m_=function(e,t,n){switch(t){case"input":if(l_(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=t1(r);if(!i)throw Error(ge(90));r5(r),l_(r,i)}}}break;case"textarea":s5(e,n);break;case"select":t=n.value,t!=null&&Kd(e,!!n.multiple,t,!1)}};f5=SA;h5=Nu;var gne={usingClientEntryPoint:!1,Events:[yg,Md,t1,u5,d5,SA]},Wh={findFiberByHostInstance:Vc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vne={bundleType:Wh.bundleType,version:Wh.version,rendererPackageName:Wh.rendererPackageName,rendererConfig:Wh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g5(e),e===null?null:e.stateNode},findFiberByHostInstance:Wh.findFiberByHostInstance||pne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M0.isDisabled&&M0.supportsFiber)try{Qb=M0.inject(vne),Ta=M0}catch{}}Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gne;Qi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OA(t))throw Error(ge(200));return hne(e,t,null,n)};Qi.createRoot=function(e,t){if(!OA(e))throw Error(ge(299));var n=!1,r="",i=G$;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=CA(e,1,!1,null,null,n,!1,r,i),e[wo]=t.current,vm(e.nodeType===8?e.parentNode:e),new AA(t)};Qi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=g5(t),e=e===null?null:e.stateNode,e};Qi.flushSync=function(e){return Nu(e)};Qi.hydrate=function(e,t,n){if(!u1(t))throw Error(ge(200));return d1(null,e,t,!0,n)};Qi.hydrateRoot=function(e,t,n){if(!OA(e))throw Error(ge(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=G$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=K$(t,null,e,1,n??null,i,!1,s,a),e[wo]=t.current,vm(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new c1(t)};Qi.render=function(e,t,n){if(!u1(t))throw Error(ge(200));return d1(null,e,t,!1,n)};Qi.unmountComponentAtNode=function(e){if(!u1(e))throw Error(ge(40));return e._reactRootContainer?(Nu(function(){d1(null,null,e,!1,function(){e._reactRootContainer=null,e[wo]=null})}),!0):!1};Qi.unstable_batchedUpdates=SA;Qi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!u1(n))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return d1(e,t,n,!1,r)};Qi.version="18.3.1-next-f1338f8080-20240426";function Y$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y$)}catch(e){console.error(e)}}Y$(),YF.exports=Qi;var oc=YF.exports;const jA=Br(oc);var X$,ED=oc;X$=ED.createRoot,ED.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tm(){return Tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tm.apply(this,arguments)}var bl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bl||(bl={}));const SD="popstate";function yne(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return G_("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Uy(i)}return bne(t,n,null,e)}function vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xne(){return Math.random().toString(36).substr(2,8)}function ND(e,t){return{usr:e.state,key:e.key,idx:t}}function G_(e,t,n,r){return n===void 0&&(n=null),Tm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nh(t):t,{state:n,key:t&&t.key||r||xne()})}function Uy(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bne(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=bl.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Tm({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=bl.Pop;let v=d(),y=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:y})}function h(v,y){o=bl.Push;let x=G_(g.location,v,y);u=d()+1;let w=ND(x,u),E=g.createHref(x);try{a.pushState(w,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(E)}s&&l&&l({action:o,location:g.location,delta:1})}function p(v,y){o=bl.Replace;let x=G_(g.location,v,y);u=d();let w=ND(x,u),E=g.createHref(x);a.replaceState(w,"",E),s&&l&&l({action:o,location:g.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:Uy(v);return x=x.replace(/ $/,"%20"),vn(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return o},get location(){return e(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SD,f),l=v,()=>{i.removeEventListener(SD,f),l=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return a.go(v)}};return g}var _D;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_D||(_D={}));function wne(e,t,n){return n===void 0&&(n="/"),Ene(e,t,n)}function Ene(e,t,n,r){let i=typeof t=="string"?nh(t):t,s=wf(i.pathname||"/",n);if(s==null)return null;let a=J$(e);Sne(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Dne(s);o=Ine(a[l],u)}return o}function J$(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(vn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ml([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(vn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),J$(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:One(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Z$(s.path))i(s,a,l)}),t}function Z$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Z$(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Sne(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jne(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nne=/^:[\w-]+$/,_ne=3,Tne=2,Cne=1,kne=10,Ane=-2,TD=e=>e==="*";function One(e,t){let n=e.split("/"),r=n.length;return n.some(TD)&&(r+=Ane),t&&(r+=Tne),n.filter(i=>!TD(i)).reduce((i,s)=>i+(Nne.test(s)?_ne:s===""?Cne:kne),r)}function jne(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Ine(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=Y_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Ml([s,f.pathname]),pathnameBase:Bne(Ml([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Ml([s,f.pathnameBase]))}return a}function Y_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Pne(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function Pne(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Q$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Dne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Q$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Mne(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?nh(e):e;return{pathname:n?n.startsWith("/")?n:Rne(n,t):t,search:Fne(r),hash:$ne(i)}}function Rne(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nS(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lne(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function e8(e,t){let n=Lne(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function t8(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=nh(e):(i=Tm({},e),vn(!i.pathname||!i.pathname.includes("?"),nS("?","pathname","search",i)),vn(!i.pathname||!i.pathname.includes("#"),nS("#","pathname","hash",i)),vn(!i.search||!i.search.includes("#"),nS("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=Mne(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ml=e=>e.join("/").replace(/\/\/+/g,"/"),Bne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$ne=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Une(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const n8=["post","put","patch","delete"];new Set(n8);const zne=["get",...n8];new Set(zne);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cm.apply(this,arguments)}const f1=b.createContext(null),r8=b.createContext(null),lc=b.createContext(null),h1=b.createContext(null),cc=b.createContext({outlet:null,matches:[],isDataRoute:!1}),i8=b.createContext(null);function Hne(e,t){let{relative:n}=t===void 0?{}:t;bg()||vn(!1);let{basename:r,navigator:i}=b.useContext(lc),{hash:s,pathname:a,search:o}=p1(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Ml([r,a])),i.createHref({pathname:l,search:o,hash:s})}function bg(){return b.useContext(h1)!=null}function wg(){return bg()||vn(!1),b.useContext(h1).location}function s8(e){b.useContext(lc).static||b.useLayoutEffect(e)}function Wne(){let{isDataRoute:e}=b.useContext(cc);return e?sre():Vne()}function Vne(){bg()||vn(!1);let e=b.useContext(f1),{basename:t,future:n,navigator:r}=b.useContext(lc),{matches:i}=b.useContext(cc),{pathname:s}=wg(),a=JSON.stringify(e8(i,n.v7_relativeSplatPath)),o=b.useRef(!1);return s8(()=>{o.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=t8(u,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ml([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,s,e])}const qne=b.createContext(null);function Kne(e){let t=b.useContext(cc).outlet;return t&&b.createElement(qne.Provider,{value:e},t)}function p1(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(lc),{matches:i}=b.useContext(cc),{pathname:s}=wg(),a=JSON.stringify(e8(i,r.v7_relativeSplatPath));return b.useMemo(()=>t8(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function Gne(e,t){return Yne(e,t)}function Yne(e,t,n,r){bg()||vn(!1);let{navigator:i}=b.useContext(lc),{matches:s}=b.useContext(cc),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=wg(),d;if(t){var f;let v=typeof t=="string"?nh(t):t;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||vn(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=wne(e,{pathname:p}),g=ere(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Ml([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Ml([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return t&&g?b.createElement(h1.Provider,{value:{location:Cm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bl.Pop}},g):g}function Xne(){let e=ire(),t=Une(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,null)}const Qne=b.createElement(Xne,null);class Jne extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(cc.Provider,{value:this.props.routeContext},b.createElement(i8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zne(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(f1);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(cc.Provider,{value:t},r)}function ere(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||vn(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,m=!1,g=null,v=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||Qne,l&&(u<0&&h===0?(are("route-fallback"),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,h+1)),x=()=>{let w;return p?w=g:m?w=v:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(Zne,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(Jne,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var a8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(a8||{}),o8=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(o8||{});function tre(e){let t=b.useContext(f1);return t||vn(!1),t}function nre(e){let t=b.useContext(r8);return t||vn(!1),t}function rre(e){let t=b.useContext(cc);return t||vn(!1),t}function l8(e){let t=rre(),n=t.matches[t.matches.length-1];return n.route.id||vn(!1),n.route.id}function ire(){var e;let t=b.useContext(i8),n=nre(),r=l8();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function sre(){let{router:e}=tre(a8.UseNavigateStable),t=l8(o8.UseNavigateStable),n=b.useRef(!1);return s8(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Cm({fromRouteId:t},s)))},[e,t])}const CD={};function are(e,t,n){CD[e]||(CD[e]=!0)}function ore(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lre(e){return Kne(e.context)}function Ms(e){vn(!1)}function cre(e){let{basename:t="/",children:n=null,location:r,navigationType:i=bl.Pop,navigator:s,static:a=!1,future:o}=e;bg()&&vn(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:a,future:Cm({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=nh(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=b.useMemo(()=>{let v=wf(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:b.createElement(lc.Provider,{value:u},b.createElement(h1.Provider,{children:n,value:g}))}function ure(e){let{children:t,location:n}=e;return Gne(X_(t),n)}new Promise(()=>{});function X_(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,X_(r.props.children,s));return}r.type!==Ms&&vn(!1),!r.props.index||!r.props.children||vn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=X_(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(this,arguments)}function c8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function dre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fre(e,t){return e.button===0&&(!t||t==="_self")&&!dre(e)}const hre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pre=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],mre="6";try{window.__reactRouterVersion=mre}catch{}const gre=b.createContext({isTransitioning:!1}),vre="startTransition",kD=Xb[vre];function yre(e){let{basename:t,children:n,future:r,window:i}=e,s=b.useRef();s.current==null&&(s.current=yne({window:i,v5Compat:!0}));let a=s.current,[o,l]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&kD?kD(()=>l(f)):l(f)},[l,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>ore(r),[r]),b.createElement(cre,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const xre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wre=b.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=c8(t,hre),{basename:p}=b.useContext(lc),m,g=!1;if(typeof u=="string"&&bre.test(u)&&(m=u,xre))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),_=wf(E.pathname,p);E.origin===w.origin&&_!=null?u=_+E.search+E.hash:g=!0}catch{}let v=Hne(u,{relative:i}),y=Nre(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function x(w){r&&r(w),w.defaultPrevented||y(w)}return b.createElement("a",zy({},h,{href:m||v,onClick:g||s?r:x,ref:n,target:l}))}),Ere=b.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=t,f=c8(t,pre),h=p1(l,{relative:f.relative}),p=wg(),m=b.useContext(r8),{navigator:g,basename:v}=b.useContext(lc),y=m!=null&&_re(h)&&u===!0,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=p.pathname,E=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&v&&(E=wf(E,v)||E);const _=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let N=w===x||!a&&w.startsWith(x)&&w.charAt(_)==="/",T=E!=null&&(E===x||!a&&E.startsWith(x)&&E.charAt(x.length)==="/"),C={isActive:N,isPending:T,isTransitioning:y},O=N?r:void 0,A;typeof s=="function"?A=s(C):A=[s,N?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(C):o;return b.createElement(wre,zy({},f,{"aria-current":O,className:A,ref:n,style:D,to:l,viewTransition:u}),typeof d=="function"?d(C):d)});var Q_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Q_||(Q_={}));var AD;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(AD||(AD={}));function Sre(e){let t=b.useContext(f1);return t||vn(!1),t}function Nre(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=t===void 0?{}:t,l=Wne(),u=wg(),d=p1(e,{relative:a});return b.useCallback(f=>{if(fre(f,n)){f.preventDefault();let h=r!==void 0?r:Uy(u)===Uy(d);l(e,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,r,i,n,e,s,a,o])}function _re(e,t){t===void 0&&(t={});let n=b.useContext(gre);n==null&&vn(!1);let{basename:r}=Sre(Q_.useViewTransitionState),i=p1(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=wf(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=wf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Y_(i.pathname,a)!=null||Y_(i.pathname,s)!=null}const Tre="modulepreload",Cre=function(e){return"/"+e},OD={},Eg=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Cre(l),l in OD)return;OD[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Tre,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},kre=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Eg(async()=>{const{default:r}=await Promise.resolve().then(()=>rh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class IA extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Are extends IA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jD extends IA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ID extends IA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var J_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(J_||(J_={}));var Ore=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};class jre{constructor(t,{headers:n={},customFetch:r,region:i=J_.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=kre(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Ore(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(g=>{throw new Are(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new jD(f);if(!f.ok)throw new ID(f);let p=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof ID||i instanceof jD?i.context:void 0}}})}}var hi={},PA={},m1={},Sg={},g1={},v1={},Ire=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ef=Ire();const Pre=Ef.fetch,u8=Ef.fetch.bind(Ef),d8=Ef.Headers,Dre=Ef.Request,Mre=Ef.Response,rh=Object.freeze(Object.defineProperty({__proto__:null,Headers:d8,Request:Dre,Response:Mre,default:u8,fetch:Pre},Symbol.toStringTag,{value:"Module"})),Rre=qZ(rh);var y1={};Object.defineProperty(y1,"__esModule",{value:!0});let Lre=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};y1.default=Lre;var f8=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v1,"__esModule",{value:!0});const Bre=f8(Rre),Fre=f8(y1);let $re=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Bre.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l,u;let d=null,f=null,h=null,p=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?f=x:f=JSON.parse(x))}const v=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await s.text();try{d=JSON.parse(v),Array.isArray(d)&&s.status===404&&(f=[],d=null,p=200,m="OK")}catch{s.status===404&&v===""?(p=204,m="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,m="OK"),d&&this.shouldThrowOnError)throw new Fre.default(d)}return{error:d,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};v1.default=$re;var Ure=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(g1,"__esModule",{value:!0});const zre=Ure(v1);let Hre=class extends zre.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};g1.default=Hre;var Wre=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sg,"__esModule",{value:!0});const Vre=Wre(g1);let qre=class extends Vre.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Sg.default=qre;var Kre=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m1,"__esModule",{value:!0});const Vh=Kre(Sg);let Gre=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Vh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const s="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Vh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Vh.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Vh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Vh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};m1.default=Gre;var h8=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PA,"__esModule",{value:!0});const Yre=h8(m1),Xre=h8(Sg);let Qre=class p8{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Yre.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new p8(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(o="POST",u=n);const d=new Headers(this.headers);return s&&d.set("Prefer",`count=${s}`),new Xre.default({method:o,url:l,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};PA.default=Qre;var ih=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hi,"__esModule",{value:!0});hi.PostgrestError=hi.PostgrestBuilder=hi.PostgrestTransformBuilder=hi.PostgrestFilterBuilder=hi.PostgrestQueryBuilder=hi.PostgrestClient=void 0;const m8=ih(PA);hi.PostgrestClient=m8.default;const g8=ih(m1);hi.PostgrestQueryBuilder=g8.default;const v8=ih(Sg);hi.PostgrestFilterBuilder=v8.default;const y8=ih(g1);hi.PostgrestTransformBuilder=y8.default;const x8=ih(v1);hi.PostgrestBuilder=x8.default;const b8=ih(y1);hi.PostgrestError=b8.default;var Jre=hi.default={PostgrestClient:m8.default,PostgrestQueryBuilder:g8.default,PostgrestFilterBuilder:v8.default,PostgrestTransformBuilder:y8.default,PostgrestBuilder:x8.default,PostgrestError:b8.default};const{PostgrestClient:Zre,PostgrestQueryBuilder:MKe,PostgrestFilterBuilder:RKe,PostgrestTransformBuilder:LKe,PostgrestBuilder:BKe,PostgrestError:FKe}=Jre;class eie{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tie="2.15.1",nie=`realtime-js/${tie}`,rie="1.0.0",Z_=1e4,iie=1e3,sie=100;var Lp;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Lp||(Lp={}));var Fn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fn||(Fn={}));var $s;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($s||($s={}));var eT;(function(e){e.websocket="websocket"})(eT||(eT={}));var zc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zc||(zc={}));class aie{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(t.slice(a,a+i));a=a+i;const l=r.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class w8{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dt||(Dt={}));const PD=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,a)=>(s[a]=oie(a,e,t,i),s),{})},oie=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i==null?void 0:i.type,a=n[e];return s&&!r.includes(s)?E8(s,a):tT(a)},E8=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return die(t,n)}switch(e){case Dt.bool:return lie(t);case Dt.float4:case Dt.float8:case Dt.int2:case Dt.int4:case Dt.int8:case Dt.numeric:case Dt.oid:return cie(t);case Dt.json:case Dt.jsonb:return uie(t);case Dt.timestamp:return fie(t);case Dt.abstime:case Dt.date:case Dt.daterange:case Dt.int4range:case Dt.int8range:case Dt.money:case Dt.reltime:case Dt.text:case Dt.time:case Dt.timestamptz:case Dt.timetz:case Dt.tsrange:case Dt.tstzrange:return tT(t);default:return tT(t)}},tT=e=>e,lie=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cie=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uie=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},die=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>E8(t,o))}return e},fie=e=>typeof e=="string"?e.replace(" ","T"):e,S8=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class rS{constructor(t,n,r={},i=Z_){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var DD;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(DD||(DD={}));class Bp{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bp.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Bp.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bp.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(s,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(l[u]=g)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}r(o,d,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,l),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var MD;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(MD||(MD={}));var Fp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fp||(Fp={}));var Za;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Za||(Za={}));class DA{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new rS(this,$s.join,this.params,this.timeout),this.rejoinTimer=new w8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on($s.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Bp(this),this.broadcastEndpointURL=S8(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fn.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Fp.PRESENCE]&&this.bindings[Fp.PRESENCE].length>0,d={},f={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Za.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Za.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(Za.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,v=[];for(let y=0;y<g;y++){const x=m[y],{filter:{event:w,schema:E,table:_,filter:N}}=x,T=h&&h[y];if(T&&T.event===w&&T.schema===E&&T.table===_&&T.filter===N)v.push(Object.assign(Object.assign({},x),{id:T.id}));else{this.unsubscribe(),this.state=Fn.errored,t==null||t(Za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Za.SUBSCRIBED);return}}).receive("error",h=>{this.state=Fn.errored,t==null||t(Za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Fn.joined&&t===Fp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($s.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new rS(this,$s.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fn.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rS(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sie){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=$s;if(r&&[o,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var m,g,v,y,x,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const E=p.id,_=(m=p.filter)===null||m===void 0?void 0:m.event;return E&&((g=n.ids)===null||g===void 0?void 0:g.includes(E))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const E=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:y,type:x,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===Fn.closed}_isJoined(){return this.state===Fn.joined}_isJoining(){return this.state===Fn.joining}_isLeaving(){return this.state===Fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&DA.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($s.close,{},t)}_onError(t){this._on($s.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=PD(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=PD(t.columns,t.old_record)),n}}const RD=()=>{},R0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hie=[1e3,2e3,5e3,1e4],pie=1e4,mie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gie{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Z_,this.transport=null,this.heartbeatIntervalMs=R0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=RD,this.ref=0,this.reconnectTimer=null,this.logger=RD,this.conn=null,this.sendBuffer=[],this.serializer=new aie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>Eg(async()=>{const{default:o}=await Promise.resolve().then(()=>rh);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${eT.websocket}`,this.httpEndpoint=S8(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eie.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rie}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Lp.connecting:return zc.Connecting;case Lp.open:return zc.Open;case Lp.closing:return zc.Closing;default:return zc.Closed}}isConnected(){return this.connectionState()===zc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new DA(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(iie,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},R0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger($s.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([mie],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:nie};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push($s.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new w8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},R0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,a,o,l,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Z_,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:R0.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:d=>hie[d-1]||pie,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class MA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $n(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class vie extends MA{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nT extends MA{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var yie=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const N8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Eg(async()=>{const{default:r}=await Promise.resolve().then(()=>rh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},xie=()=>yie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Eg(()=>Promise.resolve().then(()=>rh),void 0)).Response:Response}),rT=e=>{if(Array.isArray(e))return e.map(n=>rT(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=rT(r)}),t},bie=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var qu=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const iS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wie=(e,t,n)=>qu(void 0,void 0,void 0,function*(){const r=yield xie();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new vie(iS(i),s,a))}).catch(i=>{t(new nT(iS(i),i))}):t(new nT(iS(e),e))}),Eie=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(bie(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ng(e,t,n,r,i,s){return qu(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(n,Eie(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>wie(l,o,r))})})}function Hy(e,t,n,r){return qu(this,void 0,void 0,function*(){return Ng(e,"GET",t,n,r)})}function ma(e,t,n,r,i){return qu(this,void 0,void 0,function*(){return Ng(e,"POST",t,r,i,n)})}function iT(e,t,n,r,i){return qu(this,void 0,void 0,function*(){return Ng(e,"PUT",t,r,i,n)})}function Sie(e,t,n,r){return qu(this,void 0,void 0,function*(){return Ng(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _8(e,t,n,r,i){return qu(this,void 0,void 0,function*(){return Ng(e,"DELETE",t,r,i,n)})}var qr=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const Nie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},LD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _ie{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=N8(i)}uploadOrUpdate(t,n,r,i){return qr(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},LD),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?iT:ma)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if($n(s))return{data:null,error:s};throw s}})}upload(t,n,r){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return qr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:LD.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield iT(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if($n(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return qr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ma(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new MA("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}update(t,n,r){return qr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return qr(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if($n(i))return{data:null,error:i};throw i}})}copy(t,n,r){return qr(this,void 0,void 0,function*(){try{return{data:{path:(yield ma(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if($n(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return qr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ma(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if($n(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return qr(this,void 0,void 0,function*(){try{const i=yield ma(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if($n(i))return{data:null,error:i};throw i}})}download(t,n){return qr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Hy(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if($n(o))return{data:null,error:o};throw o}})}info(t){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Hy(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rT(r),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}exists(t){return qr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Sie(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if($n(r)&&r instanceof nT){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return qr(this,void 0,void 0,function*(){try{return{data:yield _8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}})}list(t,n,r){return qr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Nie),n),{prefix:t||""});return{data:yield ma(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if($n(i))return{data:null,error:i};throw i}})}listV2(t,n){return qr(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield ma(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Tie="2.11.0",Cie={"X-Client-Info":`storage-js/${Tie}`};var id=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};class kie{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Cie),n),this.fetch=N8(r)}listBuckets(){return id(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if($n(t))return{data:null,error:t};throw t}})}getBucket(t){return id(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return id(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return id(this,void 0,void 0,function*(){try{return{data:yield iT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}emptyBucket(t){return id(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}})}deleteBucket(t){return id(this,void 0,void 0,function*(){try{return{data:yield _8(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if($n(n))return{data:null,error:n};throw n}})}}class Aie extends kie{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new _ie(this.url,this.headers,t,this.fetch)}}const Oie="2.56.0";let xp="";typeof Deno<"u"?xp="deno":typeof document<"u"?xp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xp="react-native":xp="node";const jie={"X-Client-Info":`supabase-js-${xp}/${Oie}`},Iie={headers:jie},Pie={schema:"public"},Die={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mie={};var Rie=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};const Lie=e=>{let t;return e?t=e:typeof fetch>"u"?t=u8:t=fetch,(...n)=>t(...n)},Bie=()=>typeof Headers>"u"?d8:Headers,Fie=(e,t,n)=>{const r=Lie(n),i=Bie();return(s,a)=>Rie(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var $ie=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};function Uie(e){return e.endsWith("/")?e:e+"/"}function zie(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>$ie(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const T8="2.71.1",wd=30*1e3,sT=3,sS=sT*wd,Hie="http://localhost:9999",Wie="supabase.auth.token",Vie={"X-Client-Info":`gotrue-js/${T8}`},aT="X-Supabase-Api-Version",C8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kie=10*60*1e3;class RA extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gie extends RA{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Yie(e){return Ze(e)&&e.name==="AuthApiError"}class k8 extends RA{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class uc extends RA{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class el extends uc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xie(e){return Ze(e)&&e.name==="AuthSessionMissingError"}class L0 extends uc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class B0 extends uc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class F0 extends uc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qie(e){return Ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class BD extends uc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oT extends uc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function aS(e){return Ze(e)&&e.name==="AuthRetryableFetchError"}class FD extends uc{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class lT extends uc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$D=` 	
\r=`.split(""),Jie=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$D.length;t+=1)e[$D[t].charCodeAt(0)]=-2;for(let t=0;t<Wy.length;t+=1)e[Wy[t].charCodeAt(0)]=t;return e})();function UD(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Wy[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Wy[r]),t.queuedBits-=6}}function A8(e,t,n){const r=Jie[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zD(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{tse(a,r,n)};for(let a=0;a<e.length;a+=1)A8(e.charCodeAt(a),i,s);return t.join("")}function Zie(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ese(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Zie(r,t)}}function tse(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nse(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)A8(e.charCodeAt(i),n,r);return new Uint8Array(t)}function rse(e){const t=[];return ese(e,n=>t.push(n)),new Uint8Array(t)}function ise(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>UD(i,n,r)),UD(null,n,r),t.join("")}function sse(e){return Math.round(Date.now()/1e3)+e}function ase(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rs=()=>typeof window<"u"&&typeof document<"u",Cc={tested:!1,writable:!1},O8=()=>{if(!Rs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cc.tested)return Cc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cc.tested=!0,Cc.writable=!0}catch{Cc.tested=!0,Cc.writable=!1}return Cc.writable};function ose(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const j8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Eg(async()=>{const{default:r}=await Promise.resolve().then(()=>rh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},lse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ed=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},kc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qo=async(e,t)=>{await e.removeItem(t)};class x1{constructor(){this.promise=new x1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}x1.promiseConstructor=Promise;function oS(e){const t=e.split(".");if(t.length!==3)throw new lT("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!qie.test(t[r]))throw new lT("JWT not in base64url format");return{header:JSON.parse(zD(t[0])),payload:JSON.parse(zD(t[1])),signature:nse(t[2]),raw:{header:t[0],payload:t[1]}}}async function cse(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function use(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function dse(e){return("0"+e.toString(16)).substr(-2)}function fse(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,dse).join("")}async function hse(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function pse(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await hse(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sd(e,t,n=!1){const r=fse();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ed(e,`${t}-code-verifier`,i);const s=await pse(r);return[s,r===s?"plain":"s256"]}const mse=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gse(e){const t=e.headers.get(aT);if(!t||!t.match(mse))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vse(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yse(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xse=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ad(e){if(!xse.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lS(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HD(e){return JSON.parse(JSON.stringify(e))}var bse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Rc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wse=[502,503,504];async function WD(e){var t;if(!lse(e))throw new oT(Rc(e),0);if(wse.includes(e.status))throw new oT(Rc(e),e.status);let n;try{n=await e.json()}catch(s){throw new k8(Rc(s),s)}let r;const i=gse(e);if(i&&i.getTime()>=C8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new FD(Rc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new el}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new FD(Rc(n),e.status,n.weak_password.reasons);throw new Gie(Rc(n),e.status||500,r)}const Ese=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function st(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[aT]||(s[aT]=C8["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Sse(e,t,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Sse(e,t,n,r,i,s){const a=Ese(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new oT(Rc(l),0)}if(o.ok||await WD(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await WD(l)}}function Ya(e){var t;let n=null;Cse(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=sse(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function VD(e){const t=Ya(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Nse(e){return{data:e,error:null}}function _se(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=bse(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Tse(e){return e}function Cse(e){return e.access_token&&e.refresh_token&&e.expires_in}const cS=["global","local","others"];var kse=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Ase{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=j8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=cS[0]){if(cS.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cS.join(", ")}`);try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hl})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=kse(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_se,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ze(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hl})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Tse});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ze(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ad(t);try{return await st(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hl})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ad(t);try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hl})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ad(t);try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hl})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ad(t.userId);try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ad(t.userId),ad(t.id);try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}}function qD(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Ose(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const od={debug:!!(globalThis&&O8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jse extends I8{}async function Ise(e,t,n){od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),od.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{od.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw od.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jse(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(od.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Ose();const Pse={url:Hie,storageKey:Wie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function KD(e,t,n){return await n()}const ld={};class km{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=km.nextInstanceID,km.nextInstanceID+=1,this.instanceID>0&&Rs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Pse),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ase({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=j8(i.fetch),this.lock=i.lock||KD,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Rs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ise:this.lock=KD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:O8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qD(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qD(this.memoryStorage)),Rs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ld[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ld[this.storageKey]=Object.assign(Object.assign({},ld[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ld[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ld[this.storageKey]=Object.assign(Object.assign({},ld[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${T8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=ose(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Rs()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Qie(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ze(n)?{error:n}:{error:new k8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ya}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Ze(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await sd(this.storage,this.storageKey)),s=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ya})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ya})}else throw new B0("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Ze(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:VD})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:VD})}else throw new B0("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new L0}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,a,o,l,u,d,f,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:v,wallet:y,statement:x,options:w}=t;let E;if(Rs())if(typeof y=="object")E=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))E=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const _=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const N=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let T;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")T=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)T=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)m=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),g=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${_.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const N=await E.signMessage(new TextEncoder().encode(m),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:v,error:y}=await st(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ise(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ya});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new L0}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(Ze(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await kc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ya});if(await qo(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new L0}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Ze(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ya}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new L0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await sd(this.storage,this.storageKey));const{error:f}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new B0("You must provide either an email or phone number.")}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ya});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Ze(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await sd(this.storage,this.storageKey)),await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Nse})}catch(s){if(Ze(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new el;const{error:i}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new B0("You must provide either an email or phone number and a type")}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await kc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<sS:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await kc(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=lS()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hl}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new el}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:hl})})}catch(n){if(Ze(n))return Xie(n)&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new el;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await sd(this.storage,this.storageKey));const{data:u,error:d}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:hl});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new el;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=oS(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Ze(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new el;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ze(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Rs())throw new F0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new F0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new BD("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new F0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new BD("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!s||!o||!a||!u)throw new F0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=wd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(Ze(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await kc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Yie(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await qo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ase(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await sd(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ze(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Rs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ze(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await use(async i=>(i>0&&await cse(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ya})),(i,s)=>{const a=200*Math.pow(2,i);return s&&aS(s)&&Date.now()+a-r<wd})}catch(r){if(this._debug(n,"error",r),Ze(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Rs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await kc(this.storage,this.storageKey);if(i&&this.userStorage){let a=await kc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Ed(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:lS()}else if(i&&!i.user&&!i.user){const a=await kc(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await qo(this.storage,this.storageKey+"-user"),await Ed(this.storage,this.storageKey,i)):i.user=lS()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<sS;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${sS}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),aS(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new el;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new x1;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new el;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Ze(s)){const a={session:null,error:s};return aS(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ed(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=HD(i);await Ed(this.storage,this.storageKey,s)}else{const i=HD(n);await Ed(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await qo(this.storage,this.storageKey),await qo(this.storage,this.storageKey+"-code-verifier"),await qo(this.storage,this.storageKey+"-user"),this.userStorage&&await qo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/wd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wd}ms, refresh threshold is ${sT} ticks`),i<=sT&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof I8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await sd(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await st(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await st(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=oS(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Kie>i)return r;const{data:s,error:a}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=oS(r);n!=null&&n.allowExpired||vse(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=yse(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,rse(`${o}.${l}`)))throw new lT("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}}km.nextInstanceID=0;const Dse=km;class Mse extends Dse{constructor(t){super(t)}}var Rse=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};class Lse{constructor(t,n,r){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Uie(t),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Pie,realtime:Mie,auth:Object.assign(Object.assign({},Die),{storageKey:u}),global:Iie},f=zie(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Fie(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Zre(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Aie(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new jre(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Rse(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mse({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new gie(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bse=(e,t,n)=>new Lse(e,t,n);function Fse(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Fse()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $se="https://eloldmdciulxzwsnlvci.supabase.co",Use="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsb2xkbWRjaXVseHp3c25sdmNpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMDkxMDYsImV4cCI6MjA2MDU4NTEwNn0.gh9vAFWK_kmkpYYC5NOgi4rs4lSQY7KhMs6UqPuX5nI",se=Bse($se,Use);function Fr(){const[e,t]=b.useState(null),[n,r]=b.useState(null),[i,s]=b.useState(!0);return b.useEffect(()=>{se.auth.getSession().then(({data:{session:m}})=>{r(m),t((m==null?void 0:m.user)??null),s(!1)});const{data:{subscription:p}}=se.auth.onAuthStateChange((m,g)=>{r(g),t((g==null?void 0:g.user)??null),s(!1)});return()=>p.unsubscribe()},[]),{user:e,session:n,loading:i,signUp:async(p,m)=>{const{data:g,error:v}=await se.auth.signUp({email:p,password:m});return{data:g,error:v}},signIn:async(p,m)=>{const{data:g,error:v}=await se.auth.signInWithPassword({email:p,password:m});return{data:g,error:v}},signOut:async()=>{const{error:p}=await se.auth.signOut();return{error:p}},resetPassword:async p=>{try{const{error:m}=await se.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(m)throw m;return{error:null}}catch(m){return{error:m}}},updatePassword:async p=>{try{const{error:m}=await se.auth.updateUser({password:p});if(m)throw m;return{error:null}}catch(m){return{error:m}}},getUserProfile:async()=>{if(!e)return null;try{const{data:p,error:m}=await se.from("user_profiles").select("*").eq("id",e.id).single();if(m&&m.code!=="PGRST116")throw m;return p}catch(p){return console.error("Error fetching user profile:",p),null}},updateUserProfile:async p=>{if(!e)return{error:new Error("No user logged in")};try{const{data:m,error:g}=await se.from("user_profiles").upsert({id:e.id,...p}).select().single();if(g)throw g;return{data:m,error:null}}catch(m){return{data:null,error:m}}}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},d)=>b.createElement("svg",{ref:d,...zse,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Hse(e)}`,o].join(" "),...u},[...t.map(([f,h])=>b.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=ue("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=ue("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=ue("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=ue("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ue("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ue("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ue("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=ue("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ue("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=ue("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=ue("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=ue("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ue("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ue("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ue("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=ue("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ue("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=ue("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=ue("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=ue("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=ue("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=ue("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=ue("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=ue("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=ue("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=ue("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=ue("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=ue("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=ue("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=ue("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=ue("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=ue("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=ue("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=ue("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=ue("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=ue("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=ue("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ue("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=ue("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=ue("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=ue("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=ue("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Oae({isDarkMode:e}){const[t,n]=b.useState(!1),[r,i]=b.useState(""),[s,a]=b.useState(""),[o,l]=b.useState(!1),[u,d]=b.useState(null),{signIn:f,signUp:h}=Fr(),p=async m=>{m.preventDefault(),l(!0),d(null);try{const{error:g}=t?await h(r,s):await f(r,s);g&&d(g.message)}catch{d("An unexpected error occurred")}finally{l(!1)}};return c.jsx("div",{className:`min-h-screen flex items-center justify-center transition-colors duration-200 ${e?"bg-slate-900":"bg-slate-50"}`,children:c.jsxs("div",{className:`max-w-md w-full mx-4 p-8 rounded-xl shadow-lg border transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${e?"bg-blue-900":"bg-blue-100"}`,children:c.jsx(ht,{className:`w-8 h-8 ${e?"text-blue-400":"text-blue-600"}`})}),c.jsx("h1",{className:`text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:"Consultant Dashboard"}),c.jsx("p",{className:`text-sm mt-2 ${e?"text-slate-400":"text-slate-600"}`,children:t?"Create your account":"Sign in to your account"})]}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Email"}),c.jsx("input",{type:"email",value:r,onChange:m=>i(m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`,placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Password"}),c.jsx("input",{type:"password",value:s,onChange:m=>a(m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`,placeholder:"Enter your password",required:!0,minLength:6})]}),u&&c.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:u}),c.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2.5 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:o?c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsxs(c.Fragment,{children:[t?c.jsx(kae,{className:"w-4 h-4"}):c.jsx(uae,{className:"w-4 h-4"}),t?"Sign Up":"Sign In"]})})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>n(!t),className:`text-sm transition-colors duration-200 ${e?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:t?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}function z8(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=z8(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ft(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=z8(e))&&(r&&(r+=" "),r+=t);return r}const qA="-",jae=e=>{const t=Pae(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(qA);return o[0]===""&&o.length!==1&&o.shift(),H8(o,t)||Iae(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},H8=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?H8(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(qA);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},eM=/^\[(.+)\]$/,Iae=e=>{if(eM.test(e)){const t=eM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Pae=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)mT(n[i],r,i,t);return r},mT=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:tM(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(Dae(i)){mT(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{mT(a,tM(t,s),n,r)})})},tM=(e,t)=>{let n=e;return t.split(qA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Dae=e=>e.isThemeGetter,Mae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},gT="!",vT=":",Rae=vT.length,Lae=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let a=0,o=0,l=0,u;for(let m=0;m<i.length;m++){let g=i[m];if(a===0&&o===0){if(g===vT){s.push(i.slice(l,m)),l=m+Rae;continue}if(g==="/"){u=m;continue}}g==="["?a++:g==="]"?a--:g==="("?o++:g===")"&&o--}const d=s.length===0?i:i.substring(l),f=Bae(d),h=f!==d,p=u&&u>l?u-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const i=t+vT,s=r;r=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Bae=e=>e.endsWith(gT)?e.substring(0,e.length-1):e.startsWith(gT)?e.substring(1):e,Fae=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(a=>{a[0]==="["||t[a]?(i.push(...s.sort(),a),s=[]):s.push(a)}),i.push(...s.sort()),i}},$ae=e=>({cache:Mae(e.cacheSize),parseClassName:Lae(e),sortModifiers:Fae(e),...jae(e)}),Uae=/\s+/,zae=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,a=[],o=e.trim().split(Uae);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let v=!!g,y=r(v?m.substring(0,g):m);if(!y){if(!v){l=d+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=d+(l.length>0?" "+l:l);continue}v=!1}const x=s(h).join(":"),w=p?x+gT:x,E=w+y;if(a.includes(E))continue;a.push(E);const _=i(y,v);for(let N=0;N<_.length;++N){const T=_[N];a.push(w+T)}l=d+(l.length>0?" "+l:l)}return l};function Hae(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=W8(t))&&(r&&(r+=" "),r+=n);return r}const W8=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=W8(e[r]))&&(n&&(n+=" "),n+=t);return n};function Wae(e,...t){let n,r,i,s=a;function a(l){const u=t.reduce((d,f)=>f(d),e());return n=$ae(u),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=zae(l,n);return i(l,d),d}return function(){return s(Hae.apply(null,arguments))}}const Ln=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},V8=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,q8=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Vae=/^\d+\/\d+$/,qae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Yae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cd=e=>Vae.test(e),rt=e=>!!e&&!Number.isNaN(Number(e)),Ko=e=>!!e&&Number.isInteger(Number(e)),uS=e=>e.endsWith("%")&&rt(e.slice(0,-1)),Va=e=>qae.test(e),Qae=()=>!0,Jae=e=>Kae.test(e)&&!Gae.test(e),K8=()=>!1,Zae=e=>Yae.test(e),eoe=e=>Xae.test(e),toe=e=>!Re(e)&&!Le(e),noe=e=>oh(e,X8,K8),Re=e=>V8.test(e),Oc=e=>oh(e,Q8,Jae),dS=e=>oh(e,ooe,rt),nM=e=>oh(e,G8,K8),roe=e=>oh(e,Y8,eoe),$0=e=>oh(e,J8,Zae),Le=e=>q8.test(e),qh=e=>lh(e,Q8),ioe=e=>lh(e,loe),rM=e=>lh(e,G8),soe=e=>lh(e,X8),aoe=e=>lh(e,Y8),U0=e=>lh(e,J8,!0),oh=(e,t,n)=>{const r=V8.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},lh=(e,t,n=!1)=>{const r=q8.exec(e);return r?r[1]?t(r[1]):n:!1},G8=e=>e==="position"||e==="percentage",Y8=e=>e==="image"||e==="url",X8=e=>e==="length"||e==="size"||e==="bg-size",Q8=e=>e==="length",ooe=e=>e==="number",loe=e=>e==="family-name",J8=e=>e==="shadow",coe=()=>{const e=Ln("color"),t=Ln("font"),n=Ln("text"),r=Ln("font-weight"),i=Ln("tracking"),s=Ln("leading"),a=Ln("breakpoint"),o=Ln("container"),l=Ln("spacing"),u=Ln("radius"),d=Ln("shadow"),f=Ln("inset-shadow"),h=Ln("text-shadow"),p=Ln("drop-shadow"),m=Ln("blur"),g=Ln("perspective"),v=Ln("aspect"),y=Ln("ease"),x=Ln("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...E(),Le,Re],N=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],C=()=>[Le,Re,l],O=()=>[cd,"full","auto",...C()],A=()=>[Ko,"none","subgrid",Le,Re],D=()=>["auto",{span:["full",Ko,Le,Re]},Ko,Le,Re],k=()=>[Ko,"auto",Le,Re],P=()=>["auto","min","max","fr",Le,Re],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],j=()=>["auto",...C()],R=()=>[cd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],M=()=>[e,Le,Re],V=()=>[...E(),rM,nM,{position:[Le,Re]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",soe,noe,{size:[Le,Re]}],W=()=>[uS,qh,Oc],$=()=>["","none","full",u,Le,Re],xe=()=>["",rt,qh,Oc],ke=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[rt,uS,rM,nM],Se=()=>["","none",m,Le,Re],ne=()=>["none",rt,Le,Re],de=()=>["none",rt,Le,Re],pe=()=>[rt,Le,Re],J=()=>[cd,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Va],breakpoint:[Va],color:[Qae],container:[Va],"drop-shadow":[Va],ease:["in","out","in-out"],font:[toe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Va],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Va],shadow:[Va],spacing:["px",rt],text:[Va],"text-shadow":[Va],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",cd,Re,Le,v]}],container:["container"],columns:[{columns:[rt,Re,Le,o]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Ko,"auto",Le,Re]}],basis:[{basis:[cd,"full","auto",o,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rt,cd,"auto","initial","none",Re]}],grow:[{grow:["",rt,Le,Re]}],shrink:[{shrink:["",rt,Le,Re]}],order:[{order:[Ko,"first","last","none",Le,Re]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:R()}],w:[{w:[o,"screen",...R()]}],"min-w":[{"min-w":[o,"screen","none",...R()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...R()]}],h:[{h:["screen","lh",...R()]}],"min-h":[{"min-h":["screen","lh","none",...R()]}],"max-h":[{"max-h":["screen","lh",...R()]}],"font-size":[{text:["base",n,qh,Oc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Le,dS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uS,Re]}],"font-family":[{font:[ioe,Re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Le,Re]}],"line-clamp":[{"line-clamp":[rt,"none",Le,dS]}],leading:[{leading:[s,...C()]}],"list-image":[{"list-image":["none",Le,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Le,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[rt,"from-font","auto",Le,Oc]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[rt,"auto",Le,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ko,Le,Re],radial:["",Le,Re],conic:[Ko,Le,Re]},aoe,roe]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ke(),"hidden","none"]}],"divide-style":[{divide:[...ke(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rt,Le,Re]}],"outline-w":[{outline:["",rt,qh,Oc]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",d,U0,$0]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",f,U0,$0]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[rt,Oc]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",h,U0,$0]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[rt,Le,Re]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rt]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[Le,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[rt]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Le,Re]}],filter:[{filter:["","none",Le,Re]}],blur:[{blur:Se()}],brightness:[{brightness:[rt,Le,Re]}],contrast:[{contrast:[rt,Le,Re]}],"drop-shadow":[{"drop-shadow":["","none",p,U0,$0]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",rt,Le,Re]}],"hue-rotate":[{"hue-rotate":[rt,Le,Re]}],invert:[{invert:["",rt,Le,Re]}],saturate:[{saturate:[rt,Le,Re]}],sepia:[{sepia:["",rt,Le,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Le,Re]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[rt,Le,Re]}],"backdrop-contrast":[{"backdrop-contrast":[rt,Le,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rt,Le,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rt,Le,Re]}],"backdrop-invert":[{"backdrop-invert":["",rt,Le,Re]}],"backdrop-opacity":[{"backdrop-opacity":[rt,Le,Re]}],"backdrop-saturate":[{"backdrop-saturate":[rt,Le,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",rt,Le,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Le,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rt,"initial",Le,Re]}],ease:[{ease:["linear","initial",y,Le,Re]}],delay:[{delay:[rt,Le,Re]}],animate:[{animate:["none",x,Le,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Le,Re]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:ne()}],"rotate-x":[{"rotate-x":ne()}],"rotate-y":[{"rotate-y":ne()}],"rotate-z":[{"rotate-z":ne()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[Le,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:J()}],"translate-x":[{"translate-x":J()}],"translate-y":[{"translate-y":J()}],"translate-z":[{"translate-z":J()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le,Re]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[rt,qh,Oc,dS]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uoe=Wae(coe);function ze(...e){return uoe(ft(e))}function iM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Z8(...e){return t=>{let n=!1;const r=e.map(i=>{const s=iM(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():iM(e[i],null)}}}}function un(...e){return b.useCallback(Z8(...e),e)}function Cf(e){const t=foe(e),n=b.forwardRef((r,i)=>{const{children:s,...a}=r,o=b.Children.toArray(s),l=o.find(poe);if(l){const u=l.props.children,d=o.map(f=>f===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return c.jsx(t,{...a,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return c.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var doe=Cf("Slot");function foe(e){const t=b.forwardRef((n,r)=>{const{children:i,...s}=n;if(b.isValidElement(i)){const a=goe(i),o=moe(s,i.props);return i.type!==b.Fragment&&(o.ref=r?Z8(r,a):a),b.cloneElement(i,o)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eU=Symbol("radix.slottable");function hoe(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=eU,t}function poe(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eU}function moe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function goe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const sM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aM=ft,KA=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return aM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=sM(d)||sM(f);return i[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...s,...o}[g]):{...s,...o}[g]===v})?[...u,f,h]:u},[]);return aM(e,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},GA=KA("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?doe:"button";return c.jsx(a,{className:ze(GA({variant:t,size:n,className:e})),ref:s,...i})});z.displayName="Button";const voe=[{name:"Dashboard",href:"/",icon:lae},{name:"Time Tracking",href:"/time-tracking",icon:ht},{name:"Budget",href:"/budget",icon:wr},{name:"Cash Flow",href:"/cash-flow",icon:on},{name:"Projects",href:"/projects",icon:_g},{name:"Analytics",href:"/analytics",icon:Ll},{name:"Clients",href:"/clients",icon:Gi},{name:"Invoicing",href:"/invoicing",icon:xt},{name:"CV Manager",href:"/cv-manager",icon:Es},{name:"Settings",href:"/settings",icon:w1}];function yoe({collapsed:e,onToggle:t,isDarkMode:n}){return c.jsxs("div",{className:ze("flex flex-col h-full border-r transition-all duration-300",e?"w-16":"w-64","bg-card border-border"),children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[!e&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:c.jsx(Ll,{className:"w-5 h-5 text-primary-foreground"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-semibold text-sm",children:"ConsultantHub"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),c.jsx(z,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:e?c.jsx($A,{className:"h-4 w-4"}):c.jsx(FA,{className:"h-4 w-4"})})]}),c.jsx("nav",{className:"flex-1 p-2",children:c.jsx("ul",{className:"space-y-1",children:voe.map(r=>{const i=r.icon;return c.jsx("li",{children:c.jsxs(Ere,{to:r.href,className:({isActive:s})=>ze("flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors","hover:bg-accent hover:text-accent-foreground",s?"bg-primary text-primary-foreground":"text-muted-foreground",e?"justify-center":""),title:e?r.name:void 0,children:[c.jsx(i,{className:"h-4 w-4 flex-shrink-0"}),!e&&c.jsx("span",{children:r.name})]})},r.name)})})}),c.jsx("div",{className:"p-4 border-t border-border",children:!e&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:[c.jsx("p",{children:" 2025 ConsultantHub"}),c.jsx("p",{children:"v1.0.0"})]})})]})}const Te=b.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Te.displayName="Input";function xoe({isDarkMode:e,onToggleDarkMode:t,onSignOut:n,user:r}){var i;return c.jsxs("header",{className:ze("flex items-center justify-between px-6 py-4 border-b","bg-background border-border"),children:[c.jsx("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:c.jsxs("div",{className:"relative flex-1",children:[c.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Te,{placeholder:"Search...",className:"pl-10"})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(z,{variant:"ghost",size:"icon",className:"relative",children:[c.jsx(Kse,{className:"h-4 w-4"}),c.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),c.jsx(z,{variant:"ghost",size:"icon",onClick:t,children:e?c.jsx(Tae,{className:"h-4 w-4"}):c.jsx(yae,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex items-center gap-3 ml-4 pl-4 border-l border-border",children:[c.jsxs("div",{className:"text-right hidden sm:block",children:[c.jsx("p",{className:"text-sm font-medium",children:((i=r==null?void 0:r.email)==null?void 0:i.split("@")[0])||"User"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:(r==null?void 0:r.email)||"user@example.com"})]}),c.jsx(z,{variant:"ghost",size:"icon",className:"rounded-full",children:c.jsx(Es,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"icon",onClick:n,children:c.jsx(dae,{className:"h-4 w-4"})})]})]})]})}function boe({isDarkMode:e,onToggleDarkMode:t,onSignOut:n,user:r,children:i}){const[s,a]=b.useState(!1);return c.jsxs("div",{className:ze("h-screen flex",e?"dark":""),children:[c.jsx(yoe,{collapsed:s,onToggle:()=>a(!s),isDarkMode:e}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsx(xoe,{isDarkMode:e,onToggleDarkMode:t,onSignOut:n,user:r}),c.jsx("main",{className:"flex-1 overflow-auto p-6 bg-muted/30",children:i||c.jsx(lre,{})})]})]})}function yT(e,t){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yT(e,t)}function tU(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yT(e,t)}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(null,arguments)}function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function woe(e,t){if(Om(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eoe(e){var t=woe(e,"string");return Om(t)=="symbol"?t:t+""}function Soe(e,t,n){return(t=Eoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(n),!0).forEach(function(r){Soe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ui(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var cM=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),uM=function(){return Math.random().toString(36).substring(7).split("").join(".")},dM={INIT:"@@redux/INIT"+uM(),REPLACE:"@@redux/REPLACE"+uM()};function Noe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function nU(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ui(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ui(1));return n(nU)(e,t)}if(typeof e!="function")throw new Error(ui(2));var i=e,s=t,a=[],o=a,l=!1;function u(){o===a&&(o=a.slice())}function d(){if(l)throw new Error(ui(3));return s}function f(g){if(typeof g!="function")throw new Error(ui(4));if(l)throw new Error(ui(5));var v=!0;return u(),o.push(g),function(){if(v){if(l)throw new Error(ui(6));v=!1,u();var x=o.indexOf(g);o.splice(x,1),a=null}}}function h(g){if(!Noe(g))throw new Error(ui(7));if(typeof g.type>"u")throw new Error(ui(8));if(l)throw new Error(ui(9));try{l=!0,s=i(s,g)}finally{l=!1}for(var v=a=o,y=0;y<v.length;y++){var x=v[y];x()}return g}function p(g){if(typeof g!="function")throw new Error(ui(10));i=g,h({type:dM.REPLACE})}function m(){var g,v=f;return g={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(ui(11));function w(){x.next&&x.next(d())}w();var E=v(w);return{unsubscribe:E}}},g[cM]=function(){return this},g}return h({type:dM.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:p},r[cM]=m,r}function fM(e,t){return function(){return t(e.apply(this,arguments))}}function hM(e,t){if(typeof e=="function")return fM(e,t);if(typeof e!="object"||e===null)throw new Error(ui(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=fM(i,t))}return n}function rU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function _oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(ui(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=t.map(function(l){return l(a)});return s=rU.apply(void 0,o)(i.dispatch),lM(lM({},i),{},{dispatch:s})}}}var iU=nt.createContext(null);function Toe(e){e()}var sU=Toe,Coe=function(t){return sU=t},koe=function(){return sU};function Aoe(){var e=koe(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=t;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,a=n={callback:i,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var pM={notify:function(){},get:function(){return[]}};function aU(e,t){var n,r=pM;function i(f){return l(),r.subscribe(f)}function s(){r.notify()}function a(){d.onStateChange&&d.onStateChange()}function o(){return!!n}function l(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=Aoe())}function u(){n&&(n(),n=void 0,r.clear(),r=pM)}var d={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:a,isSubscribed:o,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return r}};return d}var oU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function Ooe(e){var t=e.store,n=e.context,r=e.children,i=b.useMemo(function(){var o=aU(t);return{store:t,subscription:o}},[t]),s=b.useMemo(function(){return t.getState()},[t]);oU(function(){var o=i.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),s!==t.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[i,s]);var a=n||iU;return nt.createElement(a.Provider,{value:i},r)}function Ky(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lU={exports:{}},_t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=typeof Symbol=="function"&&Symbol.for,YA=ar?Symbol.for("react.element"):60103,XA=ar?Symbol.for("react.portal"):60106,E1=ar?Symbol.for("react.fragment"):60107,S1=ar?Symbol.for("react.strict_mode"):60108,N1=ar?Symbol.for("react.profiler"):60114,_1=ar?Symbol.for("react.provider"):60109,T1=ar?Symbol.for("react.context"):60110,QA=ar?Symbol.for("react.async_mode"):60111,C1=ar?Symbol.for("react.concurrent_mode"):60111,k1=ar?Symbol.for("react.forward_ref"):60112,A1=ar?Symbol.for("react.suspense"):60113,joe=ar?Symbol.for("react.suspense_list"):60120,O1=ar?Symbol.for("react.memo"):60115,j1=ar?Symbol.for("react.lazy"):60116,Ioe=ar?Symbol.for("react.block"):60121,Poe=ar?Symbol.for("react.fundamental"):60117,Doe=ar?Symbol.for("react.responder"):60118,Moe=ar?Symbol.for("react.scope"):60119;function Zi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YA:switch(e=e.type,e){case QA:case C1:case E1:case N1:case S1:case A1:return e;default:switch(e=e&&e.$$typeof,e){case T1:case k1:case j1:case O1:case _1:return e;default:return t}}case XA:return t}}}function cU(e){return Zi(e)===C1}_t.AsyncMode=QA;_t.ConcurrentMode=C1;_t.ContextConsumer=T1;_t.ContextProvider=_1;_t.Element=YA;_t.ForwardRef=k1;_t.Fragment=E1;_t.Lazy=j1;_t.Memo=O1;_t.Portal=XA;_t.Profiler=N1;_t.StrictMode=S1;_t.Suspense=A1;_t.isAsyncMode=function(e){return cU(e)||Zi(e)===QA};_t.isConcurrentMode=cU;_t.isContextConsumer=function(e){return Zi(e)===T1};_t.isContextProvider=function(e){return Zi(e)===_1};_t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YA};_t.isForwardRef=function(e){return Zi(e)===k1};_t.isFragment=function(e){return Zi(e)===E1};_t.isLazy=function(e){return Zi(e)===j1};_t.isMemo=function(e){return Zi(e)===O1};_t.isPortal=function(e){return Zi(e)===XA};_t.isProfiler=function(e){return Zi(e)===N1};_t.isStrictMode=function(e){return Zi(e)===S1};_t.isSuspense=function(e){return Zi(e)===A1};_t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E1||e===C1||e===N1||e===S1||e===A1||e===joe||typeof e=="object"&&e!==null&&(e.$$typeof===j1||e.$$typeof===O1||e.$$typeof===_1||e.$$typeof===T1||e.$$typeof===k1||e.$$typeof===Poe||e.$$typeof===Doe||e.$$typeof===Moe||e.$$typeof===Ioe)};_t.typeOf=Zi;lU.exports=_t;var Roe=lU.exports,JA=Roe,Loe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Boe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Foe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZA={};ZA[JA.ForwardRef]=Foe;ZA[JA.Memo]=uU;function mM(e){return JA.isMemo(e)?uU:ZA[e.$$typeof]||Loe}var $oe=Object.defineProperty,Uoe=Object.getOwnPropertyNames,gM=Object.getOwnPropertySymbols,zoe=Object.getOwnPropertyDescriptor,Hoe=Object.getPrototypeOf,vM=Object.prototype;function dU(e,t,n){if(typeof t!="string"){if(vM){var r=Hoe(t);r&&r!==vM&&dU(e,r,n)}var i=Uoe(t);gM&&(i=i.concat(gM(t)));for(var s=mM(e),a=mM(t),o=0;o<i.length;++o){var l=i[o];if(!Boe[l]&&!(n&&n[l])&&!(a&&a[l])&&!(s&&s[l])){var u=zoe(t,l);try{$oe(e,l,u)}catch{}}}}return e}var Woe=dU;const yM=Br(Woe);var fU={exports:{}},It={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=60103,P1=60106,Cg=60107,kg=60108,Ag=60114,Og=60109,jg=60110,Ig=60112,Pg=60113,e2=60120,Dg=60115,Mg=60116,hU=60121,pU=60122,mU=60117,gU=60129,vU=60131;if(typeof Symbol=="function"&&Symbol.for){var ur=Symbol.for;I1=ur("react.element"),P1=ur("react.portal"),Cg=ur("react.fragment"),kg=ur("react.strict_mode"),Ag=ur("react.profiler"),Og=ur("react.provider"),jg=ur("react.context"),Ig=ur("react.forward_ref"),Pg=ur("react.suspense"),e2=ur("react.suspense_list"),Dg=ur("react.memo"),Mg=ur("react.lazy"),hU=ur("react.block"),pU=ur("react.server.block"),mU=ur("react.fundamental"),gU=ur("react.debug_trace_mode"),vU=ur("react.legacy_hidden")}function ia(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case I1:switch(e=e.type,e){case Cg:case Ag:case kg:case Pg:case e2:return e;default:switch(e=e&&e.$$typeof,e){case jg:case Ig:case Mg:case Dg:case Og:return e;default:return t}}case P1:return t}}}var Voe=Og,qoe=I1,Koe=Ig,Goe=Cg,Yoe=Mg,Xoe=Dg,Qoe=P1,Joe=Ag,Zoe=kg,ele=Pg;It.ContextConsumer=jg;It.ContextProvider=Voe;It.Element=qoe;It.ForwardRef=Koe;It.Fragment=Goe;It.Lazy=Yoe;It.Memo=Xoe;It.Portal=Qoe;It.Profiler=Joe;It.StrictMode=Zoe;It.Suspense=ele;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(e){return ia(e)===jg};It.isContextProvider=function(e){return ia(e)===Og};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===I1};It.isForwardRef=function(e){return ia(e)===Ig};It.isFragment=function(e){return ia(e)===Cg};It.isLazy=function(e){return ia(e)===Mg};It.isMemo=function(e){return ia(e)===Dg};It.isPortal=function(e){return ia(e)===P1};It.isProfiler=function(e){return ia(e)===Ag};It.isStrictMode=function(e){return ia(e)===kg};It.isSuspense=function(e){return ia(e)===Pg};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cg||e===Ag||e===gU||e===kg||e===Pg||e===e2||e===vU||typeof e=="object"&&e!==null&&(e.$$typeof===Mg||e.$$typeof===Dg||e.$$typeof===Og||e.$$typeof===jg||e.$$typeof===Ig||e.$$typeof===mU||e.$$typeof===hU||e[0]===pU)};It.typeOf=ia;fU.exports=It;var tle=fU.exports,nle=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],rle=["reactReduxForwardedRef"],ile=[],sle=[null,null];function ale(e,t){var n=e[1];return[t.payload,n+1]}function xM(e,t,n){oU(function(){return e.apply(void 0,t)},n)}function ole(e,t,n,r,i,s,a){e.current=r,t.current=i,n.current=!1,s.current&&(s.current=null,a())}function lle(e,t,n,r,i,s,a,o,l,u){if(e){var d=!1,f=null,h=function(){if(!d){var g=t.getState(),v,y;try{v=r(g,i.current)}catch(x){y=x,f=x}y||(f=null),v===s.current?a.current||l():(s.current=v,o.current=v,a.current=!0,u({type:"STORE_UPDATED",payload:{error:y}}))}};n.onStateChange=h,n.trySubscribe(),h();var p=function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f};return p}}var cle=function(){return[null,0]};function ule(e,t){t===void 0&&(t={});var n=t,r=n.getDisplayName,i=r===void 0?function(w){return"ConnectAdvanced("+w+")"}:r,s=n.methodName,a=s===void 0?"connectAdvanced":s,o=n.renderCountProp,l=o===void 0?void 0:o,u=n.shouldHandleStateChanges,d=u===void 0?!0:u,f=n.storeKey,h=f===void 0?"store":f;n.withRef;var p=n.forwardRef,m=p===void 0?!1:p,g=n.context,v=g===void 0?iU:g,y=Ky(n,nle),x=v;return function(E){var _=E.displayName||E.name||"Component",N=i(_),T=Ve({},y,{getDisplayName:i,methodName:a,renderCountProp:l,shouldHandleStateChanges:d,storeKey:h,displayName:N,wrappedComponentName:_,WrappedComponent:E}),C=y.pure;function O(B){return e(B.dispatch,T)}var A=C?b.useMemo:function(B){return B()};function D(B){var L=b.useMemo(function(){var Jt=B.reactReduxForwardedRef,bt=Ky(B,rle);return[B.context,Jt,bt]},[B]),j=L[0],R=L[1],M=L[2],V=b.useMemo(function(){return j&&j.Consumer&&tle.isContextConsumer(nt.createElement(j.Consumer,null))?j:x},[j,x]),I=b.useContext(V),ee=!!B.store&&!!B.store.getState&&!!B.store.dispatch;I&&I.store;var W=ee?B.store:I.store,$=b.useMemo(function(){return O(W)},[W]),xe=b.useMemo(function(){if(!d)return sle;var Jt=aU(W,ee?null:I.subscription),bt=Jt.notifyNestedSubs.bind(Jt);return[Jt,bt]},[W,ee,I]),ke=xe[0],Ae=xe[1],le=b.useMemo(function(){return ee?I:Ve({},I,{subscription:ke})},[ee,I,ke]),Se=b.useReducer(ale,ile,cle),ne=Se[0],de=ne[0],pe=Se[1];if(de&&de.error)throw de.error;var J=b.useRef(),qe=b.useRef(M),Oe=b.useRef(),Qe=b.useRef(!1),G=A(function(){return Oe.current&&M===qe.current?Oe.current:$(W.getState(),M)},[W,de,M]);xM(ole,[qe,J,Qe,M,G,Oe,Ae]),xM(lle,[d,W,ke,$,qe,J,Qe,Oe,Ae,pe],[W,ke,$]);var oe=b.useMemo(function(){return nt.createElement(E,Ve({},G,{ref:R}))},[R,E,G]),be=b.useMemo(function(){return d?nt.createElement(V.Provider,{value:le},oe):oe},[V,oe,le]);return be}var k=C?nt.memo(D):D;if(k.WrappedComponent=E,k.displayName=D.displayName=N,m){var P=nt.forwardRef(function(L,j){return nt.createElement(k,Ve({},L,{reactReduxForwardedRef:j}))});return P.displayName=N,P.WrappedComponent=E,yM(P,E)}return yM(k,E)}}function bM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fS(e,t){if(bM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!bM(e[n[i]],t[n[i]]))return!1;return!0}function dle(e,t){var n={},r=function(a){var o=e[a];typeof o=="function"&&(n[a]=function(){return t(o.apply(void 0,arguments))})};for(var i in e)r(i);return n}function t2(e){return function(n,r){var i=e(n,r);function s(){return i}return s.dependsOnOwnProps=!1,s}}function wM(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function yU(e,t){return function(r,i){i.displayName;var s=function(o,l){return s.dependsOnOwnProps?s.mapToProps(o,l):s.mapToProps(o)};return s.dependsOnOwnProps=!0,s.mapToProps=function(o,l){s.mapToProps=e,s.dependsOnOwnProps=wM(e);var u=s(o,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=wM(u),u=s(o,l)),u},s}}function fle(e){return typeof e=="function"?yU(e):void 0}function hle(e){return e?void 0:t2(function(t){return{dispatch:t}})}function ple(e){return e&&typeof e=="object"?t2(function(t){return dle(e,t)}):void 0}const mle=[fle,hle,ple];function gle(e){return typeof e=="function"?yU(e):void 0}function vle(e){return e?void 0:t2(function(){return{}})}const yle=[gle,vle];function xle(e,t,n){return Ve({},n,e,t)}function ble(e){return function(n,r){r.displayName;var i=r.pure,s=r.areMergedPropsEqual,a=!1,o;return function(u,d,f){var h=e(u,d,f);return a?(!i||!s(h,o))&&(o=h):(a=!0,o=h),o}}}function wle(e){return typeof e=="function"?ble(e):void 0}function Ele(e){return e?void 0:function(){return xle}}const Sle=[wle,Ele];var Nle=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function _le(e,t,n,r){return function(s,a){return n(e(s,a),t(r,a),a)}}function Tle(e,t,n,r,i){var s=i.areStatesEqual,a=i.areOwnPropsEqual,o=i.areStatePropsEqual,l=!1,u,d,f,h,p;function m(w,E){return u=w,d=E,f=e(u,d),h=t(r,d),p=n(f,h,d),l=!0,p}function g(){return f=e(u,d),t.dependsOnOwnProps&&(h=t(r,d)),p=n(f,h,d),p}function v(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(h=t(r,d)),p=n(f,h,d),p}function y(){var w=e(u,d),E=!o(w,f);return f=w,E&&(p=n(f,h,d)),p}function x(w,E){var _=!a(E,d),N=!s(w,u,E,d);return u=w,d=E,_&&N?g():_?v():N?y():p}return function(E,_){return l?x(E,_):m(E,_)}}function Cle(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,s=Ky(t,Nle),a=n(e,s),o=r(e,s),l=i(e,s),u=s.pure?Tle:_le;return u(a,o,l,e,s)}var kle=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function hS(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(s,a){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+a.wrappedComponentName+".")}}function Ale(e,t){return e===t}function Ole(e){var t=e===void 0?{}:e,n=t.connectHOC,r=n===void 0?ule:n,i=t.mapStateToPropsFactories,s=i===void 0?yle:i,a=t.mapDispatchToPropsFactories,o=a===void 0?mle:a,l=t.mergePropsFactories,u=l===void 0?Sle:l,d=t.selectorFactory,f=d===void 0?Cle:d;return function(p,m,g,v){v===void 0&&(v={});var y=v,x=y.pure,w=x===void 0?!0:x,E=y.areStatesEqual,_=E===void 0?Ale:E,N=y.areOwnPropsEqual,T=N===void 0?fS:N,C=y.areStatePropsEqual,O=C===void 0?fS:C,A=y.areMergedPropsEqual,D=A===void 0?fS:A,k=Ky(y,kle),P=hS(p,s,"mapStateToProps"),B=hS(m,o,"mapDispatchToProps"),L=hS(g,u,"mergeProps");return r(f,Ve({methodName:"connect",getDisplayName:function(R){return"Connect("+R+")"},shouldHandleStateChanges:!!p,initMapStateToProps:P,initMapDispatchToProps:B,initMergeProps:L,pure:w,areStatesEqual:_,areOwnPropsEqual:T,areStatePropsEqual:O,areMergedPropsEqual:D},k))}}const xU=Ole();Coe(oc.unstable_batchedUpdates);function jle(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function bU(e,t){var n=b.useState(function(){return{inputs:t,result:e()}})[0],r=b.useRef(!0),i=b.useRef(n),s=r.current||!!(t&&i.current.inputs&&jle(t,i.current.inputs)),a=s?i.current:{inputs:t,result:e()};return b.useEffect(function(){r.current=!1,i.current=a},[a]),a.result}function Ile(e,t){return bU(function(){return e},t)}var mt=bU,$e=Ile,Ple="Invariant failed";function wU(e,t){throw new Error(Ple)}var Gs=function(t){var n=t.top,r=t.right,i=t.bottom,s=t.left,a=r-s,o=i-n,l={top:n,right:r,bottom:i,left:s,width:a,height:o,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},n2=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},EM=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Dle=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},pS={top:0,right:0,bottom:0,left:0},r2=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?pS:r,s=t.border,a=s===void 0?pS:s,o=t.padding,l=o===void 0?pS:o,u=Gs(n2(n,i)),d=Gs(EM(n,a)),f=Gs(EM(d,l));return{marginBox:u,borderBox:Gs(n),paddingBox:d,contentBox:f,margin:i,border:a,padding:l}},ts=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&wU(),i},Mle=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Gy=function(t,n){var r=t.borderBox,i=t.border,s=t.margin,a=t.padding,o=Dle(r,n);return r2({borderBox:o,border:i,margin:s,padding:a})},Yy=function(t,n){return n===void 0&&(n=Mle()),Gy(t,n)},EU=function(t,n){var r={top:ts(n.marginTop),right:ts(n.marginRight),bottom:ts(n.marginBottom),left:ts(n.marginLeft)},i={top:ts(n.paddingTop),right:ts(n.paddingRight),bottom:ts(n.paddingBottom),left:ts(n.paddingLeft)},s={top:ts(n.borderTopWidth),right:ts(n.borderRightWidth),bottom:ts(n.borderBottomWidth),left:ts(n.borderLeftWidth)};return r2({borderBox:t,margin:r,padding:i,border:s})},SU=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return EU(n,r)},SM=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Rle(e,t){return!!(e===t||SM(e)&&SM(t))}function Lle(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Rle(e[n],t[n]))return!1;return!0}function nr(e,t){t===void 0&&(t=Lle);var n,r=[],i,s=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s&&n===this&&t(o,r)||(i=e.apply(this,o),s=!0,n=this,r=o),i}return a}var jm=function(t){var n=[],r=null,i=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];n=o,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function NU(e,t){}NU.bind(null,"warn");NU.bind(null,"error");function Bl(){}function Ble(e,t){return Ve({},e,{},t)}function ys(e,t,n){var r=t.map(function(i){var s=Ble(n,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(function(s){s()})}}var Fle="Invariant failed";function Xy(e){this.message=e}Xy.prototype.toString=function(){return this.message};function Ne(e,t){throw new Xy(Fle)}var $le=function(e){tU(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.callbacks=null,r.unbind=Bl,r.onWindowError=function(o){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var u=o.error;u instanceof Xy&&o.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(o){r.callbacks=o},r}var n=t.prototype;return n.componentDidMount=function(){this.unbind=ys(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Xy){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(nt.Component),Ule=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Qy=function(t){return t+1},zle=function(t){return`
  You have lifted an item in position `+Qy(t.source.index)+`
`},_U=function(t,n){var r=t.droppableId===n.droppableId,i=Qy(t.index),s=Qy(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+s+`
  `},TU=function(t,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+t+`
      has been combined with `+r.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},Hle=function(t){var n=t.destination;if(n)return _U(t.source,n);var r=t.combine;return r?TU(t.draggableId,t.source,r):"You are over an area that cannot be dropped on"},NM=function(t){return`
  The item has returned to its starting position
  of `+Qy(t.index)+`
`},Wle=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+NM(t.source)+`
    `;var n=t.destination,r=t.combine;return n?`
      You have dropped the item.
      `+_U(t.source,n)+`
    `:r?`
      You have dropped the item.
      `+TU(t.draggableId,t.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+NM(t.source)+`
  `},Zv={dragHandleUsageInstructions:Ule,onDragStart:zle,onDragUpdate:Hle,onDragEnd:Wle},sr={x:0,y:0},yr=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},Li=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Fl=function(t,n){return t.x===n.x&&t.y===n.y},ch=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},_u=function(t,n,r){var i;return r===void 0&&(r=0),i={},i[t]=n,i[t==="x"?"y":"x"]=r,i},Im=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},_M=function(t,n){return Math.min.apply(Math,n.map(function(r){return Im(t,r)}))},CU=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},Vle=function(e,t){var n=Gs({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},Rg=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},TM=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},qle={top:0,right:0,bottom:0,left:0},Kle=function(t,n){return n?Rg(t,n.scroll.diff.displacement):t},Gle=function(t,n,r){if(r&&r.increasedBy){var i;return Ve({},t,(i={},i[n.end]=t[n.end]+r.increasedBy[n.line],i))}return t},Yle=function(t,n){return n&&n.shouldClipSubject?Vle(n.pageMarginBox,t):Gs(t)},kf=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,s=Kle(t.marginBox,i),a=Gle(s,r,n),o=Yle(a,i);return{page:t,withPlaceholder:n,active:o}},i2=function(e,t){e.frame||Ne();var n=e.frame,r=Li(t,n.scroll.initial),i=ch(r),s=Ve({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),a=kf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s}),o=Ve({},e,{frame:s,subject:a});return o};function Jy(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function s2(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function dc(e,t){if(e.find)return e.find(t);var n=s2(e,t);if(n!==-1)return e[n]}function kU(e){return Array.prototype.slice.call(e)}var AU=nr(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),OU=nr(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),D1=nr(function(e){return Jy(e)}),Xle=nr(function(e){return Jy(e)}),uh=nr(function(e,t){var n=Xle(t).filter(function(r){return e===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function a2(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function M1(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var R1=nr(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),Qle=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,s=e.previousImpact;if(!r.isCombineEnabled)return null;var a=a2(s);if(!a)return null;function o(g){var v={type:"COMBINE",combine:{draggableId:g,droppableId:r.descriptor.id}};return Ve({},s,{at:v})}var l=s.displaced.all,u=l.length?l[0]:null;if(t)return u?o(u):null;var d=R1(n,i);if(!u){if(!d.length)return null;var f=d[d.length-1];return o(f.descriptor.id)}var h=s2(d,function(g){return g.descriptor.id===u});h===-1&&Ne();var p=h-1;if(p<0)return null;var m=d[p];return o(m.descriptor.id)},dh=function(e,t){return e.descriptor.droppableId===t.descriptor.id},jU={point:sr,value:0},Pm={invisible:{},visible:{},all:[]},Jle={displaced:Pm,displacedBy:jU,at:null},Ss=function(e,t){return function(n){return e<=n&&n<=t}},IU=function(e){var t=Ss(e.top,e.bottom),n=Ss(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var s=t(r.top)||t(r.bottom),a=n(r.left)||n(r.right),o=s&&a;if(o)return!0;var l=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right,d=l&&u;if(d)return!0;var f=l&&a||u&&s;return f}},Zle=function(e){var t=Ss(e.top,e.bottom),n=Ss(e.left,e.right);return function(r){var i=t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right);return i}},o2={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},PU={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ece=function(e){return function(t){var n=Ss(t.top,t.bottom),r=Ss(t.left,t.right);return function(i){return e===o2?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},tce=function(t,n){var r=n.frame?n.frame.scroll.diff.displacement:sr;return Rg(t,r)},nce=function(t,n,r){return n.subject.active?r(n.subject.active)(t):!1},rce=function(t,n,r){return r(n)(t)},l2=function(t){var n=t.target,r=t.destination,i=t.viewport,s=t.withDroppableDisplacement,a=t.isVisibleThroughFrameFn,o=s?tce(n,r):n;return nce(o,r,a)&&rce(o,i,a)},ice=function(t){return l2(Ve({},t,{isVisibleThroughFrameFn:IU}))},DU=function(t){return l2(Ve({},t,{isVisibleThroughFrameFn:Zle}))},sce=function(t){return l2(Ve({},t,{isVisibleThroughFrameFn:ece(t.destination.axis)}))},ace=function(t,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,s=n.visible;if(i[t])return!1;var a=s[t];return a?a.shouldAnimate:!0};function oce(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Gs(n2(n,r))}function Dm(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,s=e.forceShouldAnimate,a=e.last;return t.reduce(function(l,u){var d=oce(u,r),f=u.descriptor.id;l.all.push(f);var h=ice({target:d,destination:n,viewport:i,withDroppableDisplacement:!0});if(!h)return l.invisible[u.descriptor.id]=!0,l;var p=ace(f,a,s),m={draggableId:f,shouldAnimate:p};return l.visible[f]=m,l},{all:[],visible:{},invisible:{}})}function lce(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function CM(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,s=lce(t,{inHomeList:n});return{displaced:Pm,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function Zy(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,s=e.displacedBy,a=e.last,o=e.index,l=e.forceShouldAnimate,u=dh(t,r);if(o==null)return CM({insideDestination:n,inHomeList:u,displacedBy:s,destination:r});var d=dc(n,function(g){return g.descriptor.index===o});if(!d)return CM({insideDestination:n,inHomeList:u,displacedBy:s,destination:r});var f=R1(t,n),h=n.indexOf(d),p=f.slice(h),m=Dm({afterDragging:p,destination:r,displacedBy:s,last:a,viewport:i.frame,forceShouldAnimate:l});return{displaced:m,displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Xl(e,t){return!!t.effected[e]}var cce=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,s=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,o=r[a],l=o.descriptor.index,u=Xl(a,s);return u?t?l:l-1:t?l+1:l},uce=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var s=i.index,a=t?s+1:s-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index,u=n?l:l+1;return a<o||a>u?null:a},dce=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,s=e.destination,a=e.insideDestination,o=e.previousImpact,l=e.viewport,u=e.afterCritical,d=o.at;if(d||Ne(),d.type==="REORDER"){var f=uce({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:a});return f==null?null:Zy({draggable:r,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}var h=cce({isMovingForward:t,destination:s,displaced:o.displaced,draggables:i,combine:d.combine,afterCritical:u});return h==null?null:Zy({draggable:r,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},fce=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,s=!!(t.visible[r]||t.invisible[r]);return Xl(r,n)?s?sr:ch(i.point):s?i.point:sr},hce=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=M1(n);i||Ne();var s=i.draggableId,a=r[s].page.borderBox.center,o=fce({displaced:n.displaced,afterCritical:t,combineWith:s,displacedBy:n.displacedBy});return yr(a,o)},MU=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},pce=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},c2=function(t,n,r){return n[t.crossAxisStart]+r.margin[t.crossAxisStart]+r.borderBox[t.crossAxisSize]/2},kM=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return _u(n.line,r.marginBox[n.end]+MU(n,i),c2(n,r.marginBox,i))},AM=function(t){var n=t.axis,r=t.moveRelativeTo,i=t.isMoving;return _u(n.line,r.marginBox[n.start]-pce(n,i),c2(n,r.marginBox,i))},mce=function(t){var n=t.axis,r=t.moveInto,i=t.isMoving;return _u(n.line,r.contentBox[n.start]+MU(n,i),c2(n,r.contentBox,i))},gce=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,s=e.afterCritical,a=uh(i.descriptor.id,r),o=n.page,l=i.axis;if(!a.length)return mce({axis:l,moveInto:i.page,isMoving:o});var u=t.displaced,d=t.displacedBy,f=u.all[0];if(f){var h=r[f];if(Xl(f,s))return AM({axis:l,moveRelativeTo:h.page,isMoving:o});var p=Gy(h.page,d.point);return AM({axis:l,moveRelativeTo:p,isMoving:o})}var m=a[a.length-1];if(m.descriptor.id===n.descriptor.id)return o.borderBox.center;if(Xl(m.descriptor.id,s)){var g=Gy(m.page,ch(s.displacedBy.point));return kM({axis:l,moveRelativeTo:g,isMoving:o})}return kM({axis:l,moveRelativeTo:m.page,isMoving:o})},xT=function(e,t){var n=e.frame;return n?yr(t,n.scroll.diff.displacement):t},vce=function(t){var n=t.impact,r=t.draggable,i=t.droppable,s=t.draggables,a=t.afterCritical,o=r.page.borderBox.center,l=n.at;return!i||!l?o:l.type==="REORDER"?gce({impact:n,draggable:r,draggables:s,droppable:i,afterCritical:a}):hce({impact:n,draggables:s,afterCritical:a})},L1=function(e){var t=vce(e),n=e.droppable,r=n?xT(n,t):t;return r},RU=function(e,t){var n=Li(t,e.scroll.initial),r=ch(n),i=Gs({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),s={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}};return s};function OM(e,t){return e.map(function(n){return t[n]})}function yce(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}var xce=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,s=e.maxScrollChange,a=RU(n,yr(n.scroll.current,s)),o=r.frame?i2(r,yr(r.frame.scroll.current,s)):r,l=t.displaced,u=Dm({afterDragging:OM(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d=Dm({afterDragging:OM(l.all,i),destination:o,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),f={},h={},p=[l,u,d];l.all.forEach(function(g){var v=yce(g,p);if(v){h[g]=v;return}f[g]=!0});var m=Ve({},t,{displaced:{all:l.all,invisible:f,visible:h}});return m},bce=function(e,t){return yr(e.scroll.diff.displacement,t)},u2=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=e.viewport,i=bce(r,t),s=Li(i,n.page.borderBox.center);return yr(n.client.borderBox.center,s)},LU=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,s=e.withDroppableDisplacement,a=e.onlyOnMainAxis,o=a===void 0?!1:a,l=Li(r,t.page.borderBox.center),u=Rg(t.page.borderBox,l),d={target:u,destination:n,withDroppableDisplacement:s,viewport:i};return o?sce(d):DU(d)},wce=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,s=e.previousImpact,a=e.viewport,o=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var d=uh(r.descriptor.id,i),f=dh(n,r),h=Qle({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:s})||dce({isMovingForward:t,isInHomeList:f,draggable:n,draggables:i,destination:r,insideDestination:d,previousImpact:s,viewport:a,afterCritical:u});if(!h)return null;var p=L1({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:u}),m=LU({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(m){var g=u2({pageBorderBoxCenter:p,draggable:n,viewport:a});return{clientSelection:g,impact:h,scrollJumpRequest:null}}var v=Li(p,o),y=xce({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:v});return{clientSelection:l,impact:y,scrollJumpRequest:v}},Kr=function(t){var n=t.subject.active;return n||Ne(),n},Ece=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,s=e.viewport,a=r.subject.active;if(!a)return null;var o=r.axis,l=Ss(a[o.start],a[o.end]),u=D1(i).filter(function(f){return f!==r}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return IU(s.frame)(Kr(f))}).filter(function(f){var h=Kr(f);return t?a[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<a[o.crossAxisStart]}).filter(function(f){var h=Kr(f),p=Ss(h[o.start],h[o.end]);return l(h[o.start])||l(h[o.end])||p(a[o.start])||p(a[o.end])}).sort(function(f,h){var p=Kr(f)[o.crossAxisStart],m=Kr(h)[o.crossAxisStart];return t?p-m:m-p}).filter(function(f,h,p){return Kr(f)[o.crossAxisStart]===Kr(p[0])[o.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var h=Ss(Kr(f)[o.start],Kr(f)[o.end]);return h(n[o.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,h){return Kr(f)[o.start]-Kr(h)[o.start]})[0]:u.sort(function(f,h){var p=_M(n,TM(Kr(f))),m=_M(n,TM(Kr(h)));return p!==m?p-m:Kr(f)[o.start]-Kr(h)[o.start]})[0]},jM=function(t,n){var r=t.page.borderBox.center;return Xl(t.descriptor.id,n)?Li(r,n.displacedBy.point):r},Sce=function(t,n){var r=t.page.borderBox;return Xl(t.descriptor.id,n)?Rg(r,ch(n.displacedBy.point)):r},Nce=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,s=e.afterCritical,a=i.filter(function(o){return DU({target:Sce(o,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(o,l){var u=Im(t,xT(r,jM(o,s))),d=Im(t,xT(r,jM(l,s)));return u<d?-1:d<u?1:o.descriptor.index-l.descriptor.index});return a[0]||null},Lg=nr(function(t,n){var r=n[t.line];return{value:r,point:_u(t.line,r)}}),_ce=function(t,n,r){var i=t.axis;if(t.descriptor.mode==="virtual")return _u(i.line,n[i.line]);var s=t.subject.page.contentBox[i.size],a=uh(t.descriptor.id,r),o=a.reduce(function(d,f){return d+f.client.marginBox[i.size]},0),l=o+n[i.line],u=l-s;return u<=0?null:_u(i.line,u)},BU=function(t,n){return Ve({},t,{scroll:Ve({},t.scroll,{max:n})})},FU=function(t,n,r){var i=t.frame;dh(n,t)&&Ne(),t.subject.withPlaceholder&&Ne();var s=Lg(t.axis,n.displaceBy).point,a=_ce(t,s,r),o={placeholderSize:s,increasedBy:a,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var l=kf({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return Ve({},t,{subject:l})}var u=a?yr(i.scroll.max,a):i.scroll.max,d=BU(i,u),f=kf({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:d});return Ve({},t,{subject:f,frame:d})},Tce=function(t){var n=t.subject.withPlaceholder;n||Ne();var r=t.frame;if(!r){var i=kf({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Ve({},t,{subject:i})}var s=n.oldFrameMaxScroll;s||Ne();var a=BU(r,s),o=kf({page:t.subject.page,axis:t.axis,frame:a,withPlaceholder:null});return Ve({},t,{subject:o,frame:a})},Cce=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,s=e.draggables,a=e.destination,o=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:Pm,displacedBy:jU,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},d=L1({impact:u,draggable:i,droppable:a,draggables:s,afterCritical:l}),f=dh(i,a)?a:FU(a,i,s),h=LU({draggable:i,destination:f,newPageBorderBoxCenter:d,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?u:null}var p=t[a.axis.line]<=n.page.borderBox.center[a.axis.line],m=function(){var v=n.descriptor.index;return n.descriptor.id===i.descriptor.id||p?v:v+1}(),g=Lg(a.axis,i.displaceBy);return Zy({draggable:i,insideDestination:r,destination:a,viewport:o,displacedBy:g,last:Pm,index:m})},kce=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,s=e.draggables,a=e.droppables,o=e.viewport,l=e.afterCritical,u=Ece({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:o});if(!u)return null;var d=uh(u.descriptor.id,s),f=Nce({pageBorderBoxCenter:n,viewport:o,destination:u,insideDestination:d,afterCritical:l}),h=Cce({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:s,moveRelativeTo:f,insideDestination:d,viewport:o,afterCritical:l});if(!h)return null;var p=L1({impact:h,draggable:r,droppable:u,draggables:s,afterCritical:l}),m=u2({pageBorderBoxCenter:p,draggable:r,viewport:o});return{clientSelection:m,impact:h,scrollJumpRequest:null}},Ui=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Ace=function(t,n){var r=Ui(t);return r?n[r]:null},Oce=function(e){var t=e.state,n=e.type,r=Ace(t.impact,t.dimensions.droppables),i=!!r,s=t.dimensions.droppables[t.critical.droppable.id],a=r||s,o=a.axis.direction,l=o==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||o==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,p=h.draggables,m=h.droppables;return l?wce({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:a,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):kce({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:a,draggables:p,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function Lc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function $U(e){var t=Ss(e.top,e.bottom),n=Ss(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function jce(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Ice(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,s=r.map(function(a){var o=a.axis,l=_u(a.axis.line,t.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Im(i,l)}}).sort(function(a,o){return o.distance-a.distance});return s[0]?s[0].id:null}function Pce(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=D1(r).filter(function(s){if(!s.isEnabled)return!1;var a=s.subject.active;if(!a||!jce(t,a))return!1;if($U(a)(t.center))return!0;var o=s.axis,l=a.center[o.crossAxisLine],u=t[o.crossAxisStart],d=t[o.crossAxisEnd],f=Ss(a[o.crossAxisStart],a[o.crossAxisEnd]),h=f(u),p=f(d);return!h&&!p?!0:h?u<l:d>l});return i.length?i.length===1?i[0].descriptor.id:Ice({pageBorderBox:t,draggable:n,candidates:i}):null}var UU=function(t,n){return Gs(Rg(t,n))},Dce=function(e,t){var n=e.frame;return n?UU(t,n.scroll.diff.value):t};function zU(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function Mce(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var Rce=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,s=e.last,a=e.viewport,o=e.afterCritical,l=r.axis,u=Lg(r.axis,n.displaceBy),d=u.value,f=t[l.start],h=t[l.end],p=R1(n,i),m=dc(p,function(v){var y=v.descriptor.id,x=v.page.borderBox.center[l.line],w=Xl(y,o),E=zU({displaced:s,id:y});return w?E?h<=x:f<x-d:E?h<=x+d:f<x}),g=Mce({draggable:n,closest:m,inHomeList:dh(n,r)});return Zy({draggable:n,insideDestination:i,destination:r,viewport:a,last:s,displacedBy:u,index:g})},Lce=4,Bce=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,s=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var o=i.axis,l=Lg(i.axis,t.displaceBy),u=l.value,d=n[o.start],f=n[o.end],h=R1(t,s),p=dc(h,function(g){var v=g.descriptor.id,y=g.page.borderBox,x=y[o.size],w=x/Lce,E=Xl(v,a),_=zU({displaced:r.displaced,id:v});return E?_?f>y[o.start]+w&&f<y[o.end]-w:d>y[o.start]-u+w&&d<y[o.end]-u-w:_?f>y[o.start]+u+w&&f<y[o.end]+u-w:d>y[o.start]+w&&d<y[o.end]-w});if(!p)return null;var m={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}};return m},HU=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,s=e.previousImpact,a=e.viewport,o=e.afterCritical,l=UU(n.page.borderBox,t),u=Pce({pageBorderBox:l,draggable:n,droppables:i});if(!u)return Jle;var d=i[u],f=uh(d.descriptor.id,r),h=Dce(d,l);return Bce({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:s,destination:d,insideDestination:f,afterCritical:o})||Rce({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:d,insideDestination:f,last:s.displaced,viewport:a,afterCritical:o})},d2=function(e,t){var n;return Ve({},e,(n={},n[t.descriptor.id]=t,n))},Fce=function(t){var n=t.previousImpact,r=t.impact,i=t.droppables,s=Ui(n),a=Ui(r);if(!s||s===a)return i;var o=i[s];if(!o.subject.withPlaceholder)return i;var l=Tce(o);return d2(i,l)},$ce=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,s=e.impact,a=Fce({previousImpact:i,impact:s,droppables:r}),o=Ui(s);if(!o)return a;var l=r[o];if(dh(t,l)||l.subject.withPlaceholder)return a;var u=FU(l,t,n);return d2(a,u)},$p=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,s=e.impact,a=e.scrollJumpRequest,o=i||t.viewport,l=r||t.dimensions,u=n||t.current.client.selection,d=Li(u,t.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:yr(t.initial.client.borderBoxCenter,d)},h={selection:yr(f.selection,o.scroll.current),borderBoxCenter:yr(f.borderBoxCenter,o.scroll.current),offset:yr(f.offset,o.scroll.diff.value)},p={client:f,page:h};if(t.phase==="COLLECTING")return Ve({phase:"COLLECTING"},t,{dimensions:l,viewport:o,current:p});var m=l.draggables[t.critical.draggable.id],g=s||HU({pageOffset:h.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),v=$ce({draggable:m,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),y=Ve({},t,{current:p,dimensions:{draggables:l.draggables,droppables:v},impact:g,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return y};function Uce(e,t){return e.map(function(n){return t[n]})}var WU=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,s=e.forceShouldAnimate,a=t.displaced,o=Uce(a.all,r),l=Dm({afterDragging:o,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:a});return Ve({},t,{displaced:l})},VU=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,s=e.viewport,a=e.afterCritical,o=L1({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return u2({pageBorderBoxCenter:o,draggable:n,viewport:s})},qU=function(e){var t=e.state,n=e.dimensions,r=e.viewport;t.movementMode!=="SNAP"&&Ne();var i=t.impact,s=r||t.viewport,a=n||t.dimensions,o=a.draggables,l=a.droppables,u=o[t.critical.draggable.id],d=Ui(i);d||Ne();var f=l[d],h=WU({impact:i,viewport:s,destination:f,draggables:o}),p=VU({impact:h,draggable:u,droppable:f,draggables:o,viewport:s,afterCritical:t.afterCritical});return $p({impact:h,clientSelection:p,state:t,dimensions:a,viewport:s})},zce=function(e){return{index:e.index,droppableId:e.droppableId}},KU=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,s=Lg(n.axis,t.displaceBy),a=uh(n.descriptor.id,r),o=a.indexOf(t);o===-1&&Ne();var l=a.slice(o+1),u=l.reduce(function(p,m){return p[m.descriptor.id]=!0,p},{}),d={inVirtualList:n.descriptor.mode==="virtual",displacedBy:s,effected:u},f=Dm({afterDragging:l,destination:n,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:s,at:{type:"REORDER",destination:zce(t.descriptor)}};return{impact:h,afterCritical:d}},Hce=function(e,t){return{draggables:e.draggables,droppables:d2(e.droppables,t)}},Wce=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=Gy(t.client,n),s=Yy(i,r),a=Ve({},t,{placeholder:Ve({},t.placeholder,{client:i}),client:i,page:s});return a},Vce=function(e){var t=e.frame;return t||Ne(),t},qce=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map(function(s){var a=s.descriptor.droppableId,o=n[a],l=Vce(o),u=l.scroll.diff.value,d=yr(i,u),f=Wce({draggable:s,offset:d,initialWindowScroll:r.scroll.initial});return f})},Kce=function(e){var t=e.state,n=e.published,r=n.modified.map(function(w){var E=t.dimensions.droppables[w.droppableId],_=i2(E,w.scroll);return _}),i=Ve({},t.dimensions.droppables,{},AU(r)),s=OU(qce({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=Ve({},t.dimensions.draggables,{},s);n.removals.forEach(function(w){delete a[w]});var o={droppables:i,draggables:a},l=Ui(t.impact),u=l?o.droppables[l]:null,d=o.draggables[t.critical.draggable.id],f=o.droppables[t.critical.droppable.id],h=KU({draggable:d,home:f,draggables:a,viewport:t.viewport}),p=h.impact,m=h.afterCritical,g=u&&u.isCombineEnabled?t.impact:p,v=HU({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m}),y=Ve({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:p,dimensions:o,afterCritical:m,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return y;var x=Ve({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return x},bT=function(t){return t.movementMode==="SNAP"},mS=function(t,n,r){var i=Hce(t.dimensions,n);return!bT(t)||r?$p({state:t,dimensions:i}):qU({state:t,dimensions:i})};function gS(e){return e.isDragging&&e.movementMode==="SNAP"?Ve({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var IM={phase:"IDLE",completed:null,shouldFlush:!1},Gce=function(e,t){if(e===void 0&&(e=IM),t.type==="FLUSH")return Ve({},IM,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ne();var n=t.payload,r=n.critical,i=n.clientSelection,s=n.viewport,a=n.dimensions,o=n.movementMode,l=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],d={selection:i,borderBoxCenter:l.client.borderBox.center,offset:sr},f={client:d,page:{selection:yr(d.selection,s.scroll.initial),borderBoxCenter:yr(d.selection,s.scroll.initial),offset:yr(d.selection,s.scroll.diff.value)}},h=D1(a.droppables).every(function(pe){return!pe.isFixedOnPage}),p=KU({draggable:l,home:u,draggables:a.draggables,viewport:s}),m=p.impact,g=p.afterCritical,v={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:a,initial:f,current:f,isWindowScrollAllowed:h,impact:m,afterCritical:g,onLiftImpact:m,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return v}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ne();var y=Ve({phase:"COLLECTING"},e,{phase:"COLLECTING"});return y}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ne(),Kce({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Lc(e)||Ne();var x=t.payload.client;return Fl(x,e.current.client.selection)?e:$p({state:e,clientSelection:x,impact:bT(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return gS(e);Lc(e)||Ne();var w=t.payload,E=w.id,_=w.newScroll,N=e.dimensions.droppables[E];if(!N)return e;var T=i2(N,_);return mS(e,T,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Lc(e)||Ne();var C=t.payload,O=C.id,A=C.isEnabled,D=e.dimensions.droppables[O];D||Ne(),D.isEnabled===A&&Ne();var k=Ve({},D,{isEnabled:A});return mS(e,k,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Lc(e)||Ne();var P=t.payload,B=P.id,L=P.isCombineEnabled,j=e.dimensions.droppables[B];j||Ne(),j.isCombineEnabled===L&&Ne();var R=Ve({},j,{isCombineEnabled:L});return mS(e,R,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Lc(e)||Ne(),e.isWindowScrollAllowed||Ne();var M=t.payload.newScroll;if(Fl(e.viewport.scroll.current,M))return gS(e);var V=RU(e.viewport,M);return bT(e)?qU({state:e,viewport:V}):$p({state:e,viewport:V})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Lc(e))return e;var I=t.payload.maxScroll;if(Fl(I,e.viewport.scroll.max))return e;var ee=Ve({},e.viewport,{scroll:Ve({},e.viewport.scroll,{max:I})});return Ve({phase:"DRAGGING"},e,{viewport:ee})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ne();var W=Oce({state:e,type:t.type});return W?$p({state:e,impact:W.impact,clientSelection:W.clientSelection,scrollJumpRequest:W.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var $=t.payload.reason;e.phase!=="COLLECTING"&&Ne();var xe=Ve({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:$});return xe}if(t.type==="DROP_ANIMATE"){var ke=t.payload,Ae=ke.completed,le=ke.dropDuration,Se=ke.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ne();var ne={phase:"DROP_ANIMATING",completed:Ae,dropDuration:le,newHomeClientOffset:Se,dimensions:e.dimensions};return ne}if(t.type==="DROP_COMPLETE"){var de=t.payload.completed;return{phase:"IDLE",completed:de,shouldFlush:!1}}return e},Yce=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Xce=function(t){return{type:"LIFT",payload:t}},Qce=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Jce=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Zce=function(){return{type:"COLLECTION_STARTING",payload:null}},eue=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},tue=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},nue=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},GU=function(t){return{type:"MOVE",payload:t}},rue=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},iue=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},sue=function(){return{type:"MOVE_UP",payload:null}},aue=function(){return{type:"MOVE_DOWN",payload:null}},oue=function(){return{type:"MOVE_RIGHT",payload:null}},lue=function(){return{type:"MOVE_LEFT",payload:null}},f2=function(){return{type:"FLUSH",payload:null}},cue=function(t){return{type:"DROP_ANIMATE",payload:t}},h2=function(t){return{type:"DROP_COMPLETE",payload:t}},YU=function(t){return{type:"DROP",payload:t}},uue=function(t){return{type:"DROP_PENDING",payload:t}},XU=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},due=function(e){return function(t){var n=t.getState,r=t.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var a=s.payload,o=a.id,l=a.clientSelection,u=a.movementMode,d=n();d.phase==="DROP_ANIMATING"&&r(h2({completed:d.completed})),n().phase!=="IDLE"&&Ne(),r(f2()),r(Yce({draggableId:o,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},h={draggableId:o,scrollOptions:f},p=e.startPublishing(h),m=p.critical,g=p.dimensions,v=p.viewport;r(Qce({critical:m,dimensions:g,clientSelection:l,movementMode:u,viewport:v}))}}}},fue=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},p2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Mm={opacity:{drop:0,combining:.7},scale:{drop:.75}},m2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},jc=m2.outOfTheWay+"s "+p2.outOfTheWay,Up={fluid:"opacity "+jc,snap:"transform "+jc+", opacity "+jc,drop:function(t){var n=t+"s "+p2.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+jc,placeholder:"height "+jc+", width "+jc+", margin "+jc},PM=function(t){return Fl(t,sr)?null:"translate("+t.x+"px, "+t.y+"px)"},wT={moveTo:PM,drop:function(t,n){var r=PM(t);return r?n?r+" scale("+Mm.scale.drop+")":r:null}},ET=m2.minDropTime,QU=m2.maxDropTime,hue=QU-ET,DM=1500,pue=.6,mue=function(e){var t=e.current,n=e.destination,r=e.reason,i=Im(t,n);if(i<=0)return ET;if(i>=DM)return QU;var s=i/DM,a=ET+hue*s,o=r==="CANCEL"?a*pue:a;return Number(o.toFixed(2))},gue=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,s=e.afterCritical,a=r.draggables,o=r.droppables,l=Ui(t),u=l?o[l]:null,d=o[n.descriptor.droppableId],f=VU({impact:t,draggable:n,draggables:a,afterCritical:s,droppable:u||d,viewport:i}),h=Li(f,n.client.borderBox.center);return h},vue=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,s=e.viewport,a=e.onLiftImpact;if(!r.at||n!=="DROP"){var o=WU({draggables:t,impact:a,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=Ve({},r,{displaced:Pm});return{impact:l,didDropInsideDroppable:!0}},yue=function(e){var t=e.getState,n=e.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var s=t(),a=i.payload.reason;if(s.phase==="COLLECTING"){n(uue({reason:a}));return}if(s.phase!=="IDLE"){var o=s.phase==="DROP_PENDING"&&s.isWaiting;o&&Ne(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||Ne();var l=s.critical,u=s.dimensions,d=u.draggables[s.critical.draggable.id],f=vue({reason:a,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=f.impact,p=f.didDropInsideDroppable,m=p?a2(h):null,g=p?M1(h):null,v={index:l.draggable.index,droppableId:l.droppable.id},y={draggableId:d.descriptor.id,type:d.descriptor.type,source:v,reason:a,mode:s.movementMode,destination:m,combine:g},x=gue({impact:h,draggable:d,dimensions:u,viewport:s.viewport,afterCritical:s.afterCritical}),w={critical:s.critical,afterCritical:s.afterCritical,result:y,impact:h},E=!Fl(s.current.client.offset,x)||!!y.combine;if(!E){n(h2({completed:w}));return}var _=mue({current:s.current.client.offset,destination:x,reason:a}),N={newHomeClientOffset:x,dropDuration:_,completed:w};n(cue(N))}}}},JU=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function xue(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function bue(e){var t=e.onWindowScroll;function n(){t(JU())}var r=jm(n),i=xue(r),s=Bl;function a(){return s!==Bl}function o(){a()&&Ne(),s=ys(window,[i])}function l(){a()||Ne(),r.cancel(),s(),s=Bl}return{start:o,stop:l,isActive:a}}var wue=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Eue=function(e){var t=bue({onWindowScroll:function(r){e.dispatch(rue({newScroll:r}))}});return function(n){return function(r){!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&wue(r)&&t.stop(),n(r)}}},Sue=function(e){var t=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=function(){return t},i},Nue=function(){var e=[],t=function(s){var a=s2(e,function(u){return u.timerId===s});a===-1&&Ne();var o=e.splice(a,1),l=o[0];l.callback()},n=function(s){var a=setTimeout(function(){return t(a)}),o={timerId:a,callback:s};e.push(o)},r=function(){if(e.length){var s=[].concat(e);e.length=0,s.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:n,flush:r}},_ue=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},Tue=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},Cue=function(t,n){if(t===n)return!0;var r=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,i=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return r&&i},Kh=function(t,n){n()},z0=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},vS=function(t,n,r,i){if(!t){r(i(n));return}var s=Sue(r),a={announce:s};t(n,a),s.wasCalled()||r(i(n))},kue=function(e,t){var n=Nue(),r=null,i=function(h,p){r&&Ne(),Kh("onBeforeCapture",function(){var m=e().onBeforeCapture;if(m){var g={draggableId:h,mode:p};m(g)}})},s=function(h,p){r&&Ne(),Kh("onBeforeDragStart",function(){var m=e().onBeforeDragStart;m&&m(z0(h,p))})},a=function(h,p){r&&Ne();var m=z0(h,p);r={mode:p,lastCritical:h,lastLocation:m.source,lastCombine:null},n.add(function(){Kh("onDragStart",function(){return vS(e().onDragStart,m,t,Zv.onDragStart)})})},o=function(h,p){var m=a2(p),g=M1(p);r||Ne();var v=!Cue(h,r.lastCritical);v&&(r.lastCritical=h);var y=!_ue(r.lastLocation,m);y&&(r.lastLocation=m);var x=!Tue(r.lastCombine,g);if(x&&(r.lastCombine=g),!(!v&&!y&&!x)){var w=Ve({},z0(h,r.mode),{combine:g,destination:m});n.add(function(){Kh("onDragUpdate",function(){return vS(e().onDragUpdate,w,t,Zv.onDragUpdate)})})}},l=function(){r||Ne(),n.flush()},u=function(h){r||Ne(),r=null,Kh("onDragEnd",function(){return vS(e().onDragEnd,h,t,Zv.onDragEnd)})},d=function(){if(r){var h=Ve({},z0(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(h)}};return{beforeCapture:i,beforeStart:s,start:a,update:o,flush:l,drop:u,abort:d}},Aue=function(e,t){var n=kue(e,t);return function(r){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var o=s.payload.completed.result;n.flush(),i(s),n.drop(o);return}if(i(s),s.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},Oue=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var r=e.getState();r.phase!=="DROP_ANIMATING"&&Ne(),e.dispatch(h2({completed:r.completed}))}}},jue=function(e){var t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&r(),i(s),s.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(XU())}};n=requestAnimationFrame(function(){n=null,t=ys(window,[a])})}}}},Iue=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},Pue=function(e){var t=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},Due=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Mue=function(e){return function(t){return function(n){return function(r){if(Due(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=t.getState();i.phase!=="DRAGGING"&&Ne(),e.start(i);return}n(r),e.scroll(t.getState())}}}},Rue=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(YU({reason:r.reason})))}}}},Lue=rU,Bue=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,s=e.announce,a=e.autoScroller;return nU(Gce,Lue(_oe(fue(r),Iue(t),due(t),yue,Oue,jue,Rue,Mue(a),Eue,Pue(n),Aue(i,s))))},yS=function(){return{additions:{},removals:{},modified:{}}};function Fue(e){var t=e.registry,n=e.callbacks,r=yS(),i=null,s=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var d=r,f=d.additions,h=d.removals,p=d.modified,m=Object.keys(f).map(function(y){return t.draggable.getById(y).getDimension(sr)}).sort(function(y,x){return y.descriptor.index-x.descriptor.index}),g=Object.keys(p).map(function(y){var x=t.droppable.getById(y),w=x.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:w}}),v={additions:m,removals:Object.keys(h),modified:g};r=yS(),n.publish(v)}))},a=function(d){var f=d.descriptor.id;r.additions[f]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[f]&&delete r.removals[f],s()},o=function(d){var f=d.descriptor;r.removals[f.id]=!0,r.modified[f.droppableId]=!0,r.additions[f.id]&&delete r.additions[f.id],s()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=yS())};return{add:a,remove:o,stop:l}}var ZU=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,s=Li({x:n,y:t},{x:i,y:r}),a={x:Math.max(0,s.x),y:Math.max(0,s.y)};return a},ez=function(){var e=document.documentElement;return e||Ne(),e},tz=function(){var e=ez(),t=ZU({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},$ue=function(){var e=JU(),t=tz(),n=e.y,r=e.x,i=ez(),s=i.clientWidth,a=i.clientHeight,o=r+s,l=n+a,u=Gs({top:n,left:r,right:o,bottom:l}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:sr,displacement:sr}}};return d},Uue=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry,i=$ue(),s=i.scroll.current,a=t.droppable,o=r.droppable.getAllByType(a.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(s,n)}),l=r.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(s)}),u={draggables:OU(l),droppables:AU(o)},d={dimensions:u,critical:t,viewport:i};return d};function MM(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var r=e.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var zue=function(e,t){var n=null,r=Fue({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(p,m){e.droppable.exists(p)||Ne(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},s=function(p,m){n&&(e.droppable.exists(p)||Ne(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},a=function(p,m){n&&(e.droppable.exists(p)||Ne(),t.updateDroppableScroll({id:p,newScroll:m}))},o=function(p,m){n&&e.droppable.getById(p).callbacks.scroll(m)},l=function(){if(n){r.stop();var p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(m){return m.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(p){n||Ne();var m=n.critical.draggable;p.type==="ADDITION"&&MM(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&MM(e,m,p.value)&&r.remove(p.value)},d=function(p){n&&Ne();var m=e.draggable.getById(p.draggableId),g=e.droppable.getById(m.descriptor.droppableId),v={draggable:m.descriptor,droppable:g.descriptor},y=e.subscribe(u);return n={critical:v,unsubscribe:y},Uue({critical:v,registry:e,scrollOptions:p.scrollOptions})},f={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:o,updateDroppableScroll:a,startPublishing:d,stopPublishing:l};return f},nz=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},Hue=function(e){window.scrollBy(e.x,e.y)},Wue=nr(function(e){return D1(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),Vue=function(t,n){var r=dc(Wue(n),function(i){return i.frame||Ne(),$U(i.frame.pageMarginBox)(t)});return r},que=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var s=Vue(t,r);return s},$l={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Kue=function(e,t){var n=e[t.size]*$l.startFromPercentage,r=e[t.size]*$l.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},rz=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;if(i===0)return 0;var s=r-t,a=s/i;return a},g2=1,Gue=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return $l.maxPixelScroll;if(e===t.startScrollingFrom)return g2;var n=rz({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=1-n,i=$l.maxPixelScroll*$l.ease(r);return Math.ceil(i)},RM=$l.durationDampening.accelerateAt,LM=$l.durationDampening.stopDampeningAt,Yue=function(e,t){var n=t,r=LM,i=Date.now(),s=i-n;if(s>=LM)return e;if(s<RM)return g2;var a=rz({startOfRange:RM,endOfRange:r,current:s}),o=e*$l.ease(a);return Math.ceil(o)},BM=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,s=Gue(t,n);return s===0?0:i?Math.max(Yue(s,r),g2):s},FM=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,s=e.shouldUseTimeDampening,a=Kue(t,i),o=n[i.end]<n[i.start];return o?BM({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:s}):-1*BM({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:s})},Xue=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,s=n.width>t.width;return!s&&!i?r:s&&i?null:{x:s?0:r.x,y:i?0:r.y}},Que=CU(function(e){return e===0?0:e}),iz=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,s=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},o=FM({container:n,distanceToEdges:a,dragStartTime:t,axis:o2,shouldUseTimeDampening:s}),l=FM({container:n,distanceToEdges:a,dragStartTime:t,axis:PU,shouldUseTimeDampening:s}),u=Que({x:l,y:o});if(Fl(u,sr))return null;var d=Xue({container:n,subject:r,proposedScroll:u});return d?Fl(d,sr)?null:d:null},Jue=CU(function(e){return e===0?0:e>0?1:-1}),v2=function(){var e=function(n,r){return n<0?n:n>r?n-r:0};return function(t){var n=t.current,r=t.max,i=t.change,s=yr(n,i),a={x:e(s.x,r.x),y:e(s.y,r.y)};return Fl(a,sr)?null:a}}(),sz=function(t){var n=t.max,r=t.current,i=t.change,s={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},a=Jue(i),o=v2({max:s,current:r,change:a});return!o||a.x!==0&&o.x===0||a.y!==0&&o.y===0},y2=function(t,n){return sz({current:t.scroll.current,max:t.scroll.max,change:n})},Zue=function(t,n){if(!y2(t,n))return null;var r=t.scroll.max,i=t.scroll.current;return v2({current:i,max:r,change:n})},x2=function(t,n){var r=t.frame;return r?sz({current:r.scroll.current,max:r.scroll.max,change:n}):!1},ede=function(t,n){var r=t.frame;return!r||!x2(t,n)?null:v2({current:r.scroll.current,max:r.scroll.max,change:n})},tde=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,a=iz({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:s});return a&&y2(t,a)?a:null},nde=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,s=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var o=iz({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s});return o&&x2(t,o)?o:null},$M=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,s=e.scrollDroppable,a=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id],l=o.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=tde({dragStartTime:n,viewport:u,subject:l,center:a,shouldUseTimeDampening:r});if(d){i(d);return}}var f=que({center:a,destination:Ui(t.impact),droppables:t.dimensions.droppables});if(f){var h=nde({dragStartTime:n,droppable:f,subject:l,center:a,shouldUseTimeDampening:r});h&&s(f.descriptor.id,h)}},rde=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=jm(t),i=jm(n),s=null,a=function(d){s||Ne();var f=s,h=f.shouldUseTimeDampening,p=f.dragStartTime;$M({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h})},o=function(d){s&&Ne();var f=Date.now(),h=!1,p=function(){h=!0};$M({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),s={dragStartTime:f,shouldUseTimeDampening:h},h&&a(d)},l=function(){s&&(r.cancel(),i.cancel(),s=null)};return{start:o,stop:l,scroll:a}},ide=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(u,d){var f=yr(u.current.client.selection,d);t({client:f})},s=function(u,d){if(!x2(u,d))return d;var f=ede(u,d);if(!f)return n(u.descriptor.id,d),null;var h=Li(d,f);n(u.descriptor.id,h);var p=Li(d,h);return p},a=function(u,d,f){if(!u||!y2(d,f))return f;var h=Zue(d,f);if(!h)return r(f),null;var p=Li(f,h);r(p);var m=Li(f,p);return m},o=function(u){var d=u.scrollJumpRequest;if(d){var f=Ui(u.impact);f||Ne();var h=s(u.dimensions.droppables[f],d);if(h){var p=u.viewport,m=a(u.isWindowScrollAllowed,p,h);m&&i(u,m)}}};return o},sde=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=rde({scrollWindow:n,scrollDroppable:t}),s=ide({move:r,scrollWindow:n,scrollDroppable:t}),a=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&s(u)}},o={scroll:a,start:i.start,stop:i.stop};return o},Af="data-rbd",Of=function(){var e=Af+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),ST=function(){var e=Af+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ade=function(){var e=Af+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),UM={contextId:Af+"-scroll-container-context-id"},ode=function(t){return function(n){return"["+n+'="'+t+'"]'}},Gh=function(t,n){return t.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},lde="pointer-events: none;",cde=function(e){var t=ode(e),n=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Of.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:lde,dropAnimating:o}}}(),r=function(){var o=`
      transition: `+Up.outOfTheWay+`;
    `;return{selector:t(ST.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),i={selector:t(ade.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[r,n,i,s];return{always:Gh(a,"always"),resting:Gh(a,"resting"),dragging:Gh(a,"dragging"),dropAnimating:Gh(a,"dropAnimating"),userCancel:Gh(a,"userCancel")}},zi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,xS=function(){var t=document.querySelector("head");return t||Ne(),t},zM=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function ude(e,t){var n=mt(function(){return cde(e)},[e]),r=b.useRef(null),i=b.useRef(null),s=$e(nr(function(f){var h=i.current;h||Ne(),h.textContent=f}),[]),a=$e(function(f){var h=r.current;h||Ne(),h.textContent=f},[]);zi(function(){!r.current&&!i.current||Ne();var f=zM(t),h=zM(t);return r.current=f,i.current=h,f.setAttribute(Af+"-always",e),h.setAttribute(Af+"-dynamic",e),xS().appendChild(f),xS().appendChild(h),a(n.always),s(n.resting),function(){var p=function(g){var v=g.current;v||Ne(),xS().removeChild(v),g.current=null};p(r),p(i)}},[t,a,s,n.always,n.resting,e]);var o=$e(function(){return s(n.dragging)},[s,n.dragging]),l=$e(function(f){if(f==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=$e(function(){i.current&&s(n.resting)},[s,n.resting]),d=mt(function(){return{dragging:o,dropping:l,resting:u}},[o,l,u]);return d}var az=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function B1(e){return e instanceof az(e).HTMLElement}function dde(e,t){var n="["+Of.contextId+'="'+e+'"]',r=kU(document.querySelectorAll(n));if(!r.length)return null;var i=dc(r,function(s){return s.getAttribute(Of.draggableId)===t});return!i||!B1(i)?null:i}function fde(e){var t=b.useRef({}),n=b.useRef(null),r=b.useRef(null),i=b.useRef(!1),s=$e(function(h,p){var m={id:h,focus:p};return t.current[h]=m,function(){var v=t.current,y=v[h];y!==m&&delete v[h]}},[]),a=$e(function(h){var p=dde(e,h);p&&p!==document.activeElement&&p.focus()},[e]),o=$e(function(h,p){n.current===h&&(n.current=p)},[]),l=$e(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var h=n.current;h&&a(h)}))},[a]),u=$e(function(h){n.current=null;var p=document.activeElement;p&&p.getAttribute(Of.draggableId)===h&&(n.current=h)},[]);zi(function(){return i.current=!0,function(){i.current=!1;var h=r.current;h&&cancelAnimationFrame(h)}},[]);var d=mt(function(){return{register:s,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:o}},[s,u,l,o]);return d}function hde(){var e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){var p=t.indexOf(f);p!==-1&&t.splice(p,1)}}function r(f){t.length&&t.forEach(function(h){return h(f)})}function i(f){return e.draggables[f]||null}function s(f){var h=i(f);return h||Ne(),h}var a={register:function(h){e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:function(h,p){var m=e.draggables[p.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var p=h.descriptor.id,m=i(p);m&&h.uniqueId===m.uniqueId&&(delete e.draggables[p],r({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:function(h){return!!i(h)},getAllByType:function(h){return Jy(e.draggables).filter(function(p){return p.descriptor.type===h})}};function o(f){return e.droppables[f]||null}function l(f){var h=o(f);return h||Ne(),h}var u={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var p=o(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:l,findById:o,exists:function(h){return!!o(h)},getAllByType:function(h){return Jy(e.droppables).filter(function(p){return p.descriptor.type===h})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:u,subscribe:n,clean:d}}function pde(){var e=mt(hde,[]);return b.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var b2=nt.createContext(null),ex=function(){var e=document.body;return e||Ne(),e},mde={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},gde=function(t){return"rbd-announcement-"+t};function vde(e){var t=mt(function(){return gde(e)},[e]),n=b.useRef(null);b.useEffect(function(){var s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),Ve(s.style,mde),ex().appendChild(s),function(){setTimeout(function(){var l=ex();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[t]);var r=$e(function(i){var s=n.current;if(s){s.textContent=i;return}},[]);return r}var yde=0,xde={separator:"::"};function w2(e,t){return t===void 0&&(t=xde),mt(function(){return""+e+t.separator+yde++},[t.separator,e])}function bde(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function wde(e){var t=e.contextId,n=e.text,r=w2("hidden-text",{separator:"-"}),i=mt(function(){return bde({contextId:t,uniqueId:r})},[r,t]);return b.useEffect(function(){var a=document.createElement("div");return a.id=i,a.textContent=n,a.style.display="none",ex().appendChild(a),function(){var l=ex();l.contains(a)&&l.removeChild(a)}},[i,n]),i}var F1=nt.createContext(null);function oz(e){var t=b.useRef(e);return b.useEffect(function(){t.current=e}),t}function Ede(){var e=null;function t(){return!!e}function n(a){return a===e}function r(a){e&&Ne();var o={abandon:a};return e=o,o}function i(){e||Ne(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:s}}var Sde=9,Nde=13,E2=27,lz=32,_de=33,Tde=34,Cde=35,kde=36,Ade=37,Ode=38,jde=39,Ide=40,H0,Pde=(H0={},H0[Nde]=!0,H0[Sde]=!0,H0),cz=function(e){Pde[e.keyCode]&&e.preventDefault()},$1=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=dc(t,function(r){return"on"+r in document});return n||e}(),uz=0,HM=5;function Dde(e,t){return Math.abs(t.x-e.x)>=HM||Math.abs(t.y-e.y)>=HM}var WM={type:"IDLE"};function Mde(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(a){var o=a.button,l=a.clientX,u=a.clientY;if(o===uz){var d={x:l,y:u},f=r();if(f.type==="DRAGGING"){a.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&Ne();var h=f.point;if(Dde(h,d)){a.preventDefault();var p=f.actions.fluidLift(d);i({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(a){var o=r();if(o.type!=="DRAGGING"){t();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(a){r().type==="DRAGGING"&&a.preventDefault(),t()}},{eventName:"keydown",fn:function(a){var o=r();if(o.type==="PENDING"){t();return}if(a.keyCode===E2){a.preventDefault(),t();return}cz(a)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(a){var o=r();if(o.type==="IDLE"&&Ne(),o.actions.shouldRespectForcePress()){t();return}a.preventDefault()}},{eventName:$1,fn:t}]}function Rde(e){var t=b.useRef(WM),n=b.useRef(Bl),r=mt(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===uz&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var p=e.tryGetLock(h,a,{sourceEvent:f});if(p){f.preventDefault();var m={x:f.clientX,y:f.clientY};n.current(),u(p,m)}}}}}},[e]),i=mt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),s=$e(function(){var f={passive:!1,capture:!0};n.current=ys(window,[i,r],f)},[i,r]),a=$e(function(){var d=t.current;d.type!=="IDLE"&&(t.current=WM,n.current(),s())},[s]),o=$e(function(){var d=t.current;a(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[a]),l=$e(function(){var f={capture:!0,passive:!1},h=Mde({cancel:o,completed:a,getPhase:function(){return t.current},setPhase:function(m){t.current=m}});n.current=ys(window,h,f)},[o,a]),u=$e(function(f,h){t.current.type!=="IDLE"&&Ne(),t.current={type:"PENDING",point:h,actions:f},l()},[l]);zi(function(){return s(),function(){n.current()}},[s])}var ud;function Lde(){}var Bde=(ud={},ud[Tde]=!0,ud[_de]=!0,ud[kde]=!0,ud[Cde]=!0,ud);function Fde(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===E2){s.preventDefault(),n();return}if(s.keyCode===lz){s.preventDefault(),r();return}if(s.keyCode===Ide){s.preventDefault(),e.moveDown();return}if(s.keyCode===Ode){s.preventDefault(),e.moveUp();return}if(s.keyCode===jde){s.preventDefault(),e.moveRight();return}if(s.keyCode===Ade){s.preventDefault(),e.moveLeft();return}if(Bde[s.keyCode]){s.preventDefault();return}cz(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:$1,fn:n}]}function $de(e){var t=b.useRef(Lde),n=mt(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==lz)return;var a=e.findClosestDraggableId(s);if(!a)return;var o=e.tryGetLock(a,d,{sourceEvent:s});if(!o)return;s.preventDefault();var l=!0,u=o.snapLift();t.current();function d(){l||Ne(),l=!1,t.current(),r()}t.current=ys(window,Fde(u,d),{capture:!0,passive:!1})}}},[e]),r=$e(function(){var s={passive:!1,capture:!0};t.current=ys(window,[n],s)},[n]);zi(function(){return r(),function(){t.current()}},[r])}var bS={type:"IDLE"},Ude=120,zde=.15;function Hde(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.keyCode===E2&&i.preventDefault(),t()}},{eventName:$1,fn:t}]}function Wde(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var a=r();if(a.type!=="DRAGGING"){t();return}a.hasMoved=!0;var o=s.touches[0],l=o.clientX,u=o.clientY,d={x:l,y:u};s.preventDefault(),a.actions.move(d)}},{eventName:"touchend",fn:function(s){var a=r();if(a.type!=="DRAGGING"){t();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(s){var a=r();a.type==="IDLE"&&Ne();var o=s.touches[0];if(o){var l=o.force>=zde;if(l){var u=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){u&&t();return}if(u){if(a.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}}}},{eventName:$1,fn:t}]}function Vde(e){var t=b.useRef(bS),n=b.useRef(Bl),r=$e(function(){return t.current},[]),i=$e(function(p){t.current=p},[]),s=mt(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var m=e.findClosestDraggableId(p);if(m){var g=e.tryGetLock(m,o,{sourceEvent:p});if(g){var v=p.touches[0],y=v.clientX,x=v.clientY,w={x:y,y:x};n.current(),f(g,w)}}}}}},[e]),a=$e(function(){var p={capture:!0,passive:!1};n.current=ys(window,[s],p)},[s]),o=$e(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(bS),n.current(),a())},[a,i]),l=$e(function(){var h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),u=$e(function(){var p={capture:!0,passive:!1},m={cancel:l,completed:o,getPhase:r},g=ys(window,Wde(m),p),v=ys(window,Hde(m),p);n.current=function(){g(),v()}},[l,r,o]),d=$e(function(){var p=r();p.type!=="PENDING"&&Ne();var m=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[r,i]),f=$e(function(p,m){r().type!=="IDLE"&&Ne();var g=setTimeout(d,Ude);i({type:"PENDING",point:m,actions:p,longPressTimerId:g}),u()},[u,r,i,d]);zi(function(){return a(),function(){n.current();var m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(bS))}},[r,a,i]),zi(function(){var p=ys(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var qde={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function dz(e,t){if(t==null)return!1;var n=!!qde[t.tagName.toLowerCase()];if(n)return!0;var r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:dz(e,t.parentElement)}function Kde(e,t){var n=t.target;return B1(n)?dz(e,n):!1}var Gde=function(e){return Gs(e.getBoundingClientRect()).center};function Yde(e){return e instanceof az(e).Element}var Xde=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=dc(t,function(r){return r in Element.prototype});return n||e}();function fz(e,t){return e==null?null:e[Xde](t)?e:fz(e.parentElement,t)}function Qde(e,t){return e.closest?e.closest(t):fz(e,t)}function Jde(e){return"["+Of.contextId+'="'+e+'"]'}function Zde(e,t){var n=t.target;if(!Yde(n))return null;var r=Jde(e),i=Qde(n,r);return!i||!B1(i)?null:i}function efe(e,t){var n=Zde(e,t);return n?n.getAttribute(Of.draggableId):null}function tfe(e,t){var n="["+ST.contextId+'="'+e+'"]',r=kU(document.querySelectorAll(n)),i=dc(r,function(s){return s.getAttribute(ST.id)===t});return!i||!B1(i)?null:i}function nfe(e){e.preventDefault()}function W0(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!(!r()||t!==n)}function hz(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var s=r.draggable.findById(i);return!(!s||!s.options.isEnabled||!nz(n.getState(),i))}function rfe(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,s=e.draggableId,a=e.forceSensorStop,o=e.sourceEvent,l=hz({lockAPI:t,store:r,registry:i,draggableId:s});if(!l)return null;var u=i.draggable.getById(s),d=tfe(n,u.descriptor.id);if(!d||o&&!u.options.canDragInteractiveElements&&Kde(d,o))return null;var f=t.claim(a||Bl),h="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function m(){return t.isActive(f)}function g(N,T){W0({expected:N,phase:h,isLockActive:m,shouldWarn:!0})&&r.dispatch(T())}var v=g.bind(null,"DRAGGING");function y(N){function T(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(T(),h!=="PRE_DRAG"&&Ne()),r.dispatch(Xce(N.liftActionArgs)),h="DRAGGING";function C(O,A){if(A===void 0&&(A={shouldBlockNextClick:!1}),N.cleanup(),A.shouldBlockNextClick){var D=ys(window,[{eventName:"click",fn:nfe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}T(),r.dispatch(YU({reason:O}))}return Ve({isActive:function(){return W0({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(A){return C("DROP",A)},cancel:function(A){return C("CANCEL",A)}},N.actions)}function x(N){var T=jm(function(O){v(function(){return GU({client:O})})}),C=y({liftActionArgs:{id:s,clientSelection:N,movementMode:"FLUID"},cleanup:function(){return T.cancel()},actions:{move:T}});return Ve({},C,{move:T})}function w(){var N={moveUp:function(){return v(sue)},moveRight:function(){return v(oue)},moveDown:function(){return v(aue)},moveLeft:function(){return v(lue)}};return y({liftActionArgs:{id:s,clientSelection:Gde(d),movementMode:"SNAP"},cleanup:Bl,actions:N})}function E(){var N=W0({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0});N&&t.release()}var _={isActive:function(){return W0({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:x,snapLift:w,abort:E};return _}var ife=[Rde,$de,Vde];function sfe(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,s=e.enableDefaultSensors,a=[].concat(s?ife:[],i||[]),o=b.useState(function(){return Ede()})[0],l=$e(function(x,w){x.isDragging&&!w.isDragging&&o.tryAbandon()},[o]);zi(function(){var x=n.getState(),w=n.subscribe(function(){var E=n.getState();l(x,E),x=E});return w},[o,n,l]),zi(function(){return o.tryAbandon},[o.tryAbandon]);for(var u=$e(function(y){return hz({lockAPI:o,registry:r,store:n,draggableId:y})},[o,r,n]),d=$e(function(y,x,w){return rfe({lockAPI:o,registry:r,contextId:t,store:n,draggableId:y,forceSensorStop:x,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[t,o,r,n]),f=$e(function(y){return efe(t,y)},[t]),h=$e(function(y){var x=r.draggable.findById(y);return x?x.options:null},[r.draggable]),p=$e(function(){o.isClaimed()&&(o.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(f2()))},[o,n]),m=$e(o.isClaimed,[o]),g=mt(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:m}},[u,d,f,h,p,m]),v=0;v<a.length;v++)a[v](g)}var afe=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Yh(e){return e.current||Ne(),e.current}function ofe(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,s=e.dragHandleUsageInstructions,a=b.useRef(null),o=oz(e),l=$e(function(){return afe(o.current)},[o]),u=vde(t),d=wde({contextId:t,text:s}),f=ude(t,i),h=$e(function(O){Yh(a).dispatch(O)},[]),p=mt(function(){return hM({publishWhileDragging:Jce,updateDroppableScroll:eue,updateDroppableIsEnabled:tue,updateDroppableIsCombineEnabled:nue,collectionStarting:Zce},h)},[h]),m=pde(),g=mt(function(){return zue(m,p)},[m,p]),v=mt(function(){return sde(Ve({scrollWindow:Hue,scrollDroppable:g.scrollDroppable},hM({move:GU},h)))},[g.scrollDroppable,h]),y=fde(t),x=mt(function(){return Bue({announce:u,autoScroller:v,dimensionMarshal:g,focusMarshal:y,getResponders:l,styleMarshal:f})},[u,v,g,y,l,f]);a.current=x;var w=$e(function(){var O=Yh(a),A=O.getState();A.phase!=="IDLE"&&O.dispatch(f2())},[]),E=$e(function(){var O=Yh(a).getState();return O.isDragging||O.phase==="DROP_ANIMATING"},[]),_=mt(function(){return{isDragging:E,tryAbort:w}},[E,w]);n(_);var N=$e(function(O){return nz(Yh(a).getState(),O)},[]),T=$e(function(){return Lc(Yh(a).getState())},[]),C=mt(function(){return{marshal:g,focus:y,contextId:t,canLift:N,isMovementAllowed:T,dragHandleUsageInstructionsId:d,registry:m}},[t,g,d,y,N,T,m]);return sfe({contextId:t,store:x,registry:m,customSensors:r,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(function(){return w},[w]),nt.createElement(F1.Provider,{value:C},nt.createElement(Ooe,{context:b2,store:x},e.children))}var lfe=0;function cfe(){return mt(function(){return""+lfe++},[])}function ufe(e){var t=cfe(),n=e.dragHandleUsageInstructions||Zv.dragHandleUsageInstructions;return nt.createElement($le,null,function(r){return nt.createElement(ofe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var pz=function(t){return function(n){return t===n}},dfe=pz("scroll"),ffe=pz("auto"),VM=function(t,n){return n(t.overflowX)||n(t.overflowY)},hfe=function(t){var n=window.getComputedStyle(t),r={overflowX:n.overflowX,overflowY:n.overflowY};return VM(r,dfe)||VM(r,ffe)},pfe=function(){return!1},mfe=function e(t){return t==null?null:t===document.body?pfe()?t:null:t===document.documentElement?null:hfe(t)?t:e(t.parentElement)},NT=function(e){return{x:e.scrollLeft,y:e.scrollTop}},gfe=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},vfe=function(e){var t=mfe(e),n=gfe(e);return{closestScrollable:t,isFixedOnPage:n}},yfe=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,s=e.direction,a=e.client,o=e.page,l=e.closest,u=function(){if(!l)return null;var p=l.scrollSize,m=l.client,g=ZU({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:g,diff:{value:sr,displacement:sr}}}}(),d=s==="vertical"?o2:PU,f=kf({page:o,withPlaceholder:null,axis:d,frame:u}),h={descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:d,isEnabled:n,client:a,page:o,frame:u,subject:f};return h},xfe=function(t,n){var r=SU(t);if(!n||t!==n)return r;var i=r.paddingBox.top-n.scrollTop,s=r.paddingBox.left-n.scrollLeft,a=i+n.scrollHeight,o=s+n.scrollWidth,l={top:i,right:o,bottom:a,left:s},u=n2(l,r.border),d=r2({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return d},bfe=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,s=e.direction,a=e.isDropDisabled,o=e.isCombineEnabled,l=e.shouldClipSubject,u=r.closestScrollable,d=xfe(t,u),f=Yy(d,i),h=function(){if(!u)return null;var m=SU(u),g={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:m,page:Yy(m,i),scroll:NT(u),scrollSize:g,shouldClipSubject:l}}(),p=yfe({descriptor:n,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:s,client:d,page:f,closest:h});return p},wfe={passive:!1},Efe={passive:!0},qM=function(e){return e.shouldPublishImmediately?wfe:Efe};function tx(e){var t=b.useContext(e);return t||Ne(),t}var V0=function(t){return t&&t.env.closestScrollable||null};function Sfe(e){var t=b.useRef(null),n=tx(F1),r=w2("droppable"),i=n.registry,s=n.marshal,a=oz(e),o=mt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=b.useRef(o),u=mt(function(){return nr(function(E,_){t.current||Ne();var N={x:E,y:_};s.updateDroppableScroll(o.id,N)})},[o.id,s]),d=$e(function(){var E=t.current;return!E||!E.env.closestScrollable?sr:NT(E.env.closestScrollable)},[]),f=$e(function(){var E=d();u(E.x,E.y)},[d,u]),h=mt(function(){return jm(f)},[f]),p=$e(function(){var E=t.current,_=V0(E);E&&_||Ne();var N=E.scrollOptions;if(N.shouldPublishImmediately){f();return}h()},[h,f]),m=$e(function(E,_){t.current&&Ne();var N=a.current,T=N.getDroppableRef();T||Ne();var C=vfe(T),O={ref:T,descriptor:o,env:C,scrollOptions:_};t.current=O;var A=bfe({ref:T,descriptor:o,env:C,windowScroll:E,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),D=C.closestScrollable;return D&&(D.setAttribute(UM.contextId,n.contextId),D.addEventListener("scroll",p,qM(O.scrollOptions))),A},[n.contextId,o,p,a]),g=$e(function(){var E=t.current,_=V0(E);return E&&_||Ne(),NT(_)},[]),v=$e(function(){var E=t.current;E||Ne();var _=V0(E);t.current=null,_&&(h.cancel(),_.removeAttribute(UM.contextId),_.removeEventListener("scroll",p,qM(E.scrollOptions)))},[p,h]),y=$e(function(E){var _=t.current;_||Ne();var N=V0(_);N||Ne(),N.scrollTop+=E.y,N.scrollLeft+=E.x},[]),x=mt(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:y}},[v,m,g,y]),w=mt(function(){return{uniqueId:r,descriptor:o,callbacks:x}},[x,o,r]);zi(function(){return l.current=w.descriptor,i.droppable.register(w),function(){t.current&&v(),i.droppable.unregister(w)}},[x,o,v,w,s,i.droppable]),zi(function(){t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),zi(function(){t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function wS(){}var KM={width:0,height:0,margin:qle},Nfe=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate;return n||i==="close"?KM:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},_fe=function(t){var n=t.isAnimatingOpenOnMount,r=t.placeholder,i=t.animate,s=Nfe({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Up.placeholder:null}};function Tfe(e){var t=b.useRef(null),n=$e(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),r=e.animate,i=e.onTransitionEnd,s=e.onClose,a=e.contextId,o=b.useState(e.animate==="open"),l=o[0],u=o[1];b.useEffect(function(){return l?r!=="open"?(n(),u(!1),wS):t.current?wS:(t.current=setTimeout(function(){t.current=null,u(!1)}),n):wS},[r,l,n]);var d=$e(function(h){h.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),f=_fe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return nt.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":a,onTransitionEnd:d,ref:e.innerRef})}var Cfe=nt.memo(Tfe),S2=nt.createContext(null),kfe=function(e){tU(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}t.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(nt.PureComponent),GM={dragging:5e3,dropAnimating:4500},Afe=function(t,n){return n?Up.drop(n.duration):t?Up.snap:Up.fluid},Ofe=function(t,n){return t?n?Mm.opacity.drop:Mm.opacity.combining:null},jfe=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Ife(e){var t=e.dimension,n=t.client,r=e.offset,i=e.combineWith,s=e.dropping,a=!!i,o=jfe(e),l=!!s,u=l?wT.drop(r,a):wT.moveTo(r),d={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Afe(o,s),transform:u,opacity:Ofe(a,l),zIndex:l?GM.dropAnimating:GM.dragging,pointerEvents:"none"};return d}function Pfe(e){return{transform:wT.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function Dfe(e){return e.type==="DRAGGING"?Ife(e):Pfe(e)}function Mfe(e,t,n){n===void 0&&(n=sr);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=EU(i,r),a=Yy(s,n),o={client:s,tagName:t.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height},u={descriptor:e,placeholder:o,displaceBy:l,client:s,page:a};return u}function Rfe(e){var t=w2("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,s=e.canDragInteractiveElements,a=e.shouldRespectForcePress,o=e.isEnabled,l=mt(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:o}},[s,o,a]),u=$e(function(p){var m=i();return m||Ne(),Mfe(n,m,p)},[n,i]),d=mt(function(){return{uniqueId:t,descriptor:n,options:l,getDimension:u}},[n,u,l,t]),f=b.useRef(d),h=b.useRef(!0);zi(function(){return r.draggable.register(f.current),function(){return r.draggable.unregister(f.current)}},[r.draggable]),zi(function(){if(h.current){h.current=!1;return}var p=f.current;f.current=d,r.draggable.update(d,p)},[d,r.draggable])}function Lfe(e){e.preventDefault()}function Bfe(e){var t=b.useRef(null),n=$e(function(O){t.current=O},[]),r=$e(function(){return t.current},[]),i=tx(F1),s=i.contextId,a=i.dragHandleUsageInstructionsId,o=i.registry,l=tx(S2),u=l.type,d=l.droppableId,f=mt(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),h=e.children,p=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,x=e.mapped,w=e.dropAnimationFinished;if(!y){var E=mt(function(){return{descriptor:f,registry:o,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}},[f,o,r,v,g,m]);Rfe(E)}var _=mt(function(){return m?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:Lfe}:null},[s,a,p,m]),N=$e(function(O){x.type==="DRAGGING"&&x.dropping&&O.propertyName==="transform"&&w()},[w,x]),T=mt(function(){var O=Dfe(x),A=x.type==="DRAGGING"&&x.dropping?N:null,D={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":p,style:O,onTransitionEnd:A},dragHandleProps:_};return D},[s,_,p,x,N,n]),C=mt(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(T,x.snapshot,C)}var mz=function(e,t){return e===t},gz=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},Ffe=function(t){return t.combine?t.combine.draggableId:null},$fe=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Ufe(){var e=nr(function(i,s){return{x:i,y:s}}),t=nr(function(i,s,a,o,l){return{isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:a,combineWith:o,combineTargetFor:null}}),n=nr(function(i,s,a,o,l,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:s,offset:i,dimension:a,forceShouldAnimate:d,snapshot:t(s,o,l,u,null)}}}),r=function(s,a){if(s.isDragging){if(s.critical.draggable.id!==a.draggableId)return null;var o=s.current.client.offset,l=s.dimensions.draggables[a.draggableId],u=Ui(s.impact),d=$fe(s.impact),f=s.forceShouldAnimate;return n(e(o.x,o.y),s.movementMode,l,a.isClone,u,d,f)}if(s.phase==="DROP_ANIMATING"){var h=s.completed;if(h.result.draggableId!==a.draggableId)return null;var p=a.isClone,m=s.dimensions.draggables[a.draggableId],g=h.result,v=g.mode,y=gz(g),x=Ffe(g),w=s.dropDuration,E={duration:w,curve:p2.drop,moveTo:s.newHomeClientOffset,opacity:x?Mm.opacity.drop:null,scale:x?Mm.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:m,dropping:E,draggingOver:y,combineWith:x,mode:v,forceShouldAnimate:null,snapshot:t(v,p,y,x,E)}}}return null};return r}function vz(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var zfe={mapped:{type:"SECONDARY",offset:sr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:vz(null)}};function Hfe(){var e=nr(function(a,o){return{x:a,y:o}}),t=nr(vz),n=nr(function(a,o,l){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:o,shouldAnimateDisplacement:l,snapshot:t(o)}}}),r=function(o){return o?n(sr,o,!0):null},i=function(o,l,u,d){var f=u.displaced.visible[o],h=!!(d.inVirtualList&&d.effected[o]),p=M1(u),m=p&&p.draggableId===o?l:null;if(!f){if(!h)return r(m);if(u.displaced.invisible[o])return null;var g=ch(d.displacedBy.point),v=e(g.x,g.y);return n(v,m,!0)}if(h)return r(m);var y=u.displacedBy.point,x=e(y.x,y.y);return n(x,m,f.shouldAnimate)},s=function(o,l){if(o.isDragging)return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var u=o.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return s}var Wfe=function(){var t=Ufe(),n=Hfe(),r=function(s,a){return t(s,a)||n(s,a)||zfe};return r},Vfe={dropAnimationFinished:XU},qfe=xU(Wfe,Vfe,null,{context:b2,pure:!0,areStatePropsEqual:mz})(Bfe);function yz(e){var t=tx(S2),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:nt.createElement(qfe,e)}function Kfe(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return nt.createElement(yz,Ve({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function Gfe(e){var t=b.useContext(F1);t||Ne();var n=t.contextId,r=t.isMovementAllowed,i=b.useRef(null),s=b.useRef(null),a=e.children,o=e.droppableId,l=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,m=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,y=e.getContainerForClone,x=$e(function(){return i.current},[]),w=$e(function(D){i.current=D},[]);$e(function(){return s.current},[]);var E=$e(function(D){s.current=D},[]),_=$e(function(){r()&&v({maxScroll:tz()})},[r,v]);Sfe({droppableId:o,type:l,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:x});var N=nt.createElement(kfe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(D){var k=D.onClose,P=D.data,B=D.animate;return nt.createElement(Cfe,{placeholder:P,onClose:k,innerRef:E,animate:B,contextId:n,onTransitionEnd:_})}),T=mt(function(){return{innerRef:w,placeholder:N,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":n}}},[n,o,N,w]),C=g?g.dragging.draggableId:null,O=mt(function(){return{droppableId:o,type:l,isUsingCloneFor:C}},[o,C,l]);function A(){if(!g)return null;var D=g.dragging,k=g.render,P=nt.createElement(yz,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(B,L){return k(B,L,D)});return jA.createPortal(P,y())}return nt.createElement(S2.Provider,{value:O},a(T,m),A())}var ES=function(t,n){return t===n.droppable.type},YM=function(t,n){return n.draggables[t.draggable.id]},Yfe=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=Ve({},t,{shouldAnimatePlaceholder:!1}),r=nr(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),i=nr(function(a,o,l,u,d,f){var h=d.descriptor.id,p=d.descriptor.droppableId===a;if(p){var m=f?{render:f,dragging:r(d.descriptor)}:null,g={isDraggingOver:l,draggingOverWith:l?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:m}}if(!o)return n;if(!u)return t;var v={isDraggingOver:l,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}}),s=function(o,l){var u=l.droppableId,d=l.type,f=!l.isDropDisabled,h=l.renderClone;if(o.isDragging){var p=o.critical;if(!ES(d,p))return n;var m=YM(p,o.dimensions),g=Ui(o.impact)===u;return i(u,f,g,g,m,h)}if(o.phase==="DROP_ANIMATING"){var v=o.completed;if(!ES(d,v.critical))return n;var y=YM(v.critical,o.dimensions);return i(u,f,gz(v.result)===u,Ui(v.impact)===u,y,h)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var x=o.completed;if(!ES(d,x.critical))return n;var w=Ui(x.impact)===u,E=!!(x.impact.at&&x.impact.at.type==="COMBINE"),_=x.critical.droppable.id===u;return w?E?t:n:_?t:n}return n};return s},Xfe={updateViewportMaxScroll:iue};function Qfe(){return document.body||Ne(),document.body}var Jfe={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Qfe},xz=xU(Yfe,Xfe,null,{context:b2,pure:!0,areStatePropsEqual:mz})(Gfe);xz.defaultProps=Jfe;const X=b.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ze("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));X.displayName="Card";const ie=b.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ze("flex flex-col space-y-1.5 p-6",e),...t}));ie.displayName="CardHeader";const ae=b.forwardRef(({className:e,...t},n)=>c.jsx("h3",{ref:n,className:ze("text-2xl font-semibold leading-none tracking-tight",e),...t}));ae.displayName="CardTitle";const dt=b.forwardRef(({className:e,...t},n)=>c.jsx("p",{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));dt.displayName="CardDescription";const Q=b.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ze("p-6 pt-0",e),...t}));Q.displayName="CardContent";const Zfe=b.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ze("flex items-center p-6 pt-0",e),...t}));Zfe.displayName="CardFooter";function ehe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=[{widget_type:"company-motto",title:"Company Motto",position_x:0,position_y:0,width:3,height:1,config:{motto:"Building the future, one project at a time."}},{widget_type:"monthly-expenses",title:"Monthly Expenses",position_x:0,position_y:1,width:1,height:1},{widget_type:"time-logged",title:"Time Logged",position_x:1,position_y:1,width:1,height:1},{widget_type:"quick-stats",title:"Quick Stats",position_x:2,position_y:1,width:1,height:1},{widget_type:"revenue-chart",title:"Revenue Chart",position_x:0,position_y:2,width:2,height:1},{widget_type:"recent-activities",title:"Recent Activities",position_x:2,position_y:2,width:1,height:1},{widget_type:"projects-overview",title:"Projects Overview",position_x:0,position_y:3,width:2,height:1},{widget_type:"cash-flow",title:"Cash Flow",position_x:2,position_y:3,width:1,height:1},{widget_type:"cash-flow-projections",title:"Cash Flow Projections",position_x:0,position_y:4,width:2,height:1}],l=v=>({id:v.id,type:v.widget_type,title:v.title,size:{w:v.width,h:v.height},position:{x:v.position_x,y:v.position_y,w:v.width,h:v.height},config:v.config}),u=async()=>{if(!e){i(!1);return}try{i(!0),a(null);const{data:v,error:y}=await se.from("dashboard_widgets").select("*").eq("user_id",e).eq("is_visible",!0).order("position_y",{ascending:!0}).order("position_x",{ascending:!0});if(y)throw y;if(!v||v.length===0){await d();return}const x=v.map(l);n(x)}catch(v){console.error("Error fetching widgets:",v),a(v instanceof Error?v.message:"Failed to load widgets"),f()}finally{i(!1)}},d=async()=>{if(e)try{const v=o.map(E=>({...E,user_id:e})),{data:y,error:x}=await se.from("dashboard_widgets").insert(v).select();if(x)throw x;const w=y.map(l);n(w)}catch(v){console.error("Error creating default widgets:",v),f()}},f=()=>{const v=localStorage.getItem(`widgets_${e}`);if(v)try{n(JSON.parse(v))}catch(y){console.error("Error loading widgets from localStorage:",y);const x=o.map((w,E)=>({id:(E+1).toString(),type:w.widget_type,title:w.title,size:{w:w.width,h:w.height},position:{x:w.position_x,y:w.position_y,w:w.width,h:w.height},config:w.config}));n(x)}},h=async v=>{if(n(v),e){localStorage.setItem(`widgets_${e}`,JSON.stringify(v));try{const y=v.map(x=>({id:x.id,position_x:x.position.x,position_y:x.position.y,width:x.size.w,height:x.size.h,title:x.title,config:x.config}));for(const x of y)await se.from("dashboard_widgets").update(x).eq("id",x.id).eq("user_id",e)}catch(y){console.error("Error saving widgets to Supabase:",y),a("Failed to save widget positions")}}},p=async v=>{if(e)try{const y={user_id:e,widget_type:v.type,title:v.title,position_x:v.position.x,position_y:v.position.y,width:v.size.w,height:v.size.h,config:v.config||{}},{data:x,error:w}=await se.from("dashboard_widgets").insert([y]).select().single();if(w)throw w;const E=l(x),_=[...t,E];n(_),localStorage.setItem(`widgets_${e}`,JSON.stringify(_))}catch(y){console.error("Error adding widget:",y),a("Failed to add widget");const x=[...t,v];n(x),localStorage.setItem(`widgets_${e}`,JSON.stringify(x))}},m=async v=>{if(e)try{const{error:y}=await se.from("dashboard_widgets").delete().eq("id",v).eq("user_id",e);if(y)throw y;const x=t.filter(w=>w.id!==v);n(x),localStorage.setItem(`widgets_${e}`,JSON.stringify(x))}catch(y){console.error("Error removing widget:",y),a("Failed to remove widget");const x=t.filter(w=>w.id!==v);n(x),localStorage.setItem(`widgets_${e}`,JSON.stringify(x))}},g=async(v,y)=>{if(e)try{const x={};y.title&&(x.title=y.title),y.config&&(x.config=y.config),y.position&&(x.position_x=y.position.x,x.position_y=y.position.y),y.size&&(x.width=y.size.w,x.height=y.size.h);const{error:w}=await se.from("dashboard_widgets").update(x).eq("id",v).eq("user_id",e);if(w)throw w;const E=t.map(_=>_.id===v?{..._,...y}:_);n(E),localStorage.setItem(`widgets_${e}`,JSON.stringify(E))}catch(x){console.error("Error updating widget:",x),a("Failed to update widget");const w=t.map(E=>E.id===v?{...E,...y}:E);n(w),localStorage.setItem(`widgets_${e}`,JSON.stringify(w))}};return b.useEffect(()=>{u()},[e]),{widgets:t,loading:r,error:s,updateWidgets:h,addWidget:p,removeWidget:m,updateWidget:g,refetch:u}}function the({widget:e,isDarkMode:t}){var d;const[n,r]=b.useState(!1),[i,s]=b.useState(((d=e.config)==null?void 0:d.motto)||"Building the future, one project at a time."),[a,o]=b.useState(i),l=()=>{s(a),r(!1)},u=()=>{o(i),r(!1)};return c.jsx(X,{className:"h-full",children:c.jsx(Q,{className:"p-6 flex items-center justify-center h-full",children:c.jsx("div",{className:"text-center w-full",children:n?c.jsxs("div",{className:"space-y-4",children:[c.jsx(Te,{value:a,onChange:f=>o(f.target.value),className:"text-center text-lg font-medium",placeholder:"Enter your company motto..."}),c.jsxs("div",{className:"flex justify-center gap-2",children:[c.jsxs(z,{size:"sm",onClick:l,children:[c.jsx(BA,{className:"h-4 w-4 mr-1"}),"Save"]}),c.jsxs(z,{size:"sm",variant:"outline",onClick:u,children:[c.jsx(Tg,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center leading-tight",children:i}),c.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>r(!0),className:"opacity-60 hover:opacity-100",children:[c.jsx(xae,{className:"h-4 w-4 mr-1"}),"Edit Motto"]})]})})})})}const _e=e=>typeof e!="number"||isNaN(e)?"0 kr":new Intl.NumberFormat("sv-SE",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e)+" kr";function nhe({widget:e,isDarkMode:t}){return c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-2",children:c.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(wr,{className:"h-4 w-4"}),"Monthly Expenses"]})}),c.jsx(Q,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-2xl font-bold",children:_e(4850)}),c.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[c.jsx(on,{className:"h-4 w-4 text-red-500"}),c.jsxs("span",{className:"text-red-500",children:[Math.abs(15.476190476190476).toFixed(1),"%"]}),c.jsx("span",{className:"text-muted-foreground",children:"vs last month"})]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last month: ",_e(4200)]})]})})]})}function $r(){const{user:e}=Fr(),[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null);b.useEffect(()=>{e?o():(n([]),i(!1))},[e]);const o=async()=>{try{i(!0);const{data:f,error:h}=await se.from("time_entries").select(`
          *,
          project:projects(*)
        `).eq("user_id",e.id).order("date",{ascending:!1});if(h)throw h;n(f||[])}catch(f){a(f instanceof Error?f.message:"An error occurred")}finally{i(!1)}};return{entries:t,loading:r,error:s,createTimeEntry:async f=>{try{const{data:h,error:p}=await se.from("time_entries").insert({...f,user_id:e.id}).select(`
          *,
          project:projects(*)
        `).single();if(p)throw p;return n(m=>[h,...m]),{data:h,error:null}}catch(h){const p=h instanceof Error?h.message:"Failed to create time entry";return a(p),{data:null,error:p}}},updateTimeEntry:async(f,h)=>{try{const{data:p,error:m}=await se.from("time_entries").update(h).eq("id",f).eq("user_id",e.id).select(`
          *,
          project:projects(*)
        `).single();if(m)throw m;return n(g=>g.map(v=>v.id===f?p:v)),{data:p,error:null}}catch(p){const m=p instanceof Error?p.message:"Failed to update time entry";return a(m),{data:null,error:m}}},deleteTimeEntry:async f=>{try{const{error:h}=await se.from("time_entries").delete().eq("id",f).eq("user_id",e.id);if(h)throw h;return n(p=>p.filter(m=>m.id!==f)),{error:null}}catch(h){const p=h instanceof Error?h.message:"Failed to delete time entry";return a(p),{error:p}}},refetch:o}}function rhe(){const{entries:e}=$r(),{user:t}=Fr(),[n,r]=b.useState({billing_percentage:94,absence_percentage:15});b.useEffect(()=>{(async()=>{if(t)try{const x=new Date,w=x.getFullYear(),E=x.getMonth()+1,{data:_,error:N}=await se.from("monthly_settings").select("billing_percentage, absence_percentage").eq("user_id",t.id).eq("year",w).eq("month",E).single();if(_&&!N)r({billing_percentage:_.billing_percentage,absence_percentage:_.absence_percentage});else{const{data:T,error:C}=await se.from("user_profiles").select("debit_rate_monthly, absence_percentage").eq("id",t.id).single();T&&!C&&r({billing_percentage:T.debit_rate_monthly||94,absence_percentage:T.absence_percentage||15})}}catch(x){console.error("Error loading user settings:",x)}})()},[t]);const i=new Date,s=i.getMonth(),a=i.getFullYear(),l=e.filter(y=>{const x=new Date(y.date+"T00:00:00");return x.getMonth()===s&&x.getFullYear()===a}).reduce((y,x)=>y+x.hours,0),u=new Date(a,s+1,0).getDate(),p=Array.from({length:u},(y,x)=>{const w=new Date(a,s,x+1);return w.getDay()!==0&&w.getDay()!==6}).filter(Boolean).length*8*(1-n.absence_percentage/100)*(n.billing_percentage/100),m=p>0?l/p*100:0,g=Math.max(0,p-l),v=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];return c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-2",children:c.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(ht,{className:"h-4 w-4"}),"Loggad tid - ",v[s]]})}),c.jsx(Q,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"text-2xl font-bold",children:[l.toFixed(1),"h"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Framsteg mot ml"}),c.jsxs("span",{className:"text-muted-foreground",children:[m.toFixed(0),"%"]})]}),c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(m,100)}%`}})})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[c.jsx(As,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:g>0?`${g.toFixed(0)}h kvar till ml`:"Mlet ntt!"})]}),c.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(yn,{className:"h-3 w-3"}),c.jsxs("span",{children:["Ml: ",p.toFixed(0),"h debiterbara timmar"]})]}),c.jsxs("div",{children:["Debiteringsgrad: ",n.billing_percentage,"% | Frnvaro: ",n.absence_percentage,"%"]})]})]})})]})}function ihe(){const{entries:e}=$r(),{user:t}=Fr(),[n,r]=b.useState({billing_percentage:94,absence_percentage:15});b.useEffect(()=>{(async()=>{if(t)try{const p=new Date,m=p.getFullYear(),g=p.getMonth()+1,{data:v,error:y}=await se.from("monthly_settings").select("billing_percentage, absence_percentage").eq("user_id",t.id).eq("year",m).eq("month",g).single();if(v&&!y)r({billing_percentage:v.billing_percentage,absence_percentage:v.absence_percentage});else{const{data:x,error:w}=await se.from("user_profiles").select("debit_rate_monthly, absence_percentage").eq("id",t.id).single();x&&!w&&r({billing_percentage:x.debit_rate_monthly||94,absence_percentage:x.absence_percentage||15})}}catch(p){console.error("Error loading user settings:",p)}})()},[t]);const i=new Date().toISOString().split("T")[0],s=e.filter(h=>h.date===i),a=s.reduce((h,p)=>h+p.hours,0),o=21,l=o*8*(1-n.absence_percentage/100)*(n.billing_percentage/100)/o,u=l>0?a/l*100:0,d=Math.max(0,l-a),f=()=>u>=100?"text-green-600":u>=75?"text-blue-600":u>=50?"text-yellow-600":"text-gray-600";return c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-2",children:c.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(ht,{className:"h-4 w-4"}),"Dagens timmar"]})}),c.jsx(Q,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:`text-3xl font-bold ${f()}`,children:[a.toFixed(1),"h"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Dagsml"}),c.jsxs("span",{className:"text-muted-foreground",children:[u.toFixed(0),"%"]})]}),c.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${u>=100?"bg-green-500":u>=75?"bg-blue-500":u>=50?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.min(u,100)}%`}})})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[c.jsx(As,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:d>0?`${d.toFixed(1)}h kvar till ml`:u>=100?"Dagsml uppntt!":"P rtt spr"})]}),c.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(yn,{className:"h-3 w-3"}),c.jsxs("span",{children:["Ml: ",l.toFixed(1),"h debiterbara/dag"]})]}),c.jsxs("div",{children:[s.length," ",s.length===1?"registrering":"registreringar"," idag"]})]})]})})]})}var U1={},bz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(bz);var N2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(N2);var _2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(_2);var z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",o="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const u=n[s];o?u==="\\"&&s+1<i?(s++,a+=n[s]):u===o?o="":a+=u:l?u==='"'||u==="'"?o=u:u==="]"?(l=!1,r.push(a),a=""):a+=u:u==="["?(l=!0,a&&(r.push(a),a="")):u==="."?a&&(r.push(a),a=""):a+=u,s++}return a&&r.push(a),r}e.toPath=t})(z1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bz,n=N2,r=_2,i=z1;function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?n.isDeepKey(l)?s(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=s})(U1);var she=U1.get;const Ql=Br(she);var wz={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2=Symbol.for("react.transitional.element"),C2=Symbol.for("react.portal"),H1=Symbol.for("react.fragment"),W1=Symbol.for("react.strict_mode"),V1=Symbol.for("react.profiler"),q1=Symbol.for("react.consumer"),K1=Symbol.for("react.context"),G1=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),X1=Symbol.for("react.suspense_list"),Q1=Symbol.for("react.memo"),J1=Symbol.for("react.lazy"),ahe=Symbol.for("react.view_transition"),ohe=Symbol.for("react.client.reference");function Os(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case T2:switch(e=e.type,e){case H1:case V1:case W1:case Y1:case X1:case ahe:return e;default:switch(e=e&&e.$$typeof,e){case K1:case G1:case J1:case Q1:return e;case q1:return e;default:return t}}case C2:return t}}}Pt.ContextConsumer=q1;Pt.ContextProvider=K1;Pt.Element=T2;Pt.ForwardRef=G1;Pt.Fragment=H1;Pt.Lazy=J1;Pt.Memo=Q1;Pt.Portal=C2;Pt.Profiler=V1;Pt.StrictMode=W1;Pt.Suspense=Y1;Pt.SuspenseList=X1;Pt.isContextConsumer=function(e){return Os(e)===q1};Pt.isContextProvider=function(e){return Os(e)===K1};Pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===T2};Pt.isForwardRef=function(e){return Os(e)===G1};Pt.isFragment=function(e){return Os(e)===H1};Pt.isLazy=function(e){return Os(e)===J1};Pt.isMemo=function(e){return Os(e)===Q1};Pt.isPortal=function(e){return Os(e)===C2};Pt.isProfiler=function(e){return Os(e)===V1};Pt.isStrictMode=function(e){return Os(e)===W1};Pt.isSuspense=function(e){return Os(e)===Y1};Pt.isSuspenseList=function(e){return Os(e)===X1};Pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===H1||e===V1||e===W1||e===Y1||e===X1||typeof e=="object"&&e!==null&&(e.$$typeof===J1||e.$$typeof===Q1||e.$$typeof===K1||e.$$typeof===q1||e.$$typeof===G1||e.$$typeof===ohe||e.getModuleId!==void 0)};Pt.typeOf=Os;wz.exports=Pt;var lhe=wz.exports,er=e=>e===0?0:e>0?1:-1,wi=e=>typeof e=="number"&&e!=+e,Gc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!wi(e),Oa=e=>je(e)||typeof e=="string",che=0,Rm=e=>{var t=++che;return"".concat(e||"").concat(t)},ei=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return r;var s;if(Gc(t)){if(n==null)return r;var a=t.indexOf("%");s=n*parseFloat(t.slice(0,a))/100}else s=+t;return wi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},Ez=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},XM=(e,t)=>je(e)&&je(t)?n=>e+n*(t-e):()=>t;function mr(e,t,n){return je(e)&&je(t)?e+n*(t-e):t}function Sz(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ql(r,t))===n)}var Ut=e=>e===null||typeof e>"u",Bg=e=>Ut(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),uhe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function k2(e){if(typeof e!="string")return!1;var t=uhe;return t.includes(e)}var dhe=["viewBox","children"],QM=["points","pathLength"],SS={svg:dhe,polygon:QM,polyline:QM},A2=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{k2(i)&&(r[i]=s=>n[i](n,s))}),r},fhe=(e,t,n)=>r=>(e(t,n,r),null),Z1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];k2(i)&&typeof s=="function"&&(r||(r={}),r[i]=fhe(s,t,n))}),r},hhe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Nz(e){if(typeof e!="string")return!1;var t=hhe;return t.includes(e)}function sa(e){var t=Object.entries(e).filter(n=>{var[r]=n;return Nz(r)});return Object.fromEntries(t)}var JM=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",ZM=null,NS=null,_z=e=>{if(e===ZM&&Array.isArray(NS))return NS;var t=[];return b.Children.forEach(e,n=>{Ut(n)||(lhe.isFragment(n)?t=t.concat(_z(n.props.children)):t.push(n))}),NS=t,ZM=e,t};function Fg(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>JM(i)):r=[JM(t)],_z(e).forEach(i=>{var s=Ql(i,"type.displayName")||Ql(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var ew=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,phe=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=r&&(SS==null?void 0:SS[r]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),o=typeof e!="function"&&(!!r&&s.includes(t)||Nz(t)),l=!!n&&k2(t);return a||o||l},$t=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var a;phe((a=r)===null||a===void 0?void 0:a[s],s,t,n)&&(i[s]=r[s])}),i},mhe=["children","width","height","viewBox","className","style","title","desc"];function _T(){return _T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_T.apply(null,arguments)}function ghe(e,t){if(e==null)return{};var n,r,i=vhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tz=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=e,d=ghe(e,mhe),f=s||{width:r,height:i,x:0,y:0},h=ft("recharts-surface",a);return b.createElement("svg",_T({},$t(d,!0,"svg"),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,l),b.createElement("desc",null,u),n)}),yhe=["children","className"];function TT(){return TT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TT.apply(null,arguments)}function xhe(e,t){if(e==null)return{};var n,r,i=bhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tn=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=xhe(e,yhe),s=ft("recharts-layer",r);return b.createElement("g",TT({className:s},$t(i,!0),{ref:t}),n)}),whe=b.createContext(null);function Lt(e){return function(){return e}}const Cz=Math.cos,nx=Math.sin,aa=Math.sqrt,rx=Math.PI,tw=2*rx,CT=Math.PI,kT=2*CT,Bc=1e-6,Ehe=kT-Bc;function kz(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function She(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kz;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Nhe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kz:She(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-t,u=i-n,d=a-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Bc)if(!(Math.abs(f*l-u*d)>Bc)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,m=i-o,g=l*l+u*u,v=p*p+m*m,y=Math.sqrt(g),x=Math.sqrt(h),w=s*Math.tan((CT-Math.acos((g+h-v)/(2*y*x)))/2),E=w/x,_=w/y;Math.abs(E-1)>Bc&&this._append`L${t+E*d},${n+E*f}`,this._append`A${s},${s},0,0,${+(f*p>d*m)},${this._x1=t+_*l},${this._y1=n+_*u}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,d=n+l,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Bc||Math.abs(this._y1-d)>Bc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%kT+kT),h>Ehe?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Bc&&this._append`A${r},${r},0,${+(h>=CT)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function O2(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Nhe(t)}function j2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Az(e){this._context=e}Az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function nw(e){return new Az(e)}function Oz(e){return e[0]}function jz(e){return e[1]}function Iz(e,t){var n=Lt(!0),r=null,i=nw,s=null,a=O2(o);e=typeof e=="function"?e:e===void 0?Oz:Lt(e),t=typeof t=="function"?t:t===void 0?jz:Lt(t);function o(l){var u,d=(l=j2(l)).length,f,h=!1,p;for(r==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,l),+t(f,u,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Lt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Lt(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Lt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function q0(e,t,n){var r=null,i=Lt(!0),s=null,a=nw,o=null,l=O2(u);e=typeof e=="function"?e:e===void 0?Oz:Lt(+e),t=typeof t=="function"?t:Lt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?jz:Lt(+n);function u(f){var h,p,m,g=(f=j2(f)).length,v,y=!1,x,w=new Array(g),E=new Array(g);for(s==null&&(o=a(x=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(w[m],E[m]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+e(v,h,f),E[h]=+t(v,h,f),o.point(r?+r(v,h,f):w[h],n?+n(v,h,f):E[h]))}if(x)return o=null,x+""||null}function d(){return Iz().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Lt(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Lt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Lt(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),u):s},u}class Pz{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function _he(e){return new Pz(e,!0)}function The(e){return new Pz(e,!1)}const I2={draw(e,t){const n=aa(t/rx);e.moveTo(n,0),e.arc(0,0,n,0,tw)}},Che={draw(e,t){const n=aa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Dz=aa(1/3),khe=Dz*2,Ahe={draw(e,t){const n=aa(t/khe),r=n*Dz;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ohe={draw(e,t){const n=aa(t),r=-n/2;e.rect(r,r,n,n)}},jhe=.8908130915292852,Mz=nx(rx/10)/nx(7*rx/10),Ihe=nx(tw/10)*Mz,Phe=-Cz(tw/10)*Mz,Dhe={draw(e,t){const n=aa(t*jhe),r=Ihe*n,i=Phe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const a=tw*s/5,o=Cz(a),l=nx(a);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},_S=aa(3),Mhe={draw(e,t){const n=-aa(t/(_S*3));e.moveTo(0,n*2),e.lineTo(-_S*n,-n),e.lineTo(_S*n,-n),e.closePath()}},ns=-.5,rs=aa(3)/2,AT=1/aa(12),Rhe=(AT/2+1)*3,Lhe={draw(e,t){const n=aa(t/Rhe),r=n/2,i=n*AT,s=r,a=n*AT+n,o=-s,l=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(o,l),e.lineTo(ns*r-rs*i,rs*r+ns*i),e.lineTo(ns*s-rs*a,rs*s+ns*a),e.lineTo(ns*o-rs*l,rs*o+ns*l),e.lineTo(ns*r+rs*i,ns*i-rs*r),e.lineTo(ns*s+rs*a,ns*a-rs*s),e.lineTo(ns*o+rs*l,ns*l-rs*o),e.closePath()}};function Bhe(e,t){let n=null,r=O2(i);e=typeof e=="function"?e:Lt(e||I2),t=typeof t=="function"?t:Lt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function ix(){}function sx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Rz(e){this._context=e}Rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fhe(e){return new Rz(e)}function Lz(e){this._context=e}Lz.prototype={areaStart:ix,areaEnd:ix,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $he(e){return new Lz(e)}function Bz(e){this._context=e}Bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uhe(e){return new Bz(e)}function Fz(e){this._context=e}Fz.prototype={areaStart:ix,areaEnd:ix,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function zhe(e){return new Fz(e)}function eR(e){return e<0?-1:1}function tR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(eR(s)+eR(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function nR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function TS(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function ax(e){this._context=e}ax.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TS(this,this._t0,nR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,TS(this,nR(this,n=tR(this,e,t)),n);break;default:TS(this,this._t0,n=tR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function $z(e){this._context=new Uz(e)}($z.prototype=Object.create(ax.prototype)).point=function(e,t){ax.prototype.point.call(this,t,e)};function Uz(e){this._context=e}Uz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function Hhe(e){return new ax(e)}function Whe(e){return new $z(e)}function zz(e){this._context=e}zz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=rR(e),i=rR(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rR(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Vhe(e){return new zz(e)}function rw(e,t){this._context=e,this._t=t}rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function qhe(e){return new rw(e,.5)}function Khe(e){return new rw(e,0)}function Ghe(e){return new rw(e,1)}function jf(e,t){if((a=e.length)>1)for(var n=1,r,i,s=e[t[0]],a,o=s.length;n<a;++n)for(i=s,s=e[t[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function OT(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Yhe(e,t){return e[t]}function Xhe(e){const t=[];return t.key=e,t}function Qhe(){var e=Lt([]),t=OT,n=jf,r=Yhe;function i(s){var a=Array.from(e.apply(this,arguments),Xhe),o,l=a.length,u=-1,d;for(const f of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+r(f,a[o].key,u,s)]).data=f;for(o=0,d=j2(t(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Lt(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?OT:typeof s=="function"?s:Lt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??jf,i):n},i}function Jhe(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}jf(e,t)}}function Zhe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=e[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}jf(e,t)}}function epe(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,u=0;o<a;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=e[t[m]],v=g[r][1]||0,y=g[r-1][1]||0;p+=v-y}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,jf(e,t)}}var tpe=["type","size","sizeType"];function jT(){return jT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jT.apply(null,arguments)}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(r){npe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function npe(e,t,n){return(t=rpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rpe(e){var t=ipe(e,"string");return typeof t=="symbol"?t:t+""}function ipe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function spe(e,t){if(e==null)return{};var n,r,i=ape(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ape(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hz={symbolCircle:I2,symbolCross:Che,symbolDiamond:Ahe,symbolSquare:Ohe,symbolStar:Dhe,symbolTriangle:Mhe,symbolWye:Lhe},ope=Math.PI/180,lpe=e=>{var t="symbol".concat(Bg(e));return Hz[t]||I2},cpe=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*ope;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},upe=(e,t)=>{Hz["symbol".concat(Bg(e))]=t},Wz=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=spe(e,tpe),s=sR(sR({},i),{},{type:t,size:n,sizeType:r}),a=()=>{var f=lpe(t),h=Bhe().type(f).size(cpe(n,r,t));return h()},{className:o,cx:l,cy:u}=s,d=$t(s,!0);return l===+l&&u===+u&&n===+n?b.createElement("path",jT({},d,{className:ft("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(u,")"),d:a()})):null};Wz.registerSymbol=upe;var Vz={},qz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}e.uniqBy=t})(qz);var P2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(P2);var Kz={},iw={},Gz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Gz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gz;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(iw);var Yz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Yz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iw,n=Yz;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Kz);var Xz={},Qz={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1;function n(r){return function(i){return t.get(i,r)}}e.property=n})(Qz);var Jz={},CS={},kS={},D2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(D2);var M2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(M2);var sw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(sw);var aR;function dpe(){return aR||(aR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R2(),n=D2,r=M2,i=sw;function s(f,h,p){return typeof p!="function"?t.isMatch(f,h):a(f,h,function m(g,v,y,x,w,E){const _=p(g,v,y,x,w,E);return _!==void 0?!!_:a(g,v,m,E)},new Map)}function a(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,p,m);case"function":return Object.keys(h).length>0?a(f,{...h},p,m):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function o(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,m);if(h instanceof Map)return l(f,h,p,m);if(h instanceof Set)return d(f,h,p,m);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let v=0;v<g.length;v++){const y=g[v];if(!r.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!p(f[y],h[y],y,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,v]of h.entries()){const y=f.get(g);if(p(y,v,g,f,h,m)===!1)return!1}return!0}function u(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let v=0;v<h.length;v++){const y=h[v];let x=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const E=f[w];let _=!1;if(p(E,y,v,f,h,m)&&(_=!0),_){g.add(w),x=!0;break}}if(!x)return!1}return!0}function d(f,h,p,m){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,m):!1}e.isMatchWith=s,e.isSetMatch=d}(kS)),kS}var oR;function R2(){return oR||(oR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dpe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(CS)),CS}var Zz={},L2={},B2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(B2);var aw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(aw);var ow={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",E="[object BigUint64Array]",_="[object Int8Array]",N="[object Int16Array]",T="[object Int32Array]",C="[object BigInt64Array]",O="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=E,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=O,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=T,e.int8ArrayTag=_,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(ow);var e9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(e9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B2,n=aw,r=ow,i=M2,s=e9;function a(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,p=new Map,m=void 0){const g=m==null?void 0:m(d,f,h,p);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const v=new Array(d.length);p.set(d,v);for(let y=0;y<d.length;y++)v[y]=o(d[y],y,h,p,m);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;p.set(d,v);for(const[y,x]of d)v.set(y,o(x,y,h,p,m));return v}if(d instanceof Set){const v=new Set;p.set(d,v);for(const y of d)v.add(o(y,void 0,h,p,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,v);for(let y=0;y<d.length;y++)v[y]=o(d[y],y,h,p,m);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,v),l(v,d,h,p,m),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return p.set(d,v),l(v,d,h,p,m),v}if(d instanceof Blob){const v=new Blob([d],{type:d.type});return p.set(d,v),l(v,d,h,p,m),v}if(d instanceof Error){const v=new d.constructor;return p.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,l(v,d,h,p,m),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return p.set(d,v),l(v,d,h,p,m),v}return d}function l(d,f,h=d,p,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<g.length;v++){const y=g[v],x=Object.getOwnPropertyDescriptor(d,y);(x==null||x.writable)&&(d[y]=o(f[y],y,h,p,m))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=o,e.copyProperties=l})(L2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L2;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Zz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R2(),n=Zz;function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(Jz);var t9={},n9={},r9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L2,n=ow;function r(i,s){return t.cloneDeepWith(i,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(r9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r9;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(n9);var i9={},F2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(F2);var s9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aw;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(s9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N2,n=F2,r=s9,i=z1;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(i9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R2(),n=_2,r=n9,i=U1,s=i9;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=a})(t9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P2,n=Qz,r=Jz,i=t9;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=s})(Xz);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qz,n=P2,r=Kz,i=Xz;function s(a,o=n.identity){return r.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(o)):[]}e.uniqBy=s})(Vz);var fpe=Vz.uniqBy;const lR=Br(fpe);function hpe(e,t,n){return t===!0?lR(e,n):typeof t=="function"?lR(e,t):e}var a9={exports:{}},o9={},l9={exports:{}},c9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If=b;function ppe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mpe=typeof Object.is=="function"?Object.is:ppe,gpe=If.useState,vpe=If.useEffect,ype=If.useLayoutEffect,xpe=If.useDebugValue;function bpe(e,t){var n=t(),r=gpe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return ype(function(){i.value=n,i.getSnapshot=t,AS(i)&&s({inst:i})},[e,n,t]),vpe(function(){return AS(i)&&s({inst:i}),e(function(){AS(i)&&s({inst:i})})},[e]),xpe(n),n}function AS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mpe(e,n)}catch{return!0}}function wpe(e,t){return t()}var Epe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wpe:bpe;c9.useSyncExternalStore=If.useSyncExternalStore!==void 0?If.useSyncExternalStore:Epe;l9.exports=c9;var $2=l9.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=b,Spe=$2;function Npe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _pe=typeof Object.is=="function"?Object.is:Npe,Tpe=Spe.useSyncExternalStore,Cpe=lw.useRef,kpe=lw.useEffect,Ape=lw.useMemo,Ope=lw.useDebugValue;o9.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=Cpe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Ape(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var m=a.value;if(i(m,p))return f=m}return f=p}if(m=f,_pe(d,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=Tpe(e,s[0],s[1]);return kpe(function(){a.hasValue=!0,a.value=o},[o]),Ope(o),o};a9.exports=o9;var u9=a9.exports,U2=b.createContext(null),jpe=e=>e,Cn=()=>{var e=b.useContext(U2);return e?e.store.dispatch:jpe},ey=()=>{},Ipe=()=>ey,Ppe=(e,t)=>e===t;function Be(e){var t=b.useContext(U2);return u9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Ipe,t?t.store.getState:ey,t?t.store.getState:ey,t?e:ey,Ppe)}function Dpe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Mpe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Rpe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var cR=e=>Array.isArray(e)?e:[e];function Lpe(e){const t=Array.isArray(e[0])?e[0]:e;return Rpe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Bpe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Fpe=class{constructor(e){this.value=e}deref(){return this.value}},$pe=typeof WeakRef<"u"?WeakRef:Fpe,Upe=0,uR=1;function K0(){return{s:Upe,v:void 0,o:null,p:null}}function d9(e,t={}){let n=K0();const{resultEqualityCheck:r}=t;let i,s=0;function a(){var f;let o=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const v=g.get(m);v===void 0?(o=K0(),g.set(m,o)):o=v}else{let g=o.p;g===null&&(o.p=g=new Map);const v=g.get(m);v===void 0?(o=K0(),g.set(m,o)):o=v}}const u=o;let d;if(o.s===uR)d=o.v;else if(d=e.apply(null,arguments),s++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new $pe(d):d}return u.s=uR,u.v=d,d}return a.clearCache=()=>{n=K0(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function zpe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Dpe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=d9,argsMemoizeOptions:m=[]}=d,g=cR(h),v=cR(m),y=Lpe(i),x=f(function(){return s++,u.apply(null,arguments)},...g),w=p(function(){a++;const _=Bpe(y,arguments);return o=x.apply(null,_),o},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var Z=zpe(d9),Hpe=Object.assign((e,t=Z)=>{Mpe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>Hpe}),f9={},h9={},p9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=t(r),o=t(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};e.compareValues=n})(p9);var m9={},z2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(z2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z2,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(m9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p9,n=m9,r=z1;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,m)=>{let g=p;for(let v=0;v<m.length&&g!=null;++v)g=g[m[v]];return g},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let g=0;g<f.length;g++){const v=t.compareValues(p.criteria[g],m.criteria[g],o[g]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=i})(h9);var g9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(n,0),i}e.flatten=t})(g9);var H2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F2,n=iw,r=D2,i=sw;function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}e.isIterateeCall=s})(H2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h9,n=g9,r=H2;function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,n.flatten(a),["asc"])}e.sortBy=i})(f9);var Wpe=f9.sortBy;const cw=Br(Wpe);var v9=e=>e.legend.settings,Vpe=e=>e.legend.size,qpe=e=>e.legend.payload;Z([qpe,v9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?cw(r,n):r});var G0=1;function Kpe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>G0||Math.abs(a.left-t.left)>G0||Math.abs(a.top-t.top)>G0||Math.abs(a.width-t.width)>G0)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function dr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Gpe=typeof Symbol=="function"&&Symbol.observable||"@@observable",dR=Gpe,OS=()=>Math.random().toString(36).substring(7).split("").join("."),Ype={INIT:`@@redux/INIT${OS()}`,REPLACE:`@@redux/REPLACE${OS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${OS()}`},ox=Ype;function W2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function y9(e,t,n){if(typeof e!="function")throw new Error(dr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(dr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(dr(1));return n(y9)(e,t)}let r=e,i=t,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((v,y)=>{a.set(y,v)}))}function d(){if(l)throw new Error(dr(3));return i}function f(v){if(typeof v!="function")throw new Error(dr(4));if(l)throw new Error(dr(5));let y=!0;u();const x=o++;return a.set(x,v),function(){if(y){if(l)throw new Error(dr(6));y=!1,u(),a.delete(x),s=null}}}function h(v){if(!W2(v))throw new Error(dr(7));if(typeof v.type>"u")throw new Error(dr(8));if(typeof v.type!="string")throw new Error(dr(17));if(l)throw new Error(dr(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=a).forEach(x=>{x()}),v}function p(v){if(typeof v!="function")throw new Error(dr(10));r=v,h({type:ox.REPLACE})}function m(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(dr(11));function x(){const E=y;E.next&&E.next(d())}return x(),{unsubscribe:v(x)}},[dR](){return this}}}return h({type:ox.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[dR]:m}}function Xpe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ox.INIT})>"u")throw new Error(dr(12));if(typeof n(void 0,{type:ox.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dr(13))})}function x9(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{Xpe(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],p=a[f],m=h(p,o);if(typeof m>"u")throw o&&o.type,new Error(dr(14));u[f]=m,l=l||m!==p}return l=l||r.length!==Object.keys(a).length,l?u:a}}function lx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Qpe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(dr(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=e.map(l=>l(a));return s=lx(...o)(i.dispatch),{...i,dispatch:s}}}function b9(e){return W2(e)&&"type"in e&&typeof e.type=="string"}var w9=Symbol.for("immer-nothing"),fR=Symbol.for("immer-draftable"),Yi=Symbol.for("immer-state");function Ws(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pf=Object.getPrototypeOf;function Tu(e){return!!e&&!!e[Yi]}function No(e){var t;return e?E9(e)||Array.isArray(e)||!!e[fR]||!!((t=e.constructor)!=null&&t[fR])||dw(e)||fw(e):!1}var Jpe=Object.prototype.constructor.toString();function E9(e){if(!e||typeof e!="object")return!1;const t=Pf(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Jpe}function cx(e,t){uw(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function uw(e){const t=e[Yi];return t?t.type_:Array.isArray(e)?1:dw(e)?2:fw(e)?3:0}function IT(e,t){return uw(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function S9(e,t,n){const r=uw(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Zpe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function dw(e){return e instanceof Map}function fw(e){return e instanceof Set}function Fc(e){return e.copy_||e.base_}function PT(e,t){if(dw(e))return new Map(e);if(fw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=E9(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Yi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Pf(e),r)}else{const r=Pf(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function V2(e,t=!1){return hw(e)||Tu(e)||!No(e)||(uw(e)>1&&(e.set=e.add=e.clear=e.delete=eme),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>V2(r,!0))),e}function eme(){Ws(2)}function hw(e){return Object.isFrozen(e)}var tme={};function Cu(e){const t=tme[e];return t||Ws(0,e),t}var Lm;function N9(){return Lm}function nme(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hR(e,t){t&&(Cu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function DT(e){MT(e),e.drafts_.forEach(rme),e.drafts_=null}function MT(e){e===Lm&&(Lm=e.parent_)}function pR(e){return Lm=nme(Lm,e)}function rme(e){const t=e[Yi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Yi].modified_&&(DT(t),Ws(4)),No(e)&&(e=ux(t,e),t.parent_||dx(t,e)),t.patches_&&Cu("Patches").generateReplacementPatches_(n[Yi].base_,e,t.patches_,t.inversePatches_)):e=ux(t,n,[]),DT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==w9?e:void 0}function ux(e,t,n){if(hw(t))return t;const r=t[Yi];if(!r)return cx(t,(i,s)=>gR(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return dx(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),cx(s,(o,l)=>gR(e,r,i,o,l,n,a)),dx(e,i,!1),n&&e.patches_&&Cu("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function gR(e,t,n,r,i,s,a){if(Tu(i)){const o=s&&t&&t.type_!==3&&!IT(t.assigned_,r)?s.concat(r):void 0,l=ux(e,i,o);if(S9(n,r,l),Tu(l))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(No(i)&&!hw(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ux(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&dx(e,i)}}function dx(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V2(t,n)}function ime(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:N9(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=q2;n&&(i=[r],s=Bm);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var q2={get(e,t){if(t===Yi)return e;const n=Fc(e);if(!IT(n,t))return sme(e,n,t);const r=n[t];return e.finalized_||!No(r)?r:r===jS(e.base_,t)?(IS(e),e.copy_[t]=LT(r,e)):r},has(e,t){return t in Fc(e)},ownKeys(e){return Reflect.ownKeys(Fc(e))},set(e,t,n){const r=_9(Fc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=jS(Fc(e),t),s=i==null?void 0:i[Yi];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Zpe(n,i)&&(n!==void 0||IT(e.base_,t)))return!0;IS(e),RT(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,IS(e),RT(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ws(11)},getPrototypeOf(e){return Pf(e.base_)},setPrototypeOf(){Ws(12)}},Bm={};cx(q2,(e,t)=>{Bm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bm.deleteProperty=function(e,t){return Bm.set.call(this,e,t,void 0)};Bm.set=function(e,t,n){return q2.set.call(this,e[0],t,n,e[0])};function jS(e,t){const n=e[Yi];return(n?Fc(n):e)[t]}function sme(e,t,n){var i;const r=_9(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function _9(e,t){if(!(t in e))return;let n=Pf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Pf(n)}}function RT(e){e.modified_||(e.modified_=!0,e.parent_&&RT(e.parent_))}function IS(e){e.copy_||(e.copy_=PT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ame=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const a=this;return function(l=s,...u){return a.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&Ws(6),r!==void 0&&typeof r!="function"&&Ws(7);let i;if(No(t)){const s=pR(this),a=LT(t,void 0);let o=!0;try{i=n(a),o=!1}finally{o?DT(s):MT(s)}return hR(s,r),mR(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===w9&&(i=void 0),this.autoFreeze_&&V2(i,!0),r){const s=[],a=[];Cu("Patches").generateReplacementPatches_(t,i,s,a),r(s,a)}return i}else Ws(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...o)=>this.produceWithPatches(a,l=>t(l,...o));let r,i;return[this.produce(t,n,(a,o)=>{r=a,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){No(e)||Ws(8),Tu(e)&&(e=po(e));const t=pR(this),n=LT(e,void 0);return n[Yi].isManual_=!0,MT(t),n}finishDraft(e,t){const n=e&&e[Yi];(!n||!n.isManual_)&&Ws(9);const{scope_:r}=n;return hR(r,t),mR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Cu("Patches").applyPatches_;return Tu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function LT(e,t){const n=dw(e)?Cu("MapSet").proxyMap_(e,t):fw(e)?Cu("MapSet").proxySet_(e,t):ime(e,t);return(t?t.scope_:N9()).drafts_.push(n),n}function po(e){return Tu(e)||Ws(10,e),T9(e)}function T9(e){if(!No(e)||hw(e))return e;const t=e[Yi];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=PT(e,t.scope_.immer_.useStrictShallowCopy_)}else n=PT(e,!0);return cx(n,(r,i)=>{S9(n,r,T9(i))}),t&&(t.finalized_=!1),n}var Xi=new ame,C9=Xi.produce;Xi.produceWithPatches.bind(Xi);Xi.setAutoFreeze.bind(Xi);Xi.setUseStrictShallowCopy.bind(Xi);Xi.applyPatches.bind(Xi);Xi.createDraft.bind(Xi);Xi.finishDraft.bind(Xi);function k9(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var ome=k9(),lme=k9,cme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lx:lx.apply(null,arguments)};function Cs(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Hi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>b9(r)&&r.type===e,n}var A9=class bp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bp.prototype)}static get[Symbol.species](){return bp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bp(...t[0].concat(this)):new bp(...t.concat(this))}};function vR(e){return No(e)?C9(e,()=>{}):e}function Y0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function ume(e){return typeof e=="boolean"}var dme=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new A9;return n&&(ume(n)?a.push(ome):a.push(lme(n.extraArgument))),a},fme="RTK_autoBatch",yR=e=>t=>{setTimeout(t,e)},hme=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yR(10):e.type==="callback"?e.queueNotification:yR(e.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[fme]),s=!i,s&&(a||(a=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},pme=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new A9(e);return r&&i.push(hme(typeof r=="object"?r:void 0)),i};function mme(e){const t=dme(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(W2(n))o=x9(n);else throw new Error(Hi(1));let l;typeof r=="function"?l=r(t):l=t();let u=lx;i&&(u=cme({trace:!1,...typeof i=="object"&&i}));const d=Qpe(...l),f=pme(d);let h=typeof a=="function"?a(f):f();const p=u(...h);return y9(o,s,p)}function O9(e){const t={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Hi(28));if(o in t)throw new Error(Hi(29));return t[o]=a,i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function gme(e){return typeof e=="function"}function vme(e,t){let[n,r,i]=O9(t),s;if(gme(e))s=()=>vR(e());else{const o=vR(e);s=()=>o}function a(o=s(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Tu(d)){const p=f(d,l);return p===void 0?d:p}else{if(No(d))return C9(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return a.getInitialState=s,a}var yme="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xme=(e=21)=>{let t="",n=e;for(;n--;)t+=yme[Math.random()*64|0];return t},bme=Symbol.for("rtk-slice-createasyncthunk");function wme(e,t){return`${e}/${t}`}function Eme({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[bme];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Hi(11));const o=(typeof i.reducers=="function"?i.reducers(Nme()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,_){const N=typeof E=="string"?E:E.type;if(!N)throw new Error(Hi(12));if(N in u.sliceCaseReducersByType)throw new Error(Hi(13));return u.sliceCaseReducersByType[N]=_,d},addMatcher(E,_){return u.sliceMatchers.push({matcher:E,reducer:_}),d},exposeAction(E,_){return u.actionCreators[E]=_,d},exposeCaseReducer(E,_){return u.sliceCaseReducersByName[E]=_,d}};l.forEach(E=>{const _=o[E],N={reducerName:E,type:wme(s,E),createNotation:typeof i.reducers=="function"};Tme(_)?kme(N,_,d,t):_me(N,_,d)});function f(){const[E={},_=[],N=void 0]=typeof i.extraReducers=="function"?O9(i.extraReducers):[i.extraReducers],T={...E,...u.sliceCaseReducersByType};return vme(i.initialState,C=>{for(let O in T)C.addCase(O,T[O]);for(let O of u.sliceMatchers)C.addMatcher(O.matcher,O.reducer);for(let O of _)C.addMatcher(O.matcher,O.reducer);N&&C.addDefaultCase(N)})}const h=E=>E,p=new Map,m=new WeakMap;let g;function v(E,_){return g||(g=f()),g(E,_)}function y(){return g||(g=f()),g.getInitialState()}function x(E,_=!1){function N(C){let O=C[E];return typeof O>"u"&&_&&(O=Y0(m,N,y)),O}function T(C=h){const O=Y0(p,_,()=>new WeakMap);return Y0(O,C,()=>{const A={};for(const[D,k]of Object.entries(i.selectors??{}))A[D]=Sme(k,C,()=>Y0(m,C,y),_);return A})}return{reducerPath:E,getSelectors:T,get selectors(){return T(N)},selectSlice:N}}const w={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...x(a),injectInto(E,{reducerPath:_,...N}={}){const T=_??a;return E.inject({reducerPath:T,reducer:v},N),{...w,...x(T,!0)}}};return w}}function Sme(e,t,n,r){function i(s,...a){let o=t(s);return typeof o>"u"&&r&&(o=n()),e(o,...a)}return i.unwrapped=e,i}var es=Eme();function Nme(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function _me({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Cme(r))throw new Error(Hi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Cs(e,a):Cs(e))}function Tme(e){return e._reducerDefinitionType==="asyncThunk"}function Cme(e){return e._reducerDefinitionType==="reducerWithPrepare"}function kme({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Hi(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=n,f=i(e,s,d);r.exposeAction(t,f),a&&r.addCase(f.fulfilled,a),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:a||X0,pending:o||X0,rejected:l||X0,settled:u||X0})}function X0(){}var Ame="task",j9="listener",I9="completed",K2="cancelled",Ome=`task-${K2}`,jme=`task-${I9}`,BT=`${j9}-${K2}`,Ime=`${j9}-${I9}`,pw=class{constructor(e){Tc(this,"name","TaskAbortError");Tc(this,"message");this.code=e,this.message=`${Ame} ${K2} (reason: ${e})`}},G2=(e,t)=>{if(typeof e!="function")throw new TypeError(Hi(32))},fx=()=>{},P9=(e,t=fx)=>(e.catch(t),e),D9=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),lu=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},cu=e=>{if(e.aborted){const{reason:t}=e;throw new pw(t)}};function M9(e,t){let n=fx;return new Promise((r,i)=>{const s=()=>i(new pw(e.reason));if(e.aborted){s();return}n=D9(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=fx})}var Pme=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof pw?"cancelled":"rejected",error:n}}finally{t==null||t()}},hx=e=>t=>P9(M9(e,t).then(n=>(cu(e),n))),R9=e=>{const t=hx(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:ef}=Object,xR={},mw="listenerMiddleware",Dme=(e,t)=>{const n=r=>D9(e,()=>lu(r,e.reason));return(r,i)=>{G2(r);const s=new AbortController;n(s);const a=Pme(async()=>{cu(e),cu(s.signal);const o=await r({pause:hx(s.signal),delay:R9(s.signal),signal:s.signal});return cu(s.signal),o},()=>lu(s,jme));return i!=null&&i.autoJoin&&t.push(a.catch(fx)),{result:hx(e)(a),cancel(){lu(s,Ome)}}}},Mme=(e,t)=>{const n=async(r,i)=>{cu(t);let s=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await M9(t,Promise.race(o));return cu(t),l}finally{s()}};return(r,i)=>P9(n(r,i))},L9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Cs(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Hi(21));return G2(s),{predicate:i,type:t,effect:s}},B9=ef(e=>{const{type:t,predicate:n,effect:r}=L9(e);return{id:xme(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Hi(22))}}},{withTypes:()=>B9}),bR=(e,t)=>{const{type:n,effect:r,predicate:i}=L9(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},FT=e=>{e.pending.forEach(t=>{lu(t,BT)})},Rme=e=>()=>{e.forEach(FT),e.clear()},wR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},F9=ef(Cs(`${mw}/add`),{withTypes:()=>F9}),Lme=Cs(`${mw}/removeAll`),$9=ef(Cs(`${mw}/remove`),{withTypes:()=>$9}),Bme=(...e)=>{console.error(`${mw}/error`,...e)},$g=(e={})=>{const t=new Map,{extra:n,onError:r=Bme}=e;G2(r);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&FT(d)}),s=d=>{const f=bR(t,d)??B9(d);return i(f)};ef(s,{withTypes:()=>s});const a=d=>{const f=bR(t,d);return f&&(f.unsubscribe(),d.cancelActive&&FT(f)),!!f};ef(a,{withTypes:()=>a});const o=async(d,f,h,p)=>{const m=new AbortController,g=Mme(s,m.signal),v=[];try{d.pending.add(m),await Promise.resolve(d.effect(f,ef({},h,{getOriginalState:p,condition:(y,x)=>g(y,x).then(Boolean),take:g,delay:R9(m.signal),pause:hx(m.signal),extra:n,signal:m.signal,fork:Dme(m.signal,v),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,x,w)=>{y!==m&&(lu(y,BT),w.delete(y))})},cancel:()=>{lu(m,BT),d.pending.delete(m)},throwIfCancelled:()=>{cu(m.signal)}})))}catch(y){y instanceof pw||wR(r,y,{raisedBy:"effect"})}finally{await Promise.all(v),lu(m,Ime),d.pending.delete(m)}},l=Rme(t);return{middleware:d=>f=>h=>{if(!b9(h))return f(h);if(F9.match(h))return s(h.payload);if(Lme.match(h)){l();return}if($9.match(h))return a(h.payload);let p=d.getState();const m=()=>{if(p===xR)throw new Error(Hi(23));return p};let g;try{if(g=f(h),t.size>0){const v=d.getState(),y=Array.from(t.values());for(const x of y){let w=!1;try{w=x.predicate(h,v,p)}catch(E){w=!1,wR(r,E,{raisedBy:"predicate"})}w&&o(x,h,d,m)}}}finally{p=xR}return g},startListening:s,stopListening:a,clearListeners:l}};function Hi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Fme={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},U9=es({name:"chartLayout",initialState:Fme,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:$me,setLayout:Ume,setChartSize:zme,setScale:Hme}=U9.actions,Wme=U9.reducer;function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){Vme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vme(e,t,n){return(t=qme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qme(e){var t=Kme(e,"string");return typeof t=="symbol"?t:t+""}function Kme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var px=Math.PI/180,Gme=e=>e*180/Math.PI,Pn=(e,t,n,r)=>({x:e+Math.cos(-px*r)*n,y:t+Math.sin(-px*r)*n}),z9=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Yme=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},Xme=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,a=Yme({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:Gme(l),angleInRadian:l}},Qme=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},Jme=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return e+a*360},Zme=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:s}=Xme({x:n,y:r},t),{innerRadius:a,outerRadius:o}=t;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=Qme(t),d=s,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?SR(SR({},t),{},{radius:i,angle:Jme(d,t)}):null};function H9(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function NR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(n),!0).forEach(function(r){ege(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ege(e,t,n){return(t=tge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tge(e){var t=nge(e,"string");return typeof t=="symbol"?t:t+""}function nge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function St(e,t,n){return Ut(e)||Ut(t)?n:Oa(t)?Ql(e,t,n):typeof t=="function"?t(e):n}var rge=(e,t,n,r,i)=>{var s,a=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?n[l-1].coordinate:n[o-1].coordinate,d=n[l].coordinate,f=l>=o-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(er(d-u)!==er(f-d)){var p=[];if(er(f-d)===er(i[1]-i[0])){h=f;var m=d+i[1]-i[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{h=u;var g=f+i[1]-i[0];p[0]=Math.min(d,(g+d)/2),p[1]=Math.max(d,(g+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:a}=n[l]);break}}else{var y=Math.min(u,f),x=Math.max(u,f);if(e>(y+d)/2&&e<=(x+d)/2){({index:a}=n[l]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:a}=t[w]);break}}return a},ige=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=t;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&je(e[s]))return fs(fs({},e),{},{[s]:e[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&je(e[a]))return fs(fs({},e),{},{[a]:e[a]+(i||0)})}return e},La=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",W9=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,s,a=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(s=!0),o.coordinate));return i||a.push(t),s||a.push(n),a},V9=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!a)return null;var m=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=i==="category"&&a.bandwidth?a.bandwidth()/m:0;if(g=p==="angleAxis"&&s&&s.length>=2?er(s[0]-s[1])*2*g:g,f||h){var v=(f||h||[]).map((y,x)=>{var w=r?r.indexOf(y):y;return{coordinate:a(w)+g,value:y,offset:g,index:x}});return v.filter(y=>!wi(y.coordinate))}return l&&u?u.map((y,x)=>({coordinate:a(y)+g,value:y,index:x,offset:g})):a.ticks&&d!=null?a.ticks(d).map((y,x)=>({coordinate:a(y)+g,value:y,offset:g,index:x})):a.domain().map((y,x)=>({coordinate:a(y)+g,value:r?r[y]:y,index:x,offset:g}))},_R=1e-4,sge=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-_R,s=Math.max(r[0],r[1])+_R,a=e(t[0]),o=e(t[n-1]);(a<i||a>s||o<i||o>s)&&e.domain([t[0],t[n-1]])}},age=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!je(e[0])||e[0]<n)&&(i[0]=n),(!je(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},oge=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,a=0;a<t;++a){var o=wi(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1])}},lge=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var a=wi(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=i,e[s][n][1]=i+a,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},cge={sign:oge,expand:Jhe,none:jf,silhouette:Zhe,wiggle:epe,positive:lge},uge=(e,t,n)=>{var r=cge[n],i=Qhe().keys(t).value((s,a)=>+St(s,a,0)).order(OT).offset(r);return i(e)};function q9(e){return e==null?void 0:String(e)}function mx(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ut(i[t.dataKey])){var o=Sz(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=St(i,Ut(a)?t.dataKey:a);return Ut(l)?null:t.scale(l)}var TR=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return n[a]?n[a].coordinate+r:null;var o=St(s,t.dataKey,t.scale.domain()[a]);return Ut(o)?null:t.scale(o)-i/2+r},dge=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},fge=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},hge=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pge=(e,t,n)=>{if(e!=null)return hge(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:a}=s,o=a.reduce((l,u)=>{var d=H9(u,t,n),f=fge(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},CR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ku=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=cw(t,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min((l.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function AR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return fs(fs({},t),{},{dataKey:n,payload:r,value:i,name:s})}function fc(e,t){if(e)return String(e);if(typeof t=="string")return t}function mge(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return r?Zme({x:e,y:t},r):null}var gge=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=r;return fs(fs(fs({},r),Pn(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return fs(fs(fs({},r),Pn(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},vge=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ro=e=>e.layout.width,Lo=e=>e.layout.height,yge=e=>e.layout.scale,K9=e=>e.layout.margin,Y2=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),X2=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),G9="data-recharts-item-index",Y9="data-recharts-item-data-key",gw=60;function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(r){xge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xge(e,t,n){return(t=bge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bge(e){var t=wge(e,"string");return typeof t=="symbol"?t:t+""}function wge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ege=e=>e.brush.height,Wn=Z([Ro,Lo,K9,Ege,Y2,X2,v9,Vpe],(e,t,n,r,i,s,a,o)=>{var l=s.reduce((m,g)=>{var{orientation:v}=g;if(!g.mirror&&!g.hide){var y=typeof g.width=="number"?g.width:gw;return Go(Go({},m),{},{[v]:m[v]+y})}return m},{left:n.left||0,right:n.right||0}),u=i.reduce((m,g)=>{var{orientation:v}=g;return!g.mirror&&!g.hide?Go(Go({},m),{},{[v]:Ql(m,"".concat(v))+g.height}):m},{top:n.top||0,bottom:n.bottom||0}),d=Go(Go({},u),l),f=d.bottom;d.bottom+=r,d=ige(d,a,o);var h=e-d.left-d.right,p=t-d.top-d.bottom;return Go(Go({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(p,0)})}),Sge=Z(Wn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),X9=Z(Ro,Lo,(e,t)=>({x:0,y:0,width:e,height:t})),Nge=b.createContext(null),Ur=()=>b.useContext(Nge)!=null,vw=e=>e.brush,yw=Z([vw,Wn,K9],(e,t,n)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:je(e.width)?e.width:t.width})),Q2=()=>{var e,t=Ur(),n=Be(Sge),r=Be(yw),i=(e=Be(vw))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},_ge={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Q9=()=>{var e;return(e=Be(Wn))!==null&&e!==void 0?e:_ge},J9=()=>Be(Ro),Z9=()=>Be(Lo),ct=e=>e.layout.layoutType,Ug=()=>Be(ct),Tge={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eH=es({name:"legend",initialState:Tge,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=po(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:$Ke,setLegendSettings:UKe,addLegendPayload:tH,removeLegendPayload:nH}=eH.actions,Cge=eH.reducer;function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$T.apply(null,arguments)}function jR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(n),!0).forEach(function(r){kge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kge(e,t,n){return(t=Age(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Age(e){var t=Oge(e,"string");return typeof t=="symbol"?t:t+""}function Oge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jge(e){return Array.isArray(e)&&Oa(e[0])&&Oa(e[1])?e.join(" ~ "):e}var Ige=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(s&&s.length){var _={padding:0,margin:0},N=(o?cw(s,o):s).map((T,C)=>{if(T.type==="none")return null;var O=T.formatter||a||jge,{value:A,name:D}=T,k=A,P=D;if(O){var B=O(A,D,T,C,s);if(Array.isArray(B))[k,P]=B;else if(B!=null)k=B;else return null}var L=PS({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:L},Oa(P)?b.createElement("span",{className:"recharts-tooltip-item-name"},P):null,Oa(P)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},k),b.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:_},N)}return null},m=PS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=PS({margin:0},i),v=!Ut(d),y=v?d:"",x=ft("recharts-default-tooltip",l),w=ft("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(y=f(d,s));var E=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",$T({className:x,style:m},E),b.createElement("p",{className:w,style:g},b.isValidElement(y)?y:"".concat(y)),p())},Xh="recharts-tooltip-wrapper",Pge={visibility:"hidden"};function Dge(e){var{coordinate:t,translateX:n,translateY:r}=e;return ft(Xh,{["".concat(Xh,"-right")]:je(n)&&t&&je(t.x)&&n>=t.x,["".concat(Xh,"-left")]:je(n)&&t&&je(t.x)&&n<t.x,["".concat(Xh,"-bottom")]:je(r)&&t&&je(t.y)&&r>=t.y,["".concat(Xh,"-top")]:je(r)&&t&&je(t.y)&&r<t.y})}function IR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(s&&je(s[r]))return s[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return a[r]?d:f;var h=l[r];if(h==null)return 0;if(a[r]){var p=d,m=h;return p<m?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var g=f+o,v=h+u;return g>v?Math.max(d,h):Math.max(f,h)}function Mge(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Rge(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=e,u,d,f;return a.height>0&&a.width>0&&n?(d=IR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=IR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Mge({translateX:d,translateY:f,useTranslate3d:o})):u=Pge,{cssProperties:u,cssClasses:Dge({translateX:d,translateY:f,coordinate:n})}}function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(n),!0).forEach(function(r){UT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UT(e,t,n){return(t=Lge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lge(e){var t=Bge(e,"string");return typeof t=="symbol"?t:t+""}function Bge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fge extends b.PureComponent{constructor(){super(...arguments),UT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),UT(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=Rge({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),E=y?{}:Q0(Q0({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),_=Q0(Q0({},E),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:_,ref:v},s)}}var $ge=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hc={isSsr:$ge()},rH=()=>Be(e=>e.rootProps.accessibilityLayer);function Er(e){return Number.isFinite(e)}function Df(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zT.apply(null,arguments)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){Uge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uge(e,t,n){return(t=zge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zge(e){var t=Hge(e,"string");return typeof t=="symbol"?t:t+""}function Hge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RR={curveBasisClosed:$he,curveBasisOpen:Uhe,curveBasis:Fhe,curveBumpX:_he,curveBumpY:The,curveLinearClosed:zhe,curveLinear:nw,curveMonotoneX:Hhe,curveMonotoneY:Whe,curveNatural:Vhe,curveStep:qhe,curveStepAfter:Ghe,curveStepBefore:Khe},J0=e=>Er(e.x)&&Er(e.y),Qh=e=>e.x,Jh=e=>e.y,Wge=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Bg(e));return(n==="curveMonotone"||n==="curveBump")&&t?RR["".concat(n).concat(t==="vertical"?"Y":"X")]:RR[n]||nw},Vge=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,a=Wge(t,i),o=s?n.filter(J0):n,l;if(Array.isArray(r)){var u=s?r.filter(f=>J0(f)):r,d=o.map((f,h)=>MR(MR({},f),{},{base:u[h]}));return i==="vertical"?l=q0().y(Jh).x1(Qh).x0(f=>f.base.x):l=q0().x(Qh).y1(Jh).y0(f=>f.base.y),l.defined(J0).curve(a),l(d)}return i==="vertical"&&je(r)?l=q0().y(Jh).x1(Qh).x0(r):je(r)?l=q0().x(Qh).y1(Jh).y0(r):l=Iz().x(Qh).y(Jh),l.defined(J0).curve(a),l(o)},tf=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Vge(e):r;return b.createElement("path",zT({},sa(e),A2(e),{className:ft("recharts-curve",t),d:s===null?void 0:s,ref:i}))},qge=["x","y","top","left","width","height","className"];function HT(){return HT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HT.apply(null,arguments)}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(r){Gge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gge(e,t,n){return(t=Yge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yge(e){var t=Xge(e,"string");return typeof t=="symbol"?t:t+""}function Xge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qge(e,t){if(e==null)return{};var n,r,i=Jge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zge=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),e0e=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=e,l=Qge(e,qge),u=Kge({x:t,y:n,top:r,left:i,width:s,height:a},l);return!je(t)||!je(n)||!je(s)||!je(a)||!je(r)||!je(i)?null:b.createElement("path",HT({},$t(u,!0),{className:ft("recharts-cross",o),d:Zge(t,n,s,a,r,i)}))};function t0e(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(n),!0).forEach(function(r){r0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r0e(e,t,n){return(t=i0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i0e(e){var t=s0e(e,"string");return typeof t=="symbol"?t:t+""}function s0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ai(e,t){var n=n0e({},e),r=t,i=Object.keys(t),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}var iH={},sH={},aH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t})(aH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aH,n=B2,r=aw,i=ow,s=sw;function a(u,d,f){return o(u,d,void 0,void 0,void 0,void 0,f)}function o(u,d,f,h,p,m,g){const v=g(u,d,f,h,p,m);if(v!==void 0)return v;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return l(u,d,m,g)}return l(u,d,m,g)}function l(u,d,f,h){if(Object.is(u,d))return!0;let p=r.getTag(u),m=r.getTag(d);if(p===i.argumentsTag&&(p=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),p!==m)return!1;switch(p){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const y=u.valueOf(),x=d.valueOf();return s.eq(y,x)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const g=f.get(u),v=f.get(d);if(g!=null&&v!=null)return g===d;f.set(u,d),f.set(d,u);try{switch(p){case i.mapTag:{if(u.size!==d.size)return!1;for(const[y,x]of u.entries())if(!d.has(y)||!o(x,d.get(y),y,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const y=Array.from(u.values()),x=Array.from(d.values());for(let w=0;w<y.length;w++){const E=y[w],_=x.findIndex(N=>o(E,N,void 0,u,d,f,h));if(_===-1)return!1;x.splice(_,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let y=0;y<u.length;y++)if(!o(u[y],d[y],y,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:l(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(l(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const x=[...Object.keys(u),...n.getSymbols(u)],w=[...Object.keys(d),...n.getSymbols(d)];if(x.length!==w.length)return!1;for(let E=0;E<x.length;E++){const _=x[E],N=u[_];if(!Object.hasOwn(d,_))return!1;const T=d[_];if(!o(N,T,_,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(sH);var oH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(oH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sH,n=oH;function r(i,s){return t.isEqualWith(i,s,n.noop)}e.isEqual=r})(iH);var a0e=iH.isEqual;const o0e=Br(a0e);var gx=1e-4,lH=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],cH=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),FR=(e,t)=>n=>{var r=lH(e,t);return cH(r,n)},l0e=(e,t)=>n=>{var r=lH(e,t),i=[...r.map((s,a)=>s*a).slice(1),0];return cH(i,n)},$R=function(){for(var t,n,r,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,r,n,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else a.length===4&&([t,r,n,i]=a);var u=FR(t,n),d=FR(r,i),f=l0e(t,n),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,v=g,y=0;y<8;++y){var x=u(v)-g,w=f(v);if(Math.abs(x-g)<gx||w<gx)return d(v);v=h(v-x/w)}return d(v)};return p.isStepper=!1,p},c0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(a,o,l)=>{var u=-(a-o)*n,d=l*r,f=l+(u-d)*i/1e3,h=l*i/1e3+a;return Math.abs(h-o)<gx&&Math.abs(f)<gx?[o,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},uH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $R(e);case"spring":return c0e();default:if(e.split("(")[0]==="cubic-bezier")return $R(e)}return typeof e=="function"?e:null};function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(r){u0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u0e(e,t,n){return(t=d0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d0e(e){var t=f0e(e,"string");return typeof t=="symbol"?t:t+""}function f0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h0e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),p0e=(e,t,n)=>e.map(r=>"".concat(h0e(r)," ").concat(t,"ms ").concat(n)).join(","),m0e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Fm=(e,t)=>Object.keys(t).reduce((n,r)=>zR(zR({},n),{},{[r]:e(r,t[r])}),{});function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(r){g0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g0e(e,t,n){return(t=v0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v0e(e){var t=y0e(e,"string");return typeof t=="symbol"?t:t+""}function y0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx=(e,t,n)=>e+(t-e)*n,WT=e=>{var{from:t,to:n}=e;return t!==n},dH=(e,t,n)=>{var r=Fm((i,s)=>{if(WT(s)){var[a,o]=e(s.from,s.to,s.velocity);return pr(pr({},s),{},{from:a,velocity:o})}return s},t);return n<1?Fm((i,s)=>WT(s)?pr(pr({},s),{},{velocity:vx(s.velocity,r[i].velocity,n),from:vx(s.from,r[i].from,n)}):s,t):dH(e,r,n-1)};function x0e(e,t,n,r,i,s){var a,o=r.reduce((h,p)=>pr(pr({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Fm((h,p)=>p.from,o),u=()=>!Object.values(o).filter(WT).length,d=null,f=h=>{a||(a=h);var p=h-a,m=p/n.dt;o=dH(n,o,m),i(pr(pr(pr({},e),t),l())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function b0e(e,t,n,r,i,s,a){var o=null,l=i.reduce((f,h)=>pr(pr({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/r,p=Fm((g,v)=>vx(...v,n(h)),l);if(s(pr(pr(pr({},e),t),p)),h<1)o=a.setTimeout(d);else{var m=Fm((g,v)=>vx(...v,n(1)),l);s(pr(pr(pr({},e),t),m))}};return()=>(o=a.setTimeout(d),()=>{o()})}const fH=(e,t,n,r,i,s)=>{var a=m0e(e,t);return n.isStepper===!0?x0e(e,t,n,a,i,s):b0e(e,t,n,r,a,i,s)};function w0e(e){var t,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(s.bind(null,u),l);return}s(l),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class E0e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function S0e(){return w0e(new E0e)}var N0e=b.createContext(S0e);function hH(e,t){var n=b.useContext(N0e);return b.useMemo(()=>t??n(e),[e,t,n])}var _0e=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function VT(){return VT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VT.apply(null,arguments)}function T0e(e,t){if(e==null)return{};var n,r,i=C0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){Yc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yc(e,t,n){return(t=k0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k0e(e){var t=A0e(e,"string");return typeof t=="symbol"?t:t+""}function A0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class J2 extends b.PureComponent{constructor(t,n){super(t,n),Yc(this,"mounted",!1),Yc(this,"manager",void 0),Yc(this,"stopJSAnimation",null),Yc(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:a,children:o,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:l}=this.state;if(r){if(!n){var u={style:i?{[i]:a}:a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(u);return}if(!(o0e(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?o:t.to;if(this.state&&l){var h={style:i?{[i]:f}:f};(i&&l[i]!==f||!i&&l!==f)&&this.setState(h)}this.runAnimation(Yo(Yo({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l}=t,u=fH(n,r,uH(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([l,a,d,i,o])}runAnimation(t){var{begin:n,duration:r,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:l,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:s}:s,f=p0e(Object.keys(d),r,a);this.manager.start([o,n,Yo(Yo({},d),{},{transition:f}),r,l])}render(){var t=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:a,isActive:o,from:l,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:m}=t,g=T0e(t,_0e),v=b.Children.count(n),y=this.state.style;if(typeof n=="function")return n(y);if(!o||v===0||i<=0)return n;var x=w=>{var{style:E={},className:_}=w.props,N=b.cloneElement(w,Yo(Yo({},g),{},{style:Yo(Yo({},E),y),className:_}));return N};return v===1?x(b.Children.only(n)):b.createElement("div",null,b.Children.map(n,w=>x(w)))}}Yc(J2,"displayName","Animate");Yc(J2,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function yx(e){var t,n=hH((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return b.createElement(J2,VT({},e,{animationManager:n}))}function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(null,arguments)}var VR=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+n-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+a*d[1])),u+="L ".concat(e+n,",").concat(t+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+n-o*d[2],",").concat(t+r)),u+="L ".concat(e+o*d[3],",").concat(t+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var p=Math.min(s,i);u="M ".concat(e,",").concat(t+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+n-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n,",").concat(t+a*p,`
            L `).concat(e+n,",").concat(t+r-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n-o*p,",").concat(t+r,`
            L `).concat(e+o*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+r-a*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},O0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pH=e=>{var t=ai(e,O0e),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t;if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var v=ft("recharts-rectangle",d);return g?b.createElement(yx,{canBegin:r>0,from:{width:o,height:l,x:s,y:a},to:{width:o,height:l,x:s,y:a},duration:h,animationEasing:f,isActive:g},y=>{var{width:x,height:w,x:E,y:_}=y;return b.createElement(yx,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:m,easing:f},b.createElement("path",xx({},$t(t,!0),{className:v,d:VR(E,_,x,w,u),ref:n})))}):b.createElement("path",xx({},$t(t,!0),{className:v,d:VR(s,a,o,l,u)}))};function mH(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,a=Pn(t,n,r,i),o=Pn(t,n,r,s);return{points:[a,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function qT(){return qT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qT.apply(null,arguments)}var j0e=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Z0=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=e,u=o*(a?1:-1)+r,d=Math.asin(o/u)/px,f=l?i:i+s*d,h=Pn(t,n,u,f),p=Pn(t,n,r,f),m=l?i-s*d:i,g=Pn(t,n,u*Math.cos(d*px),m);return{center:h,circleTangency:p,lineTangency:g,theta:d}},gH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=e,o=j0e(s,a),l=s+o,u=Pn(t,n,i,s),d=Pn(t,n,i,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var h=Pn(t,n,r,s),p=Pn(t,n,r,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},I0e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=er(u-l),{circleTangency:f,lineTangency:h,theta:p}=Z0({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:g,theta:v}=Z0({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(l-u):Math.abs(l-u)-p-v;if(y<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):gH({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:E,theta:_}=Z0({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:N,lineTangency:T,theta:C}=Z0({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),O=o?Math.abs(l-u):Math.abs(l-u)-_-C;if(O<0&&s===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x},P0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vH=e=>{var t=ai(e,P0e),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=ft("recharts-sector",f),p=s-i,m=ei(a,p,0,!0),g;return m>0&&Math.abs(u-d)<360?g=I0e({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):g=gH({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),b.createElement("path",qT({},$t(t,!0),{className:h,d:g}))};function D0e(e,t,n){var r,i,s,a;if(e==="horizontal")r=t.x,s=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:u,outerRadius:d,angle:f}=t,h=Pn(o,l,u,f),p=Pn(o,l,d,f);r=h.x,i=h.y,s=p.x,a=p.y}else return mH(t);return[{x:r,y:i},{x:s,y:a}]}var yH={},xH={},bH={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z2;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(bH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bH;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(xH);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2,n=xH;function r(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}e.range=r})(yH);var M0e=yH.range;const wH=Br(M0e);function Ul(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function R0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Z2(e){let t,n,r;e.length!==2?(t=Ul,n=(o,l)=>Ul(e(o),l),r=(o,l)=>e(o)-l):(t=e===Ul||e===R0e?e:L0e,n=e,r=e);function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function L0e(){return 0}function EH(e){return e===null?NaN:+e}function*B0e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const F0e=Z2(Ul),zg=F0e.right;Z2(EH).center;class qR extends Map{constructor(t,n=z0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(KR(this,t))}has(t){return super.has(KR(this,t))}set(t,n){return super.set($0e(this,t),n)}delete(t){return super.delete(U0e(this,t))}}function KR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function U0e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function z0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function H0e(e=Ul){if(e===Ul)return SH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function SH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const W0e=Math.sqrt(50),V0e=Math.sqrt(10),q0e=Math.sqrt(2);function bx(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=W0e?10:s>=V0e?5:s>=q0e?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?bx(e,t,n*2):[o,l,u]}function KT(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?bx(t,e,n):bx(e,t,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function GT(e,t,n){return t=+t,e=+e,n=+n,bx(e,t,n)[2]}function YT(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?GT(t,e,n):GT(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function GR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function YR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NH(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?SH:H0e(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/l+h)),m=Math.min(r,Math.floor(t+(l-u)*f/l+h));NH(e,t,p,m,i)}const s=e[t];let a=n,o=r;for(Zh(e,n,t),i(e[r],s)>0&&Zh(e,n,r);a<o;){for(Zh(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[n],s)===0?Zh(e,n,o):(++o,Zh(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Zh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function K0e(e,t,n){if(e=Float64Array.from(B0e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return YR(e);if(t>=1)return GR(e);var r,i=(r-1)*t,s=Math.floor(i),a=GR(NH(e,s).subarray(0,s+1)),o=YR(e.subarray(s+1));return a+(o-a)*(i-s)}}function G0e(e,t,n=EH){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),o=+n(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function Y0e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function js(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const XT=Symbol("implicit");function eO(){var e=new qR,t=[],n=[],r=XT;function i(s){let a=e.get(s);if(a===void 0){if(r!==XT)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new qR;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return eO(t,n).unknown(r)},js.apply(i,arguments),i}function tO(){var e=eO().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;s=(g-m)/Math.max(1,h-l+u*2),o&&(s=Math.floor(s)),m+=(g-m-s*(h-l))*d,a=s*(1-l),o&&(m=Math.round(m),a=Math.round(a));var v=Y0e(h).map(function(y){return m+s*y});return n(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return tO(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},js.apply(f(),arguments)}function _H(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _H(t())},e}function X0e(){return _H(tO.apply(null,arguments).paddingInner(1))}function nO(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function TH(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Hg(){}var $m=.7,wx=1/$m,nf="\\s*([+-]?\\d+)\\s*",Um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Q0e=/^#([0-9a-f]{3,8})$/,J0e=new RegExp(`^rgb\\(${nf},${nf},${nf}\\)$`),Z0e=new RegExp(`^rgb\\(${ka},${ka},${ka}\\)$`),eve=new RegExp(`^rgba\\(${nf},${nf},${nf},${Um}\\)$`),tve=new RegExp(`^rgba\\(${ka},${ka},${ka},${Um}\\)$`),nve=new RegExp(`^hsl\\(${Um},${ka},${ka}\\)$`),rve=new RegExp(`^hsla\\(${Um},${ka},${ka},${Um}\\)$`),XR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nO(Hg,zm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QR,formatHex:QR,formatHex8:ive,formatHsl:sve,formatRgb:JR,toString:JR});function QR(){return this.rgb().formatHex()}function ive(){return this.rgb().formatHex8()}function sve(){return CH(this).formatHsl()}function JR(){return this.rgb().formatRgb()}function zm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Q0e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ZR(t):n===3?new gi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ev(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ev(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=J0e.exec(e))?new gi(t[1],t[2],t[3],1):(t=Z0e.exec(e))?new gi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eve.exec(e))?ev(t[1],t[2],t[3],t[4]):(t=tve.exec(e))?ev(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nve.exec(e))?nL(t[1],t[2]/100,t[3]/100,1):(t=rve.exec(e))?nL(t[1],t[2]/100,t[3]/100,t[4]):XR.hasOwnProperty(e)?ZR(XR[e]):e==="transparent"?new gi(NaN,NaN,NaN,0):null}function ZR(e){return new gi(e>>16&255,e>>8&255,e&255,1)}function ev(e,t,n,r){return r<=0&&(e=t=n=NaN),new gi(e,t,n,r)}function ave(e){return e instanceof Hg||(e=zm(e)),e?(e=e.rgb(),new gi(e.r,e.g,e.b,e.opacity)):new gi}function QT(e,t,n,r){return arguments.length===1?ave(e):new gi(e,t,n,r??1)}function gi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}nO(gi,QT,TH(Hg,{brighter(e){return e=e==null?wx:Math.pow(wx,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$m:Math.pow($m,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gi(uu(this.r),uu(this.g),uu(this.b),Ex(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eL,formatHex:eL,formatHex8:ove,formatRgb:tL,toString:tL}));function eL(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}`}function ove(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}${Xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function tL(){const e=Ex(this.opacity);return`${e===1?"rgb(":"rgba("}${uu(this.r)}, ${uu(this.g)}, ${uu(this.b)}${e===1?")":`, ${e})`}`}function Ex(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xc(e){return e=uu(e),(e<16?"0":"")+e.toString(16)}function nL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vs(e,t,n,r)}function CH(e){if(e instanceof Vs)return new Vs(e.h,e.s,e.l,e.opacity);if(e instanceof Hg||(e=zm(e)),!e)return new Vs;if(e instanceof Vs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Vs(a,o,l,e.opacity)}function lve(e,t,n,r){return arguments.length===1?CH(e):new Vs(e,t,n,r??1)}function Vs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nO(Vs,lve,TH(Hg,{brighter(e){return e=e==null?wx:Math.pow(wx,e),new Vs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$m:Math.pow($m,e),new Vs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new gi(DS(e>=240?e-240:e+120,i,r),DS(e,i,r),DS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Vs(rL(this.h),tv(this.s),tv(this.l),Ex(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ex(this.opacity);return`${e===1?"hsl(":"hsla("}${rL(this.h)}, ${tv(this.s)*100}%, ${tv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rL(e){return e=(e||0)%360,e<0?e+360:e}function tv(e){return Math.max(0,Math.min(1,e||0))}function DS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const rO=e=>()=>e;function cve(e,t){return function(n){return e+n*t}}function uve(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dve(e){return(e=+e)==1?kH:function(t,n){return n-t?uve(t,n,e):rO(isNaN(t)?n:t)}}function kH(e,t){var n=t-e;return n?cve(e,n):rO(isNaN(e)?t:e)}const iL=function e(t){var n=dve(t);function r(i,s){var a=n((i=QT(i)).r,(s=QT(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=kH(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function fve(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function hve(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pve(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=fh(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function mve(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sx(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gve(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=fh(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var JT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,MS=new RegExp(JT.source,"g");function vve(e){return function(){return e}}function yve(e){return function(t){return e(t)+""}}function xve(e,t){var n=JT.lastIndex=MS.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(r=JT.exec(e))&&(i=MS.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Sx(r,i)})),n=MS.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?yve(l[0].x):vve(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function fh(e,t){var n=typeof t,r;return t==null||n==="boolean"?rO(t):(n==="number"?Sx:n==="string"?(r=zm(t))?(t=r,iL):xve:t instanceof zm?iL:t instanceof Date?mve:hve(t)?fve:Array.isArray(t)?pve:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gve:Sx)(e,t)}function iO(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bve(e,t){t===void 0&&(t=e,e=fh);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function wve(e){return function(){return e}}function Nx(e){return+e}var sL=[0,1];function Jr(e){return e}function ZT(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:wve(isNaN(t)?NaN:.5)}function Eve(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Sve(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=ZT(i,r),s=n(a,s)):(r=ZT(r,i),s=n(s,a)),function(o){return s(r(o))}}function Nve(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=ZT(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var l=zg(e,o,1,r)-1;return s[l](i[l](o))}}function Wg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xw(){var e=sL,t=sL,n=fh,r,i,s,a=Jr,o,l,u;function d(){var h=Math.min(e.length,t.length);return a!==Jr&&(a=Eve(e[0],e[h-1])),o=h>2?Nve:Sve,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=o(t,e.map(r),Sx)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Nx),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=iO,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Jr,d()):a!==Jr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return r=h,i=p,d()}}function sO(){return xw()(Jr,Jr)}function _ve(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _x(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Mf(e){return e=_x(Math.abs(e)),e?e[1]:NaN}function Tve(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function Cve(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var kve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hm(e){if(!(t=kve.exec(e)))throw new Error("invalid format: "+e);var t;return new aO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hm.prototype=aO.prototype;function aO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ave(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var AH;function Ove(e,t){var n=_x(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(AH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+_x(e,Math.max(0,t+s-1))[0]}function aL(e,t){var n=_x(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_ve,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aL(e*100,t),r:aL,s:Ove,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lL(e){return e}var cL=Array.prototype.map,uL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jve(e){var t=e.grouping===void 0||e.thousands===void 0?lL:Tve(cL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?lL:Cve(cL.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Hm(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,y=f.width,x=f.comma,w=f.precision,E=f.trim,_=f.type;_==="n"?(x=!0,_="g"):oL[_]||(w===void 0&&(w=12),E=!0,_="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",T=g==="$"?r:/[%p]/.test(_)?a:"",C=oL[_],O=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(D){var k=N,P=T,B,L,j;if(_==="c")P=C(D)+P,D="";else{D=+D;var R=D<0||1/D<0;if(D=isNaN(D)?l:C(Math.abs(D),w),E&&(D=Ave(D)),R&&+D==0&&m!=="+"&&(R=!1),k=(R?m==="("?m:o:m==="-"||m==="("?"":m)+k,P=(_==="s"?uL[8+AH/3]:"")+P+(R&&m==="("?")":""),O){for(B=-1,L=D.length;++B<L;)if(j=D.charCodeAt(B),48>j||j>57){P=(j===46?i+D.slice(B+1):D.slice(B))+P,D=D.slice(0,B);break}}}x&&!v&&(D=t(D,1/0));var M=k.length+D.length+P.length,V=M<y?new Array(y-M+1).join(h):"";switch(x&&v&&(D=t(V+D,V.length?y-P.length:1/0),V=""),p){case"<":D=k+D+P+V;break;case"=":D=k+V+D+P;break;case"^":D=V.slice(0,M=V.length>>1)+k+D+P+V.slice(M);break;default:D=V+k+D+P;break}return s(D)}return A.toString=function(){return f+""},A}function d(f,h){var p=u((f=Hm(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Mf(h)/3)))*3,g=Math.pow(10,-m),v=uL[8+m/3];return function(y){return p(g*y)+v}}return{format:u,formatPrefix:d}}var nv,oO,OH;Ive({thousands:",",grouping:[3],currency:["$",""]});function Ive(e){return nv=jve(e),oO=nv.format,OH=nv.formatPrefix,nv}function Pve(e){return Math.max(0,-Mf(Math.abs(e)))}function Dve(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mf(t)/3)))*3-Mf(Math.abs(e)))}function Mve(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mf(t)-Mf(e))+1}function jH(e,t,n,r){var i=YT(e,t,n),s;switch(r=Hm(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Dve(i,a))&&(r.precision=s),OH(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Mve(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Pve(i))&&(r.precision=s-(r.type==="%")*2);break}}return oO(r)}function pc(e){var t=e.domain;return e.ticks=function(n){var r=t();return KT(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return jH(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=GT(a,o,n),u===l)return r[i]=a,r[s]=o,t(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function IH(){var e=sO();return e.copy=function(){return Wg(e,IH())},js.apply(e,arguments),pc(e)}function PH(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Nx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return PH(e).unknown(t)},e=arguments.length?Array.from(e,Nx):[0,1],pc(n)}function DH(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function dL(e){return Math.log(e)}function fL(e){return Math.exp(e)}function Rve(e){return-Math.log(-e)}function Lve(e){return-Math.exp(-e)}function Bve(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fve(e){return e===10?Bve:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $ve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hL(e){return(t,n)=>-e(-t,n)}function lO(e){const t=e(dL,fL),n=t.domain;let r=10,i,s;function a(){return i=$ve(r),s=Fve(r),n()[0]<0?(i=hL(i),s=hL(s),e(Rve,Lve)):e(dL,fL),t}return t.base=function(o){return arguments.length?(r=+o,a()):r},t.domain=function(o){return arguments.length?(n(o),a()):n()},t.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const v=o==null?10:+o;let y=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/s(-h):m*s(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/s(-h):m*s(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<v&&(y=KT(u,d,v))}else y=KT(h,p,Math.min(p-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Hm(l)).precision==null&&(l.trim=!0),l=oO(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(DH(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function MH(){const e=lO(xw()).domain([1,10]);return e.copy=()=>Wg(e,MH()).base(e.base()),js.apply(e,arguments),e}function pL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cO(e){var t=1,n=e(pL(t),mL(t));return n.constant=function(r){return arguments.length?e(pL(t=+r),mL(t)):t},pc(n)}function RH(){var e=cO(xw());return e.copy=function(){return Wg(e,RH()).constant(e.constant())},js.apply(e,arguments)}function gL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zve(e){return e<0?-e*e:e*e}function uO(e){var t=e(Jr,Jr),n=1;function r(){return n===1?e(Jr,Jr):n===.5?e(Uve,zve):e(gL(n),gL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},pc(t)}function dO(){var e=uO(xw());return e.copy=function(){return Wg(e,dO()).exponent(e.exponent())},js.apply(e,arguments),e}function Hve(){return dO.apply(null,arguments).exponent(.5)}function vL(e){return Math.sign(e)*e*e}function Wve(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function LH(){var e=sO(),t=[0,1],n=!1,r;function i(s){var a=Wve(e(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return e.invert(vL(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Nx)).map(vL)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return LH(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},js.apply(i,arguments),pc(i)}function BH(){var e=[],t=[],n=[],r;function i(){var a=0,o=Math.max(1,t.length);for(n=new Array(o-1);++a<o;)n[a-1]=G0e(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:t[zg(n,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ul),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return BH().domain(e).range(t).unknown(r)},js.apply(s,arguments)}function FH(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[zg(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return FH().domain([e,t]).range(i).unknown(s)},js.apply(pc(a),arguments)}function $H(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[zg(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return $H().domain(e).range(t).unknown(n)},js.apply(i,arguments)}const RS=new Date,LS=new Date;function Vn(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<a);return l},i.filter=s=>Vn(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(RS.setTime(+s),LS.setTime(+a),e(RS),e(LS),Math.floor(n(RS,LS))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Tx=Vn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Tx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Tx);Tx.range;const co=1e3,xs=co*60,uo=xs*60,_o=uo*24,fO=_o*7,yL=_o*30,BS=_o*365,Qc=Vn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getUTCSeconds());Qc.range;const hO=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co)},(e,t)=>{e.setTime(+e+t*xs)},(e,t)=>(t-e)/xs,e=>e.getMinutes());hO.range;const pO=Vn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xs)},(e,t)=>(t-e)/xs,e=>e.getUTCMinutes());pO.range;const mO=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co-e.getMinutes()*xs)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getHours());mO.range;const gO=Vn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getUTCHours());gO.range;const Vg=Vn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xs)/_o,e=>e.getDate()-1);Vg.range;const bw=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_o,e=>e.getUTCDate()-1);bw.range;const UH=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_o,e=>Math.floor(e/_o));UH.range;function Ku(e){return Vn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xs)/fO)}const ww=Ku(0),Cx=Ku(1),Vve=Ku(2),qve=Ku(3),Rf=Ku(4),Kve=Ku(5),Gve=Ku(6);ww.range;Cx.range;Vve.range;qve.range;Rf.range;Kve.range;Gve.range;function Gu(e){return Vn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/fO)}const Ew=Gu(0),kx=Gu(1),Yve=Gu(2),Xve=Gu(3),Lf=Gu(4),Qve=Gu(5),Jve=Gu(6);Ew.range;kx.range;Yve.range;Xve.range;Lf.range;Qve.range;Jve.range;const vO=Vn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vO.range;const yO=Vn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yO.range;const To=Vn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());To.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});To.range;const Co=Vn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Co.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Co.range;function zH(e,t,n,r,i,s){const a=[[Qc,1,co],[Qc,5,5*co],[Qc,15,15*co],[Qc,30,30*co],[s,1,xs],[s,5,5*xs],[s,15,15*xs],[s,30,30*xs],[i,1,uo],[i,3,3*uo],[i,6,6*uo],[i,12,12*uo],[r,1,_o],[r,2,2*_o],[n,1,fO],[t,1,yL],[t,3,3*yL],[e,1,BS]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function l(u,d,f){const h=Math.abs(d-u)/f,p=Z2(([,,v])=>v).right(a,h);if(p===a.length)return e.every(YT(u/BS,d/BS,f));if(p===0)return Tx.every(Math.max(YT(u,d,f),1));const[m,g]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[Zve,eye]=zH(Co,yO,Ew,UH,gO,pO),[tye,nye]=zH(To,vO,ww,Vg,mO,hO);function FS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $S(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ep(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function rye(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,l=e.shortMonths,u=tp(i),d=np(i),f=tp(s),h=np(s),p=tp(a),m=np(a),g=tp(o),v=np(o),y=tp(l),x=np(l),w={a:R,A:M,b:V,B:I,c:null,d:NL,e:NL,f:Tye,g:Rye,G:Bye,H:Sye,I:Nye,j:_ye,L:HH,m:Cye,M:kye,p:ee,q:W,Q:CL,s:kL,S:Aye,u:Oye,U:jye,V:Iye,w:Pye,W:Dye,x:null,X:null,y:Mye,Y:Lye,Z:Fye,"%":TL},E={a:$,A:xe,b:ke,B:Ae,c:null,d:_L,e:_L,f:Hye,g:Zye,G:txe,H:$ye,I:Uye,j:zye,L:VH,m:Wye,M:Vye,p:le,q:Se,Q:CL,s:kL,S:qye,u:Kye,U:Gye,V:Yye,w:Xye,W:Qye,x:null,X:null,y:Jye,Y:exe,Z:nxe,"%":TL},_={a:A,A:D,b:k,B:P,c:B,d:EL,e:EL,f:xye,g:wL,G:bL,H:SL,I:SL,j:mye,L:yye,m:pye,M:gye,p:O,q:hye,Q:wye,s:Eye,S:vye,u:lye,U:cye,V:uye,w:oye,W:dye,x:L,X:j,y:wL,Y:bL,Z:fye,"%":bye};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),E.x=N(n,E),E.X=N(r,E),E.c=N(t,E);function N(ne,de){return function(pe){var J=[],qe=-1,Oe=0,Qe=ne.length,G,oe,be;for(pe instanceof Date||(pe=new Date(+pe));++qe<Qe;)ne.charCodeAt(qe)===37&&(J.push(ne.slice(Oe,qe)),(oe=xL[G=ne.charAt(++qe)])!=null?G=ne.charAt(++qe):oe=G==="e"?" ":"0",(be=de[G])&&(G=be(pe,oe)),J.push(G),Oe=qe+1);return J.push(ne.slice(Oe,qe)),J.join("")}}function T(ne,de){return function(pe){var J=ep(1900,void 0,1),qe=C(J,ne,pe+="",0),Oe,Qe;if(qe!=pe.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(de&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Oe=$S(ep(J.y,0,1)),Qe=Oe.getUTCDay(),Oe=Qe>4||Qe===0?kx.ceil(Oe):kx(Oe),Oe=bw.offset(Oe,(J.V-1)*7),J.y=Oe.getUTCFullYear(),J.m=Oe.getUTCMonth(),J.d=Oe.getUTCDate()+(J.w+6)%7):(Oe=FS(ep(J.y,0,1)),Qe=Oe.getDay(),Oe=Qe>4||Qe===0?Cx.ceil(Oe):Cx(Oe),Oe=Vg.offset(Oe,(J.V-1)*7),J.y=Oe.getFullYear(),J.m=Oe.getMonth(),J.d=Oe.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Qe="Z"in J?$S(ep(J.y,0,1)).getUTCDay():FS(ep(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Qe+5)%7:J.w+J.U*7-(Qe+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,$S(J)):FS(J)}}function C(ne,de,pe,J){for(var qe=0,Oe=de.length,Qe=pe.length,G,oe;qe<Oe;){if(J>=Qe)return-1;if(G=de.charCodeAt(qe++),G===37){if(G=de.charAt(qe++),oe=_[G in xL?de.charAt(qe++):G],!oe||(J=oe(ne,pe,J))<0)return-1}else if(G!=pe.charCodeAt(J++))return-1}return J}function O(ne,de,pe){var J=u.exec(de.slice(pe));return J?(ne.p=d.get(J[0].toLowerCase()),pe+J[0].length):-1}function A(ne,de,pe){var J=p.exec(de.slice(pe));return J?(ne.w=m.get(J[0].toLowerCase()),pe+J[0].length):-1}function D(ne,de,pe){var J=f.exec(de.slice(pe));return J?(ne.w=h.get(J[0].toLowerCase()),pe+J[0].length):-1}function k(ne,de,pe){var J=y.exec(de.slice(pe));return J?(ne.m=x.get(J[0].toLowerCase()),pe+J[0].length):-1}function P(ne,de,pe){var J=g.exec(de.slice(pe));return J?(ne.m=v.get(J[0].toLowerCase()),pe+J[0].length):-1}function B(ne,de,pe){return C(ne,t,de,pe)}function L(ne,de,pe){return C(ne,n,de,pe)}function j(ne,de,pe){return C(ne,r,de,pe)}function R(ne){return a[ne.getDay()]}function M(ne){return s[ne.getDay()]}function V(ne){return l[ne.getMonth()]}function I(ne){return o[ne.getMonth()]}function ee(ne){return i[+(ne.getHours()>=12)]}function W(ne){return 1+~~(ne.getMonth()/3)}function $(ne){return a[ne.getUTCDay()]}function xe(ne){return s[ne.getUTCDay()]}function ke(ne){return l[ne.getUTCMonth()]}function Ae(ne){return o[ne.getUTCMonth()]}function le(ne){return i[+(ne.getUTCHours()>=12)]}function Se(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var de=N(ne+="",w);return de.toString=function(){return ne},de},parse:function(ne){var de=T(ne+="",!1);return de.toString=function(){return ne},de},utcFormat:function(ne){var de=N(ne+="",E);return de.toString=function(){return ne},de},utcParse:function(ne){var de=T(ne+="",!0);return de.toString=function(){return ne},de}}}var xL={"-":"",_:" ",0:"0"},or=/^\s*\d+/,iye=/^%/,sye=/[\\^$*+?|[\]().{}]/g;function vt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function aye(e){return e.replace(sye,"\\$&")}function tp(e){return new RegExp("^(?:"+e.map(aye).join("|")+")","i")}function np(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function oye(e,t,n){var r=or.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function lye(e,t,n){var r=or.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function cye(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function uye(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function dye(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function bL(e,t,n){var r=or.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wL(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fye(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hye(e,t,n){var r=or.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function pye(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function EL(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function mye(e,t,n){var r=or.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function SL(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gye(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function vye(e,t,n){var r=or.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yye(e,t,n){var r=or.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function xye(e,t,n){var r=or.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bye(e,t,n){var r=iye.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wye(e,t,n){var r=or.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Eye(e,t,n){var r=or.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NL(e,t){return vt(e.getDate(),t,2)}function Sye(e,t){return vt(e.getHours(),t,2)}function Nye(e,t){return vt(e.getHours()%12||12,t,2)}function _ye(e,t){return vt(1+Vg.count(To(e),e),t,3)}function HH(e,t){return vt(e.getMilliseconds(),t,3)}function Tye(e,t){return HH(e,t)+"000"}function Cye(e,t){return vt(e.getMonth()+1,t,2)}function kye(e,t){return vt(e.getMinutes(),t,2)}function Aye(e,t){return vt(e.getSeconds(),t,2)}function Oye(e){var t=e.getDay();return t===0?7:t}function jye(e,t){return vt(ww.count(To(e)-1,e),t,2)}function WH(e){var t=e.getDay();return t>=4||t===0?Rf(e):Rf.ceil(e)}function Iye(e,t){return e=WH(e),vt(Rf.count(To(e),e)+(To(e).getDay()===4),t,2)}function Pye(e){return e.getDay()}function Dye(e,t){return vt(Cx.count(To(e)-1,e),t,2)}function Mye(e,t){return vt(e.getFullYear()%100,t,2)}function Rye(e,t){return e=WH(e),vt(e.getFullYear()%100,t,2)}function Lye(e,t){return vt(e.getFullYear()%1e4,t,4)}function Bye(e,t){var n=e.getDay();return e=n>=4||n===0?Rf(e):Rf.ceil(e),vt(e.getFullYear()%1e4,t,4)}function Fye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vt(t/60|0,"0",2)+vt(t%60,"0",2)}function _L(e,t){return vt(e.getUTCDate(),t,2)}function $ye(e,t){return vt(e.getUTCHours(),t,2)}function Uye(e,t){return vt(e.getUTCHours()%12||12,t,2)}function zye(e,t){return vt(1+bw.count(Co(e),e),t,3)}function VH(e,t){return vt(e.getUTCMilliseconds(),t,3)}function Hye(e,t){return VH(e,t)+"000"}function Wye(e,t){return vt(e.getUTCMonth()+1,t,2)}function Vye(e,t){return vt(e.getUTCMinutes(),t,2)}function qye(e,t){return vt(e.getUTCSeconds(),t,2)}function Kye(e){var t=e.getUTCDay();return t===0?7:t}function Gye(e,t){return vt(Ew.count(Co(e)-1,e),t,2)}function qH(e){var t=e.getUTCDay();return t>=4||t===0?Lf(e):Lf.ceil(e)}function Yye(e,t){return e=qH(e),vt(Lf.count(Co(e),e)+(Co(e).getUTCDay()===4),t,2)}function Xye(e){return e.getUTCDay()}function Qye(e,t){return vt(kx.count(Co(e)-1,e),t,2)}function Jye(e,t){return vt(e.getUTCFullYear()%100,t,2)}function Zye(e,t){return e=qH(e),vt(e.getUTCFullYear()%100,t,2)}function exe(e,t){return vt(e.getUTCFullYear()%1e4,t,4)}function txe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Lf(e):Lf.ceil(e),vt(e.getUTCFullYear()%1e4,t,4)}function nxe(){return"+0000"}function TL(){return"%"}function CL(e){return+e}function kL(e){return Math.floor(+e/1e3)}var dd,KH,GH;rxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rxe(e){return dd=rye(e),KH=dd.format,dd.parse,GH=dd.utcFormat,dd.utcParse,dd}function ixe(e){return new Date(e)}function sxe(e){return e instanceof Date?+e:+new Date(+e)}function xO(e,t,n,r,i,s,a,o,l,u){var d=sO(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),x=u("%b %d"),w=u("%B"),E=u("%Y");function _(N){return(l(N)<N?p:o(N)<N?m:a(N)<N?g:s(N)<N?v:r(N)<N?i(N)<N?y:x:n(N)<N?w:E)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,sxe)):h().map(ixe)},d.ticks=function(N){var T=h();return e(T[0],T[T.length-1],N??10)},d.tickFormat=function(N,T){return T==null?_:u(T)},d.nice=function(N){var T=h();return(!N||typeof N.range!="function")&&(N=t(T[0],T[T.length-1],N??10)),N?h(DH(T,N)):d},d.copy=function(){return Wg(d,xO(e,t,n,r,i,s,a,o,l,u))},d}function axe(){return js.apply(xO(tye,nye,To,vO,ww,Vg,mO,hO,Qc,KH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oxe(){return js.apply(xO(Zve,eye,Co,yO,Ew,bw,gO,pO,Qc,GH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sw(){var e=0,t=1,n,r,i,s,a=Jr,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,a=f(p,m),u):[a(0),a(1)]}}return u.range=d(fh),u.rangeRound=d(iO),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function mc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YH(){var e=pc(Sw()(Jr));return e.copy=function(){return mc(e,YH())},Bo.apply(e,arguments)}function XH(){var e=lO(Sw()).domain([1,10]);return e.copy=function(){return mc(e,XH()).base(e.base())},Bo.apply(e,arguments)}function QH(){var e=cO(Sw());return e.copy=function(){return mc(e,QH()).constant(e.constant())},Bo.apply(e,arguments)}function bO(){var e=uO(Sw());return e.copy=function(){return mc(e,bO()).exponent(e.exponent())},Bo.apply(e,arguments)}function lxe(){return bO.apply(null,arguments).exponent(.5)}function JH(){var e=[],t=Jr;function n(r){if(r!=null&&!isNaN(r=+r))return t((zg(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ul),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>K0e(e,s/r))},n.copy=function(){return JH(t).domain(e)},Bo.apply(n,arguments)}function Nw(){var e=0,t=.5,n=1,r=1,i,s,a,o,l,u=Jr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(r*g<r*s?o:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),s=d(t=+t),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var y,x,w;return arguments.length?([y,x,w]=v,u=bve(g,[y,x,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(fh),p.rangeRound=m(iO),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(e),s=g(t),a=g(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function ZH(){var e=pc(Nw()(Jr));return e.copy=function(){return mc(e,ZH())},Bo.apply(e,arguments)}function e7(){var e=lO(Nw()).domain([.1,1,10]);return e.copy=function(){return mc(e,e7()).base(e.base())},Bo.apply(e,arguments)}function t7(){var e=cO(Nw());return e.copy=function(){return mc(e,t7()).constant(e.constant())},Bo.apply(e,arguments)}function wO(){var e=uO(Nw());return e.copy=function(){return mc(e,wO()).exponent(e.exponent())},Bo.apply(e,arguments)}function cxe(){return wO.apply(null,arguments).exponent(.5)}const wp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tO,scaleDiverging:ZH,scaleDivergingLog:e7,scaleDivergingPow:wO,scaleDivergingSqrt:cxe,scaleDivergingSymlog:t7,scaleIdentity:PH,scaleImplicit:XT,scaleLinear:IH,scaleLog:MH,scaleOrdinal:eO,scalePoint:X0e,scalePow:dO,scaleQuantile:BH,scaleQuantize:FH,scaleRadial:LH,scaleSequential:YH,scaleSequentialLog:XH,scaleSequentialPow:bO,scaleSequentialQuantile:JH,scaleSequentialSqrt:lxe,scaleSequentialSymlog:QH,scaleSqrt:Hve,scaleSymlog:RH,scaleThreshold:$H,scaleTime:axe,scaleUtc:oxe,tickFormat:jH},Symbol.toStringTag,{value:"Module"}));var gc=e=>e.chartData,EO=Z([gc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),qg=(e,t,n,r)=>r?EO(e):gc(e);function Bf(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Er(t)&&Er(n))return!0}return!1}function AL(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function uxe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Er(n))i=n;else if(typeof n=="function")return;if(Er(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Bf(a))return a}}function dxe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Bf(r))return AL(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,o;if(i==="auto")t!=null&&(a=Math.min(...t));else if(je(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&CR.test(i)){var l=CR.exec(i);if(l==null||t==null)a=void 0;else{var u=+l[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(je(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&kR.test(s)){var d=kR.exec(s);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[a,o];if(Bf(h))return t==null?h:AL(h,t,n)}}}var hh=1e9,fxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NO,nn=!0,ks="[DecimalError] ",du=ks+"Invalid argument: ",SO=ks+"Exponent out of range: ",ph=Math.floor,$c=Math.pow,hxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,Yn=1e7,Gt=7,n7=9007199254740991,Ax=ph(n7/Gt),Me={};Me.absoluteValue=Me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Me.comparedTo=Me.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Gt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(e){return mo(this,new this.constructor(e))};Me.dividedToIntegerBy=Me.idiv=function(e){var t=this,n=t.constructor;return Ot(mo(t,new n(e),0,1),n.precision)};Me.equals=Me.eq=function(e){return!this.cmp(e)};Me.exponent=function(){return Mn(this)};Me.greaterThan=Me.gt=function(e){return this.cmp(e)>0};Me.greaterThanOrEqualTo=Me.gte=function(e){return this.cmp(e)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(e){return this.cmp(e)<0};Me.lessThanOrEqualTo=Me.lte=function(e){return this.cmp(e)<1};Me.logarithm=Me.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Pi))throw Error(ks+"NaN");if(n.s<1)throw Error(ks+(n.s?"NaN":"-Infinity"));return n.eq(Pi)?new r(0):(nn=!1,t=mo(Wm(n,s),Wm(e,s),s),nn=!0,Ot(t,i))};Me.minus=Me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s7(t,e):r7(t,(e.s=-e.s,e))};Me.modulo=Me.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ks+"NaN");return n.s?(nn=!1,t=mo(n,e,0,1).times(e),nn=!0,n.minus(t)):Ot(new r(n),i)};Me.naturalExponential=Me.exp=function(){return i7(this)};Me.naturalLogarithm=Me.ln=function(){return Wm(this)};Me.negated=Me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Me.plus=Me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?r7(t,e):s7(t,(e.s=-e.s,e))};Me.precision=Me.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(du+e);if(t=Mn(i)+1,r=i.d.length-1,n=r*Gt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Me.squareRoot=Me.sqrt=function(){var e,t,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ks+"NaN")}for(e=Mn(o),nn=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Sa(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ph((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(mo(o,s,a+2)).times(.5),Sa(s.d).slice(0,a)===(t=Sa(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ot(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(t!="9999")break;a+=4}return nn=!0,Ot(r,n)};Me.times=Me.mul=function(e){var t,n,r,i,s,a,o,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,u=p.length,l<u&&(s=h,h=p,p=s,a=l,l=u,u=a),s=[],a=l+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=s[i]+p[r]*h[i-r-1]+t,s[i--]=o%Yn|0,t=o/Yn|0;s[i]=(s[i]+t)%Yn|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,nn?Ot(e,f.precision):e};Me.toDecimalPlaces=Me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ja(e,0,hh),t===void 0?t=r.rounding:ja(t,0,8),Ot(n,e+Mn(n)+1,t))};Me.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Au(r,!0):(ja(e,0,hh),t===void 0?t=i.rounding:ja(t,0,8),r=Ot(new i(r),e+1,t),n=Au(r,!0,e+1)),n};Me.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?Au(i):(ja(e,0,hh),t===void 0?t=s.rounding:ja(t,0,8),r=Ot(new s(i),e+Mn(i)+1,t),n=Au(r.abs(),!1,e+Mn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var e=this,t=e.constructor;return Ot(new t(e),Mn(e)+1,t.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(e){var t,n,r,i,s,a,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Pi);if(o=new l(o),!o.s){if(e.s<1)throw Error(ks+"Infinity");return o}if(o.eq(Pi))return o;if(r=l.precision,e.eq(Pi))return Ot(o,r);if(t=e.e,n=e.d.length-1,a=t>=n,s=o.s,a){if((n=d<0?-d:d)<=n7){for(i=new l(Pi),t=Math.ceil(r/Gt+4),nn=!1;n%2&&(i=i.times(o),jL(i.d,t)),n=ph(n/2),n!==0;)o=o.times(o),jL(o.d,t);return nn=!0,e.s<0?new l(Pi).div(i):Ot(i,r)}}else if(s<0)throw Error(ks+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,nn=!1,i=e.times(Wm(o,r+u)),nn=!0,i=i7(i),i.s=s,i};Me.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Mn(i),r=Au(i,n<=s.toExpNeg||n>=s.toExpPos)):(ja(e,1,hh),t===void 0?t=s.rounding:ja(t,0,8),i=Ot(new s(i),e,t),n=Mn(i),r=Au(i,e<=n||n<=s.toExpNeg,e)),r};Me.toSignificantDigits=Me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ja(e,1,hh),t===void 0?t=r.rounding:ja(t,0,8)),Ot(new r(n),e,t)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mn(e),n=e.constructor;return Au(e,t<=n.toExpNeg||t>=n.toExpPos)};function r7(e,t){var n,r,i,s,a,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),nn?Ot(t,f):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=u.length):(r=u,i=a,o=l.length),a=Math.ceil(f/Gt),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,r=u,u=l,l=r),n=0;s;)n=(l[--s]=l[s]+u[s]+n)/Yn|0,l[s]%=Yn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,nn?Ot(t,f):t}function ja(e,t,n){if(e!==~~e||e<t||e>n)throw Error(du+e)}function Sa(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)r=e[t]+"",n=Gt-r.length,n&&(s+=ol(n)),s+=r;a=e[t],r=a+"",n=Gt-r.length,n&&(s+=ol(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var mo=function(){function e(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Yn|0,a=s/Yn|0;return a&&r.unshift(a),r}function t(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Yn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,u,d,f,h,p,m,g,v,y,x,w,E,_,N,T,C,O=r.constructor,A=r.s==i.s?1:-1,D=r.d,k=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(ks+"Division by zero");for(l=r.e-i.e,T=k.length,_=D.length,p=new O(A),m=p.d=[],u=0;k[u]==(D[u]||0);)++u;if(k[u]>(D[u]||0)&&--l,s==null?x=s=O.precision:a?x=s+(Mn(r)-Mn(i))+1:x=s,x<0)return new O(0);if(x=x/Gt+2|0,u=0,T==1)for(d=0,k=k[0],x++;(u<_||d)&&x--;u++)w=d*Yn+(D[u]||0),m[u]=w/k|0,d=w%k|0;else{for(d=Yn/(k[0]+1)|0,d>1&&(k=e(k,d),D=e(D,d),T=k.length,_=D.length),E=T,g=D.slice(0,T),v=g.length;v<T;)g[v++]=0;C=k.slice(),C.unshift(0),N=k[0],k[1]>=Yn/2&&++N;do d=0,o=t(k,g,T,v),o<0?(y=g[0],T!=v&&(y=y*Yn+(g[1]||0)),d=y/N|0,d>1?(d>=Yn&&(d=Yn-1),f=e(k,d),h=f.length,v=g.length,o=t(f,g,h,v),o==1&&(d--,n(f,T<h?C:k,h))):(d==0&&(o=d=1),f=k.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),o==-1&&(v=g.length,o=t(k,g,T,v),o<1&&(d++,n(g,T<v?C:k,v))),v=g.length):o===0&&(d++,g=[0]),m[u++]=d,o&&g[0]?g[v++]=D[E]||0:(g=[D[E]],v=1);while((E++<_||g[0]!==void 0)&&x--)}return m[0]||m.shift(),p.e=l,Ot(p,a?s+Mn(p)+1:s)}}();function i7(e,t){var n,r,i,s,a,o,l=0,u=0,d=e.constructor,f=d.precision;if(Mn(e)>16)throw Error(SO+Mn(e));if(!e.s)return new d(Pi);for(nn=!1,o=f,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log($c(2,u))/Math.LN10*2+5|0,o+=r,n=i=s=new d(Pi),d.precision=o;;){if(i=Ot(i.times(e),o),n=n.times(++l),a=s.plus(mo(i,n,o)),Sa(a.d).slice(0,o)===Sa(s.d).slice(0,o)){for(;u--;)s=Ot(s.times(s),o);return d.precision=f,t==null?(nn=!0,Ot(s,f)):s}s=a}}function Mn(e){for(var t=e.e*Gt,n=e.d[0];n>=10;n/=10)t++;return t}function US(e,t,n){if(t>e.LN10.sd())throw nn=!0,n&&(e.precision=n),Error(ks+"LN10 precision limit exceeded");return Ot(new e(e.LN10),t)}function ol(e){for(var t="";e--;)t+="0";return t}function Wm(e,t){var n,r,i,s,a,o,l,u,d,f=1,h=10,p=e,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(ks+(p.s?"NaN":"-Infinity"));if(p.eq(Pi))return new g(0);if(t==null?(nn=!1,u=v):u=t,p.eq(10))return t==null&&(nn=!0),US(g,u);if(u+=h,g.precision=u,n=Sa(m),r=n.charAt(0),s=Mn(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Sa(p.d),r=n.charAt(0),f++;s=Mn(p),r>1?(p=new g("0."+n),s++):p=new g(r+"."+n.slice(1))}else return l=US(g,u+2,v).times(s+""),p=Wm(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=v,t==null?(nn=!0,Ot(p,v)):p;for(o=a=p=mo(p.minus(Pi),p.plus(Pi),u),d=Ot(p.times(p),u),i=3;;){if(a=Ot(a.times(d),u),l=o.plus(mo(a,new g(i),u)),Sa(l.d).slice(0,u)===Sa(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(US(g,u+2,v).times(s+""))),o=mo(o,new g(f),u),g.precision=v,t==null?(nn=!0,Ot(o,v)):o;o=l,i+=2}}function OL(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ph(n/Gt),e.d=[],r=(n+1)%Gt,n<0&&(r+=Gt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Gt;r<i;)e.d.push(+t.slice(r,r+=Gt));t=t.slice(r),r=Gt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),nn&&(e.e>Ax||e.e<-Ax))throw Error(SO+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ot(e,t,n){var r,i,s,a,o,l,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=t-a,r<0)r+=Gt,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/Gt),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;r%=Gt,i=r-Gt+a}if(n!==void 0&&(s=$c(10,a-i-1),o=u/s%10|0,l=t<0||f[d+1]!==void 0||u%s,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/$c(10,a-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(s=Mn(e),f.length=1,t=t-s-1,f[0]=$c(10,(Gt-t%Gt)%Gt),e.e=ph(-t/Gt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=$c(10,Gt-r),f[d]=i>0?(u/$c(10,a-i)%$c(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==Yn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Yn)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(nn&&(e.e>Ax||e.e<-Ax))throw Error(SO+Mn(e));return e}function s7(e,t){var n,r,i,s,a,o,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),nn?Ot(t,p):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(d=a<0,d?(n=l,a=-a,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(p/Gt),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=Yn-1;--l[s],l[i]+=Yn}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,nn?Ot(t,p):t):new h(0)}function Au(e,t,n){var r,i=Mn(e),s=Sa(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+ol(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ol(-i-1)+s,n&&(r=n-a)>0&&(s+=ol(r))):i>=a?(s+=ol(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+ol(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=ol(r))),e.s<0?"-"+s:s}function jL(e,t){if(e.length>t)return e.length=t,!0}function a7(e){var t,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(du+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return OL(a,s.toString())}else if(typeof s!="string")throw Error(du+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,hxe.test(s))OL(a,s);else throw Error(du+s)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=a7,i.config=i.set=pxe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function pxe(e){if(!e||typeof e!="object")throw Error(ks+"Object expected");var t,n,r,i=["precision",1,hh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ph(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(du+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(du+n+": "+r);return this}var NO=a7(fxe);Pi=new NO(1);const Et=NO;var mxe=e=>e,o7={},l7=e=>e===o7,IL=e=>function t(){return arguments.length===0||arguments.length===1&&l7(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},c7=(e,t)=>e===1?t:IL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==o7).length;return s>=e?t(...r):c7(e-s,IL(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=r.map(d=>l7(d)?o.shift():d);return t(...u,...o)}))}),_w=e=>c7(e.length,e),eC=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},gxe=_w((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),vxe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return mxe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},tC=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),u7=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((a,o)=>{var l;return a===((l=t)===null||l===void 0?void 0:l[o])})||(t=i,n=e(...i)),n}};function d7(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function f7(e,t,n){for(var r=new Et(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}_w((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});_w((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});_w((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var h7=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},p7=(e,t,n)=>{if(e.lte(0))return new Et(0);var r=d7(e.toNumber()),i=new Et(10).pow(r),s=e.div(i),a=r!==1?.05:.1,o=new Et(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return t?new Et(l.toNumber()):new Et(Math.ceil(l.toNumber()))},yxe=(e,t,n)=>{var r=new Et(1),i=new Et(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Et(10).pow(d7(e)-1),i=new Et(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Et(Math.floor(e)))}else e===0?i=new Et(Math.floor((t-1)/2)):n||(i=new Et(Math.floor(e)));var a=Math.floor((t-1)/2),o=vxe(gxe(l=>i.add(new Et(l-a).mul(r)).toNumber()),eC);return o(0,t)},m7=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var a=p7(new Et(n).sub(t).div(r-1),i,s),o;t<=0&&n>=0?o=new Et(0):(o=new Et(t).add(n).div(2),o=o.sub(new Et(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),u=Math.ceil(new Et(n).sub(o).div(a).toNumber()),d=l+u+1;return d>r?m7(t,n,r,i,s+1):(d<r&&(u=n>0?u+(r-d):u,l=n>0?l:l+(r-d)),{step:a,tickMin:o.sub(new Et(l).mul(a)),tickMax:o.add(new Et(u).mul(a))})};function xxe(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,o]=h7([t,n]);if(a===-1/0||o===1/0){var l=o===1/0?[a,...eC(0,r-1).map(()=>1/0)]:[...eC(0,r-1).map(()=>-1/0),o];return t>n?tC(l):l}if(a===o)return yxe(a,r,i);var{step:u,tickMin:d,tickMax:f}=m7(a,o,s,i,0),h=f7(d,f.add(new Et(.1).mul(u)),u);return t>n?tC(h):h}function bxe(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=h7([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var o=Math.max(t,2),l=p7(new Et(a).sub(s).div(o-1),i,0),u=[...f7(new Et(s),new Et(a),l),a];return i===!1&&(u=u.map(d=>Math.round(d))),n>r?tC(u):u}var wxe=u7(xxe),Exe=u7(bxe),g7=e=>e.rootProps.maxBarSize,Sxe=e=>e.rootProps.barGap,v7=e=>e.rootProps.barCategoryGap,Nxe=e=>e.rootProps.barSize,Kg=e=>e.rootProps.stackOffset,_O=e=>e.options.chartName,TO=e=>e.rootProps.syncId,y7=e=>e.rootProps.syncMethod,CO=e=>e.options.eventEmitter,no={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Oi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Tw=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},_xe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:no.angleAxisId,includeHidden:!1,name:void 0,reversed:no.reversed,scale:no.scale,tick:no.tick,tickCount:void 0,ticks:void 0,type:no.type,unit:void 0},Txe={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:Oi.type,unit:void 0},Cxe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:no.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:no.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:no.scale,tick:no.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kxe={allowDataOverflow:Oi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Oi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oi.scale,tick:Oi.tick,tickCount:Oi.tickCount,ticks:void 0,type:"category",unit:void 0},kO=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Cxe:_xe,AO=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?kxe:Txe,Cw=e=>e.polarOptions,OO=Z([Ro,Lo,Wn],z9),x7=Z([Cw,OO],(e,t)=>{if(e!=null)return ei(e.innerRadius,t,0)}),b7=Z([Cw,OO],(e,t)=>{if(e!=null)return ei(e.outerRadius,t,t*.8)}),Axe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},w7=Z([Cw],Axe);Z([kO,w7],Tw);var E7=Z([OO,x7,b7],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Z([AO,E7],Tw);var S7=Z([ct,Cw,x7,b7,Ro,Lo],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=t;return{cx:ei(a,i,i/2),cy:ei(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),rn=(e,t)=>t,Gg=(e,t,n)=>n;function kw(e){return e==null?void 0:e.id}var qn=e=>{var t=ct(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},mh=e=>e.tooltip.settings.axisId,Kn=e=>{var t=qn(e),n=mh(e);return Yg(e,t,n)};function N7(e,t,n){var{chartData:r=[]}=t,i=n==null?void 0:n.dataKey,s=new Map;return e.forEach(a=>{var o,l=(o=a.data)!==null&&o!==void 0?o:r;if(!(l==null||l.length===0)){var u=kw(a);l.forEach((d,f)=>{var h=i==null?f:String(St(d,i,null)),p=St(d,a.dataKey,0),m;s.has(h)?m=s.get(h):m={},Object.assign(m,{[u]:p}),s.set(h,m)})}}),Array.from(s.values())}function Aw(e){return e.stackId!=null&&e.dataKey!=null}function PL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ox(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PL(Object(n),!0).forEach(function(r){Oxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oxe(e,t,n){return(t=jxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jxe(e){var t=Ixe(e,"string");return typeof t=="symbol"?t:t+""}function Ixe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nC=[0,"auto"],Ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Fo=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Ci},ki={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gw},vc=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??ki},Pxe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},jO=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Pxe},kn=(e,t,n)=>{switch(t){case"xAxis":return Fo(e,n);case"yAxis":return vc(e,n);case"zAxis":return jO(e,n);case"angleAxis":return kO(e,n);case"radiusAxis":return AO(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Dxe=(e,t,n)=>{switch(t){case"xAxis":return Fo(e,n);case"yAxis":return vc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Yg=(e,t,n)=>{switch(t){case"xAxis":return Fo(e,n);case"yAxis":return vc(e,n);case"angleAxis":return kO(e,n);case"radiusAxis":return AO(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},_7=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function IO(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Xg=e=>e.graphicalItems.cartesianItems,Mxe=Z([rn,Gg],IO),PO=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Qg=Z([Xg,kn,Mxe],PO),T7=Z([Qg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Aw)),C7=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),k7=Z([Qg],C7),DO=e=>e.map(t=>t.data).filter(Boolean).flat(1),Rxe=Z([Qg],DO),MO=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},RO=Z([Rxe,qg],MO),LO=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:St(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:St(i,r)}))):e.map(r=>({value:r})),Ow=Z([RO,kn,Qg],LO);function A7(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Yu(e){return e.filter(t=>Oa(t)||t instanceof Date).map(Number).filter(t=>wi(t)===!1)}function Lxe(e,t,n){return!n||typeof t!="number"||wi(t)?[]:n.length?Yu(n.flatMap(r=>{var i=St(e,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Er(s)||!Er(a)))return[t-s,t+a]})):[]}var Bxe=Z([T7,qg,Kn],N7),O7=(e,t,n)=>{var r={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,l=o.map(kw);return[a,{stackedData:uge(e,l,n),graphicalItems:o}]}))},Vm=Z([Bxe,T7,Kg],O7),j7=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var s=pge(e,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Fxe=Z([Vm,gc,rn],j7),I7=(e,t,n,r,i)=>n.length>0?e.flatMap(s=>n.flatMap(a=>{var o,l,u=(o=r[a.id])===null||o===void 0?void 0:o.filter(f=>A7(i,f)),d=St(s,(l=t.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:d,errorDomain:Lxe(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:St(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),jw=e=>e.errorBars,P7=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>A7(n,r));Z([k7,jw,rn],P7);var $xe=Z([RO,kn,k7,jw,rn],I7);function Uxe(e){var{value:t}=e;if(Oa(t)||t instanceof Date)return t}var DL=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Yu(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zxe=(e,t,n)=>{var r=e.map(Uxe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&Ez(r))?wH(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},BO=e=>{var t;if(e==null||!("domain"in e))return nC;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Yu(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:nC},jx=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},D7=e=>e.referenceElements.dots,gh=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Hxe=Z([D7,rn,Gg],gh),M7=e=>e.referenceElements.areas,Wxe=Z([M7,rn,Gg],gh),R7=e=>e.referenceElements.lines,Vxe=Z([R7,rn,Gg],gh),L7=(e,t)=>{var n=Yu(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qxe=Z(Hxe,rn,L7),B7=(e,t)=>{var n=Yu(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Kxe=Z([Wxe,rn],B7),F7=(e,t)=>{var n=Yu(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Gxe=Z(Vxe,rn,F7),Yxe=Z(qxe,Gxe,Kxe,(e,t,n)=>jx(e,n,t)),$7=Z([kn],BO),FO=(e,t,n,r,i,s,a)=>{var o=uxe(t,e.allowDataOverflow);if(o!=null)return o;var l=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=l?jx(n,i,DL(r)):jx(i,DL(r));return dxe(t,u,e.allowDataOverflow)},Xxe=Z([kn,$7,Fxe,$xe,Yxe,ct,rn],FO),Qxe=[0,1],$O=(e,t,n,r,i,s,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=e,u=La(t,s);return u&&o==null?wH(0,n.length):l==="category"?zxe(r,e,u):i==="expand"?Qxe:a}},UO=Z([kn,ct,RO,Ow,Kg,rn,Xxe],$O),U7=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Bg(s));return o in wp?o:"point"}}},vh=Z([kn,ct,_7,_O,rn],U7);function Jxe(e){if(e!=null){if(e in wp)return wp[e]();var t="scale".concat(Bg(e));if(t in wp)return wp[t]()}}function zO(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Jxe(t);if(i!=null){var s=i.domain(n).range(r);return sge(s),s}}}var HO=(e,t,n)=>{var r=BO(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Bf(e))return wxe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Bf(e))return Exe(e,t.tickCount,t.allowDecimals)}},WO=Z([UO,Yg,vh],HO),VO=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Bf(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],a=t[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return t},Zxe=Z([kn,UO,WO,rn],VO),ebe=Z(Ow,kn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Yu(e.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),z7=Z(ebe,ct,v7,Wn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Er(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=ei(n,e*s),o=e*s/2;return o-a-(o-a)/s*a}return 0}),tbe=(e,t)=>{var n=Fo(e,t);return n==null||typeof n.padding!="string"?0:z7(e,"xAxis",t,n.padding)},nbe=(e,t)=>{var n=vc(e,t);return n==null||typeof n.padding!="string"?0:z7(e,"yAxis",t,n.padding)},rbe=Z(Fo,tbe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),ibe=Z(vc,nbe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),sbe=Z([Wn,rbe,yw,vw,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),abe=Z([Wn,ct,ibe,yw,vw,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Jg=(e,t,n,r)=>{var i;switch(t){case"xAxis":return sbe(e,n,r);case"yAxis":return abe(e,n,r);case"zAxis":return(i=jO(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return w7(e);case"radiusAxis":return E7(e,n);default:return}},H7=Z([kn,Jg],Tw),yh=Z([kn,vh,Zxe,H7],zO);Z([Qg,jw,rn],P7);function W7(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Iw=(e,t)=>t,Pw=(e,t,n)=>n,obe=Z(Y2,Iw,Pw,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(W7)),lbe=Z(X2,Iw,Pw,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(W7)),V7=(e,t)=>({width:e.width,height:t.height}),cbe=(e,t)=>{var n=typeof t.width=="number"?t.width:gw;return{width:n,height:e.height}},q7=Z(Wn,Fo,V7),ube=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},dbe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},fbe=Z(Lo,Wn,obe,Iw,Pw,(e,t,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=V7(t,o);a==null&&(a=ube(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),hbe=Z(Ro,Wn,lbe,Iw,Pw,(e,t,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=cbe(t,o);a==null&&(a=dbe(t,r,e));var u=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),pbe=(e,t)=>{var n=Wn(e),r=Fo(e,t);if(r!=null){var i=fbe(e,r.orientation,r.mirror),s=i[t];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},mbe=(e,t)=>{var n=Wn(e),r=vc(e,t);if(r!=null){var i=hbe(e,r.orientation,r.mirror),s=i[t];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},K7=Z(Wn,vc,(e,t)=>{var n=typeof t.width=="number"?t.width:gw;return{width:n,height:e.height}}),ML=(e,t,n)=>{switch(t){case"xAxis":return q7(e,n).width;case"yAxis":return K7(e,n).height;default:return}},G7=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=La(e,r),l=t.map(u=>u.value);if(a&&o&&s==="category"&&i&&Ez(l))return l}},qO=Z([ct,Ow,kn,rn],G7),Y7=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=La(e,r);if(a&&(i==="number"||s!=="auto"))return t.map(o=>o.value)}},KO=Z([ct,Ow,Yg,rn],Y7),RL=Z([ct,Dxe,vh,yh,qO,KO,Jg,WO,rn],(e,t,n,r,i,s,a,o,l)=>{if(t==null)return null;var u=La(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:n,scale:r}}),gbe=(e,t,n,r,i,s,a,o,l)=>{if(!(t==null||r==null)){var u=La(e,l),{type:d,ticks:f,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&s!=null&&s.length>=2?er(s[0]-s[1])*2*m:m;var g=f||i;if(g){var v=g.map((y,x)=>{var w=a?a.indexOf(y):y;return{index:x,coordinate:r(w)+m,value:y,offset:m}});return v.filter(y=>!wi(y.coordinate))}return u&&o?o.map((y,x)=>({coordinate:r(y)+m,value:y,index:x,offset:m})):r.ticks?r.ticks(h).map(y=>({coordinate:r(y)+m,value:y,offset:m})):r.domain().map((y,x)=>({coordinate:r(y)+m,value:a?a[y]:y,index:x,offset:m}))}},X7=Z([ct,Yg,vh,yh,WO,Jg,qO,KO,rn],gbe),vbe=(e,t,n,r,i,s,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=La(e,a),{tickCount:l}=t,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?er(r[0]-r[1])*2*u:u,o&&s?s.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}))}},Ia=Z([ct,Yg,yh,Jg,qO,KO,rn],vbe),Pa=Z(kn,yh,(e,t)=>{if(!(e==null||t==null))return Ox(Ox({},e),{},{scale:t})}),ybe=Z([kn,vh,UO,H7],zO);Z((e,t,n)=>jO(e,n),ybe,(e,t)=>{if(!(e==null||t==null))return Ox(Ox({},e),{},{scale:t})});var xbe=Z([ct,Y2,X2],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Q7=e=>e.options.defaultTooltipEventType,J7=e=>e.options.validateTooltipEventTypes;function Z7(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function GO(e,t){var n=Q7(e),r=J7(e);return Z7(t,n,r)}function bbe(e){return Be(t=>GO(t,e))}var eW=(e,t)=>{var n,r=Number(t);if(!(wi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},wbe=e=>e.tooltip.settings,pl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ebe={itemInteraction:{click:pl,hover:pl},axisInteraction:{click:pl,hover:pl},keyboardInteraction:pl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tW=es({name:"tooltip",initialState:Ebe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=po(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Sbe,removeTooltipEntrySettings:Nbe,setTooltipSettingsState:_be,setActiveMouseOverItemIndex:nW,mouseLeaveItem:Tbe,mouseLeaveChart:rW,setActiveClickItemIndex:Cbe,setMouseOverAxisIndex:iW,setMouseClickAxisIndex:kbe,setSyncInteraction:rC,setKeyboardInteraction:iC}=tW.actions,Abe=tW.reducer;function LL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(n),!0).forEach(function(r){Obe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Obe(e,t,n){return(t=jbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jbe(e){var t=Ibe(e,"string");return typeof t=="symbol"?t:t+""}function Ibe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pbe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Dbe(e){return e.index!=null}var sW=(e,t,n,r)=>{if(t==null)return pl;var i=Pbe(e,t,n);if(i==null)return pl;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Dbe(i)){if(s)return rv(rv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return rv(rv({},pl),{},{coordinate:i.coordinate})},YO=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Er(r))return n;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(r,s)))},aW=(e,t,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},oW=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Zg=e=>e.options.tooltipPayloadSearcher,xh=e=>e.tooltip;function BL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(n),!0).forEach(function(r){Mbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mbe(e,t,n){return(t=Rbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rbe(e){var t=Lbe(e,"string");return typeof t=="symbol"?t:t+""}function Lbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bbe(e,t){return e??t}var lW=(e,t,n,r,i,s,a)=>{if(!(t==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:v}=p,y=Bbe(g,o),x=Array.isArray(y)?H9(y,u,d):y,w=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:r==null?void 0:r.dataKey,E=v==null?void 0:v.nameKey,_;if(r!=null&&r.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&a==="axis"?_=Sz(x,r.dataKey,i):_=s(x,t,l,E),Array.isArray(_))_.forEach(T=>{var C=FL(FL({},v),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});h.push(AR({tooltipEntrySettings:C,dataKey:T.dataKey,payload:T.payload,value:St(T.payload,T.dataKey),name:T.name}))});else{var N;h.push(AR({tooltipEntrySettings:v,dataKey:w,payload:_,value:St(_,w),name:(N=St(_,E))!==null&&N!==void 0?N:v==null?void 0:v.name}))}return h},f)}},XO=Z([Kn,ct,_7,_O,qn],U7),Fbe=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),$be=Z([qn,mh],IO),e0=Z([Fbe,Kn,$be],PO),Ube=Z([e0],e=>e.filter(Aw)),zbe=Z([e0],DO),bh=Z([zbe,gc],MO),Hbe=Z([Ube,gc,Kn],N7),QO=Z([bh,Kn,e0],LO),Wbe=Z([Kn],BO),Vbe=Z([e0],e=>e.filter(Aw)),qbe=Z([Hbe,Vbe,Kg],O7),Kbe=Z([qbe,gc,qn],j7),Gbe=Z([e0],C7),Ybe=Z([bh,Kn,Gbe,jw,qn],I7),Xbe=Z([D7,qn,mh],gh),Qbe=Z([Xbe,qn],L7),Jbe=Z([M7,qn,mh],gh),Zbe=Z([Jbe,qn],B7),e1e=Z([R7,qn,mh],gh),t1e=Z([e1e,qn],F7),n1e=Z([Qbe,t1e,Zbe],jx),r1e=Z([Kn,Wbe,Kbe,Ybe,n1e,ct,qn],FO),cW=Z([Kn,ct,bh,QO,Kg,qn,r1e],$O),i1e=Z([cW,Kn,XO],HO),s1e=Z([Kn,cW,i1e,qn],VO),uW=e=>{var t=qn(e),n=mh(e),r=!1;return Jg(e,t,n,r)},dW=Z([Kn,uW],Tw),fW=Z([Kn,XO,s1e,dW],zO),a1e=Z([ct,QO,Kn,qn],G7),o1e=Z([ct,QO,Kn,qn],Y7),l1e=(e,t,n,r,i,s,a,o)=>{if(t){var{type:l}=t,u=La(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?er(i[0]-i[1])*2*f:f,u&&a?a.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:s?s[h]:h,index:p,offset:f}))}}},$o=Z([ct,Kn,XO,fW,uW,a1e,o1e,qn],l1e),JO=Z([Q7,J7,wbe],(e,t,n)=>Z7(n.shared,e,t)),hW=e=>e.tooltip.settings.trigger,ZO=e=>e.tooltip.settings.defaultIndex,Dw=Z([xh,JO,hW,ZO],sW),Jl=Z([Dw,bh],YO),pW=Z([$o,Jl],eW),mW=Z([Dw],e=>{if(e)return e.dataKey}),gW=Z([xh,JO,hW,ZO],oW),c1e=Z([Ro,Lo,ct,Wn,$o,ZO,gW,Zg],aW),u1e=Z([Dw,c1e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),d1e=Z([Dw],e=>e.active),f1e=Z([gW,Jl,gc,Kn,pW,Zg,JO],lW),h1e=Z([f1e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function $L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(n),!0).forEach(function(r){p1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p1e(e,t,n){return(t=m1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m1e(e){var t=g1e(e,"string");return typeof t=="symbol"?t:t+""}function g1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v1e=()=>Be(Kn),y1e=()=>{var e=v1e(),t=Be($o),n=Be(fW);return ku(UL(UL({},e),{},{scale:n}),t)},vW=()=>Be(_O),ej=(e,t)=>t,yW=(e,t,n)=>n,tj=(e,t,n,r)=>r,x1e=Z($o,e=>cw(e,t=>t.coordinate)),nj=Z([xh,ej,yW,tj],sW),xW=Z([nj,bh],YO),b1e=(e,t,n)=>{if(t!=null){var r=xh(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},bW=Z([xh,ej,yW,tj],oW),Ix=Z([Ro,Lo,ct,Wn,$o,tj,bW,Zg],aW),w1e=Z([nj,Ix],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),wW=Z($o,xW,eW),E1e=Z([bW,xW,gc,Kn,wW,Zg,ej],lW),S1e=Z([nj],e=>({isActive:e.active,activeIndex:e.index})),N1e=(e,t,n,r,i,s,a,o)=>{if(!(!e||!t||!r||!i||!s)){var l=mge(e.chartX,e.chartY,t,n,o);if(l){var u=vge(l,t),d=rge(u,a,s,r,i),f=gge(t,s,d,l);return{activeIndex:String(d),activeCoordinate:f}}}};function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sC.apply(null,arguments)}function zL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(n),!0).forEach(function(r){_1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _1e(e,t,n){return(t=T1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T1e(e){var t=C1e(e,"string");return typeof t=="symbol"?t:t+""}function C1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k1e(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:l,chartName:u}=e,d=t,f=n,h=r;if(!o||!d||u!=="ScatterChart"&&l!=="axis")return null;var p,m;if(u==="ScatterChart")p=d,m=e0e;else if(u==="BarChart")p=t0e(a,d,i,s),m=pH;else if(a==="radial"){var{cx:g,cy:v,radius:y,startAngle:x,endAngle:w}=mH(d);p={cx:g,cy:v,startAngle:x,endAngle:w,innerRadius:y,outerRadius:y},m=vH}else p={points:D0e(a,d,i)},m=tf;var E=typeof o=="object"&&"className"in o?o.className:void 0,_=iv(iv(iv(iv({stroke:"#ccc",pointerEvents:"none"},i),p),$t(o,!1)),{},{payload:f,payloadIndex:h,className:ft("recharts-tooltip-cursor",E)});return b.isValidElement(o)?b.cloneElement(o,_):b.createElement(m,_)}function A1e(e){var t=y1e(),n=Q9(),r=Ug(),i=vW();return b.createElement(k1e,sC({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var EW=b.createContext(null),O1e=()=>b.useContext(EW),SW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var E=v.length,_;for(w=0;w<E;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(_=1,x=new Array(y-1);_<y;_++)x[_-1]=arguments[_];v[w].fn.apply(v[w].context,x)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(SW);var j1e=SW.exports;const I1e=Br(j1e);var qm=new I1e,aC="recharts.syncEvent.tooltip",HL="recharts.syncEvent.brush";function Mw(e,t){if(t){var n=Number.parseInt(t,10);if(!wi(n))return e==null?void 0:e[n]}}var P1e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},NW=es({name:"options",initialState:P1e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),D1e=NW.reducer,{createEventEmitter:M1e}=NW.actions;function R1e(e){return e.tooltip.syncInteraction}var L1e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_W=es({name:"chartData",initialState:L1e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:WL,setDataStartEndIndexes:B1e,setComputedData:zKe}=_W.actions,F1e=_W.reducer,TW=()=>{};function $1e(){var e=Be(TO),t=Be(CO),n=Cn(),r=Be(y7),i=Be($o),s=Ug(),a=Q2(),o=Be(l=>l.rootProps.className);b.useEffect(()=>{if(e==null)return TW;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){n(d);return}if(i!=null){var h;if(typeof r=="function"){var p={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},m=r(i,p);h=i[m]}else r==="value"&&(h=i.find(N=>String(N.value)===d.payload.label));var{coordinate:g}=d.payload;if(h==null||d.payload.active===!1||g==null||a==null){n(rC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y}=g,x=Math.min(v,a.x+a.width),w=Math.min(y,a.y+a.height),E={x:s==="horizontal"?h.coordinate:x,y:s==="horizontal"?w:h.coordinate},_=rC({active:d.payload.active,coordinate:E,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});n(_)}}};return qm.on(aC,l),()=>{qm.off(aC,l)}},[o,n,t,e,r,i,s,a])}function U1e(){var e=Be(TO),t=Be(CO),n=Cn();b.useEffect(()=>{if(e==null)return TW;var r=(i,s,a)=>{t!==a&&e===i&&n(B1e(s))};return qm.on(HL,r),()=>{qm.off(HL,r)}},[n,t,e])}function z1e(){var e=Cn();b.useEffect(()=>{e(M1e())},[e]),$1e(),U1e()}function H1e(e,t,n,r,i,s){var a=Be(h=>b1e(h,e,t)),o=Be(CO),l=Be(TO),u=Be(y7),d=Be(R1e),f=d==null?void 0:d.active;b.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=rC({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});qm.emit(aC,l,h,o)}},[f,n,a,i,r,o,l,u,s])}function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(r){W1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W1e(e,t,n){return(t=V1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V1e(e){var t=q1e(e,"string");return typeof t=="symbol"?t:t+""}function q1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K1e(e){return e.dataKey}function G1e(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(Ige,t)}var KL=[],Y1e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!hc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ff(e){var t=ai(e,Y1e),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:l,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:v,trigger:y,defaultIndex:x,portal:w,axisId:E}=t,_=Cn(),N=typeof x=="number"?String(x):x;b.useEffect(()=>{_(_be({shared:v,trigger:y,axisId:E,active:n,defaultIndex:N}))},[_,v,y,E,n,N]);var T=Q2(),C=rH(),O=bbe(v),{activeIndex:A,isActive:D}=Be(ke=>S1e(ke,O,y,N)),k=Be(ke=>E1e(ke,O,y,N)),P=Be(ke=>wW(ke,O,y,N)),B=Be(ke=>w1e(ke,O,y,N)),L=k,j=O1e(),R=n??D,[M,V]=Kpe([L,R]),I=O==="axis"?P:void 0;H1e(O,y,B,I,A,R);var ee=w??j;if(ee==null)return null;var W=L??KL;R||(W=KL),o&&W.length&&(W=hpe(L.filter(ke=>ke.value!=null&&(ke.hide!==!0||t.includeHidden)),d,K1e));var $=W.length>0,xe=b.createElement(Fge,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:l,active:R,coordinate:B,hasPayload:$,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:T,wrapperStyle:m,lastBoundingBox:M,innerRef:V,hasPortalFromProps:!!w},G1e(a,qL(qL({},t),{},{payload:W,label:I,active:R,coordinate:B,accessibilityLayer:C})));return b.createElement(b.Fragment,null,oc.createPortal(xe,ee),R&&b.createElement(A1e,{cursor:g,tooltipEventType:O,coordinate:B,payload:L,index:A}))}var CW={},kW={},AW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},f=()=>{u&&d(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),a=void 0,o=null},v=()=>{d()},y=function(...x){if(i!=null&&i.aborted)return;a=this,o=x;const w=h==null;p(),l&&w&&d()};return y.schedule=p,y.cancel=g,y.flush=v,i==null||i.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(AW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AW;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:u}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},m=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=m,p}e.debounce=n})(kW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kW;function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return t.debounce(r,i,{leading:a,maxWait:i,trailing:o})}e.throttle=n})(CW);var X1e=CW.throttle;const Q1e=Br(X1e);var zp=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function GL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(n),!0).forEach(function(r){J1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J1e(e,t,n){return(t=Z1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z1e(e){var t=ewe(e,"string");return typeof t=="symbol"?t:t+""}function ewe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Na=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:h,onResize:p,style:m={}}=e,g=b.useRef(null),v=b.useRef();v.current=p,b.useImperativeHandle(t,()=>g.current);var[y,x]=b.useState({containerWidth:r.width,containerHeight:r.height}),w=b.useCallback((_,N)=>{x(T=>{var C=Math.round(_),O=Math.round(N);return T.containerWidth===C&&T.containerHeight===O?T:{containerWidth:C,containerHeight:O}})},[]);b.useEffect(()=>{var _=O=>{var A,{width:D,height:k}=O[0].contentRect;w(D,k),(A=v.current)===null||A===void 0||A.call(v,D,k)};d>0&&(_=Q1e(_,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(_),{width:T,height:C}=g.current.getBoundingClientRect();return w(T,C),N.observe(g.current),()=>{N.disconnect()}},[w,d]);var E=b.useMemo(()=>{var{containerWidth:_,containerHeight:N}=y;if(_<0||N<0)return null;zp(Gc(i)||Gc(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),zp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var T=Gc(i)?_:i,C=Gc(s)?N:s;return n&&n>0&&(T?C=T/n:C&&(T=C*n),l&&C>l&&(C=l)),zp(T>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,C,i,s,a,o,n),b.Children.map(u,O=>b.cloneElement(O,{width:T,height:C,style:zS({width:T,height:C},O.props.style)}))},[n,u,s,l,o,a,y,i]);return b.createElement("div",{id:f?"".concat(f):void 0,className:ft("recharts-responsive-container",h),style:zS(zS({},m),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:g},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),Ou=e=>null;Ou.displayName="Cell";function twe(e,t,n){return(t=nwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nwe(e){var t=rwe(e,"string");return typeof t=="symbol"?t:t+""}function rwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iwe{constructor(t){twe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function YL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function swe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(n),!0).forEach(function(r){awe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function awe(e,t,n){return(t=owe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function owe(e){var t=lwe(e,"string");return typeof t=="symbol"?t:t+""}function lwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cwe={cacheSize:2e3,enableCache:!0},OW=swe({},cwe),XL=new iwe(OW.cacheSize),uwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QL="recharts_measurement_span";function dwe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var JL=(e,t)=>{try{var n=document.getElementById(QL);n||(n=document.createElement("span"),n.setAttribute("id",QL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,uwe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hc.isSsr)return{width:0,height:0};if(!OW.enableCache)return JL(t,n);var r=dwe(t,n),i=XL.get(r);if(i)return i;var s=JL(t,n);return XL.set(r,s),s},ZL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pwe=Object.keys(jW),zd="NaN";function mwe(e,t){return e*jW[t]}class di{static parse(t){var n,[,r,i]=(n=hwe.exec(t))!==null&&n!==void 0?n:[];return new di(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,wi(t)&&(this.unit=""),n!==""&&!fwe.test(n)&&(this.num=NaN,this.unit=""),pwe.includes(n)&&(this.num=mwe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new di(NaN,""):new di(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new di(NaN,""):new di(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new di(NaN,""):new di(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new di(NaN,""):new di(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wi(this.num)}}function IW(e){if(e.includes(zd))return zd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=ZL.exec(t))!==null&&n!==void 0?n:[],a=di.parse(r??""),o=di.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return zd;t=t.replace(ZL,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=e3.exec(t))!==null&&u!==void 0?u:[],p=di.parse(d??""),m=di.parse(h??""),g=f==="+"?p.add(m):p.subtract(m);if(g.isNaN())return zd;t=t.replace(e3,g.toString())}return t}var t3=/\(([^()]*)\)/;function gwe(e){for(var t=e,n;(n=t3.exec(t))!=null;){var[,r]=n;t=t.replace(t3,IW(r))}return t}function vwe(e){var t=e.replace(/\s+/g,"");return t=gwe(t),t=IW(t),t}function ywe(e){try{return vwe(e)}catch{return zd}}function HS(e){var t=ywe(e.slice(5,-1));return t===zd?"":t}var xwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bwe=["dx","dy","angle","className","breakAll"];function oC(){return oC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oC.apply(null,arguments)}function n3(e,t){if(e==null)return{};var n,r,i=wwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PW=/[ \f\n\r\t\v\u2028\u2029]+/,DW=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ut(t)||(n?i=t.toString().split(""):i=t.toString().split(PW));var s=i.map(o=>({word:o,width:Hp(o,r).width})),a=n?0:Hp("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Ewe=(e,t,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=e,u=je(s),d=a,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((k,P)=>{var{word:B,width:L}=P,j=k[k.length-1];if(j&&(r==null||i||j.width+L+n<Number(r)))j.words.push(B),j.width+=L+n;else{var R={words:[B],width:L};k.push(R)}return k},[])},h=f(t),p=A=>A.reduce((D,k)=>D.width>k.width?D:k);if(!u||i)return h;var m=h.length>s||p(h).width>Number(r);if(!m)return h;for(var g="",v=A=>{var D=d.slice(0,A),k=DW({breakAll:l,style:o,children:D+g}).wordsWithComputedWidth,P=f(k),B=P.length>s||p(P).width>Number(r);return[B,P]},y=0,x=d.length-1,w=0,E;y<=x&&w<=d.length-1;){var _=Math.floor((y+x)/2),N=_-1,[T,C]=v(N),[O]=v(_);if(!T&&!O&&(y=_+1),T&&O&&(x=_-1),!T&&O){E=C;break}w++}return E||h},r3=e=>{var t=Ut(e)?[]:e.toString().split(PW);return[{words:t}]},Swe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=e;if((t||n)&&!hc.isSsr){var o,l,u=DW({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return r3(r);return Ewe({breakAll:s,children:r,maxLines:a,style:i},o,l,t,n)}return r3(r)},i3="#808080",Rw=b.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:l="end",fill:u=i3}=e,d=n3(e,xwe),f=b.useMemo(()=>Swe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:p,angle:m,className:g,breakAll:v}=d,y=n3(d,bwe);if(!Oa(n)||!Oa(r))return null;var x=n+(je(h)?h:0),w=r+(je(p)?p:0),E;switch(l){case"start":E=HS("calc(".concat(s,")"));break;case"middle":E=HS("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:E=HS("calc(".concat(f.length-1," * -").concat(i,")"));break}var _=[];if(a){var N=f[0].width,{width:T}=d;_.push("scale(".concat(je(T)?T/N:1,")"))}return m&&_.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),_.length&&(y.transform=_.join(" ")),b.createElement("text",oC({},$t(y,!0),{ref:t,x,y:w,className:ft("recharts-text",g),textAnchor:o,fill:u.includes("url")?i3:u}),f.map((C,O)=>{var A=C.words.join(v?"":" ");return b.createElement("tspan",{x,dy:O===0?E:i,key:"".concat(A,"-").concat(O)},A)}))});Rw.displayName="Text";var Nwe=["offset"],_we=["labelRef"];function s3(e,t){if(e==null)return{};var n,r,i=Twe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Twe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function a3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(n),!0).forEach(function(r){Cwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cwe(e,t,n){return(t=kwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kwe(e){var t=Awe(e,"string");return typeof t=="symbol"?t:t+""}function Awe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(null,arguments)}var Owe=e=>{var{value:t,formatter:n}=e,r=Ut(e.children)?t:e.children;return typeof n=="function"?n(r):r},rj=e=>e!=null&&typeof e=="function",jwe=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Iwe=(e,t,n,r)=>{var{position:i,offset:s,className:a}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=r,m=(u+d)/2,g=jwe(f,h),v=g>=0?1:-1,y,x;i==="insideStart"?(y=f+v*s,x=p):i==="insideEnd"?(y=h-v*s,x=!p):i==="end"&&(y=h+v*s,x=p),x=g<=0?x:!x;var w=Pn(o,l,m,y),E=Pn(o,l,m,y+(x?1:-1)*359),_="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(E.x,",").concat(E.y),N=Ut(e.id)?Rm("recharts-radial-line-"):e.id;return b.createElement("text",ro({},n,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",a)}),b.createElement("defs",null,b.createElement("path",{id:N,d:_})),b.createElement("textPath",{xlinkHref:"#".concat(N)},t))},Pwe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Pn(r,i,a+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:p,y:m}=Pn(r,i,h,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Dwe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:s,y:a,width:o,height:l}=t,u=l>=0?1:-1,d=u*r,f=u>0?"end":"start",h=u>0?"start":"end",p=o>=0?1:-1,m=p*r,g=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var y={x:s+o/2,y:a-u*r,textAnchor:"middle",verticalAnchor:f};return fn(fn({},y),n?{height:Math.max(a-n.y,0),width:o}:{})}if(i==="bottom"){var x={x:s+o/2,y:a+l+d,textAnchor:"middle",verticalAnchor:h};return fn(fn({},x),n?{height:Math.max(n.y+n.height-(a+l),0),width:o}:{})}if(i==="left"){var w={x:s-m,y:a+l/2,textAnchor:g,verticalAnchor:"middle"};return fn(fn({},w),n?{width:Math.max(w.x-n.x,0),height:l}:{})}if(i==="right"){var E={x:s+o+m,y:a+l/2,textAnchor:v,verticalAnchor:"middle"};return fn(fn({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:l}:{})}var _=n?{width:o,height:l}:{};return i==="insideLeft"?fn({x:s+m,y:a+l/2,textAnchor:v,verticalAnchor:"middle"},_):i==="insideRight"?fn({x:s+o-m,y:a+l/2,textAnchor:g,verticalAnchor:"middle"},_):i==="insideTop"?fn({x:s+o/2,y:a+d,textAnchor:"middle",verticalAnchor:h},_):i==="insideBottom"?fn({x:s+o/2,y:a+l-d,textAnchor:"middle",verticalAnchor:f},_):i==="insideTopLeft"?fn({x:s+m,y:a+d,textAnchor:v,verticalAnchor:h},_):i==="insideTopRight"?fn({x:s+o-m,y:a+d,textAnchor:g,verticalAnchor:h},_):i==="insideBottomLeft"?fn({x:s+m,y:a+l-d,textAnchor:v,verticalAnchor:f},_):i==="insideBottomRight"?fn({x:s+o-m,y:a+l-d,textAnchor:g,verticalAnchor:f},_):i&&typeof i=="object"&&(je(i.x)||Gc(i.x))&&(je(i.y)||Gc(i.y))?fn({x:s+ei(i.x,o),y:a+ei(i.y,l),textAnchor:"end",verticalAnchor:"end"},_):fn({x:s+o/2,y:a+l/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Mwe=e=>"cx"in e&&je(e.cx);function ji(e){var{offset:t=5}=e,n=s3(e,Nwe),r=fn({offset:t},n),{viewBox:i,position:s,value:a,children:o,content:l,className:u="",textBreakAll:d,labelRef:f}=r,h=Be(S7),p=Q2(),m=s==="center"?p:h??p,g=i||m;if(!g||Ut(a)&&Ut(o)&&!b.isValidElement(l)&&typeof l!="function")return null;var v=fn(fn({},r),{},{viewBox:g});if(b.isValidElement(l)){var{labelRef:y}=v,x=s3(v,_we);return b.cloneElement(l,x)}var w;if(typeof l=="function"){if(w=b.createElement(l,v),b.isValidElement(w))return w}else w=Owe(r);var E=Mwe(g),_=$t(r,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Iwe(r,w,_,g);var N=E?Pwe(g,r.offset,r.position):Dwe(r,g);return b.createElement(Rw,ro({ref:f,className:ft("recharts-label",u)},_,N,{breakAll:d}),w)}ji.displayName="Label";var MW=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:l,outerRadius:u,x:d,y:f,top:h,left:p,width:m,height:g,clockWise:v,labelViewBox:y}=e;if(y)return y;if(je(m)&&je(g)){if(je(d)&&je(f))return{x:d,y:f,width:m,height:g};if(je(h)&&je(p))return{x:h,y:p,width:m,height:g}}if(je(d)&&je(f))return{x:d,y:f,width:0,height:0};if(je(t)&&je(n))return{cx:t,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:l||0,outerRadius:u||o||a||0,clockWise:v};if(e.viewBox)return e.viewBox},Rwe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(ji,ro({key:"label-implicit"},r)):Oa(e)?b.createElement(ji,ro({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===ji?b.cloneElement(e,fn({key:"label-implicit"},r)):b.createElement(ji,ro({key:"label-implicit",content:e},r)):rj(e)?b.createElement(ji,ro({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(ji,ro({},e,{key:"label-implicit"},r)):null},Lwe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:i,labelRef:s}=t,a=MW(t),o=Fg(i,ji).map((u,d)=>b.cloneElement(u,{viewBox:n||a,key:"label-".concat(d)}));if(!r)return o;var l=Rwe(t.label,n||a,s);return[l,...o]};ji.parseViewBox=MW;ji.renderCallByParent=Lwe;var RW={},LW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(LW);var BW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(BW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LW,n=BW,r=iw;function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(RW);var Bwe=RW.last;const Fwe=Br(Bwe);var $we=["valueAccessor"],Uwe=["data","dataKey","clockWise","id","textBreakAll"];function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Px.apply(null,arguments)}function o3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(n),!0).forEach(function(r){zwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zwe(e,t,n){return(t=Hwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hwe(e){var t=Wwe(e,"string");return typeof t=="symbol"?t:t+""}function Wwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c3(e,t){if(e==null)return{};var n,r,i=Vwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qwe=e=>Array.isArray(e.value)?Fwe(e.value):e.value;function go(e){var{valueAccessor:t=qwe}=e,n=c3(e,$we),{data:r,dataKey:i,clockWise:s,id:a,textBreakAll:o}=n,l=c3(n,Uwe);return!r||!r.length?null:b.createElement(Tn,{className:"recharts-label-list"},r.map((u,d)=>{var f=Ut(i)?t(u,d):St(u&&u.payload,i),h=Ut(a)?{}:{id:"".concat(a,"-").concat(d)};return b.createElement(ji,Px({},$t(u,!0),l,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:o,viewBox:ji.parseViewBox(Ut(s)?u:l3(l3({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}go.displayName="LabelList";function Kwe(e,t){return e?e===!0?b.createElement(go,{key:"labelList-implicit",data:t}):b.isValidElement(e)||rj(e)?b.createElement(go,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?b.createElement(go,Px({data:t},e,{key:"labelList-implicit"})):null:null}function Gwe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=Fg(r,go).map((a,o)=>b.cloneElement(a,{data:t,key:"labelList-".concat(o)}));if(!n)return i;var s=Kwe(e.label,t);return[s,...i]}go.renderCallByParent=Gwe;function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lC.apply(null,arguments)}var ij=e=>{var{cx:t,cy:n,r,className:i}=e,s=ft("recharts-dot",i);return t===+t&&n===+n&&r===+r?b.createElement("circle",lC({},sa(e),A2(e),{className:s,cx:t,cy:n,r})):null},FW=e=>e.graphicalItems.polarItems,Ywe=Z([rn,Gg],IO),sj=Z([FW,kn,Ywe],PO),Xwe=Z([sj],DO),aj=Z([Xwe,EO],MO),Qwe=Z([aj,kn,sj],LO),Jwe=Z([aj,kn,sj],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,a=St(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:St(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),u3=()=>{},Zwe=Z([kn,$7,u3,Jwe,u3,ct,rn],FO),$W=Z([kn,ct,aj,Qwe,Kg,rn,Zwe],$O),eEe=Z([$W,kn,vh],HO);Z([kn,$W,eEe,rn],VO);var tEe={radiusAxis:{},angleAxis:{}},UW=es({name:"polarAxis",initialState:tEe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:HKe,removeRadiusAxis:WKe,addAngleAxis:VKe,removeAngleAxis:qKe}=UW.actions,nEe=UW.reducer;function d3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(n),!0).forEach(function(r){rEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rEe(e,t,n){return(t=iEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iEe(e){var t=sEe(e,"string");return typeof t=="symbol"?t:t+""}function sEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aEe=(e,t)=>t,oj=Z([FW,aEe],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),oEe=[],lj=(e,t,n)=>(n==null?void 0:n.length)===0?oEe:n,zW=Z([EO,oj,lj],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>f3(f3({},t.presentationProps),s.props))),i!=null)return i}}),lEe=Z([zW,oj,lj],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var s,a=St(r,t.nameKey,t.name),o;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:fc(a,t.dataKey),color:o,payload:r,type:t.legendType}})}),cEe=Z([zW,oj,lj,Wn],(e,t,n,r)=>{if(!(t==null||e==null))return eSe({offset:r,pieSettings:t,displayedData:e,cells:n})}),HW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(HW);var uEe=HW.isPlainObject;const dEe=Br(uEe);function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dx.apply(null,arguments)}var h3=(e,t,n,r,i)=>{var s=n-r,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-s/2,",").concat(t+i),a+="L ".concat(e+n-s/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},fEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hEe=e=>{var t=ai(e,fEe),n=b.useRef(),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:l,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=t;if(s!==+s||a!==+a||o!==+o||l!==+l||u!==+u||o===0&&l===0||u===0)return null;var g=ft("recharts-trapezoid",d);return m?b.createElement(yx,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:o,lowerWidth:l,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:m},v=>{var{upperWidth:y,lowerWidth:x,height:w,x:E,y:_}=v;return b.createElement(yx,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},b.createElement("path",Dx({},$t(t,!0),{className:g,d:h3(E,_,y,x,w),ref:n})))}):b.createElement("g",null,b.createElement("path",Dx({},$t(t,!0),{className:g,d:h3(s,a,o,l,u)})))},pEe=["option","shapeType","propTransformer","activeClassName","isActive"];function mEe(e,t){if(e==null)return{};var n,r,i=gEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function p3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(n),!0).forEach(function(r){vEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vEe(e,t,n){return(t=yEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yEe(e){var t=xEe(e,"string");return typeof t=="symbol"?t:t+""}function xEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bEe(e,t){return Mx(Mx({},t),e)}function wEe(e,t){return e==="symbols"}function m3(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(pH,n);case"trapezoid":return b.createElement(hEe,n);case"sector":return b.createElement(vH,n);case"symbols":if(wEe(t))return b.createElement(Wz,n);break;default:return null}}function EEe(e){return b.isValidElement(e)?e.props:e}function WW(e){var{option:t,shapeType:n,propTransformer:r=bEe,activeClassName:i="recharts-active-shape",isActive:s}=e,a=mEe(e,pEe),o;if(b.isValidElement(t))o=b.cloneElement(t,Mx(Mx({},a),EEe(t)));else if(typeof t=="function")o=t(a);else if(dEe(t)&&typeof t!="boolean"){var l=r(t,a);o=b.createElement(m3,{shapeType:n,elementProps:l})}else{var u=a;o=b.createElement(m3,{shapeType:n,elementProps:u})}return s?b.createElement(Tn,{className:i},o):o}var cj=(e,t)=>{var n=Cn();return(r,i)=>s=>{e==null||e(r,i,s),n(nW({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},uj=e=>{var t=Cn();return(n,r)=>i=>{e==null||e(n,r,i),t(Tbe())}},dj=(e,t)=>{var n=Cn();return(r,i)=>s=>{e==null||e(r,i,s),n(Cbe({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Lw(e){var{fn:t,args:n}=e,r=Cn(),i=Ur();return b.useEffect(()=>{if(!i){var s=t(n);return r(Sbe(s)),()=>{r(Nbe(s))}}},[t,n,r,i]),null}var VW=()=>{};function fj(e){var{legendPayload:t}=e,n=Cn(),r=Ur();return b.useEffect(()=>r?VW:(n(tH(t)),()=>{n(nH(t))}),[n,r,t]),null}function SEe(e){var{legendPayload:t}=e,n=Cn(),r=Be(ct);return b.useEffect(()=>r!=="centric"&&r!=="radial"?VW:(n(tH(t)),()=>{n(nH(t))}),[n,r,t]),null}function Bw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Rm(t)),r=b.useRef(e);return r.current!==e&&(n.current=Rm(t),r.current=e),n.current}var WS,NEe=()=>{var[e]=b.useState(()=>Rm("uid-"));return e},_Ee=(WS=Xb.useId)!==null&&WS!==void 0?WS:NEe;function TEe(e,t){var n=_Ee();return t||(e?"".concat(e,"-").concat(n):n)}var CEe=b.createContext(void 0),Fw=e=>{var{id:t,type:n,children:r}=e,i=TEe("recharts-".concat(n),t);return b.createElement(CEe.Provider,{value:i},r(i))},kEe={cartesianItems:[],polarItems:[]},qW=es({name:"graphicalItems",initialState:kEe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=po(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=po(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=po(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:AEe,replaceCartesianGraphicalItem:OEe,removeCartesianGraphicalItem:jEe,addPolarGraphicalItem:IEe,removePolarGraphicalItem:PEe}=qW.actions,DEe=qW.reducer;function hj(e){var t=Cn(),n=b.useRef(null);return b.useEffect(()=>{n.current===null?t(AEe(e)):n.current!==e&&t(OEe({prev:n.current,next:e})),n.current=e},[t,e]),b.useEffect(()=>()=>{n.current&&(t(jEe(n.current)),n.current=null)},[t]),null}function MEe(e){var t=Cn();return b.useEffect(()=>(t(IEe(e)),()=>{t(PEe(e))}),[t,e]),null}function REe(){}var LEe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},g3={t:0},VS={t:1};function $w(e){var t=ai(e,LEe),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=hH("JavascriptAnimate",t.animationManager),[f,h]=b.useState(n?g3:VS),p=b.useRef(null);return b.useEffect(()=>{n||h(VS)},[n]),b.useEffect(()=>{if(!n||!r)return REe;var m=fH(g3,VS,uH(s),i,h,d.getTimeoutController()),g=()=>{p.current=m()};return d.start([l,a,g,i,o]),()=>{d.stop(),p.current&&p.current(),o()}},[n,r,i,s,a,l,o,d]),u(f.t)}var BEe=["onMouseEnter","onClick","onMouseLeave"],FEe=["id"],$Ee=["id"];function pj(e,t){if(e==null)return{};var n,r,i=UEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(r){zEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zEe(e,t,n){return(t=HEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HEe(e){var t=WEe(e,"string");return typeof t=="symbol"?t:t+""}function WEe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko.apply(null,arguments)}function VEe(e){var t=b.useMemo(()=>Fg(e.children,Ou),[e.children]),n=Be(r=>lEe(r,e.id,t));return n==null?null:b.createElement(SEe,{legendPayload:n})}function qEe(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:u}=e;return{dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:n,name:fc(o,t),hide:l,type:u,color:a,unit:""}}}var KEe=(e,t)=>e>t?"start":e<t?"end":"middle",GEe=(e,t,n)=>typeof t=="function"?t(e):ei(t,n,n*.8),YEe=(e,t,n)=>{var{top:r,left:i,width:s,height:a}=t,o=z9(s,a),l=i+ei(e.cx,s,s/2),u=r+ei(e.cy,a,a/2),d=ei(e.innerRadius,o,0),f=GEe(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},XEe=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},QEe=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ft("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(tf,ko({},t,{type:"linear",className:n}))},JEe=(e,t,n)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),b.isValidElement(r)))return r;var i=ft("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return b.createElement(Rw,ko({},t,{alignmentBaseline:"middle",className:i}),r)};function ZEe(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:s,dataKey:a}=n;if(!r||!i||!t)return null;var o=sa(n),l=$t(i,!1),u=$t(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,g=Pn(h.cx,h.cy,h.outerRadius+d,m),v=pn(pn(pn(pn({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:KEe(g.x,h.cx)},g),y=pn(pn(pn(pn({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[Pn(h.cx,h.cy,h.outerRadius,m),g],key:"line"});return b.createElement(Tn,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},s&&QEe(s,y),JEe(i,v,St(h,a)))});return b.createElement(Tn,{className:"recharts-pie-labels"},f)}function KW(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:s}=e,a=Be(Jl),{onMouseEnter:o,onClick:l,onMouseLeave:u}=i,d=pj(i,BEe),f=cj(o,i.dataKey),h=uj(u),p=dj(l,i.dataKey);return t==null?null:b.createElement(b.Fragment,null,t.map((m,g)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var v=n&&String(g)===a,y=a?r:null,x=v?n:y,w=pn(pn({},m),{},{stroke:m.stroke,tabIndex:-1,[G9]:g,[Y9]:i.dataKey});return b.createElement(Tn,ko({tabIndex:-1,className:"recharts-pie-sector"},Z1(d,m,g),{onMouseEnter:f(m,g),onMouseLeave:h(m,g),onClick:p(m,g),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(g)}),b.createElement(WW,ko({option:x,isActive:v,shapeType:"sector"},w)))}),b.createElement(ZEe,{sectors:t,props:i,showLabels:s}))}function eSe(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),p=XEe(o,l),m=Math.abs(p),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,v=r.filter(N=>St(N,u,0)!==0).length,y=(m>=360?v:v-1)*g,x=m-v*h-y,w=r.reduce((N,T)=>{var C=St(T,u,0);return N+(je(C)?C:0)},0),E;if(w>0){var _;E=r.map((N,T)=>{var C=St(N,u,0),O=St(N,d,T),A=YEe(n,s,N),D=(je(C)?C:0)/w,k,P=pn(pn({},N),i&&i[T]&&i[T].props);T?k=_.endAngle+er(p)*g*(C!==0?1:0):k=o;var B=k+er(p)*((C!==0?h:0)+D*x),L=(k+B)/2,j=(A.innerRadius+A.outerRadius)/2,R=[{name:O,value:C,payload:P,dataKey:u,type:f}],M=Pn(A.cx,A.cy,j,L);return _=pn(pn(pn(pn({},n.presentationProps),{},{percent:D,cornerRadius:a,name:O,tooltipPayload:R,midAngle:L,middleRadius:j,tooltipPosition:M},P),A),{},{value:St(N,u),startAngle:k,endAngle:B,payload:P,paddingAngle:er(p)*g}),_})}return E}function tSe(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:l,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=Bw(t,"recharts-pie-"),p=n.current,[m,g]=b.useState(!0),v=b.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),y=b.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return b.createElement($w,{begin:s,duration:a,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:v,key:h},x=>{var w=[],E=r&&r[0],_=E.startAngle;return r.forEach((N,T)=>{var C=p&&p[T],O=T>0?Ql(N,"paddingAngle",0):0;if(C){var A=XM(C.endAngle-C.startAngle,N.endAngle-N.startAngle),D=pn(pn({},N),{},{startAngle:_+O,endAngle:_+A(x)+O});w.push(D),_=D.endAngle}else{var{endAngle:k,startAngle:P}=N,B=XM(0,k-P),L=B(x),j=pn(pn({},N),{},{startAngle:_+O,endAngle:_+L+O});w.push(j),_=j.endAngle}}),n.current=w,b.createElement(Tn,null,b.createElement(KW,{sectors:w,activeShape:l,inactiveShape:u,allOtherPieProps:t,showLabels:!m}))})}function nSe(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,s=b.useRef(null),a=s.current;return n&&t&&t.length&&(!a||a!==t)?b.createElement(tSe,{props:e,previousSectorsRef:s}):b.createElement(KW,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function rSe(e){var{hide:t,className:n,rootTabIndex:r}=e,i=ft("recharts-pie",n);return t?null:b.createElement(Tn,{tabIndex:r,className:i},b.createElement(nSe,e))}var iSe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!hc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function sSe(e){var{id:t}=e,n=pj(e,FEe),r=b.useMemo(()=>Fg(e.children,Ou),[e.children]),i=Be(s=>cEe(s,t,r));return b.createElement(b.Fragment,null,b.createElement(Lw,{fn:qEe,args:pn(pn({},e),{},{sectors:i})}),b.createElement(rSe,ko({},n,{sectors:i})))}function Rx(e){var t=ai(e,iSe),{id:n}=t,r=pj(t,$Ee),i=sa(r);return b.createElement(Fw,{id:n,type:"pie"},s=>b.createElement(b.Fragment,null,b.createElement(MEe,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i}),b.createElement(VEe,ko({},r,{id:s})),b.createElement(sSe,ko({},r,{id:s})),r.children))}Rx.displayName="Pie";var aSe=Z([Wn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),oSe=Z([aSe,Ro,Lo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Uw=()=>Be(oSe),lSe=()=>Be(h1e);function y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(n),!0).forEach(function(r){cSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cSe(e,t,n){return(t=uSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uSe(e){var t=dSe(e,"string");return typeof t=="symbol"?t:t+""}function dSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fSe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=x3(x3({index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},$t(i,!1)),A2(i)),o;return b.isValidElement(i)?o=b.cloneElement(i,a):typeof i=="function"?o=i(a):o=b.createElement(ij,a),b.createElement(Tn,{className:"recharts-active-dot"},o)};function cC(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,s=Be(Jl),a=lSe();if(t==null||a==null)return null;var o=t.find(l=>a.includes(l.payload));return Ut(o)?null:fSe({point:o,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var hSe=["x","y"];function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uC.apply(null,arguments)}function b3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(n),!0).forEach(function(r){pSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pSe(e,t,n){return(t=mSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mSe(e){var t=gSe(e,"string");return typeof t=="symbol"?t:t+""}function gSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vSe(e,t){if(e==null)return{};var n,r,i=ySe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ySe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xSe(e,t){var{x:n,y:r}=e,i=vSe(e,hSe),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return rp(rp(rp(rp(rp({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function GW(e){return b.createElement(WW,uC({shapeType:"rectangle",propTransformer:xSe,activeClassName:"recharts-active-bar"},e))}var bSe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(je(t))return t;var s=je(r)||Ut(r);return s?t(r,i):(s||wU(),n)}},wSe={},YW=es({name:"errorBars",initialState:wSe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:KKe,removeErrorBar:GKe}=YW.actions,ESe=YW.reducer,SSe=["children"];function NSe(e,t){if(e==null)return{};var n,r,i=_Se(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},CSe=b.createContext(TSe);function XW(e){var{children:t}=e,n=NSe(e,SSe);return b.createElement(CSe.Provider,{value:n},t)}function zw(e,t){var n,r,i=Be(u=>Fo(u,e)),s=Be(u=>vc(u,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ci.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ki.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function mj(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Uw(),{needClipX:s,needClipY:a,needClip:o}=zw(t,n);if(!o)return null;var{x:l,y:u,width:d,height:f}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:s?l:l-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var kSe=["onMouseEnter","onMouseLeave","onClick"],ASe=["value","background","tooltipPosition"],OSe=["id"],jSe=["onMouseEnter","onClick","onMouseLeave"];function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$f.apply(null,arguments)}function w3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(n),!0).forEach(function(r){ISe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ISe(e,t,n){return(t=PSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PSe(e){var t=DSe(e,"string");return typeof t=="symbol"?t:t+""}function DSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lx(e,t){if(e==null)return{};var n,r,i=MSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RSe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:fc(n,t),payload:e}]};function LSe(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:fc(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:o}}}function BSe(e){var t=Be(Jl),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:o,onClick:l}=s,u=Lx(s,kSe),d=cj(a,r),f=uj(o),h=dj(l,r);if(!i||n==null)return null;var p=$t(i,!1);return b.createElement(b.Fragment,null,n.map((m,g)=>{var{value:v,background:y,tooltipPosition:x}=m,w=Lx(m,ASe);if(!y)return null;var E=d(m,g),_=f(m,g),N=h(m,g),T=Ar(Ar(Ar(Ar(Ar({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},y),p),Z1(u,m,g)),{},{onMouseEnter:E,onMouseLeave:_,onClick:N,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return b.createElement(GW,$f({key:"background-bar-".concat(g)},T))}))}function QW(e){var{data:t,props:n,showLabels:r}=e,i=sa(n),{id:s}=i,a=Lx(i,OSe),{shape:o,dataKey:l,activeBar:u}=n,d=Be(Jl),f=Be(mW),{onMouseEnter:h,onClick:p,onMouseLeave:m}=n,g=Lx(n,jSe),v=cj(h,l),y=uj(m),x=dj(p,l);return t?b.createElement(b.Fragment,null,t.map((w,E)=>{var _=u&&String(E)===d&&(f==null||l===f),N=_?u:o,T=Ar(Ar(Ar({},a),w),{},{isActive:_,option:N,index:E,dataKey:l});return b.createElement(Tn,$f({className:"recharts-bar-rectangle"},Z1(g,w,E),{onMouseEnter:v(w,E),onMouseLeave:y(w,E),onClick:x(w,E),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(E)}),b.createElement(GW,T))}),r&&go.renderCallByParent(n,t)):null}function FSe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=t,f=n.current,h=Bw(t,"recharts-bar-"),[p,m]=b.useState(!1),g=b.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),v=b.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return b.createElement($w,{begin:a,duration:o,isActive:s,easing:l,onAnimationEnd:g,onAnimationStart:v,key:h},y=>{var x=y===1?r:r==null?void 0:r.map((w,E)=>{var _=f&&f[E];if(_)return Ar(Ar({},w),{},{x:mr(_.x,w.x,y),y:mr(_.y,w.y,y),width:mr(_.width,w.width,y),height:mr(_.height,w.height,y)});if(i==="horizontal"){var N=mr(0,w.height,y);return Ar(Ar({},w),{},{y:w.y+w.height-N,height:N})}var T=mr(0,w.width,y);return Ar(Ar({},w),{},{width:T})});return y>0&&(n.current=x??null),x==null?null:b.createElement(Tn,null,b.createElement(QW,{props:t,data:x,showLabels:!p}))})}function $Se(e){var{data:t,isAnimationActive:n}=e,r=b.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?b.createElement(FSe,{previousRectanglesRef:r,props:e}):b.createElement(QW,{props:e,data:t,showLabels:!0})}var JW=0,USe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:St(e,t)}};class zSe extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:o,background:l,id:u}=this.props;if(t)return null;var d=ft("recharts-bar",i),f=u;return b.createElement(Tn,{className:d,id:u},o&&b.createElement("defs",null,b.createElement(mj,{clipPathId:f,xAxisId:s,yAxisId:a})),b.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},b.createElement(BSe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),b.createElement($Se,this.props)),this.props.children)}}var HSe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!hc.isSsr,legendType:"rect",minPointSize:JW,xAxisId:0,yAxisId:0};function WSe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=zw(t,n),h=Ug(),p=Ur(),m=Fg(e.children,Ou),g=Be(x=>vNe(x,t,n,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,b.createElement(XW,{xAxisId:t,yAxisId:n,data:g,dataPointFormatter:USe,errorBarOffset:v},b.createElement(zSe,$f({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function VSe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p}=e,m=t==="horizontal"?o:a,g=d?m.scale.domain():null,v=dge({numericAxis:m});return f.map((y,x)=>{var w,E,_,N,T,C;d?w=age(d[x],g):(w=St(y,n),Array.isArray(w)||(w=[v,w]));var O=bSe(r,JW)(w[1],x);if(t==="horizontal"){var A,[D,k]=[o.scale(w[0]),o.scale(w[1])];E=TR({axis:a,ticks:l,bandSize:s,offset:i.offset,entry:y,index:x}),_=(A=k??D)!==null&&A!==void 0?A:void 0,N=i.size;var P=D-k;if(T=wi(P)?0:P,C={x:E,y:h.top,width:N,height:h.height},Math.abs(O)>0&&Math.abs(T)<Math.abs(O)){var B=er(T||O)*(Math.abs(O)-Math.abs(T));_-=B,T+=B}}else{var[L,j]=[a.scale(w[0]),a.scale(w[1])];if(E=L,_=TR({axis:o,ticks:u,bandSize:s,offset:i.offset,entry:y,index:x}),N=j-L,T=i.size,C={x:h.left,y:_,width:h.width,height:T},Math.abs(O)>0&&Math.abs(N)<Math.abs(O)){var R=er(N||O)*(Math.abs(O)-Math.abs(N));N+=R}}if(E==null||_==null||N==null||T==null)return null;var M=Ar(Ar({},y),{},{x:E,y:_,width:N,height:T,value:d?w:w[1],payload:y,background:C,tooltipPosition:{x:E+N/2,y:_+T/2}},p&&p[x]&&p[x].props);return M}).filter(Boolean)}function rf(e){var t=ai(e,HSe),n=Ur();return b.createElement(Fw,{id:t.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(fj,{legendPayload:RSe(t)}),b.createElement(Lw,{fn:LSe,args:t}),b.createElement(hj,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:q9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(WSe,$f({},t,{id:r}))))}rf.displayName="Bar";function E3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(n),!0).forEach(function(r){qSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qSe(e,t,n){return(t=KSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KSe(e){var t=GSe(e,"string");return typeof t=="symbol"?t:t+""}function GSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YSe=(e,t)=>t,XSe=(e,t,n)=>n,QSe=(e,t,n,r)=>r,JSe=(e,t,n,r,i)=>i,t0=Z([Xg,JSe],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),ZSe=Z([t0],e=>e==null?void 0:e.maxBarSize),eNe=(e,t,n,r,i,s)=>s,S3=(e,t,n)=>{var r=n??e;if(!Ut(r))return ei(r,t,0)},tNe=Z([ct,Xg,YSe,XSe,QSe],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),nNe=(e,t,n,r)=>{var i=ct(e);return i==="horizontal"?Vm(e,"yAxis",n,r):Vm(e,"xAxis",t,r)},rNe=(e,t,n)=>{var r=ct(e);return r==="horizontal"?ML(e,"xAxis",t):ML(e,"yAxis",n)},iNe=(e,t,n)=>{var r={},i=e.filter(Aw),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),o=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(m=>m.dataKey),p=S3(t,n,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),l=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=S3(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]},sNe=Z([tNe,Nxe,rNe],iNe),aNe=(e,t,n,r,i)=>{var s,a,o=t0(e,t,n,r,i);if(o!=null){var l=ct(e),u=g7(e),{maxBarSize:d}=o,f=Ut(d)?u:d,h,p;return l==="horizontal"?(h=Pa(e,"xAxis",t,r),p=Ia(e,"xAxis",t,r)):(h=Pa(e,"yAxis",n,r),p=Ia(e,"yAxis",n,r)),(s=(a=ku(h,p,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},ZW=(e,t,n,r)=>{var i=ct(e),s,a;return i==="horizontal"?(s=Pa(e,"xAxis",t,r),a=Ia(e,"xAxis",t,r)):(s=Pa(e,"yAxis",n,r),a=Ia(e,"yAxis",n,r)),ku(s,a)};function oNe(e,t,n,r,i){var s=r.length;if(!(s<1)){var a=ei(e,n,0,!0),o,l=[];if(Er(r[0].barSize)){var u=!1,d=n/s,f=r.reduce((y,x)=>y+(x.barSize||0),0);f+=(s-1)*a,f>=n&&(f-=(s-1)*a,a=0),f>=n&&d>0&&(u=!0,d*=.9,f=s*d);var h=(n-f)/2>>0,p={offset:h-a,size:0};o=r.reduce((y,x)=>{var w,E={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p.offset+p.size+a,size:u?d:(w=x.barSize)!==null&&w!==void 0?w:0}},_=[...y,E];return p=_[_.length-1].position,_},l)}else{var m=ei(t,n,0,!0);n-2*m-(s-1)*a<=0&&(a=0);var g=(n-2*m-(s-1)*a)/s;g>1&&(g>>=0);var v=Er(i)?Math.min(g,i):g;o=r.reduce((y,x,w)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m+(g+a)*w+(g-v)/2,size:v}}],l)}return o}}var lNe=(e,t,n,r,i,s,a)=>{var o=Ut(a)?t:a,l=oNe(n,r,i!==s?i:s,e,o);return i!==s&&l!=null&&(l=l.map(u=>sv(sv({},u),{},{position:sv(sv({},u.position),{},{offset:u.position.offset-i/2})}))),l},cNe=Z([sNe,g7,Sxe,v7,aNe,ZW,ZSe],lNe),uNe=(e,t,n,r)=>Pa(e,"xAxis",t,r),dNe=(e,t,n,r)=>Pa(e,"yAxis",n,r),fNe=(e,t,n,r)=>Ia(e,"xAxis",t,r),hNe=(e,t,n,r)=>Ia(e,"yAxis",n,r),pNe=Z([cNe,t0],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),mNe=(e,t)=>{var n=kw(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}},gNe=Z([nNe,t0],mNe),vNe=Z([Wn,uNe,dNe,fNe,hNe,pNe,ct,qg,ZW,gNe,t0,eNe],(e,t,n,r,i,s,a,o,l,u,d,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:m}=o;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||n==null||r==null||i==null||l==null)){var{data:g}=d,v;if(g!=null&&g.length>0?v=g:v=h==null?void 0:h.slice(p,m+1),v!=null)return VSe({layout:a,barSettings:d,pos:s,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:u,displayedData:v,offset:e,cells:f})}}),eV=e=>{var{chartData:t}=e,n=Cn(),r=Ur();return b.useEffect(()=>r?()=>{}:(n(WL(t)),()=>{n(WL(void 0))}),[t,n,r]),null},N3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tV=es({name:"brush",initialState:N3,reducers:{setBrushSettings(e,t){return t.payload==null?N3:t.payload}}}),{setBrushSettings:YKe}=tV.actions,yNe=tV.reducer;function xNe(e,t,n){return(t=bNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bNe(e){var t=wNe(e,"string");return typeof t=="symbol"?t:t+""}function wNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gj{static create(t){return new gj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}xNe(gj,"EPS",1e-4);function ENe(e){return(e%180+180)%180}var SNe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ENe(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},NNe={dots:[],areas:[],lines:[]},nV=es({name:"referenceElements",initialState:NNe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=po(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=po(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=po(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:XKe,removeDot:QKe,addArea:JKe,removeArea:ZKe,addLine:eGe,removeLine:tGe}=nV.actions,_Ne=nV.reducer,TNe=b.createContext(void 0),CNe=e=>{var{children:t}=e,[n]=b.useState("".concat(Rm("recharts"),"-clip")),r=Uw();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return b.createElement(TNe.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:s,height:o,width:a}))),t)};function qS(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function rV(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function kNe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return SNe(r,n)}function ANe(e,t,n){var r=n==="width",{x:i,y:s,width:a,height:o}=e;return t===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Bx(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function ONe(e,t){return rV(e,t+1)}function jNe(e,t,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=t,l=0,u=1,d=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:rV(r,u)};var g=l,v,y=()=>(v===void 0&&(v=n(m,g)),v),x=m.coordinate,w=l===0||Bx(e,x,y,d,o);w||(l=0,d=a,u+=1),w&&(d=x+e*(y()/2+i),l+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function _3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(n),!0).forEach(function(r){INe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function INe(e,t,n){return(t=PNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PNe(e){var t=DNe(e,"string");return typeof t=="symbol"?t:t+""}function DNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MNe(e,t,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=t,{end:l}=t,u=function(h){var p=s[h],m,g=()=>(m===void 0&&(m=n(p,h)),m);if(h===a-1){var v=e*(p.coordinate+e*g()/2-l);s[h]=p=Tr(Tr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[h]=p=Tr(Tr({},p),{},{tickCoord:p.coordinate});var y=Bx(e,p.tickCoord,g,o,l);y&&(l=p.tickCoord-e*(g()/2+i),s[h]=Tr(Tr({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function RNe(e,t,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:u}=t;if(s){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-u);a[o-1]=d=Tr(Tr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Bx(e,d.tickCoord,()=>f,l,u);p&&(u=d.tickCoord-e*(f/2+i),a[o-1]=Tr(Tr({},d),{},{isShow:!0}))}for(var m=s?o-1:o,g=function(x){var w=a[x],E,_=()=>(E===void 0&&(E=n(w,x)),E);if(x===0){var N=e*(w.coordinate-e*_()/2-l);a[x]=w=Tr(Tr({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else a[x]=w=Tr(Tr({},w),{},{tickCoord:w.coordinate});var T=Bx(e,w.tickCoord,_,l,u);T&&(l=w.tickCoord+e*(_()/2+i),a[x]=Tr(Tr({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return a}function vj(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(je(l)||hc.isSsr){var h;return(h=ONe(i,je(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=o==="top"||o==="bottom"?"width":"height",g=d&&m==="width"?Hp(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=(w,E)=>{var _=typeof u=="function"?u(w.value,E):w.value;return m==="width"?kNe(Hp(_,{fontSize:t,letterSpacing:n}),g,f):Hp(_,{fontSize:t,letterSpacing:n})[m]},y=i.length>=2?er(i[1].coordinate-i[0].coordinate):1,x=ANe(s,y,m);return l==="equidistantPreserveStart"?jNe(y,x,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=RNe(y,x,v,i,a,l==="preserveStartEnd"):p=MNe(y,x,v,i,a),p.filter(w=>w.isShow))}var LNe=["viewBox"],BNe=["viewBox"];function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hd.apply(null,arguments)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(r){yj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C3(e,t){if(e==null)return{};var n,r,i=FNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yj(e,t,n){return(t=$Ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Ne(e){var t=UNe(e,"string");return typeof t=="symbol"?t:t+""}function UNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yc extends b.Component{constructor(t){super(t),this.tickRefs=b.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,i=C3(t,LNe),s=this.props,{viewBox:a}=s,o=C3(s,BNe);return!qS(r,a)||!qS(i,o)||!qS(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:i,height:s,orientation:a,tickSize:o,mirror:l,tickMargin:u}=this.props,d,f,h,p,m,g,v=l?-1:1,y=t.tickSize||o,x=je(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,p=r+ +!l*s,h=p-v*y,g=h-v*u,m=x;break;case"left":h=p=t.coordinate,f=n+ +!l*i,d=f-v*y,m=d-v*u,g=x;break;case"right":h=p=t.coordinate,f=n+ +l*i,d=f+v*y,m=d+v*u,g=x;break;default:d=f=t.coordinate,p=r+ +l*s,h=p+v*y,g=h+v*u,m=x;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:m,y:g}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o}=this.props,l=Bn(Bn(Bn({},$t(this.props,!1)),$t(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);l=Bn(Bn({},l),{},{x1:t,y1:n+u*i,x2:t+r,y2:n+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);l=Bn(Bn({},l),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return b.createElement("line",Hd({},l,{className:ft("recharts-cartesian-axis-line",Ql(o,"className"))}))}static renderTickItem(t,n,r){var i,s=ft(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,Bn(Bn({},n),{},{className:s}));else if(typeof t=="function")i=t(Bn(Bn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=ft(a,t.className)),i=b.createElement(Rw,Hd({},n,{className:a}),r)}return i}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:l,padding:u}=this.props,d=vj(Bn(Bn({},this.props),{},{ticks:r}),t,n),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=sa(this.props),m=$t(a,!1),g=Bn(Bn({},p),{},{fill:"none"},$t(i,!1)),v=d.map((y,x)=>{var{line:w,tick:E}=this.getTickLineCoord(y),_=Bn(Bn(Bn(Bn({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:s},m),E),{},{index:x,payload:y,visibleTicksCount:d.length,tickFormatter:o,padding:u});return b.createElement(Tn,Hd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Z1(this.props,y,x)),i&&b.createElement("line",Hd({},g,w,{className:ft("recharts-cartesian-axis-tick-line",Ql(i,"className"))})),a&&yc.renderTickItem(a,_,"".concat(typeof o=="function"?o(y.value,x):y.value).concat(l||"")))});return v.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:t,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:b.createElement(Tn,{className:ft("recharts-cartesian-axis",i),ref:o=>{if(o){var l=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),ji.renderCallByParent(this.props))}}yj(yc,"displayName","CartesianAxis");yj(yc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var zNe=["x1","y1","x2","y2","key"],HNe=["offset"],WNe=["xAxisId","yAxisId"],VNe=["xAxisId","yAxisId"];function k3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(n),!0).forEach(function(r){qNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qNe(e,t,n){return(t=KNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KNe(e){var t=GNe(e,"string");return typeof t=="symbol"?t:t+""}function GNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jc.apply(null,arguments)}function Fx(e,t){if(e==null)return{};var n,r,i=YNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XNe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:o}=e;return b.createElement("rect",{x:r,y:i,ry:o,width:s,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iV(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:s,y2:a,key:o}=t,l=Fx(t,zNe),u=sa(l),{offset:d}=u,f=Fx(u,HNe);n=b.createElement("line",Jc({},f,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function QNe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=Fx(e,WNe),l=i.map((u,d)=>{var f=Or(Or({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return iV(r,f)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function JNe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,o=Fx(e,VNe),l=i.map((u,d)=>{var f=Or(Or({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return iV(r,f)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function ZNe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],m=p?i+a-f:u[h+1]-f;if(m<=0)return null;var g=h%t.length;return b.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:m,width:s,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function e_e(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],m=p?i+a-f:u[h+1]-f;if(m<=0)return null;var g=h%n.length;return b.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:m,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var t_e=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return W9(vj(Or(Or(Or({},yc.defaultProps),n),{},{ticks:V9(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},n_e=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return W9(vj(Or(Or(Or({},yc.defaultProps),n),{},{ticks:V9(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},r_e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function sV(e){var t=J9(),n=Z9(),r=Q9(),i=Or(Or({},ai(e,r_e)),{},{x:je(e.x)?e.x:r.left,y:je(e.y)?e.y:r.top,width:je(e.width)?e.width:r.width,height:je(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,m=Ur(),g=Be(O=>RL(O,"xAxis",s,m)),v=Be(O=>RL(O,"yAxis",a,m));if(!je(u)||u<=0||!je(d)||d<=0||!je(o)||o!==+o||!je(l)||l!==+l)return null;var y=i.verticalCoordinatesGenerator||t_e,x=i.horizontalCoordinatesGenerator||n_e,{horizontalPoints:w,verticalPoints:E}=i;if((!w||!w.length)&&typeof x=="function"){var _=h&&h.length,N=x({yAxis:v?Or(Or({},v),{},{ticks:_?h:v.ticks}):void 0,width:t,height:n,offset:r},_?!0:f);zp(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!E||!E.length)&&typeof y=="function"){var T=p&&p.length,C=y({xAxis:g?Or(Or({},g),{},{ticks:T?p:g.ticks}):void 0,width:t,height:n,offset:r},T?!0:f);zp(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(E=C)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(XNe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(ZNe,Jc({},i,{horizontalPoints:w})),b.createElement(e_e,Jc({},i,{verticalPoints:E})),b.createElement(QNe,Jc({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:v})),b.createElement(JNe,Jc({},i,{offset:r,verticalPoints:E,xAxis:g,yAxis:v})))}sV.displayName="CartesianGrid";var aV=(e,t,n,r)=>Pa(e,"xAxis",t,r),oV=(e,t,n,r)=>Ia(e,"xAxis",t,r),lV=(e,t,n,r)=>Pa(e,"yAxis",n,r),cV=(e,t,n,r)=>Ia(e,"yAxis",n,r),i_e=Z([ct,aV,lV,oV,cV],(e,t,n,r,i)=>La(e,"xAxis")?ku(t,r,!1):ku(n,i,!1)),s_e=(e,t,n,r,i)=>i;function a_e(e){return e.type==="line"}var o_e=Z([Xg,s_e],(e,t)=>e.filter(a_e).find(n=>n.id===t)),l_e=Z([ct,aV,lV,oV,cV,o_e,i_e,qg],(e,t,n,r,i,s,a,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(s==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:f,data:h}=s,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(u,d+1),p!=null)return A_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:a,displayedData:p})}}),c_e=["id"],u_e=["type","layout","connectNulls","needClip"],d_e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function A3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(n),!0).forEach(function(r){f_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f_e(e,t,n){return(t=h_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h_e(e){var t=p_e(e,"string");return typeof t=="symbol"?t:t+""}function p_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xj(e,t){if(e==null)return{};var n,r,i=m_e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ju.apply(null,arguments)}var g_e=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:fc(n,t),payload:e}]};function v_e(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:fc(a,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var uV=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function y_e(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var x_e=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return uV(t,e);for(var i=Math.floor(e/r),s=e%r,a=t-e,o=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>s){o=[...n.slice(0,l),s-u];break}var d=o.length%2===0?[0,a]:[a];return[...y_e(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function b_e(e,t){var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ft("recharts-line-dot",typeof e!="boolean"?e.className:"");n=b.createElement(ij,ju({},t,{className:r}))}return n}function w_e(e,t){return e==null?!1:t?!0:e.length===1}function E_e(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:s,needClip:a}=r;if(!w_e(n,i))return null;var{id:o}=r,l=xj(r,c_e),u=ew(i),d=sa(l),f=$t(i,!0),h=n.map((m,g)=>{var v=Hs(Hs(Hs({key:"dot-".concat(g),r:3},d),f),{},{index:g,cx:m.x,cy:m.y,dataKey:s,value:m.value,payload:m.payload,points:n});return b_e(i,v)}),p={clipPath:a?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return b.createElement(Tn,ju({className:"recharts-line-dots",key:"dots"},p),h)}function dC(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:s,showLabels:a}=e,{type:o,layout:l,connectNulls:u,needClip:d}=s,f=xj(s,u_e),h=Hs(Hs({},$t(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:l,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return b.createElement(b.Fragment,null,(r==null?void 0:r.length)>1&&b.createElement(tf,ju({},h,{pathRef:n})),b.createElement(E_e,{points:r,clipPathId:t,props:s}),a&&go.renderCallByParent(s,r))}function S_e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function N_e(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:m,onAnimationEnd:g,onAnimationStart:v}=n,y=i.current,x=Bw(n,"recharts-line-"),[w,E]=b.useState(!1),_=b.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),N=b.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]),T=S_e(r.current),C=s.current;return b.createElement($w,{begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:N,key:x},O=>{var A=mr(C,T+C,O),D=Math.min(A,T),k;if(o){var P="".concat(o).split(/[,\s]+/gim).map(j=>parseFloat(j));k=x_e(D,T,P)}else k=uV(T,D);if(y){var B=y.length/a.length,L=O===1?a:a.map((j,R)=>{var M=Math.floor(R*B);if(y[M]){var V=y[M];return Hs(Hs({},j),{},{x:mr(V.x,j.x,O),y:mr(V.y,j.y,O)})}return h?Hs(Hs({},j),{},{x:mr(p*2,j.x,O),y:mr(m/2,j.y,O)}):Hs(Hs({},j),{},{x:j.x,y:j.y})});return i.current=L,b.createElement(dC,{props:n,points:L,clipPathId:t,pathRef:r,showLabels:!w,strokeDasharray:k})}return O>0&&T>0&&(i.current=a,s.current=D),b.createElement(dC,{props:n,points:a,clipPathId:t,pathRef:r,showLabels:!w,strokeDasharray:k})})}function __e(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:i}=n,s=b.useRef(null),a=b.useRef(0),o=b.useRef(null),l=s.current;return i&&r&&r.length&&l!==r?b.createElement(N_e,{props:n,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):b.createElement(dC,{props:n,points:r,clipPathId:t,pathRef:o,showLabels:!0})}var T_e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:St(e.payload,t)});class C_e extends b.Component{render(){var t,{hide:n,dot:r,points:i,className:s,xAxisId:a,yAxisId:o,top:l,left:u,width:d,height:f,id:h,needClip:p}=this.props;if(n)return null;var m=ft("recharts-line",s),g=h,{r:v=3,strokeWidth:y=2}=(t=$t(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},x=ew(r),w=v*2+y;return b.createElement(b.Fragment,null,b.createElement(Tn,{className:m},p&&b.createElement("defs",null,b.createElement(mj,{clipPathId:g,xAxisId:a,yAxisId:o}),!x&&b.createElement("clipPath",{id:"clipPath-dots-".concat(g)},b.createElement("rect",{x:u-w/2,y:l-w/2,width:d+w,height:f+w}))),b.createElement(__e,{props:this.props,clipPathId:g}),b.createElement(XW,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:T_e,errorBarOffset:0},this.props.children)),b.createElement(cC,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var dV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!hc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function k_e(e){var t=ai(e,dV),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:m,id:g}=t,v=xj(t,d_e),{needClip:y}=zw(p,m),x=Uw(),w=Ug(),E=Ur(),_=Be(A=>l_e(A,p,m,E,g));if(w!=="horizontal"&&w!=="vertical"||_==null||x==null)return null;var{height:N,width:T,x:C,y:O}=x;return b.createElement(C_e,ju({},v,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:m,points:_,layout:w,height:N,width:T,left:C,top:O,needClip:y}))}function A_e(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:l}=e;return l.map((u,d)=>{var f=St(u,a);if(t==="horizontal"){var h=mx({axis:n,ticks:i,bandSize:o,entry:u,index:d}),p=Ut(f)?null:r.scale(f);return{x:h,y:p,value:f,payload:u}}var m=Ut(f)?null:n.scale(f),g=mx({axis:r,ticks:s,bandSize:o,entry:u,index:d});return m==null||g==null?null:{x:m,y:g,value:f,payload:u}}).filter(Boolean)}function Km(e){var t=ai(e,dV),n=Ur();return b.createElement(Fw,{id:t.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(fj,{legendPayload:g_e(t)}),b.createElement(Lw,{fn:v_e,args:t}),b.createElement(hj,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),b.createElement(k_e,ju({},t,{id:r}))))}Km.displayName="Line";var fV=(e,t,n,r)=>Pa(e,"xAxis",t,r),hV=(e,t,n,r)=>Ia(e,"xAxis",t,r),pV=(e,t,n,r)=>Pa(e,"yAxis",n,r),mV=(e,t,n,r)=>Ia(e,"yAxis",n,r),O_e=Z([ct,fV,pV,hV,mV],(e,t,n,r,i)=>La(e,"xAxis")?ku(t,r,!1):ku(n,i,!1)),j_e=(e,t,n,r,i)=>i,gV=Z([Xg,j_e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),I_e=(e,t,n,r,i)=>{var s,a=gV(e,t,n,r,i);if(a!=null){var o=ct(e),l=La(o,"xAxis"),u;if(l?u=Vm(e,"yAxis",n,r):u=Vm(e,"xAxis",t,r),u!=null){var{stackId:d}=a,f=kw(a);if(!(d==null||f==null)){var h=(s=u[d])===null||s===void 0?void 0:s.stackedData;return h==null?void 0:h.find(p=>p.key===f)}}}},P_e=Z([ct,fV,pV,hV,mV,I_e,qg,O_e,gV],(e,t,n,r,i,s,a,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=a;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:h}=l,p;if(h&&h.length>0?p=h:p=u==null?void 0:u.slice(d,f+1),p!=null){var m=void 0;return Z_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:s,displayedData:p,chartBaseValue:m,bandSize:o})}}}),D_e=["id"],M_e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function vV(e,t){if(e==null)return{};var n,r,i=R_e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function R_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function O3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(n),!0).forEach(function(r){L_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L_e(e,t,n){return(t=B_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B_e(e){var t=F_e(e,"string");return typeof t=="symbol"?t:t+""}function F_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vo.apply(null,arguments)}function $x(e,t){return e&&e!=="none"?e:t}var $_e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:$x(r,i),value:fc(n,t),payload:e}]};function U_e(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:fc(a,t),hide:o,type:e.tooltipType,color:$x(r,s),unit:l}}}var z_e=(e,t)=>{var n;if(b.isValidElement(e))n=b.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ft("recharts-area-dot",typeof e!="boolean"?e.className:"");n=b.createElement(ij,vo({},t,{className:r}))}return n};function H_e(e,t){return e==null?!1:t?!0:e.length===1}function W_e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:s,dataKey:a}=r;if(!H_e(n,s))return null;var o=ew(s),l=sa(r),u=$t(s,!0),d=n.map((h,p)=>{var m=Zc(Zc(Zc({key:"dot-".concat(p),r:3},l),u),{},{index:p,cx:h.x,cy:h.y,dataKey:a,value:h.value,payload:h.payload,points:n});return z_e(s,m)}),f={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return b.createElement(Tn,vo({className:"recharts-area-dots"},f),d)}function fC(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:s,showLabels:a}=e,{layout:o,type:l,stroke:u,connectNulls:d,isRange:f}=s,{id:h}=s,p=vV(s,D_e),m=sa(p);return b.createElement(b.Fragment,null,(t==null?void 0:t.length)>1&&b.createElement(Tn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},b.createElement(tf,vo({},m,{id:h,points:t,connectNulls:d,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&b.createElement(tf,vo({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&b.createElement(tf,vo({},m,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:n}))),b.createElement(W_e,{points:t,props:p,clipPathId:i}),a&&go.renderCallByParent(p,t))}function V_e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,s=r[0].y,a=r[r.length-1].y;if(!Er(s)||!Er(a))return null;var o=t*Math.abs(s-a),l=Math.max(...r.map(u=>u.x||0));return je(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.x||0),l)),je(l)?b.createElement("rect",{x:0,y:s<a?s:s-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function q_e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,s=r[0].x,a=r[r.length-1].x;if(!Er(s)||!Er(a))return null;var o=t*Math.abs(s-a),l=Math.max(...r.map(u=>u.y||0));return je(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.y||0),l)),je(l)?b.createElement("rect",{x:s<a?s:s-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function K_e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:s}=e;return n==="vertical"?b.createElement(V_e,{alpha:t,points:r,baseLine:i,strokeWidth:s}):b.createElement(q_e,{alpha:t,points:r,baseLine:i,strokeWidth:s})}function G_e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=e,{points:a,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=r,m=Bw(r,"recharts-area-"),[g,v]=b.useState(!0),y=b.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),x=b.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]),w=i.current,E=s.current;return b.createElement($w,{begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:y,onAnimationStart:x,key:m},_=>{if(w){var N=w.length/a.length,T=_===1?a:a.map((O,A)=>{var D=Math.floor(A*N);if(w[D]){var k=w[D];return Zc(Zc({},O),{},{x:mr(k.x,O.x,_),y:mr(k.y,O.y,_)})}return O}),C;return je(o)?C=mr(E,o,_):Ut(o)||wi(o)?C=mr(E,0,_):C=o.map((O,A)=>{var D=Math.floor(A*N);if(Array.isArray(E)&&E[D]){var k=E[D];return Zc(Zc({},O),{},{x:mr(k.x,O.x,_),y:mr(k.y,O.y,_)})}return O}),_>0&&(i.current=T,s.current=C),b.createElement(fC,{points:T,baseLine:C,needClip:t,clipPathId:n,props:r,showLabels:!g})}return _>0&&(i.current=a,s.current=o),b.createElement(Tn,null,b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(K_e,{alpha:_,points:a,baseLine:o,layout:r.layout,strokeWidth:r.strokeWidth}))),b.createElement(Tn,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(fC,{points:a,baseLine:o,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function Y_e(e){var{needClip:t,clipPathId:n,props:r}=e,{points:i,baseLine:s,isAnimationActive:a}=r,o=b.useRef(null),l=b.useRef(),u=o.current,d=l.current;return a&&i&&i.length&&(u!==i||d!==s)?b.createElement(G_e,{needClip:t,clipPathId:n,props:r,previousPointsRef:o,previousBaselineRef:l}):b.createElement(fC,{points:i,baseLine:s,needClip:t,clipPathId:n,props:r,showLabels:!0})}class X_e extends b.PureComponent{render(){var t,{hide:n,dot:r,points:i,className:s,top:a,left:o,needClip:l,xAxisId:u,yAxisId:d,width:f,height:h,id:p,baseLine:m}=this.props;if(n)return null;var g=ft("recharts-area",s),v=p,{r:y=3,strokeWidth:x=2}=(t=$t(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=ew(r),E=y*2+x;return b.createElement(b.Fragment,null,b.createElement(Tn,{className:g},l&&b.createElement("defs",null,b.createElement(mj,{clipPathId:v,xAxisId:u,yAxisId:d}),!w&&b.createElement("clipPath",{id:"clipPath-dots-".concat(v)},b.createElement("rect",{x:o-E/2,y:a-E/2,width:f+E,height:h+E}))),b.createElement(Y_e,{needClip:l,clipPathId:v,props:this.props})),b.createElement(cC,{points:i,mainColor:$x(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&b.createElement(cC,{points:m,mainColor:$x(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var yV={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!hc.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Q_e(e){var t,n=ai(e,yV),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:u,fillOpacity:d,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:g,yAxisId:v}=n,y=vV(n,M_e),x=Ug(),w=vW(),{needClip:E}=zw(g,v),_=Ur(),{points:N,isRange:T,baseLine:C}=(t=Be(B=>P_e(B,g,v,_,e.id)))!==null&&t!==void 0?t:{},O=Uw();if(x!=="horizontal"&&x!=="vertical"||O==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:A,width:D,x:k,y:P}=O;return!N||!N.length?null:b.createElement(X_e,vo({},y,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:C,connectNulls:o,dot:l,fill:u,fillOpacity:d,height:A,hide:f,layout:x,isAnimationActive:h,isRange:T,legendType:p,needClip:E,points:N,stroke:m,width:D,left:k,top:P,xAxisId:g,yAxisId:v}))}var J_e=(e,t,n,r,i)=>{var s=n??t;if(je(s))return s;var a=e==="horizontal"?i:r,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return s==="dataMin"?u:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function Z_e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,m=i&&i.length,g=J_e(s,a,n,o,l),v=s==="horizontal",y=!1,x=u.map((E,_)=>{var N;m?N=i[d+_]:(N=St(E,r),Array.isArray(N)?y=!0:N=[g,N]);var T=N[1]==null||m&&!t&&St(E,r)==null;return v?{x:mx({axis:o,ticks:f,bandSize:p,entry:E,index:_}),y:T?null:l.scale(N[1]),value:N,payload:E}:{x:T?null:o.scale(N[1]),y:mx({axis:l,ticks:h,bandSize:p,entry:E,index:_}),value:N,payload:E}}),w;return m||y?w=x.map(E=>{var _=Array.isArray(E.value)?E.value[0]:null;return v?{x:E.x,y:_!=null&&E.y!=null?l.scale(_):null,payload:E.payload}:{x:_!=null?o.scale(_):null,y:E.y,payload:E.payload}}):w=v?l.scale(g):o.scale(g),{points:x,baseLine:w,isRange:y}}function sf(e){var t=ai(e,yV),n=Ur();return b.createElement(Fw,{id:t.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(fj,{legendPayload:$_e(t)}),b.createElement(Lw,{fn:U_e,args:t}),b.createElement(hj,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:q9(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),b.createElement(Q_e,vo({},t,{id:r}))))}sf.displayName="Area";function j3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function I3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(n),!0).forEach(function(r){eTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eTe(e,t,n){return(t=tTe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tTe(e){var t=nTe(e,"string");return typeof t=="symbol"?t:t+""}function nTe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rTe={xAxis:{},yAxis:{},zAxis:{}},xV=es({name:"cartesianAxis",initialState:rTe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=I3(I3({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:iTe,removeXAxis:sTe,addYAxis:aTe,removeYAxis:oTe,addZAxis:nGe,removeZAxis:rGe,updateYAxisWidth:lTe}=xV.actions,cTe=xV.reducer,uTe=["children"],dTe=["dangerouslySetInnerHTML","ticks"];function bV(e,t,n){return(t=fTe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fTe(e){var t=hTe(e,"string");return typeof t=="symbol"?t:t+""}function hTe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hC.apply(null,arguments)}function wV(e,t){if(e==null)return{};var n,r,i=pTe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pTe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mTe(e){var t=Cn(),n=b.useMemo(()=>{var{children:s}=e,a=wV(e,uTe);return a},[e]),r=Be(s=>Fo(s,n.id)),i=n===r;return b.useEffect(()=>(t(iTe(n)),()=>{t(sTe(n))}),[n,t]),i?e.children:null}var gTe=e=>{var{xAxisId:t,className:n}=e,r=Be(X9),i=Ur(),s="xAxis",a=Be(p=>yh(p,s,t,i)),o=Be(p=>X7(p,s,t,i)),l=Be(p=>q7(p,t)),u=Be(p=>pbe(p,t));if(l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,h=wV(e,dTe);return b.createElement(yc,hC({},h,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:ft("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o}))},vTe=e=>{var t,n,r,i,s;return b.createElement(mTe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},b.createElement(gTe,e))};class Ao extends b.Component{render(){return b.createElement(vTe,this.props)}}bV(Ao,"displayName","XAxis");bV(Ao,"defaultProps",{allowDataOverflow:Ci.allowDataOverflow,allowDecimals:Ci.allowDecimals,allowDuplicatedCategory:Ci.allowDuplicatedCategory,height:Ci.height,hide:!1,mirror:Ci.mirror,orientation:Ci.orientation,padding:Ci.padding,reversed:Ci.reversed,scale:Ci.scale,tickCount:Ci.tickCount,type:Ci.type,xAxisId:0});var yTe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(n?r:0);return Math.round(u)}return 0},xTe=["dangerouslySetInnerHTML","ticks"];function EV(e,t,n){return(t=bTe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bTe(e){var t=wTe(e,"string");return typeof t=="symbol"?t:t+""}function wTe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pC.apply(null,arguments)}function ETe(e,t){if(e==null)return{};var n,r,i=STe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function STe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NTe(e){var t=Cn();return b.useEffect(()=>(t(aTe(e)),()=>{t(oTe(e))}),[e,t]),null}var _Te=e=>{var t,{yAxisId:n,className:r,width:i,label:s}=e,a=b.useRef(null),o=b.useRef(null),l=Be(X9),u=Ur(),d=Cn(),f="yAxis",h=Be(w=>yh(w,f,n,u)),p=Be(w=>K7(w,n)),m=Be(w=>mbe(w,n)),g=Be(w=>X7(w,f,n,u));if(b.useLayoutEffect(()=>{var w;if(!(i!=="auto"||!p||rj(s)||b.isValidElement(s))){var E=a.current,_=E==null||(w=E.tickRefs)===null||w===void 0?void 0:w.current,{tickSize:N,tickMargin:T}=E.props,C=yTe({ticks:_,label:o.current,labelGapWithTick:5,tickSize:N,tickMargin:T});Math.round(p.width)!==Math.round(C)&&d(lTe({id:n,width:C}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,d,s,n,i]),p==null||m==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=ETe(e,xTe);return b.createElement(yc,pC({},x,{ref:a,labelRef:o,scale:h,x:m.x,y:m.y,width:p.width,height:p.height,className:ft("recharts-".concat(f," ").concat(f),r),viewBox:l,ticks:g}))},TTe=e=>{var t,n,r,i,s;return b.createElement(b.Fragment,null,b.createElement(NTe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),b.createElement(_Te,e))},CTe={allowDataOverflow:ki.allowDataOverflow,allowDecimals:ki.allowDecimals,allowDuplicatedCategory:ki.allowDuplicatedCategory,hide:!1,mirror:ki.mirror,orientation:ki.orientation,padding:ki.padding,reversed:ki.reversed,scale:ki.scale,tickCount:ki.tickCount,type:ki.type,width:ki.width,yAxisId:0};class Oo extends b.Component{render(){return b.createElement(TTe,this.props)}}EV(Oo,"displayName","YAxis");EV(Oo,"defaultProps",CTe);var kTe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=b;function ATe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OTe=typeof Object.is=="function"?Object.is:ATe,jTe=n0.useSyncExternalStore,ITe=n0.useRef,PTe=n0.useEffect,DTe=n0.useMemo,MTe=n0.useDebugValue;kTe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=ITe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=DTe(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var m=a.value;if(i(m,p))return f=m}return f=p}if(m=f,OTe(d,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=jTe(e,s[0],s[1]);return PTe(function(){a.hasValue=!0,a.value=o},[o]),MTe(o),o};function RTe(e){e()}function LTe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){RTe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var P3={notify(){},get:()=>[]};function BTe(e,t){let n,r=P3,i=0,s=!1;function a(g){d();const v=r.subscribe(g);let y=!1;return()=>{y||(y=!0,v(),f())}}function o(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return s}function d(){i++,n||(n=e.subscribe(l),r=LTe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=P3)}function h(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}var FTe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$Te=FTe(),UTe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zTe=UTe(),HTe=()=>$Te||zTe?b.useLayoutEffect:b.useEffect,WTe=HTe(),KS=Symbol.for("react-redux-context"),GS=typeof globalThis<"u"?globalThis:{};function VTe(){if(!b.createContext)return{};const e=GS[KS]??(GS[KS]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var qTe=VTe();function KTe(e){const{children:t,context:n,serverState:r,store:i}=e,s=b.useMemo(()=>{const l=BTe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=b.useMemo(()=>i.getState(),[i]);WTe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||qTe;return b.createElement(o.Provider,{value:s},t)}var GTe=KTe,YTe=(e,t)=>t,bj=Z([YTe,ct,S7,qn,dW,$o,x1e,Wn],N1e),wj=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},SV=Cs("mouseClick"),NV=$g();NV.startListening({actionCreator:SV,effect:(e,t)=>{var n=e.payload,r=bj(t.getState(),wj(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(kbe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var mC=Cs("mouseMove"),_V=$g();_V.startListening({actionCreator:mC,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=GO(r,r.tooltip.settings.shared),s=bj(r,wj(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(iW({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(rW()))}});function XTe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var D3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},TV=es({name:"rootProps",initialState:D3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:D3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),QTe=TV.reducer,{updateOptions:JTe}=TV.actions,CV=es({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ZTe}=CV.actions,eCe=CV.reducer,kV=Cs("keyDown"),AV=Cs("focus"),Ej=$g();Ej.startListening({actionCreator:kV,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(YO(i,bh(n))),o=$o(n);if(s==="Enter"){var l=Ix(n,"axis","hover",String(i.index));t.dispatch(iC({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=xbe(n),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(o==null||h>=o.length||h<0)){var p=Ix(n,"axis","hover",String(h));t.dispatch(iC({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Ej.startListening({actionCreator:AV,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=Ix(n,"axis","hover",String(s));t.dispatch(iC({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ss=Cs("externalEvent"),OV=$g();OV.startListening({actionCreator:ss,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:u1e(n),activeDataKey:mW(n),activeIndex:Jl(n),activeLabel:pW(n),activeTooltipIndex:Jl(n),isTooltipActive:d1e(n)};e.payload.handler(r,e.payload.reactEvent)}}});var tCe=Z([xh],e=>e.tooltipItemPayloads),nCe=Z([tCe,Zg,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,n);return a}}}),jV=Cs("touchMove"),IV=$g();IV.startListening({actionCreator:jV,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=GO(r,r.tooltip.settings.shared);if(i==="axis"){var s=bj(r,wj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(iW({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(G9),d=(a=l.getAttribute(Y9))!==null&&a!==void 0?a:void 0,f=nCe(t.getState(),u,d);t.dispatch(nW({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var rCe=x9({brush:yNe,cartesianAxis:cTe,chartData:F1e,errorBars:ESe,graphicalItems:DEe,layout:Wme,legend:Cge,options:D1e,polarAxis:nEe,polarOptions:eCe,referenceElements:_Ne,rootProps:QTe,tooltip:Abe}),iCe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return mme({reducer:rCe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([NV.middleware,_V.middleware,Ej.middleware,OV.middleware,IV.middleware]),devTools:{serialize:{replacer:XTe},name:"recharts-".concat(n)}})};function PV(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Ur(),s=b.useRef(null);if(i)return n;s.current==null&&(s.current=iCe(t,r));var a=U2;return b.createElement(GTe,{context:a,store:s.current},n)}function DV(e){var{layout:t,width:n,height:r,margin:i}=e,s=Cn(),a=Ur();return b.useEffect(()=>{a||(s(Ume(t)),s(zme({width:n,height:r})),s($me(i)))},[s,a,t,n,r,i]),null}function MV(e){var t=Cn();return b.useEffect(()=>{t(JTe(e))},[t,e]),null}var sCe=["children"];function aCe(e,t){if(e==null)return{};var n,r,i=oCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}var lCe={width:"100%",height:"100%"},cCe=b.forwardRef((e,t)=>{var n=J9(),r=Z9(),i=rH();if(!Df(n)||!Df(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,b.createElement(Tz,Ux({},a,{title:o,desc:l,role:d,tabIndex:u,width:n,height:r,style:lCe,ref:t}),s)}),uCe=e=>{var{children:t}=e,n=Be(yw);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return b.createElement(Tz,{width:r,height:i,x:a,y:s},t)},M3=b.forwardRef((e,t)=>{var{children:n}=e,r=aCe(e,sCe),i=Ur();return i?b.createElement(uCe,null,n):b.createElement(cCe,Ux({ref:t},r),n)});function dCe(){var e=Cn(),[t,n]=b.useState(null),r=Be(yge);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Er(s)&&s!==r&&e(Hme(s))}},[t,e,r]),n}function R3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fCe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(n),!0).forEach(function(r){hCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hCe(e,t,n){return(t=pCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pCe(e){var t=mCe(e,"string");return typeof t=="symbol"?t:t+""}function mCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gCe=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:y}=e,x=Cn(),[w,E]=b.useState(null),[_,N]=b.useState(null);z1e();var T=dCe(),C=b.useCallback(W=>{T(W),typeof t=="function"&&t(W),E(W),N(W)},[T,t,E,N]),O=b.useCallback(W=>{x(SV(W)),x(ss({handler:s,reactEvent:W}))},[x,s]),A=b.useCallback(W=>{x(mC(W)),x(ss({handler:u,reactEvent:W}))},[x,u]),D=b.useCallback(W=>{x(rW()),x(ss({handler:d,reactEvent:W}))},[x,d]),k=b.useCallback(W=>{x(mC(W)),x(ss({handler:f,reactEvent:W}))},[x,f]),P=b.useCallback(()=>{x(AV())},[x]),B=b.useCallback(W=>{x(kV(W.key))},[x]),L=b.useCallback(W=>{x(ss({handler:a,reactEvent:W}))},[x,a]),j=b.useCallback(W=>{x(ss({handler:o,reactEvent:W}))},[x,o]),R=b.useCallback(W=>{x(ss({handler:l,reactEvent:W}))},[x,l]),M=b.useCallback(W=>{x(ss({handler:h,reactEvent:W}))},[x,h]),V=b.useCallback(W=>{x(ss({handler:g,reactEvent:W}))},[x,g]),I=b.useCallback(W=>{x(jV(W)),x(ss({handler:m,reactEvent:W}))},[x,m]),ee=b.useCallback(W=>{x(ss({handler:p,reactEvent:W}))},[x,p]);return b.createElement(EW.Provider,{value:w},b.createElement(whe.Provider,{value:_},b.createElement("div",{className:ft("recharts-wrapper",r),style:fCe({position:"relative",cursor:"default",width:y,height:i},v),onClick:O,onContextMenu:L,onDoubleClick:j,onFocus:P,onKeyDown:B,onMouseDown:R,onMouseEnter:A,onMouseLeave:D,onMouseMove:k,onMouseUp:M,onTouchEnd:ee,onTouchMove:I,onTouchStart:V,ref:C},n)))}),vCe=["children","className","width","height","style","compact","title","desc"];function yCe(e,t){if(e==null)return{};var n,r,i=xCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RV=b.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:s,style:a,compact:o,title:l,desc:u}=e,d=yCe(e,vCe),f=sa(d);return o?b.createElement(M3,{otherAttributes:f,title:l,desc:u},n):b.createElement(gCe,{className:r,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(M3,{otherAttributes:f,title:l,desc:u,ref:t},b.createElement(CNe,null,n)))}),bCe=["width","height"];function gC(){return gC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gC.apply(null,arguments)}function wCe(e,t){if(e==null)return{};var n,r,i=ECe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ECe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SCe={top:5,right:5,bottom:5,left:5},NCe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:SCe,reverseStackOrder:!1,syncMethod:"index"},Sj=b.forwardRef(function(t,n){var r,i=ai(t.categoricalChartProps,NCe),{width:s,height:a}=i,o=wCe(i,bCe);if(!Df(s)||!Df(a))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(PV,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},b.createElement(eV,{chartData:h.data}),b.createElement(DV,{width:s,height:a,layout:i.layout,margin:i.margin}),b.createElement(MV,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(RV,gC({},o,{width:s,height:a,ref:n})))}),_Ce=["axis"],Nj=b.forwardRef((e,t)=>b.createElement(Sj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_Ce,tooltipPayloadSearcher:Mw,categoricalChartProps:e,ref:t})),TCe=["axis","item"],LV=b.forwardRef((e,t)=>b.createElement(Sj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TCe,tooltipPayloadSearcher:Mw,categoricalChartProps:e,ref:t}));function CCe(e){var t=Cn();return b.useEffect(()=>{t(ZTe(e))},[t,e]),null}var kCe=["width","height","layout"];function vC(){return vC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vC.apply(null,arguments)}function ACe(e,t){if(e==null)return{};var n,r,i=OCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jCe={top:5,right:5,bottom:5,left:5},ICe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jCe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},PCe=b.forwardRef(function(t,n){var r,i=ai(t.categoricalChartProps,ICe),{width:s,height:a,layout:o}=i,l=ACe(i,kCe);if(!Df(s)||!Df(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return b.createElement(PV,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},b.createElement(eV,{chartData:i.data}),b.createElement(DV,{width:s,height:a,layout:o,margin:i.margin}),b.createElement(MV,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(CCe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(RV,vC({width:s,height:a},l,{ref:n})))}),DCe=["item"],MCe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},yC=b.forwardRef((e,t)=>{var n=ai(e,MCe);return b.createElement(PCe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:DCe,tooltipPayloadSearcher:Mw,categoricalChartProps:n,ref:t})}),RCe=["axis"],BV=b.forwardRef((e,t)=>b.createElement(Sj,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RCe,tooltipPayloadSearcher:Mw,categoricalChartProps:e,ref:t}));function LCe({widget:e,isDarkMode:t}){var a,o;const n=[{month:"Jan",revenue:12e3},{month:"Feb",revenue:15e3},{month:"Mar",revenue:11e3},{month:"Apr",revenue:18e3},{month:"May",revenue:22e3},{month:"Jun",revenue:19e3}],r=((a=n[n.length-1])==null?void 0:a.revenue)||0,i=((o=n[n.length-2])==null?void 0:o.revenue)||0,s=i?(r-i)/i*100:0;return c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-2",children:c.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(wr,{className:"h-4 w-4"}),"Revenue Trend"]})}),c.jsx(Q,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold",children:_e(r)}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[c.jsx(on,{className:`h-4 w-4 ${s>0?"text-green-500":"text-red-500"}`}),c.jsxs("span",{className:s>0?"text-green-500":"text-red-500",children:[Math.abs(s).toFixed(1),"%"]})]})]}),c.jsx("div",{className:"h-32",children:c.jsx(Na,{width:"100%",height:"100%",children:c.jsxs(Nj,{data:n,children:[c.jsx(Ao,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:t?"#94a3b8":"#64748b"}}),c.jsx(Oo,{hide:!0}),c.jsx(Ff,{formatter:l=>[_e(l),"Revenue"],labelStyle:{color:t?"#fff":"#000"},contentStyle:{backgroundColor:t?"#1e293b":"#fff",border:t?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px"}}),c.jsx(Km,{type:"monotone",dataKey:"revenue",stroke:"#2563eb",strokeWidth:2,dot:{fill:"#2563eb",strokeWidth:2,r:3},activeDot:{r:4,stroke:"#2563eb",strokeWidth:2}})]})})}),c.jsx("div",{className:"text-xs text-muted-foreground",children:"6-month revenue trend"})]})})]})}function Sr(e){const{user:t}=Fr(),[n,r]=b.useState([]),[i,s]=b.useState(!0),[a,o]=b.useState(null),l=t==null?void 0:t.id,u=[{name:"Cisco",color:"#3B82F6",status:"active"},{name:"PTS",color:"#10B981",status:"active"},{name:"Other",color:"#F59E0B",status:"active"}],d=async()=>{if(!l){r([]),s(!1);return}try{s(!0),o(null);const{data:w,error:E}=await se.from("projects").select("*").eq("user_id",l).order("created_at",{ascending:!1});if(E)throw E;w.length===0?await f():r(w)}catch(w){console.error("Error fetching projects:",w),o(w instanceof Error?w.message:"Failed to fetch projects");const E=localStorage.getItem(`projects_${l}`);E&&r(JSON.parse(E))}finally{s(!1)}},f=async()=>{if(l)try{const w=u.map(N=>({...N,user_id:l})),{data:E,error:_}=await se.from("projects").insert(w).select();if(_)throw _;r(E||[]),localStorage.setItem(`projects_${l}`,JSON.stringify(E||[]))}catch(w){console.error("Error creating default projects:",w),o(w instanceof Error?w.message:"Failed to create default projects")}},h=async w=>{if(!l)throw new Error("User not authenticated");try{const E={...w,user_id:l,status:w.status||"planning",start_date:w.start_date||null,end_date:w.end_date||null,description:w.description||null,client_id:w.client_id||null};console.log("Attempting to insert project:",E);const{data:_,error:N}=await se.from("projects").insert([E]).select().single();if(N)throw console.error("Database insert error:",N),N;if(console.log("Project inserted successfully:",_),_){r(C=>[_,...C]);const T=[_,...n];return localStorage.setItem(`projects_${l}`,JSON.stringify(T)),_}return null}catch(E){console.error("Error adding project:",E);const N=[{id:`local_${Date.now()}`,name:w.name,color:w.color,client_id:w.client_id||null,description:w.description||null,status:w.status||"planning",start_date:w.start_date||null,end_date:w.end_date||null,budget:w.budget||null,hourly_rate:w.hourly_rate||null,user_id:l,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...n];throw r(N),localStorage.setItem(`projects_${l}`,JSON.stringify(N)),E}},p=async w=>{if(!l)throw new Error("User not authenticated");try{const{id:E,..._}=w,{data:N,error:T}=await se.from("projects").update({..._,updated_at:new Date().toISOString()}).eq("id",E).eq("user_id",l).select().single();if(T)throw T;if(N){r(O=>O.map(A=>A.id===E?N:A));const C=n.map(O=>O.id===E?N:O);return localStorage.setItem(`projects_${l}`,JSON.stringify(C)),N}return null}catch(E){throw console.error("Error updating project:",E),E}},m=async w=>{if(!l)throw new Error("User not authenticated");try{const{error:E}=await se.from("projects").delete().eq("id",w).eq("user_id",l);if(E)throw E;r(N=>N.filter(T=>T.id!==w));const _=n.filter(N=>N.id!==w);localStorage.setItem(`projects_${l}`,JSON.stringify(_))}catch(E){throw console.error("Error deleting project:",E),E}},g=w=>n.find(E=>E.id===w),v=w=>n.filter(E=>E.client_id===w),y=()=>n.filter(w=>w.status==="active"),x=async(w,E)=>{try{return{data:await h({name:w,color:E}),error:null}}catch(_){return{data:null,error:_ instanceof Error?_.message:"Failed to create project"}}};return b.useEffect(()=>{d()},[l]),{projects:n,loading:i,error:a,addProject:h,updateProject:p,deleteProject:m,getProjectById:g,getProjectsByClient:v,getActiveProjects:y,createProject:x,refetch:d}}function lr(e){const{user:t}=Fr(),[n,r]=b.useState([]),[i,s]=b.useState(!0),[a,o]=b.useState(null),l=t==null?void 0:t.id,u=async()=>{if(!l){r([]),s(!1);return}try{s(!0),o(null);const{data:y,error:x}=await se.from("clients").select("*").eq("user_id",l).order("created_at",{ascending:!1});if(x)throw x;r(y||[])}catch(y){console.error("Error fetching clients:",y),o(y instanceof Error?y.message:"Failed to fetch clients");const x=localStorage.getItem(`clients_${l}`);x&&r(JSON.parse(x))}finally{s(!1)}},d=async y=>{if(!l)throw new Error("User not authenticated");try{const x={...y,user_id:l,currency:y.currency||"SEK",status:y.status||"active"},{data:w,error:E}=await se.from("clients").insert([x]).select().single();if(E)throw E;if(w){r(N=>[w,...N]);const _=[w,...n];return localStorage.setItem(`clients_${l}`,JSON.stringify(_)),w}return null}catch(x){console.error("Error adding client:",x);const E=[{id:`local_${Date.now()}`,name:y.name,email:y.email||null,phone:y.phone||null,company:y.company||null,address:y.address||null,hourly_rate:y.hourly_rate||null,notes:y.notes||null,user_id:l,currency:y.currency||"SEK",status:y.status||"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...n];throw r(E),localStorage.setItem(`clients_${l}`,JSON.stringify(E)),x}},f=async y=>{if(!l)throw new Error("User not authenticated");try{const{id:x,...w}=y,{data:E,error:_}=await se.from("clients").update({...w,updated_at:new Date().toISOString()}).eq("id",x).eq("user_id",l).select().single();if(_)throw _;if(E){r(T=>T.map(C=>C.id===x?E:C));const N=n.map(T=>T.id===x?E:T);return localStorage.setItem(`clients_${l}`,JSON.stringify(N)),E}return null}catch(x){throw console.error("Error updating client:",x),x}},h=async y=>{if(!l)throw new Error("User not authenticated");try{const{error:x}=await se.from("clients").delete().eq("id",y).eq("user_id",l);if(x)throw x;r(E=>E.filter(_=>_.id!==y));const w=n.filter(E=>E.id!==y);localStorage.setItem(`clients_${l}`,JSON.stringify(w))}catch(x){throw console.error("Error deleting client:",x),x}},p=y=>n.find(x=>x.id===y),m=()=>n.filter(y=>y.status==="active"),g=async y=>{await f({id:y,status:"archived"})},v=async y=>{await f({id:y,status:"active"})};return b.useEffect(()=>{u()},[l]),{clients:n,loading:i,error:a,addClient:d,updateClient:f,deleteClient:h,getClientById:p,getActiveClients:m,archiveClient:g,activateClient:v,refetch:u}}function BCe({widget:e,isDarkMode:t}){const{projects:n}=Sr(),{clients:r}=lr(),{entries:i}=$r(),s=n.filter(m=>m.status==="active").length,a=r.filter(m=>m.status==="active").length,o=new Date;o.setDate(o.getDate()-30);const l=i.filter(m=>new Date(m.date+"T00:00:00")>=o),u=l.reduce((m,g)=>m+g.hours,0),d=new Set(l.map(m=>m.date)).size,f=d>0?u/d:0,h=i.length,p=[{label:"Active Projects",value:s.toString(),icon:Sf,color:"text-blue-600",bgColor:"bg-blue-100",darkBgColor:"bg-blue-900/30"},{label:"Active Clients",value:a.toString(),icon:Gi,color:"text-green-600",bgColor:"bg-green-100",darkBgColor:"bg-green-900/30"},{label:"Time Entries",value:h.toString(),icon:xt,color:"text-purple-600",bgColor:"bg-purple-100",darkBgColor:"bg-purple-900/30"},{label:"Avg Hours/Day",value:f.toFixed(1),icon:ht,color:"text-orange-600",bgColor:"bg-orange-100",darkBgColor:"bg-orange-900/30"}];return c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-3",children:c.jsx(ae,{className:"text-sm font-medium",children:"Quick Stats"})}),c.jsx(Q,{children:c.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.map((m,g)=>{const v=m.icon;return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`p-1.5 rounded-md ${t?m.darkBgColor:m.bgColor}`,children:c.jsx(v,{className:`h-3 w-3 ${m.color}`})}),c.jsx("div",{className:"text-lg font-bold",children:m.value})]}),c.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:m.label})]},g)})})})]})}function FCe(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),i=[{icon:at,label:"Add Income",description:"Log new income",color:"green",action:()=>t(!0)},{icon:ZD,label:"Add Expense",description:"Record expense",color:"red",action:()=>r(!0)},{icon:xt,label:"Create Invoice",description:"Generate invoice",color:"blue",action:()=>console.log("Create invoice")},{icon:Gi,label:"New Client",description:"Add client",color:"purple",action:()=>console.log("Add client")},{icon:yn,label:"Schedule Meeting",description:"Book appointment",color:"orange",action:()=>console.log("Schedule meeting")},{icon:R8,label:"View Reports",description:"Analytics",color:"indigo",action:()=>console.log("View reports")}],s=o=>{o.preventDefault(),t(!1)},a=o=>{o.preventDefault(),r(!1)};return e?c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[c.jsx(at,{className:"h-5 w-5 text-green-600"}),"Add Income"]})}),c.jsx(Q,{children:c.jsxs("form",{onSubmit:s,className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Amount"}),c.jsx(Te,{type:"number",placeholder:"0.00",className:"text-lg font-bold",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Description"}),c.jsx(Te,{placeholder:"Client payment, consulting, etc.",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Category"}),c.jsxs("select",{className:"w-full p-2 border rounded text-sm",title:"Income Category",children:[c.jsx("option",{children:"Client Payment"}),c.jsx("option",{children:"Consulting"}),c.jsx("option",{children:"Retainer"}),c.jsx("option",{children:"Other"})]})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx(z,{type:"submit",size:"sm",className:"flex-1",children:"Add Income"}),c.jsx(z,{type:"button",size:"sm",variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})})]}):n?c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[c.jsx(ZD,{className:"h-5 w-5 text-red-600"}),"Add Expense"]})}),c.jsx(Q,{children:c.jsxs("form",{onSubmit:a,className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Amount"}),c.jsx(Te,{type:"number",placeholder:"0.00",className:"text-lg font-bold",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Description"}),c.jsx(Te,{placeholder:"Software, office supplies, etc.",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Category"}),c.jsxs("select",{className:"w-full p-2 border rounded text-sm",title:"Expense Category",children:[c.jsx("option",{children:"Software"}),c.jsx("option",{children:"Office"}),c.jsx("option",{children:"Travel"}),c.jsx("option",{children:"Marketing"}),c.jsx("option",{children:"Other"})]})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx(z,{type:"submit",size:"sm",className:"flex-1",children:"Add Expense"}),c.jsx(z,{type:"button",size:"sm",variant:"outline",onClick:()=>r(!1),children:"Cancel"})]})]})})]}):c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[c.jsx(w1,{className:"h-5 w-5 text-gray-600"}),"Quick Actions"]})}),c.jsxs(Q,{children:[c.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map((o,l)=>{const u=o.icon,d={green:"bg-green-50 hover:bg-green-100 dark:bg-green-900/20 dark:hover:bg-green-900/30 text-green-700 dark:text-green-400",red:"bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-400",blue:"bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400",purple:"bg-purple-50 hover:bg-purple-100 dark:bg-purple-900/20 dark:hover:bg-purple-900/30 text-purple-700 dark:text-purple-400",orange:"bg-orange-50 hover:bg-orange-100 dark:bg-orange-900/20 dark:hover:bg-orange-900/30 text-orange-700 dark:text-orange-400",indigo:"bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400"};return c.jsx("button",{onClick:o.action,className:`p-3 rounded-lg text-left transition-colors ${d[o.color]}`,children:c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx(u,{className:"h-5 w-5"}),c.jsx("div",{className:"text-xs font-medium text-center",children:o.label})]})},l)})}),c.jsxs("div",{className:"mt-4 pt-4 border-t",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Today's Summary"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Income:"}),c.jsx("span",{className:"font-medium text-green-600",children:"+25,000 kr"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Expenses:"}),c.jsx("span",{className:"font-medium text-red-600",children:"-4,500 kr"})]})]})]})]})]})}function $Ce({widget:e,isDarkMode:t}){const{entries:n}=$r(),{projects:r}=Sr(),{clients:i}=lr(),s=n.slice(0,10).map(d=>{const f=r.find(m=>m.id===d.project_id),h=i.find(m=>m.id===(f==null?void 0:f.client_id)),p=u(d.created_at);return{id:d.id,type:"time",message:`Logged ${d.hours}h on ${(f==null?void 0:f.name)||"Unknown Project"}${h?` for ${h.name}`:""}`,time:p,icon:ht,color:"text-blue-600",date:d.created_at}}),a=r.sort((d,f)=>new Date(f.created_at||"").getTime()-new Date(d.created_at||"").getTime()).slice(0,3).map(d=>{const f=i.find(p=>p.id===d.client_id),h=u(d.created_at||"");return{id:`project-${d.id}`,type:"project",message:`Created project "${d.name}"${f?` for ${f.name}`:""}`,time:h,icon:_g,color:"text-green-600",date:d.created_at||""}}),o=i.sort((d,f)=>new Date(f.created_at||"").getTime()-new Date(d.created_at||"").getTime()).slice(0,2).map(d=>{const f=u(d.created_at||"");return{id:`client-${d.id}`,type:"client",message:`Added new client "${d.name}"${d.company?` (${d.company})`:""}`,time:f,icon:Es,color:"text-purple-600",date:d.created_at||""}}),l=[...s,...a,...o].sort((d,f)=>new Date(f.date).getTime()-new Date(d.date).getTime()).slice(0,6);function u(d){if(!d)return"Unknown time";const f=new Date(d),p=new Date().getTime()-f.getTime(),m=Math.floor(p/(1e3*60)),g=Math.floor(m/60),v=Math.floor(g/24);return m<1?"Just now":m<60?`${m} minutes ago`:g<24?`${g} hour${g>1?"s":""} ago`:v===1?"Yesterday":v<7?`${v} days ago`:v<30?`${Math.floor(v/7)} week${Math.floor(v/7)>1?"s":""} ago`:f.toLocaleDateString("sv-SE")}return c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-3",children:c.jsx(ae,{className:"text-sm font-medium",children:"Recent Activities"})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-3",children:l.length===0?c.jsx("div",{className:"text-center py-4",children:c.jsx("p",{className:"text-xs text-muted-foreground",children:"No recent activities"})}):l.map(d=>{const f=d.icon;return c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-1.5 rounded-full bg-muted flex-shrink-0",children:c.jsx(f,{className:`h-3 w-3 ${d.color}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium leading-relaxed",children:d.message}),c.jsx("p",{className:"text-xs text-muted-foreground",children:d.time})]})]},d.id)})})})]})}function UCe({widget:e,isDarkMode:t}){const{projects:n}=Sr(),{clients:r}=lr(),{entries:i}=$r(),s=n.filter(d=>d.status==="active").slice(0,3).map(d=>{const f=r.find(g=>g.id===d.client_id),p=i.filter(g=>g.project_id===d.id).reduce((g,v)=>g+v.hours,0);let m=0;if(d.budget&&d.hourly_rate){const g=d.budget/d.hourly_rate;m=Math.min(p/g*100,100)}else if(d.start_date&&d.end_date){const g=new Date(d.start_date),v=new Date(d.end_date),y=new Date,x=v.getTime()-g.getTime(),w=y.getTime()-g.getTime();m=Math.max(0,Math.min(w/x*100,100))}else m=Math.min(p*2,100);return{id:d.id,name:d.name,client:(f==null?void 0:f.name)||"No Client",status:d.status||"active",progress:Math.round(m),hoursLogged:Math.round(p*10)/10,budget:d.budget||0,deadline:d.end_date,hourlyRate:d.hourly_rate}}),a=d=>{switch(d){case"active":return"text-blue-600 bg-blue-100";case"planning":return"text-yellow-600 bg-yellow-100";case"on-hold":return"text-orange-600 bg-orange-100";case"completed":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},o=d=>{switch(d){case"active":return"Active";case"planning":return"Planning";case"on-hold":return"On Hold";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return d}},l=d=>{if(!d)return!1;const f=new Date(d),h=new Date,p=Math.ceil((f.getTime()-h.getTime())/(1e3*60*60*24));return p<=7&&p>=0},u=d=>d?`Due ${new Date(d).toLocaleDateString("sv-SE")}`:"No deadline";return c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(_g,{className:"h-4 w-4"}),"Active Projects"]})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-4",children:s.length===0?c.jsx("div",{className:"text-center py-4",children:c.jsx("p",{className:"text-xs text-muted-foreground",children:"No active projects"})}):s.map(d=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"text-sm font-medium truncate",children:d.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:d.client})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[l(d.deadline)&&c.jsx(LA,{className:"h-3 w-3 text-red-500"}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(d.status)}`,children:o(d.status)})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsxs("span",{children:[d.progress,"% complete"]}),c.jsxs("span",{children:[d.hoursLogged,"h logged"]})]}),c.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:c.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${d.progress}%`}})})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-xs",children:"SEK"}),c.jsx("span",{children:d.budget>0?_e(d.budget):"No budget"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ht,{className:"h-3 w-3"}),c.jsx("span",{children:u(d.deadline)})]})]})]},d.id))})})]})}function zCe({isDarkMode:e}){const t=[{month:"Jan",balance:45e3,netFlow:7e3},{month:"Feb",balance:53500,netFlow:8500},{month:"Mar",balance:59700,netFlow:6200},{month:"Apr",balance:70700,netFlow:11e3},{month:"May",balance:79200,netFlow:8500},{month:"Jun",balance:88200,netFlow:9e3}],n=t[t.length-1].balance,r=t[t.length-1].netFlow,i=t[t.length-2].netFlow,s=r-i,a=s/i*100,o=n+r*1.05;return c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[c.jsx(wr,{className:"h-5 w-5 text-green-600"}),"Cash Flow"]})}),c.jsxs(Q,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Balance"}),c.jsx("div",{className:"text-xl font-bold text-green-600",children:_e(n)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Monthly Net Flow"}),c.jsxs("div",{className:`text-xl font-bold flex items-center gap-1 ${r>=0?"text-green-600":"text-red-600"}`,children:[r>=0?c.jsx(on,{className:"h-4 w-4"}):c.jsx(qy,{className:"h-4 w-4"}),_e(Math.abs(r))]})]})]}),c.jsx("div",{className:"h-24",children:c.jsx(Na,{width:"100%",height:"100%",children:c.jsxs(Nj,{data:t,children:[c.jsx(Ao,{dataKey:"month",hide:!0}),c.jsx(Oo,{hide:!0}),c.jsx(Ff,{formatter:l=>[_e(l),"Balance"],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"12px"}}),c.jsx(Km,{type:"monotone",dataKey:"balance",stroke:"#16a34a",strokeWidth:2,dot:!1,name:"Balance"})]})})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:`flex items-center gap-2 text-xs p-2 rounded ${s>=0?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:[s>=0?c.jsx(on,{className:"h-3 w-3"}):c.jsx(qy,{className:"h-3 w-3"}),c.jsxs("span",{children:[s>=0?"+":"",a.toFixed(1),"% vs last month"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx(wr,{className:"h-3 w-3"}),c.jsxs("span",{children:["Projected next month: ",_e(o)]})]}),r<5e3&&c.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 rounded bg-yellow-50 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",children:[c.jsx(Rl,{className:"h-3 w-3"}),c.jsx("span",{children:"Consider increasing revenue streams"})]})]}),c.jsxs("div",{className:"pt-2 border-t",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Quick Actions"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"flex-1 text-xs py-1 px-2 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded transition-colors",children:"Add Income"}),c.jsx("button",{className:"flex-1 text-xs py-1 px-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-400 rounded transition-colors",children:"Log Expense"})]})]})]})]})}function HCe({isDarkMode:e}){const t=[{month:"Apr",conservative:70700,realistic:70700,optimistic:70700},{month:"May",conservative:79200,realistic:79200,optimistic:79200},{month:"Jun",conservative:88200,realistic:88200,optimistic:88200},{month:"Jul",conservative:93e3,realistic:97e3,optimistic:102e3,isProjection:!0},{month:"Aug",conservative:97500,realistic:105500,optimistic:116e3,isProjection:!0},{month:"Sep",conservative:101800,realistic:114200,optimistic:131500,isProjection:!0}],n=88200,r=26e3/88200*100,s=Math.floor(n/18500);return c.jsxs(X,{className:"h-full",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[c.jsx(on,{className:"h-5 w-5 text-blue-600"}),"Cash Flow Projections"]})}),c.jsxs(Q,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[c.jsxs("div",{className:"p-2 rounded bg-green-50 dark:bg-green-900/20",children:[c.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Conservative"}),c.jsx("div",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:_e(t[t.length-1].conservative)})]}),c.jsxs("div",{className:"p-2 rounded bg-blue-50 dark:bg-blue-900/20",children:[c.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Realistic"}),c.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:_e(t[t.length-1].realistic)})]}),c.jsxs("div",{className:"p-2 rounded bg-purple-50 dark:bg-purple-900/20",children:[c.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:"Optimistic"}),c.jsx("div",{className:"text-lg font-bold text-purple-700 dark:text-purple-300",children:_e(t[t.length-1].optimistic)})]})]}),c.jsx("div",{className:"h-32",children:c.jsx(Na,{width:"100%",height:"100%",children:c.jsxs(BV,{data:t,children:[c.jsx(Ao,{dataKey:"month",tick:{fontSize:10,fill:e?"#94a3b8":"#64748b"},axisLine:!1,tickLine:!1}),c.jsx(Oo,{hide:!0}),c.jsx(Ff,{formatter:(a,o)=>[_e(a),o.charAt(0).toUpperCase()+o.slice(1)],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"12px"}}),c.jsx(sf,{type:"monotone",dataKey:"optimistic",stackId:"1",stroke:"#9333ea",fill:"#9333ea",fillOpacity:.1,strokeWidth:1,strokeDasharray:"3 3"}),c.jsx(sf,{type:"monotone",dataKey:"realistic",stackId:"2",stroke:"#2563eb",fill:"#2563eb",fillOpacity:.2,strokeWidth:2}),c.jsx(sf,{type:"monotone",dataKey:"conservative",stackId:"3",stroke:"#16a34a",fill:"#16a34a",fillOpacity:.3,strokeWidth:1})]})})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[c.jsx(on,{className:"h-3 w-3"}),c.jsx("span",{children:"3-Month Growth"})]}),c.jsxs("span",{className:"font-medium",children:["+",r.toFixed(1),"%"]})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1 text-orange-600 dark:text-orange-400",children:[c.jsx(yn,{className:"h-3 w-3"}),c.jsx("span",{children:"Cash Runway"})]}),c.jsxs("span",{className:"font-medium",children:[s," months"]})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[c.jsx(As,{className:"h-3 w-3"}),c.jsx("span",{children:"Goal: 1,500,000 kr"})]}),c.jsx("span",{className:"font-medium",children:"75% achieved"})]})]}),s<6&&c.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 rounded bg-orange-50 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",children:[c.jsx(LA,{className:"h-3 w-3"}),c.jsx("span",{children:"Consider building larger cash reserves"})]}),c.jsxs("div",{className:"pt-2 border-t",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Model Assumptions"}),c.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[c.jsx("div",{children:" Conservative: 5% growth/month"}),c.jsx("div",{children:" Realistic: 8% growth/month"}),c.jsx("div",{children:" Optimistic: 12% growth/month"})]})]})]})]})}function FV({widget:e,isDarkMode:t}){return c.jsx(X,{className:"h-full border-dashed border-2",children:c.jsx(Q,{className:"p-6 flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mx-auto",children:c.jsx(at,{className:"h-6 w-6 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-sm mb-1",children:"Add Content"}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This widget is ready for your content"}),c.jsx(z,{variant:"outline",size:"sm",children:"Configure"})]})]})})})}function Bt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function WCe(e,t){const n=b.createContext(t),r=s=>{const{children:a,...o}=s,l=b.useMemo(()=>o,Object.values(o));return c.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function i(s){const a=b.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function r0(e,t=[]){let n=[];function r(s,a){const o=b.createContext(a),l=n.length;n=[...n,a];const u=f=>{var y;const{scope:h,children:p,...m}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[l])||o,v=b.useMemo(()=>m,Object.values(m));return c.jsx(g.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[l])||o,m=b.useContext(p);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>b.createContext(a));return function(o){const l=(o==null?void 0:o[e])||s;return b.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return i.scopeName=e,[r,VCe(i,...t)]}function VCe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Rr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},qCe=Xb[" useId ".trim().toString()]||(()=>{}),KCe=0;function af(e){const[t,n]=b.useState(qCe());return Rr(()=>{n(r=>r??String(KCe++))},[e]),t?`radix-${t}`:""}var GCe=Xb[" useInsertionEffect ".trim().toString()]||Rr;function xC({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=YCe({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:i;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=b.useCallback(d=>{var f;if(o){const h=XCe(d)?d(e):d;h!==e&&((f=a.current)==null||f.call(a,h))}else s(d)},[o,e,s,a]);return[l,u]}function YCe({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),i=b.useRef(n),s=b.useRef(t);return GCe(()=>{s.current=t},[t]),b.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function XCe(e){return typeof e=="function"}var QCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wt=QCe.reduce((e,t)=>{const n=Cf(`Primitive.${t}`),r=b.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function JCe(e,t){e&&oc.flushSync(()=>e.dispatchEvent(t))}function Iu(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ZCe(e,t=globalThis==null?void 0:globalThis.document){const n=Iu(e);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var eke="DismissableLayer",bC="dismissableLayer.update",tke="dismissableLayer.pointerDownOutside",nke="dismissableLayer.focusOutside",L3,$V=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_j=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=e,u=b.useContext($V),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),m=un(t,T=>f(T)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),x=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,E=x>=y,_=ske(T=>{const C=T.target,O=[...u.branches].some(A=>A.contains(C));!E||O||(i==null||i(T),a==null||a(T),T.defaultPrevented||o==null||o())},h),N=ake(T=>{const C=T.target;[...u.branches].some(A=>A.contains(C))||(s==null||s(T),a==null||a(T),T.defaultPrevented||o==null||o())},h);return ZCe(T=>{x===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},h),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(L3=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),B3(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=L3)}},[d,h,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),B3())},[d,u]),b.useEffect(()=>{const T=()=>p({});return document.addEventListener(bC,T),()=>document.removeEventListener(bC,T)},[]),c.jsx(Wt.div,{...l,ref:m,style:{pointerEvents:w?E?"auto":"none":void 0,...e.style},onFocusCapture:Bt(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Bt(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Bt(e.onPointerDownCapture,_.onPointerDownCapture)})});_j.displayName=eke;var rke="DismissableLayerBranch",ike=b.forwardRef((e,t)=>{const n=b.useContext($V),r=b.useRef(null),i=un(t,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),c.jsx(Wt.div,{...e,ref:i})});ike.displayName=rke;function ske(e,t=globalThis==null?void 0:globalThis.document){const n=Iu(e),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){UV(tke,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ake(e,t=globalThis==null?void 0:globalThis.document){const n=Iu(e),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&UV(nke,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function B3(){const e=new CustomEvent(bC);document.dispatchEvent(e)}function UV(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?JCe(i,s):i.dispatchEvent(s)}var YS="focusScope.autoFocusOnMount",XS="focusScope.autoFocusOnUnmount",F3={bubbles:!1,cancelable:!0},oke="FocusScope",Tj=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,l]=b.useState(null),u=Iu(i),d=Iu(s),f=b.useRef(null),h=un(t,g=>l(g)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let g=function(w){if(p.paused||!o)return;const E=w.target;o.contains(E)?f.current=E:tl(f.current,{select:!0})},v=function(w){if(p.paused||!o)return;const E=w.relatedTarget;E!==null&&(o.contains(E)||tl(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&tl(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[r,o,p.paused]),b.useEffect(()=>{if(o){U3.add(p);const g=document.activeElement;if(!o.contains(g)){const y=new CustomEvent(YS,F3);o.addEventListener(YS,u),o.dispatchEvent(y),y.defaultPrevented||(lke(hke(zV(o)),{select:!0}),document.activeElement===g&&tl(o))}return()=>{o.removeEventListener(YS,u),setTimeout(()=>{const y=new CustomEvent(XS,F3);o.addEventListener(XS,d),o.dispatchEvent(y),y.defaultPrevented||tl(g??document.body,{select:!0}),o.removeEventListener(XS,d),U3.remove(p)},0)}}},[o,u,d,p]);const m=b.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const x=g.currentTarget,[w,E]=cke(x);w&&E?!g.shiftKey&&y===E?(g.preventDefault(),n&&tl(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),n&&tl(E,{select:!0})):y===x&&g.preventDefault()}},[n,r,p.paused]);return c.jsx(Wt.div,{tabIndex:-1,...a,ref:h,onKeyDown:m})});Tj.displayName=oke;function lke(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(tl(r,{select:t}),document.activeElement!==n)return}function cke(e){const t=zV(e),n=$3(t,e),r=$3(t.reverse(),e);return[n,r]}function zV(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $3(e,t){for(const n of e)if(!uke(n,{upTo:t}))return n}function uke(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dke(e){return e instanceof HTMLInputElement&&"select"in e}function tl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&dke(e)&&t&&e.select()}}var U3=fke();function fke(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=z3(e,t),e.unshift(t)},remove(t){var n;e=z3(e,t),(n=e[0])==null||n.resume()}}}function z3(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function hke(e){return e.filter(t=>t.tagName!=="A")}var pke="Portal",Cj=b.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,s]=b.useState(!1);Rr(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?jA.createPortal(c.jsx(Wt.div,{...r,ref:t}),a):null});Cj.displayName=pke;function mke(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var Hw=e=>{const{present:t,children:n}=e,r=gke(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=un(r.ref,vke(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};Hw.displayName="Presence";function gke(e){const[t,n]=b.useState(),r=b.useRef(null),i=b.useRef(e),s=b.useRef("none"),a=e?"mounted":"unmounted",[o,l]=mke(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=av(r.current);s.current=o==="mounted"?u:"none"},[o]),Rr(()=>{const u=r.current,d=i.current;if(d!==e){const h=s.current,p=av(u);e?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Rr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=av(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(l("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=av(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function av(e){return(e==null?void 0:e.animationName)||"none"}function vke(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var QS=0;function HV(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??H3()),document.body.insertAdjacentElement("beforeend",e[1]??H3()),QS++,()=>{QS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),QS--}},[])}function H3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ea=function(){return Ea=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ea.apply(this,arguments)};function WV(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function yke(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var ty="right-scroll-bar-position",ny="width-before-scroll-bar",xke="with-scroll-bars-hidden",bke="--removed-body-scroll-bar-size";function JS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wke(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Eke=typeof window<"u"?b.useLayoutEffect:b.useEffect,W3=new WeakMap;function Ske(e,t){var n=wke(null,function(r){return e.forEach(function(i){return JS(i,r)})});return Eke(function(){var r=W3.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||JS(o,null)}),s.forEach(function(o){i.has(o)||JS(o,a)})}W3.set(n,e)},[e]),n}function Nke(e){return e}function _ke(e,t){t===void 0&&(t=Nke);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function Tke(e){e===void 0&&(e={});var t=_ke(null);return t.options=Ea({async:!0,ssr:!1},e),t}var VV=function(e){var t=e.sideCar,n=WV(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ea({},n))};VV.isSideCarExport=!0;function Cke(e,t){return e.useMedium(t),VV}var qV=Tke(),ZS=function(){},Ww=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:ZS,onWheelCapture:ZS,onTouchMoveCapture:ZS}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,E=WV(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,N=Ske([n,t]),T=Ea(Ea({},E),i);return b.createElement(b.Fragment,null,d&&b.createElement(_,{sideCar:qV,removeScrollBar:u,shards:f,noRelative:p,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:w}),a?b.cloneElement(b.Children.only(o),Ea(Ea({},T),{ref:N})):b.createElement(x,Ea({},T,{className:l,ref:N}),o))});Ww.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ww.classNames={fullWidth:ny,zeroRight:ty};var kke=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ake(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kke();return t&&e.setAttribute("nonce",t),e}function Oke(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jke(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ike=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Ake())&&(Oke(t,n),jke(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Pke=function(){var e=Ike();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},KV=function(){var e=Pke(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Dke={left:0,top:0,right:0,gap:0},eN=function(e){return parseInt(e||"",10)||0},Mke=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[eN(n),eN(r),eN(i)]},Rke=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Dke;var t=Mke(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Lke=KV(),of="data-scroll-locked",Bke=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(xke,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(of,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ty,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ny,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ty," .").concat(ty,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ny," .").concat(ny,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(of,`] {
    `).concat(bke,": ").concat(o,`px;
  }
`)},V3=function(){var e=parseInt(document.body.getAttribute(of)||"0",10);return isFinite(e)?e:0},Fke=function(){b.useEffect(function(){return document.body.setAttribute(of,(V3()+1).toString()),function(){var e=V3()-1;e<=0?document.body.removeAttribute(of):document.body.setAttribute(of,e.toString())}},[])},$ke=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Fke();var s=b.useMemo(function(){return Rke(i)},[i]);return b.createElement(Lke,{styles:Bke(s,!t,i,n?"":"!important")})},wC=!1;if(typeof window<"u")try{var ov=Object.defineProperty({},"passive",{get:function(){return wC=!0,!0}});window.addEventListener("test",ov,ov),window.removeEventListener("test",ov,ov)}catch{wC=!1}var fd=wC?{passive:!1}:!1,Uke=function(e){return e.tagName==="TEXTAREA"},GV=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Uke(e)&&n[t]==="visible")},zke=function(e){return GV(e,"overflowY")},Hke=function(e){return GV(e,"overflowX")},q3=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=YV(e,r);if(i){var s=XV(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Wke=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Vke=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},YV=function(e,t){return e==="v"?zke(t):Hke(t)},XV=function(e,t){return e==="v"?Wke(t):Vke(t)},qke=function(e,t){return e==="h"&&t==="rtl"?-1:1},Kke=function(e,t,n,r,i){var s=qke(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,l=t.contains(o),u=!1,d=a>0,f=0,h=0;do{if(!o)break;var p=XV(e,o),m=p[0],g=p[1],v=p[2],y=g-v-s*m;(m||y)&&YV(e,o)&&(f+=y,h+=m);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},lv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},K3=function(e){return[e.deltaX,e.deltaY]},G3=function(e){return e&&"current"in e?e.current:e},Gke=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Yke=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xke=0,hd=[];function Qke(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(Xke++)[0],s=b.useState(KV)[0],a=b.useRef(e);b.useEffect(function(){a.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=yke([e.lockRef.current],(e.shards||[]).map(G3),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=b.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=lv(g),x=n.current,w="deltaX"in g?g.deltaX:x[0]-y[0],E="deltaY"in g?g.deltaY:x[1]-y[1],_,N=g.target,T=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in g&&T==="h"&&N.type==="range")return!1;var C=q3(T,N);if(!C)return!0;if(C?_=T:(_=T==="v"?"h":"v",C=q3(T,N)),!C)return!1;if(!r.current&&"changedTouches"in g&&(w||E)&&(r.current=_),!_)return!0;var O=r.current||_;return Kke(O,v,g,O==="h"?w:E)},[]),l=b.useCallback(function(g){var v=g;if(!(!hd.length||hd[hd.length-1]!==s)){var y="deltaY"in v?K3(v):lv(v),x=t.current.filter(function(_){return _.name===v.type&&(_.target===v.target||v.target===_.shadowParent)&&Gke(_.delta,y)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(a.current.shards||[]).map(G3).filter(Boolean).filter(function(_){return _.contains(v.target)}),E=w.length>0?o(v,w[0]):!a.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(g,v,y,x){var w={name:g,delta:v,target:y,should:x,shadowParent:Jke(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(E){return E!==w})},1)},[]),d=b.useCallback(function(g){n.current=lv(g),r.current=void 0},[]),f=b.useCallback(function(g){u(g.type,K3(g),g.target,o(g,e.lockRef.current))},[]),h=b.useCallback(function(g){u(g.type,lv(g),g.target,o(g,e.lockRef.current))},[]);b.useEffect(function(){return hd.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,fd),document.addEventListener("touchmove",l,fd),document.addEventListener("touchstart",d,fd),function(){hd=hd.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,fd),document.removeEventListener("touchmove",l,fd),document.removeEventListener("touchstart",d,fd)}},[]);var p=e.removeScrollBar,m=e.inert;return b.createElement(b.Fragment,null,m?b.createElement(s,{styles:Yke(i)}):null,p?b.createElement($ke,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Jke(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Zke=Cke(qV,Qke);var kj=b.forwardRef(function(e,t){return b.createElement(Ww,Ea({},e,{ref:t,sideCar:Zke}))});kj.classNames=Ww.classNames;var eAe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pd=new WeakMap,cv=new WeakMap,uv={},tN=0,QV=function(e){return e&&(e.host||QV(e.parentNode))},tAe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=QV(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},nAe=function(e,t,n,r){var i=tAe(t,Array.isArray(e)?e:[e]);uv[n]||(uv[n]=new WeakMap);var s=uv[n],a=[],o=new Set,l=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",g=(pd.get(h)||0)+1,v=(s.get(h)||0)+1;pd.set(h,g),s.set(h,v),a.push(h),g===1&&m&&cv.set(h,!0),v===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),o.clear(),tN++,function(){a.forEach(function(f){var h=pd.get(f)-1,p=s.get(f)-1;pd.set(f,h),s.set(f,p),h||(cv.has(f)||f.removeAttribute(r),cv.delete(f)),p||f.removeAttribute(n)}),tN--,tN||(pd=new WeakMap,pd=new WeakMap,cv=new WeakMap,uv={})}},JV=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=eAe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),nAe(r,i,n,"aria-hidden")):function(){return null}},Vw="Dialog",[ZV,eq]=r0(Vw),[rAe,oa]=ZV(Vw),tq=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=b.useRef(null),l=b.useRef(null),[u,d]=xC({prop:r,defaultProp:i??!1,onChange:s,caller:Vw});return c.jsx(rAe,{scope:t,triggerRef:o,contentRef:l,contentId:af(),titleId:af(),descriptionId:af(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};tq.displayName=Vw;var nq="DialogTrigger",rq=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oa(nq,n),s=un(t,i.triggerRef);return c.jsx(Wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":jj(i.open),...r,ref:s,onClick:Bt(e.onClick,i.onOpenToggle)})});rq.displayName=nq;var Aj="DialogPortal",[iAe,iq]=ZV(Aj,{forceMount:void 0}),sq=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=oa(Aj,t);return c.jsx(iAe,{scope:t,forceMount:n,children:b.Children.map(r,a=>c.jsx(Hw,{present:n||s.open,children:c.jsx(Cj,{asChild:!0,container:i,children:a})}))})};sq.displayName=Aj;var zx="DialogOverlay",aq=b.forwardRef((e,t)=>{const n=iq(zx,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=oa(zx,e.__scopeDialog);return s.modal?c.jsx(Hw,{present:r||s.open,children:c.jsx(aAe,{...i,ref:t})}):null});aq.displayName=zx;var sAe=Cf("DialogOverlay.RemoveScroll"),aAe=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oa(zx,n);return c.jsx(kj,{as:sAe,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Wt.div,{"data-state":jj(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Pu="DialogContent",oq=b.forwardRef((e,t)=>{const n=iq(Pu,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=oa(Pu,e.__scopeDialog);return c.jsx(Hw,{present:r||s.open,children:s.modal?c.jsx(oAe,{...i,ref:t}):c.jsx(lAe,{...i,ref:t})})});oq.displayName=Pu;var oAe=b.forwardRef((e,t)=>{const n=oa(Pu,e.__scopeDialog),r=b.useRef(null),i=un(t,n.contentRef,r);return b.useEffect(()=>{const s=r.current;if(s)return JV(s)},[]),c.jsx(lq,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bt(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Bt(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Bt(e.onFocusOutside,s=>s.preventDefault())})}),lAe=b.forwardRef((e,t)=>{const n=oa(Pu,e.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return c.jsx(lq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),lq=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=oa(Pu,n),l=b.useRef(null),u=un(t,l);return HV(),c.jsxs(c.Fragment,{children:[c.jsx(Tj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(_j,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":jj(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(uAe,{titleId:o.titleId}),c.jsx(fAe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Oj="DialogTitle",cq=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oa(Oj,n);return c.jsx(Wt.h2,{id:i.titleId,...r,ref:t})});cq.displayName=Oj;var uq="DialogDescription",dq=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oa(uq,n);return c.jsx(Wt.p,{id:i.descriptionId,...r,ref:t})});dq.displayName=uq;var fq="DialogClose",hq=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oa(fq,n);return c.jsx(Wt.button,{type:"button",...r,ref:t,onClick:Bt(e.onClick,()=>i.onOpenChange(!1))})});hq.displayName=fq;function jj(e){return e?"open":"closed"}var pq="DialogTitleWarning",[cAe,mq]=WCe(pq,{contentName:Pu,titleName:Oj,docsSlug:"dialog"}),uAe=({titleId:e})=>{const t=mq(pq),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},dAe="DialogDescriptionWarning",fAe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mq(dAe).contentName}}.`;return b.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},gq=tq,vq=rq,yq=sq,Ij=aq,Pj=oq,Dj=cq,Mj=dq,Rj=hq;const jn=gq,xq=vq,hAe=yq,bq=b.forwardRef(({className:e,...t},n)=>c.jsx(Ij,{ref:n,className:ze("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));bq.displayName=Ij.displayName;const wn=b.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(hAe,{children:[c.jsx(bq,{}),c.jsxs(Pj,{ref:r,className:ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(Rj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Tg,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wn.displayName=Pj.displayName;const En=({className:e,...t})=>c.jsx("div",{className:ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});En.displayName="DialogHeader";const wh=({className:e,...t})=>c.jsx("div",{className:ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wh.displayName="DialogFooter";const Sn=b.forwardRef(({className:e,...t},n)=>c.jsx(Dj,{ref:n,className:ze("text-lg font-semibold leading-none tracking-tight",e),...t}));Sn.displayName=Dj.displayName;const Ba=b.forwardRef(({className:e,...t},n)=>c.jsx(Mj,{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));Ba.displayName=Mj.displayName;const nN=[{type:"today-time",name:"Today's Hours",description:"Track your daily time logging progress",icon:ht,category:"Time",size:{w:1,h:1}},{type:"time-logged",name:"Monthly Time",description:"Monitor your monthly time tracking progress",icon:ht,category:"Time",size:{w:1,h:1}},{type:"quick-stats",name:"Quick Stats",description:"Key metrics at a glance",icon:Ll,category:"Overview",size:{w:1,h:1}},{type:"projects-overview",name:"Projects Overview",description:"Status of your active projects",icon:_g,category:"Projects",size:{w:2,h:1}},{type:"recent-activities",name:"Recent Activities",description:"Latest actions and updates",icon:Sf,category:"Overview",size:{w:1,h:1}},{type:"quick-actions",name:"Quick Actions",description:"Fast access to common tasks",icon:U8,category:"Overview",size:{w:1,h:1}},{type:"monthly-expenses",name:"Monthly Expenses",description:"Track your monthly expenses and trends",icon:wr,category:"Finance",size:{w:1,h:1}},{type:"revenue-chart",name:"Revenue Chart",description:"Visual representation of revenue trends",icon:on,category:"Finance",size:{w:2,h:1}},{type:"cash-flow",name:"Cash Flow",description:"Monitor your cash flow and balance",icon:Aae,category:"Finance",size:{w:1,h:1}},{type:"cash-flow-projections",name:"Cash Flow Projections",description:"Forecast future cash flow scenarios",icon:As,category:"Finance",size:{w:2,h:1}},{type:"blank-card",name:"Custom Widget",description:"Create your own custom content",icon:at,category:"Custom",size:{w:1,h:1}}];function Y3({onAddWidget:e,children:t}){const[n,r]=b.useState(!1),i=(u,d)=>{const f=nN.find(p=>p.type===u);if(!f)return;const h={id:Date.now().toString(),type:u,title:f.name,size:d,position:{x:0,y:999,w:d.w,h:d.h}};e(h),r(!1)},s=["All","Overview","Finance","Time","Projects","Custom"],[a,o]=b.useState("All"),l=a==="All"?nN:nN.filter(u=>u.category===a);return c.jsxs(jn,{open:n,onOpenChange:r,children:[c.jsx(xq,{asChild:!0,children:t}),c.jsxs(wn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsxs(En,{children:[c.jsx(Sn,{children:"Add Widget"}),c.jsx(Ba,{children:"Choose a widget to add to your dashboard"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(u=>c.jsx(z,{variant:a===u?"default":"outline",size:"sm",onClick:()=>o(u),children:u},u))}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(u=>{const d=u.icon;return c.jsx(X,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>i(u.type,u.size),children:c.jsx(Q,{className:"p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(d,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-sm mb-1",children:u.name}),c.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:u.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:u.category}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.size.w,"",u.size.h]})]})]})]})})},u.type)})})]})]})]})}function pAe({widgetId:e,widgetTitle:t,onRemove:n,className:r=""}){const[i,s]=b.useState(!1),a=()=>{n(e),s(!1)};return c.jsxs(c.Fragment,{children:[c.jsx(z,{variant:"ghost",size:"icon",className:`h-8 w-8 bg-red-500/10 hover:bg-red-500/20 text-red-600 hover:text-red-700 ${r}`,onClick:()=>s(!0),title:"Remove widget",children:c.jsx(Tg,{className:"h-4 w-4"})}),c.jsx(jn,{open:i,onOpenChange:s,children:c.jsxs(wn,{children:[c.jsxs(En,{children:[c.jsxs(Sn,{className:"flex items-center gap-2",children:[c.jsx(Rl,{className:"h-5 w-5 text-red-500"}),"Remove Widget"]}),c.jsxs(Ba,{children:['Are you sure you want to remove the "',t,'" widget from your dashboard? This action cannot be undone.']})]}),c.jsxs(wh,{children:[c.jsx(z,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),c.jsx(z,{onClick:a,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:"Remove Widget"})]})]})})]})}const mAe={"company-motto":the,"monthly-expenses":nhe,"time-logged":rhe,"today-time":ihe,"revenue-chart":LCe,"quick-stats":BCe,"quick-actions":FCe,"recent-activities":$Ce,"projects-overview":UCe,"cash-flow":zCe,"cash-flow-projections":HCe,"blank-card":FV};function gAe({isDarkMode:e}){const[t,n]=b.useState(!1),{user:r}=Fr(),{widgets:i,loading:s,updateWidgets:a,addWidget:o,removeWidget:l,updateWidget:u}=ehe((r==null?void 0:r.id)||null),d=v=>{l(v)},f=v=>{const y=i.find(w=>w.id===v);if(!y)return;const x=y.size.w===1?2:y.size.w===2?3:1;u(v,{size:{...y.size,w:x},position:{...y.position,w:x}})},h=v=>{if(n(!1),!v.destination)return;const y=Array.from(i),[x]=y.splice(v.source.index,1);y.splice(v.destination.index,0,x);const w=y.map((E,_)=>({...E,position:{...E.position,y:_}}));a(w)},p=v=>{o(v)},m=()=>{n(!0)},g=v=>{switch(v){case 2:return"col-span-1 md:col-span-2";case 3:return"col-span-1 md:col-span-2 lg:col-span-3";default:return"col-span-1"}};return s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your business."})]}),c.jsx(Y3,{onAddWidget:p,children:c.jsxs(z,{children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Widget"]})})]}),c.jsx(ufe,{onDragEnd:h,onDragStart:m,children:c.jsx(xz,{droppableId:"dashboard",children:v=>c.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-min",children:[i.map((y,x)=>{const w=mAe[y.type]||FV;return c.jsx(Kfe,{draggableId:y.id,index:x,children:(E,_)=>c.jsxs("div",{ref:E.innerRef,...E.draggableProps,className:`relative group ${g(y.size.w)} ${_.isDragging?"opacity-70 shadow-2xl z-50":""}`,style:E.draggableProps.style,children:[c.jsxs("div",{className:`absolute top-2 right-2 z-10 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity ${t?"opacity-100":""}`,children:[c.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-blue-500/10 hover:bg-blue-500/20 text-blue-600 hover:text-blue-700",onClick:()=>f(y.id),title:`Resize widget (currently ${y.size.w===1?"small":y.size.w===2?"medium":"large"})`,children:y.size.w===1?c.jsx(pae,{className:"h-4 w-4"}):c.jsx(gae,{className:"h-4 w-4"})}),c.jsx(pAe,{widgetId:y.id,widgetTitle:y.title,onRemove:d}),c.jsx("div",{...E.dragHandleProps,children:c.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Drag to reorder",children:c.jsx(tae,{className:"h-4 w-4"})})})]}),c.jsx(w,{widget:y,isDarkMode:e})]})},y.id)}),v.placeholder]})})}),i.length===0&&c.jsx(X,{className:"border-dashed border-2",children:c.jsx(Q,{className:"flex items-center justify-center py-12",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mx-auto",children:c.jsx(at,{className:"h-8 w-8 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium mb-1",children:"No widgets yet"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get started by adding your first widget to the dashboard"}),c.jsx(Y3,{onAddWidget:p,children:c.jsxs(z,{children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Your First Widget"]})})]})]})})})]})}function vAe({isDarkMode:e}){return c.jsx(gAe,{isDarkMode:e})}function yAe({isDarkMode:e,onTimeLogged:t}){const{projects:n}=Sr(),{clients:r}=lr(),{createTimeEntry:i}=$r(),[s,a]=b.useState(""),[o,l]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(new Date().toISOString().split("T")[0]),[p,m]=b.useState(!1),[g,v]=b.useState(!1),y=async _=>{if(_.preventDefault(),!s||!o||g)return;v(!0);const{error:N}=await i({date:f,hours:parseFloat(s),project_id:o,comment:u.trim()||void 0});N||(a(""),d(""),t==null||t()),v(!1)},x=_=>{const N=new Date(_+"T00:00:00"),T=new Date().toISOString().split("T")[0];return _===T?"Today":N.toLocaleDateString("sv-SE",{weekday:"short",month:"short",day:"numeric"})},w=n.filter(_=>_.status==="active"),E=_=>r.find(T=>T.id===_.client_id);return c.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:`p-2 rounded-lg ${e?"bg-blue-900":"bg-blue-100"}`,children:c.jsx(ht,{className:`w-5 h-5 ${e?"text-blue-400":"text-blue-600"}`})}),c.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Log Today's Time"})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Date"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{type:"button",onClick:()=>m(!p),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent flex items-center justify-between transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(yn,{className:`w-4 h-4 ${e?"text-slate-400":"text-slate-500"}`}),x(f)]})}),p&&c.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 border rounded-lg shadow-lg z-10 transition-colors duration-200 ${e?"bg-slate-700 border-slate-600":"bg-white border-slate-300"}`,children:c.jsx("input",{type:"date",value:f,onChange:_=>{h(_.target.value),m(!1)},"aria-label":"Select date for time entry",className:`w-full px-3 py-2 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-slate-700 text-white":"bg-white text-slate-900"}`})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Hours"}),c.jsx("input",{type:"number",step:"0.25",min:"0",max:"24",value:s,onChange:_=>a(_.target.value),placeholder:"0.0",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Project"}),c.jsxs("select",{value:o,onChange:_=>l(_.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,required:!0,"aria-label":"Select project",children:[c.jsx("option",{value:"",children:"Select project"}),w.map(_=>{const N=E(_);return c.jsxs("option",{value:_.id,children:[_.name," ",N?`- ${N.name}${N.company?` (${N.company})`:""}`:""]},_.id)})]}),w.length===0&&c.jsxs("p",{className:`text-sm mt-1 ${e?"text-slate-400":"text-slate-500"}`,children:["No active projects available. ",c.jsx("a",{href:"/projects",className:"text-blue-500 hover:underline",children:"Create a project"})," to start tracking time."]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Comment (Optional)"}),c.jsx("textarea",{value:u,onChange:_=>d(_.target.value),placeholder:"Add any notes about this time entry...",rows:3,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]}),c.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2.5 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:g?c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(at,{className:"w-4 h-4"}),"Log Time"]})})]})]})}function xAe({isDarkMode:e}){const{entries:t}=$r(),{clients:n}=lr(),r=new Date().toISOString().split("T")[0],i=t.filter(l=>l.date===r),s=i.reduce((l,u)=>l+u.hours,0),a=l=>new Date(l+"T00:00:00").toLocaleDateString("sv-SE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=l=>n.find(u=>u.id===l);return c.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${e?"bg-green-900":"bg-green-100"}`,children:c.jsx(yn,{className:`w-5 h-5 ${e?"text-green-400":"text-green-600"}`})}),c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Today's Summary"}),c.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:a(r)})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:`flex items-center gap-2 text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[c.jsx(ht,{className:`w-6 h-6 ${e?"text-blue-400":"text-blue-600"}`}),s.toFixed(1),"h"]}),c.jsxs("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:[i.length," entries"]})]})]}),i.length===0?c.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[c.jsx(ht,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-slate-600":"text-slate-300"}`}),c.jsx("p",{children:"No time logged today yet"})]}):c.jsx("div",{className:"space-y-3",children:i.map(l=>{var d,f,h;const u=o((d=l.project)==null?void 0:d.client_id);return c.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[c.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:((f=l.project)==null?void 0:f.color)||"#64748B"}}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:(h=l.project)==null?void 0:h.name}),u&&c.jsxs("div",{className:`flex items-center gap-1 text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[c.jsx(Es,{className:"w-3 h-3"}),c.jsxs("span",{children:[u.name,u.company?` (${u.company})`:""]})]}),l.comment&&c.jsx("p",{className:`text-sm truncate ${e?"text-slate-400":"text-slate-600"}`,children:l.comment})]}),c.jsxs("div",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:[l.hours,"h"]})]},l.id)})})]})}function bAe({isDarkMode:e}){const{entries:t}=$r(),{projects:n}=Sr(),{clients:r}=lr(),[i,s]=b.useState(""),[a,o]=b.useState(""),l=t.filter(p=>{var y,x;const m=r.find(w=>{var E;return w.id===((E=p.project)==null?void 0:E.client_id)}),g=!i||((y=p.project)==null?void 0:y.name.toLowerCase().includes(i.toLowerCase()))||(m==null?void 0:m.name.toLowerCase().includes(i.toLowerCase()))||((x=m==null?void 0:m.company)==null?void 0:x.toLowerCase().includes(i.toLowerCase()))||p.comment&&p.comment.toLowerCase().includes(i.toLowerCase()),v=!a||p.project_id===a;return g&&v}),u=l.reduce((p,m)=>p+m.hours,0),d=p=>new Date(p+"T00:00:00").toLocaleDateString("sv-SE",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),f=p=>r.find(m=>m.id===p),h=[...l].sort((p,m)=>new Date(m.date).getTime()-new Date(p.date).getTime());return c.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:`p-2 rounded-lg ${e?"bg-purple-900":"bg-purple-100"}`,children:c.jsx(VA,{className:`w-5 h-5 ${e?"text-purple-400":"text-purple-600"}`})}),c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Time Entries"}),c.jsxs("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:[l.length," entries  ",u.toFixed(1)," hours total"]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(lo,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-slate-500":"text-slate-400"}`}),c.jsx("input",{type:"text",placeholder:"Search projects or comments...",value:i,onChange:p=>s(p.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]}),c.jsxs("select",{value:a,onChange:p=>o(p.target.value),"aria-label":"Filter by project",className:`px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[c.jsx("option",{value:"",children:"All projects"}),n.map(p=>{const m=f(p.client_id);return c.jsxs("option",{value:p.id,children:[p.name," ",m?`- ${m.name}`:""]},p.id)})]})]}),h.length===0?c.jsxs("div",{className:`text-center py-12 ${e?"text-slate-400":"text-slate-500"}`,children:[c.jsx(yn,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-slate-600":"text-slate-300"}`}),c.jsx("p",{children:"No time entries found"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:`border-b ${e?"border-slate-600":"border-slate-200"}`,children:[c.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Date"}),c.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Project"}),c.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Client"}),c.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Hours"}),c.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Comment"})]})}),c.jsx("tbody",{children:h.map(p=>{var g,v,y;const m=f((g=p.project)==null?void 0:g.client_id);return c.jsxs("tr",{className:`border-b transition-colors duration-150 ${e?"border-slate-700 hover:bg-slate-700":"border-slate-100 hover:bg-slate-50"}`,children:[c.jsx("td",{className:`py-3 px-4 ${e?"text-white":"text-slate-900"}`,children:d(p.date)}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:((v=p.project)==null?void 0:v.color)||"#64748B"}}),c.jsx("span",{className:e?"text-white":"text-slate-900",children:(y=p.project)==null?void 0:y.name})]})}),c.jsx("td",{className:`py-3 px-4 ${e?"text-slate-300":"text-slate-600"}`,children:m?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Es,{className:"w-3 h-3"}),c.jsx("span",{children:m.name}),m.company&&c.jsxs("span",{className:"text-xs",children:["(",m.company,")"]})]}):"-"}),c.jsxs("td",{className:`py-3 px-4 font-medium ${e?"text-white":"text-slate-900"}`,children:[p.hours,"h"]}),c.jsx("td",{className:`py-3 px-4 ${e?"text-slate-400":"text-slate-600"}`,children:p.comment||"-"})]},p.id)})})]})})]})}function wAe({isDarkMode:e}){const{entries:t}=$r(),{projects:n}=Sr(),[r,i]=b.useState(""),[s,a]=b.useState(""),[o,l]=b.useState(""),u=t.filter(y=>{const x=new Date(y.date),w=r?new Date(r):null,E=s?new Date(s):null,_=(!w||x>=w)&&(!E||x<=E),N=!o||y.project_id===o;return _&&N}),d=u.reduce((y,x)=>y+x.hours,0),f=u.length>0?d/new Set(u.map(y=>y.date)).size:0,h=new Set(u.map(y=>y.date)).size,p=u.reduce((y,x)=>{var E,_;const w=((E=x.project)==null?void 0:E.name)||"Unknown";return y[w]||(y[w]={hours:0,color:((_=x.project)==null?void 0:_.color)||"#64748B"}),y[w].hours+=x.hours,y},{}),m=u.reduce((y,x)=>{const w=x.date.substring(0,7);return y[w]||(y[w]=0),y[w]+=x.hours,y},{}),g=y=>{const[x,w]=y.split("-");return new Date(parseInt(x),parseInt(w)-1).toLocaleDateString("sv-SE",{month:"long",year:"numeric"})},v=()=>!r&&!s?"All time":r&&!s?`From ${new Date(r).toLocaleDateString("sv-SE")}`:!r&&s?`Until ${new Date(s).toLocaleDateString("sv-SE")}`:`${new Date(r).toLocaleDateString("sv-SE")} - ${new Date(s).toLocaleDateString("sv-SE")}`;return c.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:`p-2 rounded-lg ${e?"bg-orange-900":"bg-orange-100"}`,children:c.jsx(xt,{className:`w-5 h-5 ${e?"text-orange-400":"text-orange-600"}`})}),c.jsxs("div",{children:[c.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Summary"}),c.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:v()})]})]}),c.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),c.jsx("input",{type:"date",value:r,onChange:y=>i(y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-600 border-slate-500 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),c.jsx("input",{type:"date",value:s,onChange:y=>a(y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-600 border-slate-500 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),c.jsxs("div",{children:[c.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Project Filter"}),c.jsxs("select",{value:o,onChange:y=>l(y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-600 border-slate-500 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[c.jsx("option",{value:"",children:"All projects"}),n.map(y=>c.jsx("option",{value:y.id,children:y.name},y.id))]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-blue-900":"bg-blue-50"}`,children:[c.jsxs("div",{className:`text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:[d.toFixed(1),"h"]}),c.jsx("div",{className:`text-sm ${e?"text-blue-400":"text-blue-600"}`,children:"Total Hours"})]}),c.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-green-900":"bg-green-50"}`,children:[c.jsx("div",{className:`text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:u.length}),c.jsx("div",{className:`text-sm ${e?"text-green-400":"text-green-600"}`,children:"Total Entries"})]}),c.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-purple-900":"bg-purple-50"}`,children:[c.jsx("div",{className:`text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:h}),c.jsx("div",{className:`text-sm ${e?"text-purple-400":"text-purple-600"}`,children:"Days Worked"})]}),c.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-orange-900":"bg-orange-50"}`,children:[c.jsxs("div",{className:`text-2xl font-bold ${e?"text-orange-400":"text-orange-600"}`,children:[f.toFixed(1),"h"]}),c.jsx("div",{className:`text-sm ${e?"text-orange-400":"text-orange-600"}`,children:"Avg. Hours/Day"})]})]}),Object.keys(p).length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:`text-lg font-semibold mb-3 ${e?"text-white":"text-slate-900"}`,children:"Hours by Project"}),c.jsx("div",{className:"space-y-3",children:Object.entries(p).sort(([,y],[,x])=>x.hours-y.hours).map(([y,x])=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:x.color}}),c.jsx("span",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:y})]}),c.jsxs("div",{className:`font-semibold ${e?"text-white":"text-slate-900"}`,children:[x.hours.toFixed(1),"h"]})]},y))})]}),Object.keys(m).length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:`text-lg font-semibold mb-3 ${e?"text-white":"text-slate-900"}`,children:"Hours by Month"}),c.jsx("div",{className:"space-y-3",children:Object.entries(m).sort(([y],[x])=>x.localeCompare(y)).map(([y,x])=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(yn,{className:`w-4 h-4 ${e?"text-slate-400":"text-slate-500"}`}),c.jsx("span",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:g(y)})]}),c.jsxs("div",{className:`font-semibold ${e?"text-white":"text-slate-900"}`,children:[x.toFixed(1),"h"]})]},y))})]}),u.length===0&&c.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[c.jsx(Am,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-slate-600":"text-slate-300"}`}),c.jsx("p",{children:"No entries found for the selected filters"})]})]})}function EAe({currentDate:e,onDateChange:t,isDarkMode:n}){const{entries:r}=$r(),i=(f,h)=>new Date(f,h+1,0).getDate(),s=(f,h)=>new Date(f,h,1).getDay(),a=(f,h)=>{const p=i(f,h),m=s(f,h),g=[];for(let v=0;v<m;v++)g.push(null);for(let v=1;v<=p;v++){const y=`${f}-${String(h+1).padStart(2,"0")}-${String(v).padStart(2,"0")}`,x=r.filter(E=>E.date===y),w=x.reduce((E,_)=>E+_.hours,0);g.push({day:v,dateStr:y,entries:x,totalHours:w})}return g},o=f=>{const h=new Date(e);h.setMonth(h.getMonth()+(f==="next"?3:-3)),t(h)},l=[];for(let f=0;f<3;f++){const h=new Date(e.getFullYear(),e.getMonth()+f,1);l.push(h)}const u=f=>f.toLocaleDateString("sv-SE",{month:"long",year:"numeric"}),d=f=>`Q${Math.floor(f.getMonth()/3)+1} ${f.getFullYear()}`;return c.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:`text-xl font-semibold ${n?"text-white":"text-slate-900"}`,children:["Quarter Overview - ",d(e)]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>o("prev"),title:"Previous quarter",className:`p-2 rounded-lg transition-colors duration-200 ${n?"hover:bg-slate-700 text-slate-400":"hover:bg-slate-100 text-slate-600"}`,children:c.jsx(FA,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>o("next"),title:"Next quarter",className:`p-2 rounded-lg transition-colors duration-200 ${n?"hover:bg-slate-700 text-slate-400":"hover:bg-slate-100 text-slate-600"}`,children:c.jsx($A,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:l.map((f,h)=>{const p=a(f.getFullYear(),f.getMonth());return c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:`font-semibold text-center ${n?"text-white":"text-slate-900"}`,children:u(f)}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(m=>c.jsx("div",{className:`text-xs font-medium text-center py-2 ${n?"text-slate-400":"text-slate-500"}`,children:m},m)),p.map((m,g)=>c.jsx("div",{className:"aspect-square",children:m?c.jsxs("div",{className:`w-full h-full rounded-lg border p-1 flex flex-col justify-between text-xs ${m.totalHours>0?n?"bg-blue-900 border-blue-700":"bg-blue-50 border-blue-200":n?"bg-slate-700 border-slate-600":"bg-white border-slate-200"}`,children:[c.jsx("div",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:m.day}),m.totalHours>0&&c.jsxs("div",{className:`font-medium ${n?"text-blue-400":"text-blue-600"}`,children:[m.totalHours,"h"]})]}):c.jsx("div",{})},g))]})]},h)})})]})}function SAe({isDarkMode:e}){const[t,n]=b.useState("daily"),[r,i]=b.useState(new Date),{refetch:s,loading:a}=$r(),o=b.useCallback(async()=>{await s()},[s]),l=b.useCallback(()=>{},[]),u=[{id:"daily",label:"Daily View",icon:ht,description:"Log time and view today's summary"},{id:"summary",label:"Summary & Filters",icon:Ll,description:"Overview with date filters and project breakdown"},{id:"quarterly",label:"Quarterly View",icon:yn,description:"Calendar view by quarters"},{id:"table",label:"All Entries",icon:VA,description:"Detailed table of all time entries"}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Time Tracking"}),c.jsx("p",{className:"text-muted-foreground",children:"Log your hours and track your productivity"})]}),c.jsxs("button",{onClick:o,disabled:a,className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors duration-200 ${e?"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"} ${a?"opacity-50 cursor-not-allowed":""}`,children:[c.jsx(wae,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(d=>{const f=d.icon,h=t===d.id;return c.jsxs("button",{onClick:()=>n(d.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors duration-200 ${h?e?"bg-blue-900 border-blue-700 text-blue-300":"bg-blue-50 border-blue-300 text-blue-700":e?"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"}`,title:d.description,children:[c.jsx(f,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:d.label})]},d.id)})}),t==="daily"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"Log Time"})}),c.jsx(Q,{children:c.jsx(yAe,{isDarkMode:e,onTimeLogged:l})})]})}),c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"Today's Summary"})}),c.jsx(Q,{children:c.jsx(xAe,{isDarkMode:e})})]})})]}),t==="summary"&&c.jsx(wAe,{isDarkMode:e}),t==="quarterly"&&c.jsx(EAe,{currentDate:r,onDateChange:i,isDarkMode:e}),t==="table"&&c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"All Time Entries"})}),c.jsx(Q,{children:c.jsx(bAe,{isDarkMode:e})})]})]})}function wq(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=async()=>{if(!e){i(!1);return}try{i(!0);const{data:p,error:m}=await se.from("cash_flow_entries").select("*").eq("user_id",e).order("date",{ascending:!1});if(m)throw m;n(p||[])}catch(p){a(p instanceof Error?p.message:"An error occurred")}finally{i(!1)}},l=async p=>{if(!e)return null;try{const{data:m,error:g}=await se.from("cash_flow_entries").insert([{...p,user_id:e}]).select().single();if(g)throw g;return n(v=>[m,...v]),m}catch(m){return a(m instanceof Error?m.message:"Failed to add entry"),null}},u=async(p,m)=>{try{const{data:g,error:v}=await se.from("cash_flow_entries").update(m).eq("id",p).eq("user_id",e).select().single();if(v)throw v;return n(y=>y.map(x=>x.id===p?g:x)),g}catch(g){return a(g instanceof Error?g.message:"Failed to update entry"),null}},d=async p=>{try{const{error:m}=await se.from("cash_flow_entries").delete().eq("id",p).eq("user_id",e);if(m)throw m;return n(g=>g.filter(v=>v.id!==p)),!0}catch(m){return a(m instanceof Error?m.message:"Failed to delete entry"),!1}},f=async(p,m)=>{if(!e)return null;try{let g=se.from("cash_flow_entries").select("type, amount, date").eq("user_id",e);p&&(g=g.gte("date",p)),m&&(g=g.lte("date",m));const{data:v,error:y}=await g;if(y)throw y;const x=v==null?void 0:v.reduce((w,E)=>(E.type==="income"?w.totalIncome+=E.amount:w.totalExpenses+=E.amount,w),{totalIncome:0,totalExpenses:0});return{...x,netFlow:x?x.totalIncome-x.totalExpenses:0}}catch(g){return a(g instanceof Error?g.message:"Failed to get summary"),null}},h=async p=>{if(!e)return[];try{const{data:m,error:g}=await se.from("cash_flow_entries").select("category, amount").eq("user_id",e).eq("type",p);if(g)throw g;const v=m==null?void 0:m.reduce((y,x)=>(y[x.category]=(y[x.category]||0)+x.amount,y),{});return Object.entries(v||{}).map(([y,x])=>({category:y,amount:x}))}catch(m){return a(m instanceof Error?m.message:"Failed to get categories"),[]}};return b.useEffect(()=>{o()},[e]),{entries:t,loading:r,error:s,addEntry:l,updateEntry:u,deleteEntry:d,getCashFlowSummary:f,getEntriesByCategory:h,refetch:o}}function NAe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=async()=>{if(!e){i(!1);return}try{i(!0);const{data:m,error:g}=await se.from("budgets").select("*").eq("user_id",e).eq("is_active",!0).order("created_at",{ascending:!1});if(g)throw g;n(m||[])}catch(m){a(m instanceof Error?m.message:"An error occurred")}finally{i(!1)}},l=async m=>{if(!e)return null;try{const{data:g,error:v}=await se.from("budgets").insert([{...m,user_id:e}]).select().single();if(v)throw v;return n(y=>[g,...y]),g}catch(g){return a(g instanceof Error?g.message:"Failed to add budget"),null}},u=async(m,g)=>{try{const{data:v,error:y}=await se.from("budgets").update(g).eq("id",m).eq("user_id",e).select().single();if(y)throw y;return n(x=>x.map(w=>w.id===m?v:w)),v}catch(v){return a(v instanceof Error?v.message:"Failed to update budget"),null}},d=async m=>{try{const{error:g}=await se.from("budgets").delete().eq("id",m).eq("user_id",e);if(g)throw g;return n(v=>v.filter(y=>y.id!==m)),!0}catch(g){return a(g instanceof Error?g.message:"Failed to delete budget"),!1}},f=async m=>{if(!e)return null;try{const{data:g,error:v}=await se.from("budget_entries").insert([{...m,user_id:e}]).select().single();if(v)throw v;return g}catch(g){return a(g instanceof Error?g.message:"Failed to add budget entry"),null}},h=async()=>{if(!e)return[];try{const{data:m,error:g}=await se.from("budget_status").select("*").eq("user_id",e);if(g)throw g;return m||[]}catch(m){return a(m instanceof Error?m.message:"Failed to get budget status"),[]}},p=async m=>{try{const{data:g,error:v}=await se.from("budget_entries").select("*").eq("budget_id",m).eq("user_id",e).order("date",{ascending:!1});if(v)throw v;return g||[]}catch(g){return a(g instanceof Error?g.message:"Failed to get budget entries"),[]}};return b.useEffect(()=>{o()},[e]),{budgets:t,loading:r,error:s,addBudget:l,updateBudget:u,deleteBudget:d,addBudgetEntry:f,getBudgetStatus:h,getBudgetEntries:p,refetch:o}}const Eh=()=>{const[e,t]=b.useState([]),n=b.useCallback(({title:i,description:s,variant:a="default"})=>{const o=Math.random().toString(36).substr(2,9),l={id:o,title:i,description:s,variant:a};return t(u=>[...u,l]),console.log(`Toast: ${i}${s?` - ${s}`:""}`),setTimeout(()=>{t(u=>u.filter(d=>d.id!==o))},3e3),{id:o}},[]),r=b.useCallback(i=>{t(s=>s.filter(a=>a.id!==i))},[]);return{toast:n,dismiss:r,toasts:e}},_Ae=()=>{const{user:e}=Fr(),{entries:t,refetch:n,addEntry:r,deleteEntry:i}=wq((e==null?void 0:e.id)||null),{budgets:s,addBudget:a,updateBudget:o,deleteBudget:l,loading:u}=NAe((e==null?void 0:e.id)||null),{toast:d}=Eh(),[f,h]=b.useState([]),[p,m]=b.useState([]),[g,v]=b.useState(!1),y=new Date().toISOString().slice(0,7),x=new Date().getFullYear(),w=()=>new Date().toLocaleDateString("sv-SE",{month:"long",year:"numeric"}),E=()=>new Date().getFullYear().toString(),_=(L,j)=>{if(!t)return[];const R=(V,I)=>{const ee=I.toLowerCase(),W=V.toLowerCase();return!!(W===ee||(ee.includes("travel")||ee.includes("resa"))&&(W.includes("resa")||W.includes("travel")||W.includes("konferens"))||(ee.includes("office")||ee.includes("kontor"))&&(W.includes("kontor")||W.includes("office")||W.includes("material"))||(ee.includes("software")||ee.includes("tool")||ee.includes("verktyg"))&&(W.includes("software")||W.includes("tool")||W.includes("verktyg")||W.includes("licens"))||(ee.includes("development")||ee.includes("utveckling"))&&(W.includes("kurs")||W.includes("utbildning")||W.includes("development"))||(ee.includes("utrustning")||ee.includes("equipment"))&&(W.includes("utrustning")||W.includes("equipment")||W.includes("dator")||W.includes("hrdvara"))||ee.includes(W.split(" ")[0])||W.includes(ee.split(" ")[0]))},M=t.filter(V=>V.type==="expense"&&V.is_budget_entry===!1);return j==="monthly"?M.filter(V=>R(V.category,L)):M.filter(V=>new Date(V.date).getFullYear()===x&&R(V.category,L))},N=b.useMemo(()=>{const L=f.reduce((V,I)=>V+I.budgeted,0),j=f.reduce((V,I)=>V+I.spent,0),R=p.reduce((V,I)=>V+I.budgeted,0),M=p.reduce((V,I)=>V+I.spent,0);return{monthly:{budget:L,spent:j,remaining:L-j,percentage:L>0?j/L*100:0},annual:{budget:R,spent:M,remaining:R-M,percentage:R>0?M/R*100:0,completed:p.filter(V=>V.status==="completed").length,overdue:p.filter(V=>V.status==="overdue").length}}},[f,p]),T=b.useMemo(()=>f.map(L=>({name:L.name,budgeted:L.budgeted,spent:L.spent,remaining:L.budgeted-L.spent})),[f]),C=b.useMemo(()=>f.filter(L=>L.spent>0).map(L=>({name:L.name,value:L.spent,color:L.color})),[f]);return b.useEffect(()=>{(async()=>{if(!(!e||u||!t)){console.log(" useBudgetLogic: Loading data"),console.log(" Budgets:",(s==null?void 0:s.length)||0),console.log(" Entries:",(t==null?void 0:t.length)||0),v(!0);try{const j=s.filter(W=>W.period==="monthly");console.log(" Monthly budgets:",j.length);const R=t.filter(W=>W.type==="expense"&&W.is_budget_entry===!1);console.log(" Actual expenses (excluding budget entries):",R.length),R.forEach(W=>{console.log(`  - ${W.description}: ${W.amount} SEK (${W.category})`)});const M=j.map((W,$)=>{console.log(`
 Processing budget: ${W.name} (${W.category})`);const ke=R.filter(le=>{const Se=W.category.toLowerCase(),ne=le.category.toLowerCase(),de=ne===Se,pe=(Se.includes("travel")||Se.includes("resa"))&&(ne.includes("resa")||ne.includes("travel")||ne.includes("konferens")),J=(Se.includes("office")||Se.includes("kontor"))&&(ne.includes("kontor")||ne.includes("office")||ne.includes("material")),qe=(Se.includes("software")||Se.includes("tool")||Se.includes("verktyg"))&&(ne.includes("software")||ne.includes("tool")||ne.includes("verktyg")||ne.includes("licens")),Oe=(Se.includes("development")||Se.includes("utveckling"))&&(ne.includes("kurs")||ne.includes("utbildning")||ne.includes("development")),Qe=(Se.includes("utrustning")||Se.includes("equipment"))&&(ne.includes("utrustning")||ne.includes("equipment")||ne.includes("dator")||ne.includes("hrdvara")),G=Se.includes(ne.split(" ")[0]),oe=ne.includes(Se.split(" ")[0]),be=de||pe||J||qe||Oe||Qe||G||oe;return be&&console.log(`     MATCH: "${le.category}" -> "${W.category}" (${le.amount} SEK)`),be}).reduce((le,Se)=>le+Se.amount,0);console.log(`     Total spent for ${W.name}: ${ke} SEK`);const Ae=["#2563eb","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"];return{id:W.id,name:W.name,budgeted:W.budget_limit,spent:ke,color:Ae[$%Ae.length]}}),V=s.filter(W=>W.period==="yearly"),I=R.filter(W=>new Date(W.date).getFullYear()===x),ee=V.map((W,$)=>{const ke=I.filter(de=>de.category.toLowerCase()===W.category.toLowerCase()).reduce((de,pe)=>de+pe.amount,0),Ae=new Date(W.start_date||new Date),le=new Date;let Se="pending";ke>=W.budget_limit?Se="completed":Ae<le&&(Se="overdue");const ne=["#dc2626","#ea580c","#d97706","#65a30d","#059669","#0891b2","#7c3aed","#c2410c"];return{id:W.id,name:W.name,budgeted:W.budget_limit,spent:ke,targetDate:W.start_date||new Date().toISOString().split("T")[0],status:Se,color:ne[$%ne.length]}});h(M),m(ee),console.log(" Final budget categories:",M.length),M.forEach(W=>{console.log(`  - ${W.name}: ${W.spent}/${W.budgeted} SEK`)})}catch(j){console.error("Error loading budgets and expenses:",j),d({title:"Fel",description:"Kunde inte ladda budgetdata.",variant:"destructive"})}finally{v(!1)}}})()},[e==null?void 0:e.id,s,u,t,d,y,x,e]),{categories:f,annualItems:p,totals:N,chartData:T,pieData:C,budgetsLoading:u,isLoading:g,getCurrentMonthName:w,getCurrentYear:E,getCategoryEntries:_,handleAddCategory:async(L,j)=>{if(s.find(M=>M.name.toLowerCase().trim()===L.toLowerCase().trim()||M.category.toLowerCase().trim()===L.toLowerCase().trim()))return d({title:"Kategori finns redan",description:`En kategori med namnet "${L.trim()}" finns redan.`,variant:"destructive"}),!1;if(j<0)return d({title:"Fel",description:"Budget kan inte vara negativ. Ange 0 fr ingen budget.",variant:"destructive"}),!1;v(!0);try{if(await a({name:L.trim(),category:L.trim(),budget_limit:j,period:"monthly",start_date:new Date().toISOString().split("T")[0],is_active:!0})&&j>0){const V=new Date;V.setDate(1);const I=new Date(V);I.setMonth(I.getMonth()+1),await r({type:"expense",amount:j,description:`Budget fr ${L.trim()}`,category:L.trim(),date:V.toISOString().split("T")[0],is_recurring:!0,recurring_interval:"monthly",next_due_date:I.toISOString().split("T")[0],is_budget_entry:!0,is_recurring_instance:!1})}return d({title:"Mnadskategori tillagd",description:j>0?`${L.trim()} med budget ${_e(j)}/mnad har lagts till`:`${L.trim()} har lagts till utan automatisk budget`}),await n(),!0}catch(M){return console.error("Error adding category:",M),d({title:"Fel",description:"Kunde inte lgga till kategori.",variant:"destructive"}),!1}finally{v(!1)}},handleUpdateCategory:async(L,j)=>{if(j<0)return d({title:"Fel",description:"Budget kan inte vara negativ. Ange 0 fr ingen budget.",variant:"destructive"}),!1;v(!0);try{if(await o(L,{budget_limit:j,updated_at:new Date().toISOString()})){const M=f.find(V=>V.id===L);return d({title:"Mnadsbudget uppdaterad",description:`Budget fr ${M==null?void 0:M.name} uppdaterad till ${_e(j)}/mnad`}),await n(),!0}return!1}catch(R){return console.error("Error updating category:",R),d({title:"Fel",description:"Kunde inte uppdatera budget.",variant:"destructive"}),!1}finally{v(!1)}},handleDeleteCategory:async L=>{v(!0);try{if(await l(L.id)){const R=t.filter(M=>M.category===L.name&&M.is_budget_entry===!0);for(const M of R)await i(M.id);return d({title:"Kategori borttagen",description:`${L.name} har tagits bort`}),await n(),!0}return!1}catch(j){return console.error("Error deleting category:",j),d({title:"Fel",description:"Kunde inte ta bort kategori.",variant:"destructive"}),!1}finally{v(!1)}},handleAddAnnualItem:async(L,j,R)=>{if(s.find(V=>V.name.toLowerCase().trim()===L.toLowerCase().trim()||V.category.toLowerCase().trim()===L.toLowerCase().trim()))return d({title:"rlig post finns redan",description:`En rlig post med namnet "${L.trim()}" finns redan.`,variant:"destructive"}),!1;if(j<0)return d({title:"Fel",description:"Budget kan inte vara negativ. Ange 0 fr ingen budget.",variant:"destructive"}),!1;v(!0);try{return await a({name:L.trim(),category:L.trim(),budget_limit:j,period:"yearly",start_date:R,is_active:!0})?(d({title:"rlig post tillagd",description:`${L.trim()} med budget ${_e(j)} har lagts till`}),await n(),!0):!1}catch(V){return console.error("Error adding annual item:",V),d({title:"Fel",description:"Kunde inte lgga till rlig post.",variant:"destructive"}),!1}finally{v(!1)}},handleUpdateAnnualItem:async(L,j,R)=>{if(j<0)return d({title:"Fel",description:"Budget kan inte vara negativ. Ange 0 fr ingen budget.",variant:"destructive"}),!1;v(!0);try{const M={budget_limit:j,updated_at:new Date().toISOString()};if(R&&(M.start_date=R),await o(L,M)){const I=p.find(ee=>ee.id===L);return d({title:"rlig post uppdaterad",description:`Budget fr ${I==null?void 0:I.name} uppdaterad till ${_e(j)}`}),await n(),!0}return!1}catch(M){return console.error("Error updating annual item:",M),d({title:"Fel",description:"Kunde inte uppdatera rlig post.",variant:"destructive"}),!1}finally{v(!1)}},handleDeleteAnnualItem:async L=>{v(!0);try{return await l(L.id)?(d({title:"rlig post borttagen",description:`${L.name} har tagits bort`}),await n(),!0):!1}catch(j){return console.error("Error deleting annual item:",j),d({title:"Fel",description:"Kunde inte ta bort rlig post.",variant:"destructive"}),!1}finally{v(!1)}},addEntry:r,deleteEntry:i,addBudget:a,updateBudget:o,deleteBudget:l,refetch:n,entries:t,budgets:s,toast:d}};function TAe({totals:e,getCurrentMonthName:t,getCurrentYear:n}){return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs(X,{children:[c.jsx(ie,{className:"pb-2",children:c.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(wr,{className:"h-4 w-4"}),"Mnadsbudget"]})}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:_e(e.monthly.budget)}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t()})]})]}),c.jsxs(X,{children:[c.jsx(ie,{className:"pb-2",children:c.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(on,{className:"h-4 w-4"}),"Spenderat (mnad)"]})}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:_e(e.monthly.spent)}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.monthly.percentage.toFixed(1),"% av budget"]}),c.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:c.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(e.monthly.percentage,100)}%`}})})]})]}),c.jsxs(X,{children:[c.jsx(ie,{className:"pb-2",children:c.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(As,{className:"h-4 w-4"}),"rsbudget"]})}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:_e(e.annual.budget)}),c.jsx("p",{className:"text-xs text-muted-foreground",children:n()})]})]}),c.jsxs(X,{children:[c.jsx(ie,{className:"pb-2",children:c.jsxs(ae,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(Xse,{className:"h-4 w-4"}),"rliga poster"]})}),c.jsxs(Q,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[e.annual.completed,"/",e.annual.completed+e.annual.overdue]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.annual.overdue>0&&c.jsxs("span",{className:"text-red-500",children:[e.annual.overdue," frsenade"]}),e.annual.overdue===0&&"Inga frsenade"]})]})]})]})}function CAe({chartData:e,pieData:t,isDarkMode:n}){return e.length===0?null:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"Mnadsbudget vs Faktisk"})}),c.jsx(Q,{children:c.jsx("div",{className:"h-64",children:c.jsx(Na,{width:"100%",height:"100%",children:c.jsxs(LV,{data:e,children:[c.jsx(Ao,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:n?"#94a3b8":"#64748b"}}),c.jsx(Oo,{hide:!0}),c.jsx(rf,{dataKey:"budgeted",fill:"#e2e8f0",name:"Budget"}),c.jsx(rf,{dataKey:"spent",fill:"#2563eb",name:"Spenderat"})]})})})})]}),c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"Utgiftsfrdelning"})}),c.jsx(Q,{children:c.jsx("div",{className:"h-64",children:t.length>0?c.jsx(Na,{width:"100%",height:"100%",children:c.jsx(yC,{children:c.jsx(Rx,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,dataKey:"value",children:t.map((r,i)=>c.jsx(Ou,{fill:r.color},`cell-${i}`))})})}):c.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Inga utgifter att visa n"})})})]})]})}function Eq({percentage:e,isOverBudget:t=!1,className:n}){const r=Math.min(e,100);return c.jsx("div",{className:ze("w-full bg-gray-200 rounded-full h-2",n),children:c.jsx("div",{className:ze("h-2 rounded-full transition-all duration-300",t?"bg-red-500":"bg-green-500"),style:{width:`${r}%`}})})}function kAe({categories:e,onViewDetails:t,onAddExpense:n,onEditCategory:r,onDeleteCategory:i}){return e.length===0?null:c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"Mnadskategorier"})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-4",children:e.map(s=>{const a=s.budgeted>0?s.spent/s.budgeted*100:0,o=s.spent>s.budgeted;return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full","data-color":s.color}),c.jsx("span",{className:"font-medium",children:s.name})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>t(s),className:"h-8",children:[c.jsx($i,{className:"h-4 w-4 mr-1"}),"Detaljer"]}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n(s),className:"h-8",children:[c.jsx(ah,{className:"h-4 w-4 mr-1"}),"Lgg till"]}),c.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r(s),children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i(s),children:c.jsx(Pr,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("span",{className:"text-muted-foreground",children:[_e(s.spent)," / ",_e(s.budgeted)]}),c.jsxs("span",{className:o?"text-red-500":"text-muted-foreground",children:[a.toFixed(1),"%"]})]}),c.jsx(Eq,{percentage:a,isOverBudget:o})]},s.id)})})})]})}function AAe({annualItems:e,getCurrentYear:t,onAddExpense:n,onDeleteItem:r,onViewDetails:i,onEditItem:s}){return e.length===0?null:c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(As,{className:"h-5 w-5"}),"rliga budgetposter ",t()]})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-4",children:e.map(a=>{const o=a.budgeted>0?a.spent/a.budgeted*100:0,l=a.status==="completed",u=a.status==="overdue";return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:a.name}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Mlmndag: ",new Date(a.targetDate).toLocaleDateString("sv-SE"),l&&c.jsx("span",{className:"text-green-600 ml-2",children:" Genomfrd"}),u&&c.jsx("span",{className:"text-red-600 ml-2",children:" Frsenad"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[i&&c.jsx(z,{variant:"outline",size:"sm",onClick:()=>i(a),className:"h-8",children:"Detaljer"}),s&&c.jsx(z,{variant:"outline",size:"sm",onClick:()=>s(a),className:"h-8",children:"Redigera"}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n(a),className:"h-8",disabled:l,children:[c.jsx(ah,{className:"h-4 w-4 mr-1"}),"Lgg till utgift"]}),c.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r(a),children:c.jsx(Pr,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("span",{className:"text-muted-foreground",children:[_e(a.spent)," / ",_e(a.budgeted)]}),c.jsxs("span",{className:l?"text-green-600":u?"text-red-500":"text-muted-foreground",children:[o.toFixed(1),"%"]})]}),c.jsx(Eq,{percentage:o,isOverBudget:!1,className:l?"bg-green-100":u?"bg-red-100":""})]},a.id)})})})]})}function OAe({onAddCategory:e,onAddAnnualItem:t}){return c.jsx(X,{children:c.jsxs(Q,{className:"text-center py-12",children:[c.jsx(R8,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ingen budget n"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Skapa din frsta budgetkategori eller rliga post fr att brja spra utgifter"}),c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mt-4 text-sm",children:[c.jsx("p",{className:"font-medium mb-2",children:" S fungerar det:"}),c.jsxs("ul",{className:"text-left space-y-1 text-muted-foreground",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Mnadskategorier:"})," terkommande utgifter (mat, transport, hyra)"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"rliga poster:"})," Engngsutgifter (konferenser, utrustning, resor)"]}),c.jsx("li",{children:" Allt syns automatiskt i Cash Flow fr helhetsbild"})]})]}),c.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[c.jsxs(z,{variant:"outline",onClick:t,children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"rlig post"]}),c.jsxs(z,{onClick:e,children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Mnadskategori"]})]})]})})}function jAe({categories:e,annualItems:t,totals:n,chartData:r,pieData:i,isDarkMode:s,getCurrentMonthName:a,getCurrentYear:o,getCategoryEntries:l,onViewDetails:u,onAddExpense:d,onEditCategory:f,onDeleteCategory:h,onDeleteItem:p,onAddCategory:m,onAddAnnualItem:g,onViewAnnualDetails:v,onEditAnnualItem:y}){console.log(" Rendering OVERVIEW");const x=e.length>0||t.length>0;return c.jsxs("div",{className:"space-y-6",children:[c.jsx(X,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:c.jsx(Q,{className:"py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yn,{className:"h-5 w-5 text-blue-600"}),c.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Spra utgifter mot dina budgetml"})]}),c.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.length," mnadskategorier  ",t.length," rliga poster"]})]})})}),x?c.jsxs(c.Fragment,{children:[c.jsx(TAe,{totals:n,getCurrentMonthName:a,getCurrentYear:o}),c.jsx(CAe,{chartData:r,pieData:i,isDarkMode:s}),e.length>0&&c.jsx(kAe,{categories:e,onViewDetails:u,onAddExpense:d,onEditCategory:f,onDeleteCategory:h}),t.length>0&&c.jsx(AAe,{annualItems:t,getCurrentYear:o,onAddExpense:d,onDeleteItem:p,onViewDetails:v,onEditItem:y})]}):c.jsx(OAe,{onAddCategory:m,onAddAnnualItem:g})]})}function IAe({categories:e,annualItems:t,totals:n,getCurrentMonthName:r,getCurrentYear:i,getCategoryEntries:s}){return console.log(" Rendering DETAILED view"),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs(X,{className:"shadow-lg",children:[c.jsxs(ie,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 rounded-t-lg",children:[c.jsx(ae,{className:"flex items-center gap-3 text-xl",children:" Mnadskategorier"}),c.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2",children:["Totalsumma: ",c.jsx("span",{className:"bg-blue-200/60 dark:bg-blue-800/60 px-2 py-1 rounded-md font-semibold text-blue-900 dark:text-blue-100 shadow-sm border border-blue-300/30 dark:border-blue-600/30",children:_e(n.monthly.spent)})," / Budgeterat: ",_e(n.monthly.budget)]})]}),c.jsx(Q,{className:"p-0",children:c.jsx("div",{className:"space-y-0",children:e.length>0?e.map((a,o)=>{const l=s(a.name,"monthly"),u=l.reduce((d,f)=>d+f.amount,0);return c.jsxs("div",{className:"border-b last:border-b-0",style:{borderLeft:`6px solid ${a.color}`,backgroundColor:`${a.color}08`},children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-lg shadow-sm",style:{backgroundColor:a.color}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-base font-semibold",children:a.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.jsx("span",{className:"font-medium",children:_e(u)})," / ",_e(a.budgeted),c.jsxs("span",{className:"ml-2 text-xs",children:["(",l.length," utgifter)"]})]})]})]})}),c.jsx("div",{className:"bg-white dark:bg-gray-900",children:l.length>0?c.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:l.map((d,f)=>c.jsxs("div",{className:`flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors ${f%2===0?"bg-gray-25 dark:bg-gray-900":"bg-white dark:bg-gray-850"}`,children:[c.jsx("div",{className:"flex-1 truncate pr-2",children:c.jsx("div",{className:"text-sm font-medium truncate",children:d.description})}),c.jsx("div",{className:"text-sm font-semibold tabular-nums",style:{color:a.color},children:_e(d.amount)})]},d.id))}):c.jsx("div",{className:"p-6 text-center text-muted-foreground",children:c.jsx("p",{className:"text-sm",children:"Inga utgifter registrerade"})})})]},a.id)}):c.jsx("div",{className:"p-8 text-center text-muted-foreground",children:c.jsx("p",{className:"text-base",children:"Inga mnadskategorier nnu"})})})})]}),c.jsxs(X,{className:"shadow-lg",children:[c.jsxs(ie,{className:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 rounded-t-lg",children:[c.jsx(ae,{className:"flex items-center gap-3 text-xl",children:" rliga poster"}),c.jsxs("div",{className:"text-sm text-purple-700 dark:text-purple-300 mt-2",children:["Totalsumma: ",c.jsx("span",{className:"bg-purple-200/60 dark:bg-purple-800/60 px-2 py-1 rounded-md font-semibold text-purple-900 dark:text-purple-100 shadow-sm border border-purple-300/30 dark:border-purple-600/30",children:_e(n.annual.spent)})," / Budgeterat: ",_e(n.annual.budget)]})]}),c.jsx(Q,{className:"p-0",children:c.jsx("div",{className:"space-y-0",children:t.length>0?t.map((a,o)=>{const l=s(a.name,"yearly"),u=l.reduce((d,f)=>d+f.amount,0);return c.jsxs("div",{className:"border-b last:border-b-0",style:{borderLeft:`6px solid ${a.color}`,backgroundColor:`${a.color}08`},children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-5 h-5 rounded-lg shadow-sm",style:{backgroundColor:a.color}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-base font-semibold",children:a.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.jsx("span",{className:"font-medium",children:_e(u)})," / ",_e(a.budgeted),c.jsxs("span",{className:"ml-2 text-xs",children:["(",l.length," utgifter)"]})]})]})]})}),c.jsx("div",{className:"bg-white dark:bg-gray-900",children:l.length>0?c.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:l.map((d,f)=>c.jsxs("div",{className:`flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors ${f%2===0?"bg-gray-25 dark:bg-gray-900":"bg-white dark:bg-gray-850"}`,children:[c.jsx("div",{className:"flex-1 truncate pr-2",children:c.jsx("div",{className:"text-sm font-medium truncate",children:d.description})}),c.jsx("div",{className:"text-sm font-semibold tabular-nums",style:{color:a.color},children:_e(d.amount)})]},d.id))}):c.jsx("div",{className:"p-6 text-center text-muted-foreground",children:c.jsx("p",{className:"text-sm",children:"Inga utgifter registrerade"})})})]},a.id)}):c.jsx("div",{className:"p-8 text-center text-muted-foreground",children:c.jsx("p",{className:"text-base",children:"Inga rliga poster nnu"})})})})]})]})}const Ee=b.forwardRef(({className:e,...t},n)=>c.jsx("label",{ref:n,className:ze("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));Ee.displayName="Label";const Bi=b.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:ze("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Bi.displayName="Textarea";function PAe({handleAddCategory:e,handleUpdateCategory:t,handleDeleteCategory:n,handleAddAnnualItem:r,handleUpdateAnnualItem:i,handleDeleteAnnualItem:s,addEntry:a,deleteEntry:o,getCategoryEntries:l,toast:u,showDetailDialog:d=!1,setShowDetailDialog:f=()=>{},showAddExpenseDialog:h=!1,setShowAddExpenseDialog:p=()=>{},showEditCategoryDialog:m=!1,setShowEditCategoryDialog:g=()=>{},showDeleteDialog:v=!1,setShowDeleteDialog:y=()=>{},showAddCategoryDialog:x=!1,setShowAddCategoryDialog:w=()=>{},selectedCategory:E=null,setSelectedCategory:_=()=>{},selectedExpenseCategory:N=null,setSelectedExpenseCategory:T=()=>{}}){const[C,O]=b.useState(!1),[A,D]=b.useState(!1),[k,P]=b.useState(!1),[B,L]=b.useState(!1),[j,R]=b.useState(""),[M,V]=b.useState(""),[I,ee]=b.useState(null),[W,$]=b.useState(null),[xe,ke]=b.useState(""),[Ae,le]=b.useState(""),[Se,ne]=b.useState(""),[de,pe]=b.useState(null),[J,qe]=b.useState(null),[Oe,Qe]=b.useState(null),[G,oe]=b.useState(""),[be,Jt]=b.useState(""),[bt,ut]=b.useState(new Date().toISOString().split("T")[0]),ua=()=>w(!0),Si=Ie=>{ee(Ie),V(Ie.budgeted.toString()),g(!0)},Ha=Ie=>{$(Ie),y(!0)},Ps=Ie=>{T(Ie),oe(""),Jt(""),ut(new Date().toISOString().split("T")[0]),p(!0)},q=()=>O(!0),te=Ie=>{pe(Ie),le(Ie.budgeted.toString()),D(!0)},we=Ie=>{qe(Ie),P(!0)},Pe=Ie=>{Qe(Ie),L(!0)},Ke=Ie=>{_(Ie),f(!0)},Vt=async()=>{if(!j.trim()){u({title:"Fel",description:"Ange ett namn fr kategorin.",variant:"destructive"});return}const Ie=parseFloat(M)||0;await e(j.trim(),Ie)&&(R(""),V(""),w(!1))},Ni=async()=>{if(!I)return;const Ie=parseFloat(M)||0;await t(I.id,Ie)&&(ee(null),V(""),g(!1))},Vr=async()=>{if(!W)return;await n(W)&&($(null),y(!1))},Wa=async()=>{if(!N||!G||!be){u({title:"Fel",description:"Fyll i alla flt.",variant:"destructive"});return}const Ie=parseFloat(G);if(Ie<=0){u({title:"Fel",description:"Beloppet mste vara strre n 0.",variant:"destructive"});return}try{await a({type:"expense",amount:Ie,description:be,category:N.name,date:bt,is_recurring:!1,is_budget_entry:!1}),u({title:"Utgift tillagd",description:`${_e(Ie)} fr ${be}`}),oe(""),Jt(""),ut(new Date().toISOString().split("T")[0]),p(!1),T(null)}catch{u({title:"Fel",description:"Kunde inte lgga till utgift.",variant:"destructive"})}},da=async()=>{if(!xe.trim()){u({title:"Fel",description:"Ange ett namn fr rsposten.",variant:"destructive"});return}if(!Se){u({title:"Fel",description:"Ange mlmnad fr rsposten.",variant:"destructive"});return}const Ie=parseFloat(Ae)||0;await r(xe.trim(),Ie,Se)&&(ke(""),le(""),ne(""),O(!1))},Tt=async()=>{if(!de)return;const Ie=parseFloat(Ae)||0;await i(de.id,Ie)&&(pe(null),le(""),D(!1))},oi=async()=>{if(!J)return;await s(J)&&(qe(null),P(!1))};return c.jsxs(c.Fragment,{children:[c.jsx(jn,{open:x,onOpenChange:w,children:c.jsxs(wn,{children:[c.jsx(En,{children:c.jsx(Sn,{children:"Lgg till mnadskategori"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"categoryName",children:"Kategorinamn"}),c.jsx(Te,{id:"categoryName",value:j,onChange:Ie=>R(Ie.target.value),placeholder:"t.ex. Mat & Dryck"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"categoryBudget",children:"Mnadsbudget (kr)"}),c.jsx(Te,{id:"categoryBudget",type:"number",value:M,onChange:Ie=>V(Ie.target.value),placeholder:"0 = ingen automatisk budget"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(z,{variant:"outline",onClick:()=>w(!1),children:"Avbryt"}),c.jsx(z,{onClick:Vt,children:"Lgg till"})]})]})]})}),c.jsx(jn,{open:m,onOpenChange:g,children:c.jsxs(wn,{children:[c.jsx(En,{children:c.jsxs(Sn,{children:["Redigera kategori: ",I==null?void 0:I.name]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"editCategoryBudget",children:"Mnadsbudget (kr)"}),c.jsx(Te,{id:"editCategoryBudget",type:"number",value:M,onChange:Ie=>V(Ie.target.value)})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(z,{variant:"outline",onClick:()=>g(!1),children:"Avbryt"}),c.jsx(z,{onClick:Ni,children:"Spara"})]})]})]})}),c.jsx(jn,{open:v,onOpenChange:y,children:c.jsxs(wn,{children:[c.jsx(En,{children:c.jsx(Sn,{children:"Ta bort kategori"})}),c.jsxs("p",{children:['r du sker p att du vill ta bort kategorin "',W==null?void 0:W.name,'"?']}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Avbryt"}),c.jsx(z,{variant:"destructive",onClick:Vr,children:"Ta bort"})]})]})}),c.jsx(jn,{open:h,onOpenChange:p,children:c.jsxs(wn,{children:[c.jsx(En,{children:c.jsxs(Sn,{children:["Lgg till utgift - ",N==null?void 0:N.name]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"expenseAmount",children:"Belopp (kr)"}),c.jsx(Te,{id:"expenseAmount",type:"number",value:G,onChange:Ie=>oe(Ie.target.value),placeholder:"0"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"expenseDescription",children:"Beskrivning"}),c.jsx(Bi,{id:"expenseDescription",value:be,onChange:Ie=>Jt(Ie.target.value),placeholder:"Vad kpte du?"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"expenseDate",children:"Datum"}),c.jsx(Te,{id:"expenseDate",type:"date",value:bt,onChange:Ie=>ut(Ie.target.value)})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(z,{variant:"outline",onClick:()=>p(!1),children:"Avbryt"}),c.jsx(z,{onClick:Wa,children:"Lgg till"})]})]})]})}),c.jsx(jn,{open:C,onOpenChange:O,children:c.jsxs(wn,{children:[c.jsx(En,{children:c.jsx(Sn,{children:"Lgg till rspost"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"annualItemName",children:"Namn p rspost"}),c.jsx(Te,{id:"annualItemName",value:xe,onChange:Ie=>ke(Ie.target.value),placeholder:"t.ex. Semester, Julklappar"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"annualItemBudget",children:"Budget (kr)"}),c.jsx(Te,{id:"annualItemBudget",type:"number",value:Ae,onChange:Ie=>le(Ie.target.value),placeholder:"Totalt belopp fr ret"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"annualItemTargetDate",children:"Mlmnad"}),c.jsx(Te,{id:"annualItemTargetDate",type:"month",value:Se,onChange:Ie=>ne(Ie.target.value)})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(z,{variant:"outline",onClick:()=>O(!1),children:"Avbryt"}),c.jsx(z,{onClick:da,children:"Lgg till"})]})]})]})}),c.jsx(jn,{open:A,onOpenChange:D,children:c.jsxs(wn,{children:[c.jsx(En,{children:c.jsxs(Sn,{children:["Redigera rspost: ",de==null?void 0:de.name]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"editAnnualItemBudget",children:"Budget (kr)"}),c.jsx(Te,{id:"editAnnualItemBudget",type:"number",value:Ae,onChange:Ie=>le(Ie.target.value),placeholder:"Totalt belopp fr ret"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(z,{variant:"outline",onClick:()=>D(!1),children:"Avbryt"}),c.jsx(z,{onClick:Tt,children:"Spara"})]})]})]})}),c.jsx(jn,{open:k,onOpenChange:P,children:c.jsxs(wn,{children:[c.jsx(En,{children:c.jsx(Sn,{children:"Ta bort rspost"})}),c.jsxs("p",{children:['r du sker p att du vill ta bort rsposten "',J==null?void 0:J.name,'"?']}),c.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[c.jsx(z,{variant:"outline",onClick:()=>P(!1),children:"Avbryt"}),c.jsx(z,{variant:"destructive",onClick:oi,children:"Ta bort"})]})]})}),c.jsx(jn,{open:B,onOpenChange:L,children:c.jsxs(wn,{className:"max-w-2xl",children:[c.jsx(En,{children:c.jsxs(Sn,{children:["Detaljer: ",Oe==null?void 0:Oe.name]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ee,{children:"Budget"}),c.jsx("p",{className:"text-lg font-semibold",children:_e((Oe==null?void 0:Oe.budgeted)||0)})]}),c.jsxs("div",{children:[c.jsx(Ee,{children:"Spenderat"}),c.jsx("p",{className:"text-lg font-semibold",children:_e((Oe==null?void 0:Oe.spent)||0)})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx(Ee,{children:"Utgifter fr denna rspost"}),c.jsxs(z,{size:"sm",onClick:()=>Ps(Oe),children:[c.jsx(at,{className:"h-4 w-4 mr-1"}),"Lgg till"]})]}),c.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[Oe&&l&&l(Oe.name,"yearly").map(Ie=>c.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:Ie.description}),c.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(Ie.date).toLocaleDateString("sv-SE")})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold",children:_e(Ie.amount)}),c.jsx(z,{variant:"destructive",size:"sm",onClick:()=>o&&o(Ie.id),children:c.jsx(Pr,{className:"h-4 w-4"})})]})]},Ie.id)),(!Oe||!l||l(Oe.name,"yearly").length===0)&&c.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Inga utgifter nnu"})]})]})]})]})}),(window.budgetDialogs={openAddCategoryDialog:ua,openEditCategoryDialog:Si,openDeleteDialog:Ha,openAddExpenseDialog:Ps,openDetailDialog:Ke,openAddAnnualItemDialog:q,openEditAnnualItemDialog:te,openDeleteAnnualDialog:we,openAnnualDetailDialog:Pe},null)]})}function DAe({isDarkMode:e}){const[t,n]=b.useState(!1),r=_Ae(),[i,s]=b.useState(!1),[a,o]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[m,g]=b.useState(!1),[v,y]=b.useState(null),[x,w]=b.useState(null);if(console.log(" Budget component render - isDetailedView:",t),r.budgetsLoading)return c.jsx("div",{className:"space-y-6",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Budget"}),c.jsx("p",{className:"text-muted-foreground",children:"Laddar budgetdata..."})]})})});const E=()=>{s(!0)},_=()=>{o(!0)},N=B=>{y(B),u(!0)},T=B=>{w(B),f(!0)},C=B=>{y(B),p(!0)},O=B=>{y(B),g(!0)},A=B=>{var L;(L=window.budgetDialogs)==null||L.openAnnualDetailDialog(B)},D=B=>{var L;(L=window.budgetDialogs)==null||L.openEditAnnualItemDialog(B)},k=B=>{var L;(L=window.budgetDialogs)==null||L.openDeleteAnnualDialog(B)},P=B=>{k(B)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Budget"}),c.jsx("p",{className:"text-muted-foreground",children:"Hantera din mnads- och rsbudget - synkroniseras med Cash Flow"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(z,{variant:t?"default":"outline",onClick:()=>{console.log(" Button clicked! Current state:",t,"-> New state:",!t),n(!t)},children:[c.jsx($i,{className:"h-4 w-4 mr-2"}),t?"versikt":"Detaljvy"]}),c.jsxs(z,{variant:"outline",onClick:_,children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"rlig post"]}),c.jsxs(z,{onClick:E,children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Mnadskategori"]})]})]}),t?c.jsx(IAe,{...r}):c.jsx(jAe,{...r,isDarkMode:e,onViewDetails:N,onAddExpense:T,onEditCategory:C,onDeleteCategory:O,onDeleteItem:P,onAddCategory:E,onAddAnnualItem:_,onViewAnnualDetails:A,onEditAnnualItem:D}),c.jsx(PAe,{...r,deleteEntry:r.deleteEntry,getCategoryEntries:r.getCategoryEntries,showDetailDialog:l,setShowDetailDialog:u,showAddExpenseDialog:d,setShowAddExpenseDialog:f,showEditCategoryDialog:h,setShowEditCategoryDialog:p,showDeleteDialog:m,setShowDeleteDialog:g,showAddCategoryDialog:i,setShowAddCategoryDialog:s,selectedCategory:v,setSelectedCategory:y,selectedExpenseCategory:x,setSelectedExpenseCategory:w})]})}function MAe({isDarkMode:e}){const{user:t}=Fr(),{entries:n,loading:r,addEntry:i,deleteEntry:s,error:a}=wq((t==null?void 0:t.id)||null),{toast:o}=Eh(),[l,u]=b.useState(!1),[d,f]=b.useState("income"),[h,p]=b.useState(""),[m,g]=b.useState({amount:"",description:"",category:"",date:new Date().toISOString().split("T")[0],isRecurring:!1}),[v,y]=b.useState([]),[x,w]=b.useState({income:[],expense:[]});b.useEffect(()=>{n.length>0?(_(),T()):E()},[n]);const E=()=>{const j=[],R=new Date;for(let M=-2;M<=4;M++){const V=new Date(R.getFullYear(),R.getMonth()+M,1),I=`${V.getFullYear()}-${String(V.getMonth()+1).padStart(2,"0")}`,ee=V.toLocaleDateString("sv-SE",{month:"long",year:"numeric"});j.push({month:I,monthName:ee,income:0,expenses:0,netFlow:0,cumulativeBalance:5e4,entries:[],isPast:M<0,isCurrent:M===0,isFuture:M>0})}y(j)},_=()=>{const j=[],R=new Date;for(let W=-2;W<=4;W++){const $=new Date(R.getFullYear(),R.getMonth()+W,1),xe=`${$.getFullYear()}-${String($.getMonth()+1).padStart(2,"0")}`,ke=$.toLocaleDateString("sv-SE",{month:"long",year:"numeric"});j.push({month:xe,monthName:ke,income:0,expenses:0,netFlow:0,cumulativeBalance:0,entries:[],isPast:W<0,isCurrent:W===0,isFuture:W>0})}const M=new Map;j.forEach(W=>{M.set(W.month,W)});const V=N(n,j);console.log("Total entries after generation:",V.length),console.log("Original entries:",n.length),console.log("Generated entries:",V.length-n.length),V.forEach(W=>{const $=W.date.toString().slice(0,7),xe=M.get($);xe&&(xe.entries.push(W),W.type==="income"?xe.income+=W.amount:W.type==="expense"&&(xe.expenses+=W.amount))});let I=5e4;const ee=j.map(W=>(W.netFlow=W.income-W.expenses,I+=W.netFlow,W.cumulativeBalance=I,W));console.log("Final monthly breakdown:",ee.map(W=>({month:W.month,monthName:W.monthName,entriesCount:W.entries.length,income:W.income,expenses:W.expenses}))),y(ee)},N=(j,R)=>{const M=[...j],V=R.map($=>$.month),I=j.filter($=>$.is_recurring);console.log("Found recurring entries to process:",I.length);const ee=new Map;I.forEach($=>{const xe=`${$.description}_${$.amount}_${$.category}`;ee.has(xe)?console.log(`Skipping duplicate recurring entry: ${$.description}`):ee.set(xe,$)});const W=Array.from(ee.values());return console.log("Deduplicated recurring entries:",W.length),W.forEach($=>{const xe=new Date($.date),ke=$.date.slice(0,7);console.log(`Processing recurring entry: ${$.description} from ${ke}`),V.forEach(Ae=>{if(Ae===ke){console.log(`Skipping original month ${Ae} for ${$.description}`);return}const[le,Se]=Ae.split("-").map(Number);let ne=new Date(le,Se-1,xe.getDate());ne.getMonth()!==Se-1&&(ne=new Date(le,Se,0));const de=ne.toISOString().split("T")[0],pe=de.slice(0,7);if(pe!==Ae){console.error(`Date generation error: expected ${Ae}, got ${pe}`);return}const J={...$,id:`${$.id}_recurring_${Ae}`,date:de,is_generated:!0,original_entry_id:$.id};console.log(`Generated entry for ${Ae}:`,{id:J.id,description:J.description,amount:J.amount,date:J.date,targetMonth:Ae}),M.push(J)})}),M},T=()=>{const j=new Map,R=new Map,M=n.filter(I=>{const ee=I.description.toLowerCase().includes("budget fr")||I.description.toLowerCase().includes("budget for"),W=!ee;return console.log(`Entry "${I.description}": isBudgetEntry=${ee}, isActualTransaction=${W}`),W});console.log("Processing category data:"),console.log("Total entries:",n.length),console.log("Actual transaction entries only:",M.length),console.log("Filtered out budget entries:",n.length-M.length),M.forEach(I=>{if(console.log(`Processing actual entry: ${I.description} - ${I.category} - ${I.amount}`),I.type==="income"){const ee=j.get(I.category)||0;j.set(I.category,ee+I.amount)}else{const ee=R.get(I.category)||0;R.set(I.category,ee+I.amount)}}),console.log("Final income categories:",Array.from(j.entries())),console.log("Final expense categories:",Array.from(R.entries()));const V=["#2563eb","#16a34a","#ca8a04","#9333ea","#dc2626","#06b6d4","#84cc16","#f59e0b"];w({income:Array.from(j.entries()).map(([I,ee],W)=>({name:I,value:ee,color:V[W%V.length]})),expense:Array.from(R.entries()).map(([I,ee],W)=>({name:I,value:ee,color:V[W%V.length]}))})},C=async j=>{if(j.preventDefault(),!m.amount||!m.description||!m.category){o({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const R={type:d,amount:parseFloat(m.amount),description:m.description,category:m.category,date:m.date,is_recurring:m.isRecurring,recurring_interval:m.isRecurring?"monthly":null,next_due_date:m.isRecurring?A(m.date):null};if(await i(R))o({title:"Success",description:`${d==="income"?"Income":"Expense"} added successfully`}),g({amount:"",description:"",category:"",date:new Date().toISOString().split("T")[0],isRecurring:!1}),u(!1);else throw new Error("Failed to add entry")}catch(R){console.error("Error adding transaction:",R),o({title:"Error",description:"Failed to add transaction",variant:"destructive"})}},O=async(j,R)=>{if(window.confirm(`Are you sure you want to delete "${R}"?`))try{if(await s(j))o({title:"Success",description:"Transaction deleted successfully"});else throw new Error("Failed to delete entry")}catch(M){console.error("Error deleting transaction:",M),o({title:"Error",description:"Failed to delete transaction",variant:"destructive"})}},A=j=>{const R=new Date(j);return R.setMonth(R.getMonth()+1),R.toISOString().split("T")[0]},D=()=>v.find(R=>R.isCurrent)||{month:new Date().toISOString().slice(0,7),monthName:new Date().toLocaleDateString("sv-SE",{month:"long",year:"numeric"}),income:0,expenses:0,netFlow:0,cumulativeBalance:5e4,entries:[],isPast:!1,isCurrent:!0,isFuture:!1},k=()=>h&&v.find(R=>R.month===h)||D(),P=j=>{const R=j.description.toLowerCase().includes("budget fr")||j.description.toLowerCase().includes("budget for"),M=j.is_generated;return!R&&!M};if(r)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"text-lg",children:"Loading cash flow data..."})});if(a)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-lg text-red-600",children:["Error: ",a]})});const B=D(),L=k();return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Cash Flow Analysis"}),c.jsxs("p",{className:"text-muted-foreground",children:["Monitor your income and expenses flow (",n.length," entries) - 7 month view"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(z,{variant:"outline",children:[c.jsx(Am,{className:"h-4 w-4 mr-2"}),"Filter"]}),c.jsxs(z,{variant:"outline",children:[c.jsx(zs,{className:"h-4 w-4 mr-2"}),"Export"]}),c.jsxs(z,{onClick:()=>u(!0),children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]})]}),l&&c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs(ae,{children:["Add ",d==="income"?"Income":"Expense"]})}),c.jsx(Q,{children:c.jsxs("form",{onSubmit:C,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{children:"Type"}),c.jsxs("select",{value:d,onChange:j=>f(j.target.value),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[c.jsx("option",{value:"income",children:"Income"}),c.jsx("option",{value:"expense",children:"Expense"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{children:"Amount (SEK)"}),c.jsx(Te,{type:"number",placeholder:"0.00",step:"0.01",value:m.amount,onChange:j=>g(R=>({...R,amount:j.target.value})),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{children:"Category"}),c.jsxs("select",{value:m.category,onChange:j=>g(R=>({...R,category:j.target.value})),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[c.jsx("option",{value:"",children:"Select category"}),d==="income"?c.jsxs(c.Fragment,{children:[c.jsx("option",{value:"Client Payment",children:"Client Payment"}),c.jsx("option",{value:"Consulting",children:"Consulting"}),c.jsx("option",{value:"Retainer",children:"Retainer"}),c.jsx("option",{value:"Investment",children:"Investment"}),c.jsx("option",{value:"Other",children:"Other"})]}):c.jsxs(c.Fragment,{children:[c.jsx("option",{value:"Software & Tools",children:"Software & Tools"}),c.jsx("option",{value:"Office Expenses",children:"Office Expenses"}),c.jsx("option",{value:"Travel",children:"Travel"}),c.jsx("option",{value:"Marketing",children:"Marketing"}),c.jsx("option",{value:"Insurance",children:"Insurance"}),c.jsx("option",{value:"Professional Development",children:"Professional Development"}),c.jsx("option",{value:"Tax",children:"Tax"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{children:"Date"}),c.jsx(Te,{type:"date",value:m.date,onChange:j=>g(R=>({...R,date:j.target.value})),required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{children:"Description"}),c.jsx(Te,{placeholder:"Description of transaction",value:m.description,onChange:j=>g(R=>({...R,description:j.target.value})),required:!0})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:"recurring",checked:m.isRecurring,onChange:j=>g(R=>({...R,isRecurring:j.target.checked})),className:"h-4 w-4 rounded border-gray-300"}),c.jsx(Ee,{htmlFor:"recurring",children:"Recurring monthly transaction"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(z,{type:"submit",children:"Add Transaction"}),c.jsx(z,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]})})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"7-Month Cash Flow Overview"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"2 past months  Current month  4 future months"})]}),c.jsx(Q,{children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:v.map(j=>c.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all ${h===j.month?"border-blue-500 bg-blue-50 dark:bg-blue-950":j.isCurrent?"border-green-500 bg-green-50 dark:bg-green-950":j.isPast?"border-gray-300 bg-gray-50 dark:bg-gray-800":"border-purple-300 bg-purple-50 dark:bg-purple-950"}`,onClick:()=>p(h===j.month?"":j.month),children:[c.jsxs("div",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center justify-between",children:[c.jsx("span",{children:j.monthName}),j.isCurrent&&c.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full dark:bg-green-900 dark:text-green-200",children:"NOW"}),j.isPast&&c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full dark:bg-gray-700 dark:text-gray-300",children:"PAST"}),j.isFuture&&c.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full dark:bg-purple-900 dark:text-purple-200",children:"FUTURE"})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"text-xs text-green-600",children:["In: ",_e(j.income)]}),c.jsxs("div",{className:"text-xs text-red-600",children:["Out: ",_e(j.expenses)]}),c.jsxs("div",{className:`text-sm font-bold ${j.netFlow>=0?"text-green-600":"text-red-600"}`,children:["Net: ",_e(j.netFlow)]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Balance: ",_e(j.cumulativeBalance)]})]})]},j.month))})})]}),c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs(ae,{children:[h?L.monthName:B.monthName," Details",!h&&c.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full dark:bg-green-900 dark:text-green-200",children:"CURRENT MONTH"}),h&&L.isPast&&c.jsx("span",{className:"ml-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full dark:bg-gray-700 dark:text-gray-300",children:"PAST MONTH"}),h&&L.isFuture&&c.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full dark:bg-purple-900 dark:text-purple-200",children:"FUTURE MONTH"})]})}),c.jsxs(Q,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[c.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:_e(L.income)}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Income"})]}),c.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-950 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:_e(L.expenses)}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Expenses"})]}),c.jsxs("div",{className:`text-center p-4 rounded-lg ${L.netFlow>=0?"bg-blue-50 dark:bg-blue-950":"bg-orange-50 dark:bg-orange-950"}`,children:[c.jsx("div",{className:`text-2xl font-bold ${L.netFlow>=0?"text-blue-600":"text-orange-600"}`,children:_e(L.netFlow)}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Net Flow"})]}),c.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-950 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:_e(L.cumulativeBalance)}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Balance"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h4",{className:"font-medium",children:["Transactions (",L.entries.length,")"]}),c.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2",children:[L.entries.map(j=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded border",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-full ${j.type==="income"?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-300"}`,children:j.type==="income"?c.jsx(on,{className:"h-4 w-4"}):c.jsx(qy,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:j.description}),c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[c.jsx("span",{children:j.category}),c.jsx("span",{children:""}),c.jsx("span",{children:new Date(j.date).toLocaleDateString("sv-SE")}),j.is_recurring&&!j.is_generated&&c.jsxs(c.Fragment,{children:[c.jsx("span",{children:""}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(yn,{className:"h-3 w-3"}),c.jsx("span",{children:"Recurring"})]})]}),j.is_generated&&c.jsxs(c.Fragment,{children:[c.jsx("span",{children:""}),c.jsx("span",{className:"text-purple-600 text-xs",children:"Auto-Generated"})]}),(j.description.toLowerCase().includes("budget fr")||j.description.toLowerCase().includes("budget for"))&&c.jsxs(c.Fragment,{children:[c.jsx("span",{children:""}),c.jsx("span",{className:"text-blue-600 text-xs",children:"Budget Entry"})]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:`text-lg font-semibold ${j.type==="income"?"text-green-600":"text-red-600"}`,children:[j.type==="income"?"+":"-",_e(j.amount)]}),P(j)&&c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>O(j.id,j.description),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950",title:j.is_recurring?"Delete recurring transaction":"Delete transaction",children:c.jsx(Pr,{className:"h-4 w-4"})})]})]},j.id)),L.entries.length===0&&c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:L.isFuture?"No planned transactions for this future month":"No transactions for this month"})]})]})]})]}),v.some(j=>j.income>0||j.expenses>0)&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"7-Month Trend"})}),c.jsx(Q,{children:c.jsx("div",{className:"h-64",children:c.jsx(Na,{width:"100%",height:"100%",children:c.jsxs(Nj,{data:v,children:[c.jsx(Ao,{dataKey:"monthName",tick:{fontSize:10,fill:e?"#94a3b8":"#64748b"},axisLine:!1,tickLine:!1}),c.jsx(Oo,{hide:!0}),c.jsx(Ff,{formatter:(j,R)=>[_e(j),R==="netFlow"?"Net Flow":R==="cumulativeBalance"?"Balance":R],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px"}}),c.jsx(Km,{type:"monotone",dataKey:"netFlow",stroke:"#2563eb",strokeWidth:2,dot:{fill:"#2563eb",strokeWidth:2,r:3},name:"Net Flow"}),c.jsx(Km,{type:"monotone",dataKey:"cumulativeBalance",stroke:"#16a34a",strokeWidth:2,dot:{fill:"#16a34a",strokeWidth:2,r:3},name:"Balance"})]})})})})]}),c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"Income vs Expenses"})}),c.jsx(Q,{children:c.jsx("div",{className:"h-64",children:c.jsx(Na,{width:"100%",height:"100%",children:c.jsxs(BV,{data:v,children:[c.jsx(Ao,{dataKey:"monthName",tick:{fontSize:10,fill:e?"#94a3b8":"#64748b"},axisLine:!1,tickLine:!1}),c.jsx(Oo,{hide:!0}),c.jsx(Ff,{formatter:(j,R)=>[_e(j),R==="income"?"Income":"Expenses"],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px"}}),c.jsx(sf,{type:"monotone",dataKey:"income",stackId:"1",stroke:"#16a34a",fill:"#16a34a",fillOpacity:.6,name:"Income"}),c.jsx(sf,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#dc2626",fill:"#dc2626",fillOpacity:.6,name:"Expenses"})]})})})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"Income Categories (Actual Transactions Only)"})}),c.jsx(Q,{children:x.income.length>0?c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"h-32 w-32",children:c.jsx(Na,{width:"100%",height:"100%",children:c.jsx(yC,{children:c.jsx(Rx,{data:x.income,cx:"50%",cy:"50%",innerRadius:30,outerRadius:60,dataKey:"value",children:x.income.map((j,R)=>c.jsx(Ou,{fill:j.color},`income-${R}`))})})})}),c.jsx("div",{className:"flex-1 space-y-2",children:x.income.map((j,R)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:j.color}}),c.jsx("span",{className:"text-sm",children:j.name})]}),c.jsx("span",{className:"text-sm font-medium",children:_e(j.value)})]},R))})]}):c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No actual income transactions yet"})})]}),c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"Expense Categories (Actual Transactions Only)"})}),c.jsx(Q,{children:x.expense.length>0?c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("div",{className:"h-32 w-32",children:c.jsx(Na,{width:"100%",height:"100%",children:c.jsx(yC,{children:c.jsx(Rx,{data:x.expense,cx:"50%",cy:"50%",innerRadius:30,outerRadius:60,dataKey:"value",children:x.expense.map((j,R)=>c.jsx(Ou,{fill:j.color},`expense-${R}`))})})})}),c.jsx("div",{className:"flex-1 space-y-2",children:x.expense.map((j,R)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:j.color}}),c.jsx("span",{className:"text-sm",children:j.name})]}),c.jsx("span",{className:"text-sm font-medium",children:_e(j.value)})]},R))})]}):c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No actual expense transactions yet"})})]})]})]})}function RAe(){const{projects:e,loading:t,error:n,addProject:r,updateProject:i,deleteProject:s}=Sr(),{clients:a,loading:o}=lr(),[l,u]=b.useState(""),[d,f]=b.useState(!1),[h,p]=b.useState(null),[m,g]=b.useState("all"),[v,y]=b.useState("all"),[x,w]=b.useState({name:"",color:"#3B82F6",description:"",client_id:"",status:"planning",start_date:"",end_date:"",budget:void 0,hourly_rate:void 0}),E=e.filter(k=>{var R,M;const P=a.find(V=>V.id===k.client_id),B=k.name.toLowerCase().includes(l.toLowerCase())||((R=k.description)==null?void 0:R.toLowerCase().includes(l.toLowerCase()))||(P==null?void 0:P.name.toLowerCase().includes(l.toLowerCase()))||((M=P==null?void 0:P.company)==null?void 0:M.toLowerCase().includes(l.toLowerCase())),L=m==="all"||k.status===m,j=v==="all"||k.client_id===v;return B&&L&&j}),_=async k=>{k.preventDefault();try{h?(await i({...x,id:h.id}),p(null)):await r(x),w({name:"",color:"#3B82F6",description:"",client_id:"",status:"planning",start_date:"",end_date:"",budget:void 0,hourly_rate:void 0}),f(!1)}catch(P){console.error("Error saving project:",P)}},N=k=>{p(k),w({name:k.name,color:k.color,description:k.description||"",client_id:k.client_id||"",status:k.status||"planning",start_date:k.start_date||"",end_date:k.end_date||"",budget:k.budget||void 0,hourly_rate:k.hourly_rate||void 0}),f(!0)},T=async k=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await s(k)}catch(P){console.error("Error deleting project:",P)}},C=async k=>{try{await i({id:k,status:"cancelled"})}catch(P){console.error("Error archiving project:",P)}},O=async k=>{try{await i({id:k,status:"active"})}catch(P){console.error("Error activating project:",P)}},A=k=>{switch(k){case"active":return{icon:vs,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"};case"completed":return{icon:vs,color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20"};case"on-hold":return{icon:ht,color:"text-yellow-600",bg:"bg-yellow-50 dark:bg-yellow-900/20"};case"cancelled":return{icon:Tf,color:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20"};case"planning":return{icon:ht,color:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20"};default:return{icon:vs,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"}}},D=k=>{if(!k.start_date)return null;const P=new Date(k.start_date),B=k.end_date?new Date(k.end_date):new Date,L=new Date,j=Math.max(1,(B.getTime()-P.getTime())/(1e3*60*60*24)),R=Math.max(0,(L.getTime()-P.getTime())/(1e3*60*60*24));return Math.min(100,Math.max(0,R/j*100))};return t||o?c.jsx("div",{className:"space-y-6",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Projects"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading projects..."})]})})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Projects"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your projects and track progress"})]}),c.jsxs(z,{onClick:()=>f(!0),className:"flex items-center gap-2",children:[c.jsx(at,{className:"h-4 w-4"}),"Add Project"]})]}),n&&c.jsx(X,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",children:c.jsx(Q,{className:"pt-6",children:c.jsx("p",{className:"text-red-600 dark:text-red-400",children:n})})}),a.length===0&&c.jsx(X,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20",children:c.jsx(Q,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(LA,{className:"h-5 w-5 text-yellow-600"}),c.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200",children:["You need to add clients first before creating projects.",c.jsx("a",{href:"/clients",className:"underline font-medium ml-1",children:"Go to Clients"})]})]})})}),c.jsx(X,{children:c.jsx(Q,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Te,{placeholder:"Search projects...",value:l,onChange:k=>u(k.target.value),className:"pl-10"})]}),c.jsxs("select",{value:m,onChange:k=>g(k.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter projects by status",children:[c.jsx("option",{value:"all",children:"All Statuses"}),c.jsx("option",{value:"planning",children:"Planning"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"on-hold",children:"On Hold"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]}),c.jsxs("select",{value:v,onChange:k=>y(k.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter projects by client",children:[c.jsx("option",{value:"all",children:"All Clients"}),a.map(k=>c.jsxs("option",{value:k.id,children:[k.name," ",k.company?`(${k.company})`:""]},k.id))]})]})})}),d&&c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:h?"Edit Project":"Add New Project"})}),c.jsx(Q,{children:c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name *"}),c.jsx(Te,{value:x.name,onChange:k=>w({...x,name:k.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client *"}),c.jsxs("select",{value:x.client_id||"",onChange:k=>w({...x,client_id:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-label":"Select client for project",children:[c.jsx("option",{value:"",children:"Select a client"}),a.filter(k=>k.status==="active").map(k=>c.jsxs("option",{value:k.id,children:[k.name," ",k.company?`(${k.company})`:""]},k.id))]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),c.jsx("textarea",{value:x.description,onChange:k=>w({...x,description:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]",placeholder:"Project description..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),c.jsxs("select",{value:x.status,onChange:k=>w({...x,status:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Project status",children:[c.jsx("option",{value:"planning",children:"Planning"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"completed",children:"Completed"}),c.jsx("option",{value:"on-hold",children:"On Hold"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Color"}),c.jsx(Te,{type:"color",value:x.color,onChange:k=>w({...x,color:k.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Date"}),c.jsx(Te,{type:"date",value:x.start_date,onChange:k=>w({...x,start_date:k.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Date"}),c.jsx(Te,{type:"date",value:x.end_date,onChange:k=>w({...x,end_date:k.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Budget (SEK)"}),c.jsx(Te,{type:"number",step:"0.01",value:x.budget||"",onChange:k=>w({...x,budget:k.target.value?parseFloat(k.target.value):void 0})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hourly Rate (SEK)"}),c.jsx(Te,{type:"number",step:"0.01",value:x.hourly_rate||"",onChange:k=>w({...x,hourly_rate:k.target.value?parseFloat(k.target.value):void 0})})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Summary"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure your project settings above. Use the color to help identify projects in time tracking."})]})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(z,{type:"submit",children:h?"Update Project":"Add Project"}),c.jsx(z,{type:"button",variant:"outline",onClick:()=>{f(!1),p(null),w({name:"",color:"#3B82F6",description:"",client_id:"",status:"planning",start_date:"",end_date:"",budget:void 0,hourly_rate:void 0})},children:"Cancel"})]})]})})]}),E.length===0?c.jsx(X,{children:c.jsx(Q,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx(wl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects found"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:l||m!=="all"||v!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first project."}),!l&&m==="all"&&v==="all"&&a.length>0&&c.jsxs(z,{onClick:()=>f(!0),children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Your First Project"]})]})})}):c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:E.map(k=>{var R;const P=A(k.status),B=P.icon,L=a.find(M=>M.id===k.client_id),j=D(k);return c.jsxs(X,{className:"hover:shadow-lg transition-shadow",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(ae,{className:"text-lg",children:k.name}),L&&c.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[c.jsx(Es,{className:"h-3 w-3"}),L.name,L.company&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(sh,{className:"h-3 w-3"}),L.company]})]})]}),c.jsxs("div",{className:`px-2 py-1 rounded-full flex items-center gap-1 ${P.bg}`,children:[c.jsx(B,{className:`h-3 w-3 ${P.color}`}),c.jsx("span",{className:`text-xs font-medium capitalize ${P.color}`,children:((R=k.status)==null?void 0:R.replace("-"," "))||"planning"})]})]})}),c.jsxs(Q,{className:"space-y-3",children:[k.description&&c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:k.description}),(k.start_date||k.end_date)&&c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{children:[k.start_date&&new Date(k.start_date).toLocaleDateString("sv-SE"),k.start_date&&k.end_date&&" - ",k.end_date&&new Date(k.end_date).toLocaleDateString("sv-SE")]})]}),j!==null&&k.status==="active"&&c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[Math.round(j),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${j}%`}})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[k.budget&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(As,{className:"h-3 w-3 text-muted-foreground"}),c.jsx("span",{children:_e(k.budget)})]}),k.hourly_rate&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ht,{className:"h-3 w-3 text-muted-foreground"}),c.jsxs("span",{children:[_e(k.hourly_rate),"/h"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:k.color||"#3B82F6"}}),c.jsx("span",{children:"Project Color"})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsxs(z,{size:"sm",variant:"outline",onClick:()=>N(k),className:"flex-1",children:[c.jsx(Qr,{className:"h-3 w-3 mr-1"}),"Edit"]}),k.status!=="cancelled"?c.jsx(z,{size:"sm",variant:"outline",onClick:()=>C(k.id),children:c.jsx(Vy,{className:"h-3 w-3"})}):c.jsx(z,{size:"sm",variant:"outline",onClick:()=>O(k.id),children:c.jsx(vs,{className:"h-3 w-3"})}),c.jsx(z,{size:"sm",variant:"outline",onClick:()=>T(k.id),className:"text-red-600 hover:text-red-700",children:c.jsx(Pr,{className:"h-3 w-3"})})]})]})]},k.id)})}),c.jsx(X,{children:c.jsx(Q,{className:"pt-6",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(k=>k.status==="active").length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Active"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(k=>k.status==="completed").length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(k=>k.status==="on-hold").length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"On Hold"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(k=>k.status==="cancelled").length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Cancelled"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold",children:e.length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Projects"})]})]})})})]})}const Lj=b.createContext(void 0),Sh=({value:e,defaultValue:t,onValueChange:n,children:r,className:i})=>{const[s,a]=b.useState(t||""),o=e!==void 0?e:s,l=b.useCallback(d=>{e===void 0&&a(d),n==null||n(d)},[e,n]),u=b.useMemo(()=>({value:o,onValueChange:l}),[o,l]);return c.jsx(Lj.Provider,{value:u,children:c.jsx("div",{className:i,children:r})})},Xu=b.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,role:"tablist",className:ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Xu.displayName="TabsList";const en=b.forwardRef(({className:e,value:t,...n},r)=>{const i=b.useContext(Lj);if(!i)throw new Error("TabsTrigger must be used within a Tabs component");const s=i.value===t;return c.jsx("button",{ref:r,role:"tab","aria-selected":s,className:ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s?"bg-background text-foreground shadow-sm":"",e),onClick:()=>i.onValueChange(t),...n})});en.displayName="TabsTrigger";const sn=b.forwardRef(({className:e,value:t,...n},r)=>{const i=b.useContext(Lj);if(!i)throw new Error("TabsContent must be used within a Tabs component");return i.value!==t?null:c.jsx("div",{ref:r,role:"tabpanel",className:ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n})});sn.displayName="TabsContent";const LAe=KA("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ye({className:e,variant:t,...n}){return c.jsx("div",{className:ze(LAe({variant:t}),e),...n})}var Sq="AlertDialog",[BAe,iGe]=r0(Sq,[eq]),Uo=eq(),Nq=e=>{const{__scopeAlertDialog:t,...n}=e,r=Uo(t);return c.jsx(gq,{...r,...n,modal:!0})};Nq.displayName=Sq;var FAe="AlertDialogTrigger",$Ae=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return c.jsx(vq,{...i,...r,ref:t})});$Ae.displayName=FAe;var UAe="AlertDialogPortal",_q=e=>{const{__scopeAlertDialog:t,...n}=e,r=Uo(t);return c.jsx(yq,{...r,...n})};_q.displayName=UAe;var zAe="AlertDialogOverlay",Tq=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return c.jsx(Ij,{...i,...r,ref:t})});Tq.displayName=zAe;var lf="AlertDialogContent",[HAe,WAe]=BAe(lf),VAe=hoe("AlertDialogContent"),Cq=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=Uo(n),a=b.useRef(null),o=un(t,a),l=b.useRef(null);return c.jsx(cAe,{contentName:lf,titleName:kq,docsSlug:"alert-dialog",children:c.jsx(HAe,{scope:n,cancelRef:l,children:c.jsxs(Pj,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:Bt(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(VAe,{children:r}),c.jsx(KAe,{contentRef:a})]})})})});Cq.displayName=lf;var kq="AlertDialogTitle",Aq=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return c.jsx(Dj,{...i,...r,ref:t})});Aq.displayName=kq;var Oq="AlertDialogDescription",jq=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return c.jsx(Mj,{...i,...r,ref:t})});jq.displayName=Oq;var qAe="AlertDialogAction",Iq=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Uo(n);return c.jsx(Rj,{...i,...r,ref:t})});Iq.displayName=qAe;var Pq="AlertDialogCancel",Dq=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=WAe(Pq,n),s=Uo(n),a=un(t,i);return c.jsx(Rj,{...s,...r,ref:a})});Dq.displayName=Pq;var KAe=({contentRef:e})=>{const t=`\`${lf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${lf}\` by passing a \`${Oq}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${lf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},GAe=Nq,YAe=_q,Mq=Tq,Rq=Cq,Lq=Iq,Bq=Dq,Fq=Aq,$q=jq;const XAe=GAe,QAe=YAe,Uq=b.forwardRef(({className:e,...t},n)=>c.jsx(Mq,{className:ze("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Uq.displayName=Mq.displayName;const zq=b.forwardRef(({className:e,...t},n)=>c.jsxs(QAe,{children:[c.jsx(Uq,{}),c.jsx(Rq,{ref:n,className:ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));zq.displayName=Rq.displayName;const Hq=({className:e,...t})=>c.jsx("div",{className:ze("flex flex-col space-y-2 text-center sm:text-left",e),...t});Hq.displayName="AlertDialogHeader";const Wq=({className:e,...t})=>c.jsx("div",{className:ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Wq.displayName="AlertDialogFooter";const Vq=b.forwardRef(({className:e,...t},n)=>c.jsx(Fq,{ref:n,className:ze("text-lg font-semibold",e),...t}));Vq.displayName=Fq.displayName;const qq=b.forwardRef(({className:e,...t},n)=>c.jsx($q,{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));qq.displayName=$q.displayName;const Kq=b.forwardRef(({className:e,...t},n)=>c.jsx(Lq,{ref:n,className:ze(GA(),e),...t}));Kq.displayName=Lq.displayName;const Gq=b.forwardRef(({className:e,...t},n)=>c.jsx(Bq,{ref:n,className:ze(GA({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Gq.displayName=Bq.displayName;const Yq=6048e5,JAe=864e5,Xq=6e4,Qq=36e5,dv=43200,X3=1440,Q3=Symbol.for("constructDateFrom");function ea(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Q3 in e?e[Q3](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xt(e,t){return ea(t||e,e)}function ZAe(e,t,n){const r=Xt(e,n==null?void 0:n.in);return isNaN(t)?ea(e,NaN):(t&&r.setDate(r.getDate()+t),r)}let e2e={};function i0(){return e2e}function Gm(e,t){var o,l,u,d;const n=i0(),r=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Xt(e,t==null?void 0:t.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Hx(e,t){return Gm(e,{...t,weekStartsOn:1})}function Jq(e,t){const n=Xt(e,t==null?void 0:t.in),r=n.getFullYear(),i=ea(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Hx(i),a=ea(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Hx(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Wx(e){const t=Xt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function s0(e,...t){const n=ea.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function J3(e,t){const n=Xt(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Zq(e,t,n){const[r,i]=s0(n==null?void 0:n.in,e,t),s=J3(r),a=J3(i),o=+s-Wx(s),l=+a-Wx(a);return Math.round((o-l)/JAe)}function t2e(e,t){const n=Jq(e,t),r=ea(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Hx(r)}function ry(e,t){const n=+Xt(e)-+Xt(t);return n<0?-1:n>0?1:n}function n2e(e){return ea(e,Date.now())}function r2e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function i2e(e){return!(!r2e(e)&&typeof e!="number"||isNaN(+Xt(e)))}function s2e(e,t,n){const[r,i]=s0(n==null?void 0:n.in,e,t),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function a2e(e,t,n){const[r,i]=s0(n==null?void 0:n.in,e,t),s=Z3(r,i),a=Math.abs(Zq(r,i));r.setDate(r.getDate()-s*a);const o=+(Z3(r,i)===-s),l=s*(a-o);return l===0?0:l}function Z3(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function o2e(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function l2e(e,t){return+Xt(e)-+Xt(t)}function c2e(e,t){const n=Xt(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function iy(e,t){const n=Xt(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function u2e(e,t){const n=Xt(e,t==null?void 0:t.in);return+c2e(n,t)==+iy(n,t)}function d2e(e,t,n){const[r,i,s]=s0(n==null?void 0:n.in,e,e,t),a=ry(i,s),o=Math.abs(s2e(i,s));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=ry(i,s)===-a;u2e(r)&&o===1&&ry(r,s)===1&&(l=!1);const u=a*(o-+l);return u===0?0:u}function f2e(e,t,n){const r=l2e(e,t)/1e3;return o2e(n==null?void 0:n.roundingMethod)(r)}function rN(e,t){const n=Xt(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function h2e(e,t){const n=Xt(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const p2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},m2e=(e,t,n)=>{let r;const i=p2e[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function iN(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const g2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},v2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},y2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},x2e={date:iN({formats:g2e,defaultWidth:"full"}),time:iN({formats:v2e,defaultWidth:"full"}),dateTime:iN({formats:y2e,defaultWidth:"full"})},b2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},w2e=(e,t,n,r)=>b2e[e];function ip(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[o]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const E2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},S2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},N2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},T2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},C2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k2e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},A2e={ordinalNumber:k2e,era:ip({values:E2e,defaultWidth:"wide"}),quarter:ip({values:S2e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ip({values:N2e,defaultWidth:"wide"}),day:ip({values:_2e,defaultWidth:"wide"}),dayPeriod:ip({values:T2e,defaultWidth:"wide",formattingValues:C2e,defaultFormattingWidth:"wide"})};function sp(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?j2e(o,f=>f.test(a)):O2e(o,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function O2e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function j2e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function I2e(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(i.length);return{value:a,rest:o}}}const P2e=/^(\d+)(th|st|nd|rd)?/i,D2e=/\d+/i,M2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},R2e={any:[/^b/i,/^(a|c)/i]},L2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},B2e={any:[/1/i,/2/i,/3/i,/4/i]},F2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},U2e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},z2e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H2e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},W2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V2e={ordinalNumber:I2e({matchPattern:P2e,parsePattern:D2e,valueCallback:e=>parseInt(e,10)}),era:sp({matchPatterns:M2e,defaultMatchWidth:"wide",parsePatterns:R2e,defaultParseWidth:"any"}),quarter:sp({matchPatterns:L2e,defaultMatchWidth:"wide",parsePatterns:B2e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sp({matchPatterns:F2e,defaultMatchWidth:"wide",parsePatterns:$2e,defaultParseWidth:"any"}),day:sp({matchPatterns:U2e,defaultMatchWidth:"wide",parsePatterns:z2e,defaultParseWidth:"any"}),dayPeriod:sp({matchPatterns:H2e,defaultMatchWidth:"any",parsePatterns:W2e,defaultParseWidth:"any"})},eK={code:"en-US",formatDistance:m2e,formatLong:x2e,formatRelative:w2e,localize:A2e,match:V2e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function q2e(e,t){const n=Xt(e,t==null?void 0:t.in);return Zq(n,h2e(n))+1}function K2e(e,t){const n=Xt(e,t==null?void 0:t.in),r=+Hx(n)-+t2e(n);return Math.round(r/Yq)+1}function tK(e,t){var d,f,h,p;const n=Xt(e,t==null?void 0:t.in),r=n.getFullYear(),i=i0(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=ea((t==null?void 0:t.in)||e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Gm(a,t),l=ea((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Gm(l,t);return+n>=+o?r+1:+n>=+u?r:r-1}function G2e(e,t){var o,l,u,d;const n=i0(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=tK(e,t),s=ea((t==null?void 0:t.in)||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Gm(s,t)}function Y2e(e,t){const n=Xt(e,t==null?void 0:t.in),r=+Gm(n,t)-+G2e(n,t);return Math.round(r/Yq)+1}function wt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Xo={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return wt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):wt(n+1,2)},d(e,t){return wt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return wt(e.getHours()%12||12,t.length)},H(e,t){return wt(e.getHours(),t.length)},m(e,t){return wt(e.getMinutes(),t.length)},s(e,t){return wt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return wt(i,t.length)}},md={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},e4={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Xo.y(e,t)},Y:function(e,t,n,r){const i=tK(e,r),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return wt(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):wt(s,t.length)},R:function(e,t){const n=Jq(e);return wt(n,t.length)},u:function(e,t){const n=e.getFullYear();return wt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return wt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return wt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Xo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return wt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Y2e(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):wt(i,t.length)},I:function(e,t,n){const r=K2e(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):wt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Xo.d(e,t)},D:function(e,t,n){const r=q2e(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):wt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return wt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return wt(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return wt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=md.noon:r===0?i=md.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=md.evening:r>=12?i=md.afternoon:r>=4?i=md.morning:i=md.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xo.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Xo.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):wt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):wt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xo.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Xo.s(e,t)},S:function(e,t){return Xo.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return n4(r);case"XXXX":case"XX":return Uc(r);case"XXXXX":case"XXX":default:return Uc(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return n4(r);case"xxxx":case"xx":return Uc(r);case"xxxxx":case"xxx":default:return Uc(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+t4(r,":");case"OOOO":default:return"GMT"+Uc(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+t4(r,":");case"zzzz":default:return"GMT"+Uc(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return wt(r,t.length)},T:function(e,t,n){return wt(+e,t.length)}};function t4(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+wt(s,2)}function n4(e,t){return e%60===0?(e>0?"-":"+")+wt(Math.abs(e)/60,2):Uc(e,t)}function Uc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=wt(Math.trunc(r/60),2),s=wt(r%60,2);return n+i+t+s}const r4=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},nK=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},X2e=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return r4(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",r4(r,t)).replace("{{time}}",nK(i,t))},Q2e={p:nK,P:X2e},J2e=/^D+$/,Z2e=/^Y+$/,eOe=["D","DD","YY","YYYY"];function tOe(e){return J2e.test(e)}function nOe(e){return Z2e.test(e)}function rOe(e,t,n){const r=iOe(e,t,n);if(console.warn(r),eOe.includes(e))throw new RangeError(r)}function iOe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sOe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aOe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oOe=/^'([^]*?)'?$/,lOe=/''/g,cOe=/[a-zA-Z]/;function jo(e,t,n){var d,f,h,p;const r=i0(),i=r.locale??eK,s=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,o=Xt(e,n==null?void 0:n.in);if(!i2e(o))throw new RangeError("Invalid time value");let l=t.match(aOe).map(m=>{const g=m[0];if(g==="p"||g==="P"){const v=Q2e[g];return v(m,i.formatLong)}return m}).join("").match(sOe).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:uOe(m)};if(e4[g])return{isToken:!0,value:m};if(g.match(cOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(nOe(g)||tOe(g))&&rOe(g,t,String(e));const v=e4[g[0]];return v(o,g,i.localize,u)}).join("")}function uOe(e){const t=e.match(oOe);return t?t[1].replace(lOe,"'"):e}function dOe(e,t,n){const r=i0(),i=(n==null?void 0:n.locale)??r.locale??eK,s=2520,a=ry(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a}),[l,u]=s0(n==null?void 0:n.in,...a>0?[t,e]:[e,t]),d=f2e(u,l),f=(Wx(u)-Wx(l))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<X3){const m=Math.round(h/60);return i.formatDistance("aboutXHours",m,o)}else{if(h<s)return i.formatDistance("xDays",1,o);if(h<dv){const m=Math.round(h/X3);return i.formatDistance("xDays",m,o)}else if(h<dv*2)return p=Math.round(h/dv),i.formatDistance("aboutXMonths",p,o)}if(p=d2e(u,l),p<12){const m=Math.round(h/dv);return i.formatDistance("xMonths",m,o)}else{const m=p%12,g=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",g,o):m<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function Wd(e,t){return dOe(e,n2e(e),t)}function zl(e,t,n){const r=+Xt(e,n==null?void 0:n.in),[i,s]=[+Xt(t.start,n==null?void 0:n.in),+Xt(t.end,n==null?void 0:n.in)].sort((a,o)=>a-o);return r>=i&&r<=s}function fv(e,t,n){return ZAe(e,-t,n)}function bs(e,t){const n=()=>ea(t==null?void 0:t.in,NaN),i=mOe(e);let s;if(i.date){const u=gOe(i.date,2);s=vOe(u.restDateString,u.year)}if(!s||isNaN(+s))return n();const a=+s;let o=0,l;if(i.time&&(o=yOe(i.time),isNaN(o)))return n();if(i.timezone){if(l=xOe(i.timezone),isNaN(l))return n()}else{const u=new Date(a+o),d=Xt(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Xt(a+o+l,t==null?void 0:t.in)}const hv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fOe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hOe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pOe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mOe(e){const t={},n=e.split(hv.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],hv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(hv.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=hv.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function gOe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function vOe(e,t){if(t===null)return new Date(NaN);const n=e.match(fOe);if(!n)return new Date(NaN);const r=!!n[4],i=ap(n[1]),s=ap(n[2])-1,a=ap(n[3]),o=ap(n[4]),l=ap(n[5])-1;if(r)return NOe(t,o,l)?bOe(t,o,l):new Date(NaN);{const u=new Date(0);return!EOe(t,s,a)||!SOe(t,i)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(i,a)),u)}}function ap(e){return e?parseInt(e):1}function yOe(e){const t=e.match(hOe);if(!t)return NaN;const n=sN(t[1]),r=sN(t[2]),i=sN(t[3]);return _Oe(n,r,i)?n*Qq+r*Xq+i*1e3:NaN}function sN(e){return e&&parseFloat(e.replace(",","."))||0}function xOe(e){if(e==="Z")return 0;const t=e.match(pOe);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return TOe(r,i)?n*(r*Qq+i*Xq):NaN}function bOe(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const wOe=[31,null,31,30,31,30,31,31,30,31,30,31];function rK(e){return e%400===0||e%4===0&&e%100!==0}function EOe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(wOe[t]||(rK(e)?29:28))}function SOe(e,t){return t>=1&&t<=(rK(e)?366:365)}function NOe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function _Oe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function TOe(e,t){return t>=0&&t<=59}function hr(e){this.content=e}hr.prototype={constructor:hr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new hr(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new hr(n)},addToStart:function(e,t){return new hr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new hr(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new hr(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=hr.from(e),e.size?new hr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=hr.from(e),e.size?new hr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=hr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};hr.from=function(e){if(e instanceof hr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new hr(t)};function iK(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=iK(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function sK(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=e.child(--i),o=t.child(--s),l=a.nodeSize;if(a==o){n-=l,r-=l;continue}if(!a.sameMarkup(o))return{a:n,b:r};if(a.isText&&a.text!=o.text){let u=0,d=Math.min(a.text.length,o.text.length);for(;u<d&&a.text[a.text.length-u-1]==o.text[o.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(a.content.size||o.content.size){let u=sK(a.content,o.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class ce{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let a=0,o=0;o<n;a++){let l=this.content[a],u=o+l.nodeSize;if(u>t&&r(l,i+o,s||null,a)!==!1&&l.content.size){let d=o+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,n-d),r,i+d)}o=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",a=!0;return this.nodesBetween(t,n,(o,l)=>{let u=o.isText?o.text.slice(Math.max(t,l)-l,n-l):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&u||o.isTextblock)&&r&&(a?a=!1:s+=r),s+=u},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new ce(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,a=0;a<n;s++){let o=this.content[s],l=a+o.nodeSize;l>t&&((a<t||l>n)&&(o.isText?o=o.cut(Math.max(0,t-a),Math.min(o.text.length,n-a)):o=o.cut(Math.max(0,t-a-1),Math.min(o.content.size,n-a-1))),r.push(o),i+=o.nodeSize),a=l}return new ce(r,i)}cutByIndex(t,n){return t==n?ce.empty:t==0&&n==this.content.length?this:new ce(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new ce(i,s)}addToStart(t){return new ce([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ce(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return iK(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return sK(this,t,n,r)}findIndex(t){if(t==0)return pv(0,t);if(t==this.size)return pv(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=t)return s==t?pv(n+1,s):pv(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return ce.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ce(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ce.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ce(n||t,r)}static from(t){if(!t)return ce.empty;if(t instanceof ce)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ce([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ce.empty=new ce([],0);const aN={index:0,offset:0};function pv(e,t){return aN.index=e,aN.offset=t,aN}function Vx(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Vx(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Vx(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let At=class EC{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Vx(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return EC.none;if(t instanceof EC)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};At.none=[];class qx extends Error{}class Ce{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=oK(this.content,t+this.openStart,n);return r&&new Ce(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Ce(aK(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Ce.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ce(ce.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ce(t,r,i)}}Ce.empty=new Ce(ce.empty,0,0);function aK(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:a,offset:o}=e.findIndex(n);if(i==t||s.isText){if(o!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(aK(s.content,t-i-1,n-i-1)))}function oK(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),a=e.maybeChild(i);if(s==t||a.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let o=oK(a.content,t-s-1,n,a);return o&&e.replaceChild(i,a.copy(o))}function COe(e,t,n){if(n.openStart>e.depth)throw new qx("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new qx("Inconsistent open depths");return lK(e,t,n,0)}function lK(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let a=lK(e,t,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,o=a.content;return hu(a,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}else{let{start:a,end:o}=kOe(n,e);return hu(s,uK(e,a,o,t,r))}else return hu(s,Kx(e,t,r))}function cK(e,t){if(!t.type.compatibleContent(e.type))throw new qx("Cannot join "+t.type.name+" onto "+e.type.name)}function SC(e,t,n){let r=e.node(n);return cK(r,t.node(n)),r}function fu(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Wp(e,t,n,r){let i=(t||e).node(n),s=0,a=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(fu(e.nodeAfter,r),s++));for(let o=s;o<a;o++)fu(i.child(o),r);t&&t.depth==n&&t.textOffset&&fu(t.nodeBefore,r)}function hu(e,t){return e.type.checkContent(t),e.copy(t)}function uK(e,t,n,r,i){let s=e.depth>i&&SC(e,t,i+1),a=r.depth>i&&SC(n,r,i+1),o=[];return Wp(null,e,i,o),s&&a&&t.index(i)==n.index(i)?(cK(s,a),fu(hu(s,uK(e,t,n,r,i+1)),o)):(s&&fu(hu(s,Kx(e,t,i+1)),o),Wp(t,n,i,o),a&&fu(hu(a,Kx(n,r,i+1)),o)),Wp(r,null,i,o),new ce(o)}function Kx(e,t,n){let r=[];if(Wp(null,e,n,r),e.depth>n){let i=SC(e,t,n+1);fu(hu(i,Kx(e,t,n+1)),r)}return Wp(t,null,n,r),new ce(r)}function kOe(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(ce.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Ym{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return At.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let o=r;r=i,i=o}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Gx(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=t;;){let{index:o,offset:l}=a.content.findIndex(s),u=s-l;if(r.push(a,o,i+l),!u||(a=a.child(o),a.isText))break;s=u-1,i+=l+1}return new Ym(n,r,s)}static resolveCached(t,n){let r=i4.get(t);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else i4.set(t,r=new AOe);let i=r.elts[r.i]=Ym.resolve(t,n);return r.i=(r.i+1)%OOe,i}}class AOe{constructor(){this.elts=[],this.i=0}}const OOe=12,i4=new WeakMap;class Gx{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const jOe=Object.create(null);let Hl=class NC{constructor(t,n,r,i=At.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||ce.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Vx(this.attrs,n||t.defaultAttrs||jOe)&&At.sameSet(this.marks,r||At.none)}copy(t=null){return t==this.content?this:new NC(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new NC(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Ce.empty;let i=this.resolve(t),s=this.resolve(n),a=r?0:i.sharedDepth(n),o=i.start(a),u=i.node(a).content.cut(i.pos-o,s.pos-o);return new Ce(u,i.depth-a,s.depth-a)}replace(t,n,r){return COe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Ym.resolveCached(this,t)}resolveNoCache(t){return Ym.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),dK(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=ce.empty,i=0,s=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,s),o=a&&a.matchFragment(this.content,n);if(!o||!o.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=At.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!At.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=ce.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Hl.prototype.text=void 0;class Yx extends Hl{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):dK(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Yx(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Yx(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function dK(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Du{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new IOe(t,n);if(r.next==null)return Du.empty;let i=fK(r);r.next&&r.err("Unexpected trailing text");let s=FOe(BOe(i));return $Oe(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(a,o){let l=a.matchFragment(t,r);if(l&&(!n||l.validEnd))return ce.from(o.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:d,next:f}=a.next[u];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let h=s(f,o.concat(d));if(h)return h}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let a=[];for(let o=i;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:o,next:l}=s.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in n)&&(!i.type||l.validEnd)&&(r.push({match:o.contentMatch,type:o,via:i}),n[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return s}).join(`
`)}}Du.empty=new Du(!0);class IOe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function fK(e){let t=[];do t.push(POe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function POe(e){let t=[];do t.push(DOe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function DOe(e){let t=LOe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=MOe(e,t);else break;return t}function s4(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function MOe(e,t){let n=s4(e),r=n;return e.eat(",")&&(e.next!="}"?r=s4(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function ROe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(t)&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function LOe(e){if(e.eat("(")){let t=fK(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=ROe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function BOe(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(a,o,l){let u={term:l,to:o};return t[a].push(u),u}function i(a,o){a.forEach(l=>l.to=o)}function s(a,o){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(s(u,o)),[]);if(a.type=="seq")for(let l=0;;l++){let u=s(a.exprs[l],o);if(l==a.exprs.length-1)return u;i(u,o=n())}else if(a.type=="star"){let l=n();return r(o,l),i(s(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return i(s(a.expr,o),l),i(s(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(o)].concat(s(a.expr,o));if(a.type=="range"){let l=o;for(let u=0;u<a.min;u++){let d=n();i(s(a.expr,l),d),l=d}if(a.max==-1)i(s(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let d=n();r(l,d),i(s(a.expr,l),d),l=d}return[r(l)]}else{if(a.type=="name")return[r(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function hK(e,t){return t-e}function a4(e,t){let n=[];return r(t),n.sort(hK);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:o,to:l}=s[a];!o&&n.indexOf(l)==-1&&r(l)}}}function FOe(e){let t=Object.create(null);return n(a4(e,0));function n(r){let i=[];r.forEach(a=>{e[a].forEach(({term:o,to:l})=>{if(!o)return;let u;for(let d=0;d<i.length;d++)i[d][0]==o&&(u=i[d][1]);a4(e,l).forEach(d=>{u||i.push([o,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let s=t[r.join(",")]=new Du(r.indexOf(e.length-1)>-1);for(let a=0;a<i.length;a++){let o=i[a][1].sort(hK);s.next.push({type:i[a][0],next:t[o.join(",")]||n(o)})}return s}}function $Oe(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let o=0;o<i.next.length;o++){let{type:l,next:u}=i.next[o];a.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function pK(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function mK(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function gK(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function vK(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new zOe(e,r,t[r]);return n}let o4=class yK{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=vK(t,r.attrs),this.defaultAttrs=pK(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Du.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:mK(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Hl(this,this.computeAttrs(t),ce.from(n),At.setFrom(r))}createChecked(t=null,n,r){return n=ce.from(n),this.checkContent(n),new Hl(this,this.computeAttrs(t),n,At.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=ce.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ce.empty,!0);return s?new Hl(this,t,n.append(s),At.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){gK(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:At.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,a)=>r[s]=new yK(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function UOe(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class zOe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?UOe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class qw{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=vK(t,i.attrs),this.excluded=null;let s=pK(this.attrs);this.instance=s?new At(this,s):null}create(t=null){return!t&&this.instance?this.instance:new At(this,mK(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,a)=>r[s]=new qw(s,i++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){gK(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}let xK=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=hr.from(t.nodes),n.marks=hr.from(t.marks||{}),this.nodes=o4.compile(this.spec.nodes,this),this.marks=qw.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",o=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=Du.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=o=="_"?null:o?l4(this,o.split(" ")):o==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:l4(this,a.split(" "))}this.nodeFromJSON=i=>Hl.fromJSON(this,i),this.markFromJSON=i=>At.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof o4){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new Yx(r,r.defaultAttrs,t,At.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}};function l4(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],a=s;if(s)n.push(s);else for(let o in e.marks){let l=e.marks[o];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function HOe(e){return e.tag!=null}function WOe(e){return e.style!=null}class Wl{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(HOe(i))this.tags.push(i);else if(WOe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new u4(this,n,!1);return r.addAll(t,At.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new u4(this,n,!0);return r.addAll(t,At.none,n.from,n.to),Ce.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(KOe(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(t);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],o=a.style;if(!(o.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||o.length>t.length&&(o.charCodeAt(t.length)!=61||o.slice(t.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let o=n[a];if((o.priority==null?50:o.priority)<s)break}n.splice(a,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=d4(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=d4(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Wl(t,Wl.schemaRules(t)))}}const bK={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},VOe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},wK={ol:!0,ul:!0},Xm=1,_C=2,Vp=4;function c4(e,t,n){return t!=null?(t?Xm:0)|(t==="full"?_C:0):e&&e.whitespace=="pre"?Xm|_C:n&~Vp}class mv{constructor(t,n,r,i,s,a){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=At.none,this.match=s||(a&Vp?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ce.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Xm)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ce.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(ce.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!bK.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class u4{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=c4(null,n.preserveWhitespace,0)|(r?Vp:0);i?s=new mv(i.type,i.attrs,At.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new mv(null,null,At.none,!0,null,a):s=new mv(t.schema.topNodeType,null,At.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,s=i.options&_C?"full":this.localPreserveWS||(i.options&Xm)>0;if(s==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],o=t.previousSibling;(!a||o&&o.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),o;wK.hasOwnProperty(a)&&this.parser.normalizeLists&&qOe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,r));e:if(l?l.ignore:VOe.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let u,d=this.needsBlock;if(bK.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let f=l&&l.skip?n:this.readStyles(t,n);f&&this.addAll(t,f),u&&this.sync(s),this.needsBlock=d}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,l,u,l.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let o=void 0;;){let l=this.parser.matchStyle(s,a,this,o);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)o=l;else break}}return n}addElementByRule(t,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}s&&this.sync(o)&&this.open--}addAll(t,n,r,i){let s=r||0;for(let a=r?t.childNodes[r]:t.firstChild,o=i==null?null:t.childNodes[i];a!=o;a=a.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(a,n);this.findAtPoint(t,s)}findPlace(t,n,r){let i,s;for(let a=this.open,o=0;a>=0;a--){let l=this.nodes[a],u=l.findWrapping(t);if(u&&(!i||i.length>u.length+o)&&(i=u,s=l,!u.length))break;if(l.solid){if(r)break;o+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let a=At.none;for(let o of i.concat(t.marks))(s.type?s.type.allowsMarkType(o.type):f4(o.type,t.type))&&(a=o.addToSet(a));return s.content.push(t.mark(a)),!0}return!1}enter(t,n,r,i){let s=this.findPlace(t.create(n),r,!1);return s&&(s=this.enterInner(t,n,r,!0,i)),s}enterInner(t,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let o=c4(t,s,a.options);a.options&Vp&&a.content.length==0&&(o|=Vp);let l=At.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):f4(u.type,t))?(l=u.addToSet(l),!1):!0),this.nodes.push(new mv(t,n,l,i,null,o)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Xm)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(o,l)=>{for(;o>=0;o--){let u=n[o];if(u==""){if(o==n.length-1||o==0)continue;for(;l>=s;l--)if(a(o-1,l))return!0;return!1}else{let d=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function qOe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&wK.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function KOe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function d4(e){let t={};for(let n in e)t[n]=e[n];return t}function f4(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],a=o=>{s.push(o);for(let l=0;l<o.edgeCount;l++){let{type:u,next:d}=o.edge(l);if(u==t||s.indexOf(d)<0&&a(d))return!0}};if(a(i.contentMatch))return!0}}class Qu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=oN(n).createDocumentFragment());let i=r,s=[];return t.forEach(a=>{if(s.length||a.marks.length){let o=0,l=0;for(;o<s.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(s[o][0])||u.type.spec.spanning===!1)break;o++,l++}for(;o<s.length;)i=s.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],d=this.serializeMark(u,a.isInline,n);d&&(s.push([u,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=sy(oN(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&sy(oN(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return sy(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Qu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=h4(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return h4(t.marks)}}function h4(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function oN(e){return e.document||window.document}const p4=new WeakMap;function GOe(e){let t=p4.get(e);return t===void 0&&p4.set(e,t=YOe(e)),t}function YOe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function sy(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=GOe(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let o,l=n?e.createElementNS(n,i):e.createElement(i),u=t[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let h=f.indexOf(" ");h>0?l.setAttributeNS(f.slice(0,h),f.slice(h+1),u[f]):f=="style"&&l.style?l.style.cssText=u[f]:l.setAttribute(f,u[f])}}for(let f=d;f<t.length;f++){let h=t[f];if(h===0){if(f<t.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=sy(e,h,n,r);if(l.appendChild(p),m){if(o)throw new RangeError("Multiple content holes");o=m}}}return{dom:l,contentDOM:o}}const EK=65535,SK=Math.pow(2,16);function XOe(e,t){return e+t*SK}function m4(e){return e&EK}function QOe(e){return(e-(e&EK))/SK}const NK=1,_K=2,ay=4,TK=8;class TC{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&TK)>0}get deletedBefore(){return(this.delInfo&(NK|ay))>0}get deletedAfter(){return(this.delInfo&(_K|ay))>0}get deletedAcross(){return(this.delInfo&ay)>0}}class Di{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Di.empty)return Di.empty}recover(t){let n=0,r=m4(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+QOe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[o+s],d=this.ranges[o+a],f=l+u;if(t<=f){let h=u?t==l?-1:t==f?1:n:n,p=l+i+(h<0?0:d);if(r)return p;let m=t==(n<0?l:f)?null:XOe(o/3,t-l),g=t==l?_K:t==f?NK:ay;return(n<0?t!=l:t!=f)&&(g|=TK),new TC(p,g,m)}i+=d-u}return r?t+i:new TC(t+i,0,null)}touches(t,n){let r=0,i=m4(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[o+s],d=l+u;if(t<=d&&o==i*3)return!0;r+=this.ranges[o+a]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],o=a-(this.inverted?s:0),l=a+(this.inverted?0:s),u=this.ranges[i+n],d=this.ranges[i+r];t(o,o+u,l,l+d),s+=d-u}}invert(){return new Di(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Di.empty:new Di(t<0?[0,-t,0]:[0,0,t])}}Di.empty=new Di([]);class Qm{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Qm(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Qm;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],o=a.mapResult(t,n);if(o.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this._maps[l].recover(o.recover);continue}}i|=o.delInfo,t=o.pos}return r?t:new TC(t,i,null)}}const lN=Object.create(null);class zr{getMap(){return Di.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=lN[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in lN)throw new RangeError("Duplicate use of step JSON ID "+t);return lN[t]=n,n.prototype.jsonID=t,n}}class Dn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Dn(t,null)}static fail(t){return new Dn(null,t)}static fromReplace(t,n,r,i){try{return Dn.ok(t.replace(n,r,i))}catch(s){if(s instanceof qx)return Dn.fail(s.message);throw s}}}function Bj(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(Bj(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return ce.fromArray(r)}class El extends zr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ce(Bj(n.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Dn.fromReplace(t,this.from,this.to,s)}invert(){return new Ys(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new El(n.pos,r.pos,this.mark)}merge(t){return t instanceof El&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new El(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new El(n.from,n.to,t.markFromJSON(n.mark))}}zr.jsonID("addMark",El);class Ys extends zr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Ce(Bj(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Dn.fromReplace(t,this.from,this.to,r)}invert(){return new El(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ys(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ys&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ys(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ys(n.from,n.to,t.markFromJSON(n.mark))}}zr.jsonID("removeMark",Ys);class Sl extends zr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Dn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Dn.fromReplace(t,this.pos,this.pos+1,new Ce(ce.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Sl(this.pos,n.marks[i]);return new Sl(this.pos,this.mark)}}return new Mu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Sl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Sl(n.pos,t.markFromJSON(n.mark))}}zr.jsonID("addNodeMark",Sl);class Mu extends zr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Dn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Dn.fromReplace(t,this.pos,this.pos+1,new Ce(ce.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Sl(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Mu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Mu(n.pos,t.markFromJSON(n.mark))}}zr.jsonID("removeNodeMark",Mu);class Qn extends zr{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&CC(t,this.from,this.to)?Dn.fail("Structure replace would overwrite content"):Dn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Di([this.from,this.to-this.from,this.slice.size])}invert(t){return new Qn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Qn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Qn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Ce.empty:new Ce(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Qn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Ce.empty:new Ce(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Qn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Qn(n.from,n.to,Ce.fromJSON(t,n.slice),!!n.structure)}}zr.jsonID("replace",Qn);class rr extends zr{constructor(t,n,r,i,s,a,o=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=o}apply(t){if(this.structure&&(CC(t,this.from,this.gapFrom)||CC(t,this.gapTo,this.to)))return Dn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Dn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Dn.fromReplace(t,this.from,this.to,r):Dn.fail("Content does not fit in gap")}getMap(){return new Di([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new rr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new rr(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new rr(n.from,n.to,n.gapFrom,n.gapTo,Ce.fromJSON(t,n.slice),n.insert,!!n.structure)}}zr.jsonID("replaceAround",rr);function CC(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function JOe(e,t,n,r){let i=[],s=[],a,o;e.doc.nodesBetween(t,n,(l,u,d)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let h=Math.max(u,t),p=Math.min(u+l.nodeSize,n),m=r.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(m)||(a&&a.to==h&&a.mark.eq(f[g])?a.to=p:i.push(a=new Ys(h,p,f[g])));o&&o.to==h?o.to=p:s.push(o=new El(h,p,r))}}),i.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function ZOe(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(a,o)=>{if(!a.isInline)return;s++;let l=null;if(r instanceof qw){let u=a.marks,d;for(;d=r.isInSet(u);)(l||(l=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let u=Math.min(o+a.nodeSize,n);for(let d=0;d<l.length;d++){let f=l[d],h;for(let p=0;p<i.length;p++){let m=i[p];m.step==s-1&&f.eq(i[p].style)&&(h=m)}h?(h.to=u,h.step=s):i.push({style:f,from:Math.max(o,t),to:u,step:s})}}}),i.forEach(a=>e.step(new Ys(a.from,a.to,a.style)))}function Fj(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),a=[],o=t+1;for(let l=0;l<s.childCount;l++){let u=s.child(l),d=o+u.nodeSize,f=r.matchType(u.type);if(!f)a.push(new Qn(o,d,Ce.empty));else{r=f;for(let h=0;h<u.marks.length;h++)n.allowsMarkType(u.marks[h].type)||e.step(new Ys(o,d,u.marks[h]));if(i&&u.isText&&n.whitespace!="pre"){let h,p=/\r?\n|\r/g,m;for(;h=p.exec(u.text);)m||(m=new Ce(ce.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),a.push(new Qn(o+h.index,o+h.index+h[0].length,m))}}o=d}if(!r.validEnd){let l=r.fillBefore(ce.empty,!0);e.replace(o,o,new Ce(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function eje(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Nh(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),a=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,a,n))return r;if(r==0||i.type.spec.isolating||!eje(i,s,a))break}return null}function tje(e,t,n){let{$from:r,$to:i,depth:s}=t,a=r.before(s+1),o=i.after(s+1),l=a,u=o,d=ce.empty,f=0;for(let m=s,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,d=ce.from(r.node(m).copy(d)),f++):l--;let h=ce.empty,p=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,h=ce.from(i.node(m).copy(h)),p++):u++;e.step(new rr(l,u,a,o,new Ce(d.append(h),f,p),d.size-f,!0))}function $j(e,t,n=null,r=e){let i=nje(e,t),s=i&&rje(r,t);return s?i.map(g4).concat({type:t,attrs:n}).concat(s.map(g4)):null}function g4(e){return{type:e,attrs:null}}function nje(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let a=s.length?s[0]:t;return n.canReplaceWith(r,i,a)?s:null}function rje(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),a=t.contentMatch.findWrapping(s.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:a}function ije(e,t,n){let r=ce.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let o=n[a].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ce.from(n[a].type.create(n[a].attrs,r))}let i=t.start,s=t.end;e.step(new rr(i,s,i,s,new Ce(r,0,0),n.length,!0))}function sje(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(a,o)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,l)&&aje(e.doc,e.mapping.slice(s).map(o),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?u=!1:!p&&m&&(u=!0)}u===!1&&kK(e,a,o,s),Fj(e,e.mapping.slice(s).map(o,1),r,void 0,u===null);let d=e.mapping.slice(s),f=d.map(o,1),h=d.map(o+a.nodeSize,1);return e.step(new rr(f,h,f+1,h-1,new Ce(ce.from(r.create(l,null,a.marks)),0,0),1,!0)),u===!0&&CK(e,a,o,s),!1}})}function CK(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(i.text);){let l=e.mapping.slice(r).map(n+1+s+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function kK(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+s);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function aje(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function oje(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new rr(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new Ce(ce.from(a),0,0),1,!0))}function yo(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,d=n-2;u>s;u--,d--){let f=i.node(u),h=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(h,f.childCount),m=r&&r[d+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[d]||f;if(!f.canReplace(h+1,f.childCount)||!g.type.validContent(p))return!1}let o=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(o,o,l?l.type:i.node(s+1).type)}function lje(e,t,n=1,r){let i=e.doc.resolve(t),s=ce.empty,a=ce.empty;for(let o=i.depth,l=i.depth-n,u=n-1;o>l;o--,u--){s=ce.from(i.node(o).copy(s));let d=r&&r[u];a=ce.from(d?d.type.create(d.attrs,a):i.node(o).copy(a))}e.step(new Qn(t,t,new Ce(s.append(a),n,n),!0))}function xc(e,t){let n=e.resolve(t),r=n.index();return AK(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function cje(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let s=t.child(i),a=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function AK(e,t){return!!(e&&t&&!e.isLeaf&&cje(e,t))}function Kw(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let s,a,o=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),o++,a=r.node(i).maybeChild(o)):(s=r.node(i).maybeChild(o-1),a=r.node(i+1)),s&&!s.isTextblock&&AK(s,a)&&r.node(i).canReplace(o,o+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function uje(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,s=e.doc.resolve(t-n),a=s.node().type;if(i&&a.inlineContent){let d=a.whitespace=="pre",f=!!a.contentMatch.matchType(i);d&&!f?r=!1:!d&&f&&(r=!0)}let o=e.steps.length;if(r===!1){let d=e.doc.resolve(t+n);kK(e,d.node(),d.before(),o)}a.inlineContent&&Fj(e,t+n-1,a,s.node().contentMatchAt(s.index()),r==null);let l=e.mapping.slice(o),u=l.map(t-n);if(e.step(new Qn(u,l.map(t+n,-1),Ce.empty,!0)),r===!0){let d=e.doc.resolve(u);CK(e,d.node(),d.before(),e.steps.length)}return e}function dje(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function OK(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let o=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(o>0?1:0),u=r.node(a),d=!1;if(s==1)d=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);d=f&&u.canReplaceWith(l,l,f[0])}if(d)return o==0?r.pos:o<0?r.before(a+1):r.after(a+1)}return null}function Gw(e,t,n=t,r=Ce.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return jK(i,s,r)?new Qn(t,n,r):new fje(i,s,r).fit()}function jK(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class fje{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ce.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=ce.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,a=r.depth,o=i.depth;for(;a&&o&&s.childCount==1;)s=s.firstChild.content,a--,o--;let l=new Ce(s,a,o);return t>-1?new rr(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Qn(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=cN(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:u}=this.frontier[o],d,f=null;if(n==1&&(a?u.matchType(a.type)||(f=u.fillBefore(ce.from(a),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:o,parent:s,inject:f};if(n==2&&a&&(d=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:o,parent:s,wrap:d};if(s&&u.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=cN(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ce(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=cN(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new Ce(Ep(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ce(Ep(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let a=this.unplaced,o=r?r.content:a.content,l=a.openStart-t,u=0,d=[],{match:f,type:h}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)d.push(i.child(g));f=f.matchFragment(i)}let p=o.size+t-(a.content.size-a.openEnd);for(;u<o.childCount;){let g=o.child(u),v=f.matchType(g.type);if(!v)break;u++,(u>1||l==0||g.content.size)&&(f=v,d.push(IK(g.mark(h.allowedMarks(g.marks)),u==1?l:0,u==o.childCount?p:-1)))}let m=u==o.childCount;m||(p=-1),this.placed=Sp(this.placed,n,ce.from(d)),this.frontier[n].match=f,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=o;g<p;g++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=m?t==0?Ce.empty:new Ce(Ep(a.content,t-1,1),t-1,p<0?a.openEnd:t-1):new Ce(Ep(a.content,t,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!uN(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=uN(t,n,i,r,s);if(a){for(let o=n-1;o>=0;o--){let{match:l,type:u}=this.frontier[o],d=uN(t,o,u,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:a,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Sp(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Sp(this.placed,this.depth,ce.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ce.empty,!0);n.childCount&&(this.placed=Sp(this.placed,this.frontier.length,n))}}function Ep(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Ep(e.firstChild.content,t-1,n)))}function Sp(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Sp(e.lastChild.content,t-1,n)))}function cN(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function IK(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,IK(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(ce.empty,!0)))),e.copy(r)}function uN(e,t,n,r,i){let s=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let o=r.fillBefore(s.content,!0,a);return o&&!hje(n,s.content,a)?o:null}function hje(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function pje(e){return e.spec.defining||e.spec.definingForContent}function mje(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(jK(i,s,r))return e.step(new Qn(t,n,r));let a=DK(i,e.doc.resolve(n));a[a.length-1]==0&&a.pop();let o=-(i.depth+1);a.unshift(o);for(let h=i.depth,p=i.pos-1;h>0;h--,p--){let m=i.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(h)>-1?o=h:i.before(h)==p&&a.splice(1,0,-h)}let l=a.indexOf(o),u=[],d=r.openStart;for(let h=r.content,p=0;;p++){let m=h.firstChild;if(u.push(m),p==r.openStart)break;h=m.content}for(let h=d-1;h>=0;h--){let p=u[h],m=pje(p.type);if(m&&!p.sameMarkup(i.node(Math.abs(o)-1)))d=h;else if(m||!p.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let p=(h+d+1)%(r.openStart+1),m=u[p];if(m)for(let g=0;g<a.length;g++){let v=a[(g+l)%a.length],y=!0;v<0&&(y=!1,v=-v);let x=i.node(v-1),w=i.index(v-1);if(x.canReplaceWith(w,w,m.type,m.marks))return e.replace(i.before(v),y?s.after(v):n,new Ce(PK(r.content,0,r.openStart,p),p,r.openEnd))}}let f=e.steps.length;for(let h=a.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>f));h--){let p=a[h];p<0||(t=i.before(p),n=s.after(p))}}function PK(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(PK(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(ce.empty,!0))}return e}function gje(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=dje(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Ce(ce.from(r),0,0))}function vje(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=DK(r,i);for(let a=0;a<s.length;a++){let o=s[a],l=a==s.length-1;if(l&&o==0||r.node(o).type.contentMatch.validEnd)return e.delete(r.start(o),i.end(o));if(o>0&&(l||r.node(o-1).canReplace(r.index(o-1),i.indexAfter(o-1))))return e.delete(r.before(o),i.after(o))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function DK(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class cf extends zr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Dn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Dn.fromReplace(t,this.pos,this.pos+1,new Ce(ce.from(i),0,n.isLeaf?0:1))}getMap(){return Di.empty}invert(t){return new cf(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new cf(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new cf(n.pos,n.attr,n.value)}}zr.jsonID("attr",cf);class Jm extends zr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Dn.ok(r)}getMap(){return Di.empty}invert(t){return new Jm(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Jm(n.attr,n.value)}}zr.jsonID("docAttr",Jm);let Uf=class extends Error{};Uf=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Uf.prototype=Object.create(Error.prototype);Uf.prototype.constructor=Uf;Uf.prototype.name="TransformError";class Uj{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Qm}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Uf(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Ce.empty){let i=Gw(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Ce(ce.from(r),0,0))}delete(t,n){return this.replace(t,n,Ce.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return mje(this,t,n,r),this}replaceRangeWith(t,n,r){return gje(this,t,n,r),this}deleteRange(t,n){return vje(this,t,n),this}lift(t,n){return tje(this,t,n),this}join(t,n=1){return uje(this,t,n),this}wrap(t,n){return ije(this,t,n),this}setBlockType(t,n=t,r,i=null){return sje(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return oje(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new cf(t,n,r)),this}setDocAttribute(t,n){return this.step(new Jm(t,n)),this}addNodeMark(t,n){return this.step(new Sl(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof At)n.isInSet(r.marks)&&this.step(new Mu(t,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new Mu(t,s)),i=s.removeFromSet(i);for(let o=a.length-1;o>=0;o--)this.step(a[o])}return this}split(t,n=1,r){return lje(this,t,n,r),this}addMark(t,n,r){return JOe(this,t,n,r),this}removeMark(t,n,r){return ZOe(this,t,n,r),this}clearIncompatible(t,n,r){return Fj(this,t,n,r),this}}const dN=Object.create(null);class Xe{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new MK(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Ce.empty){let r=n.content.lastChild,i=null;for(let o=0;o<n.openEnd;o++)i=r,r=r.lastChild;let s=t.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:l,$to:u}=a[o],d=t.mapping.slice(s);t.replaceRange(d.map(l.pos),d.map(u.pos),o?Ce.empty:n),o==0&&x4(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:o}=i[s],l=t.mapping.slice(r),u=l.map(a.pos),d=l.map(o.pos);s?t.deleteRange(u,d):(t.replaceRangeWith(u,d,n),x4(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new He(t):Sd(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let a=n<0?Sd(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):Sd(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Wi(t.node(0))}static atStart(t){return Sd(t,t,0,0,1)||new Wi(t)}static atEnd(t){return Sd(t,t,t.content.size,t.childCount,-1)||new Wi(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=dN[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in dN)throw new RangeError("Duplicate use of selection JSON ID "+t);return dN[t]=n,n.prototype.jsonID=t,n}getBookmark(){return He.between(this.$anchor,this.$head).getBookmark()}}Xe.prototype.visible=!0;class MK{constructor(t,n){this.$from=t,this.$to=n}}let v4=!1;function y4(e){!v4&&!e.parent.inlineContent&&(v4=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class He extends Xe{constructor(t,n=t){y4(t),y4(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Xe.near(r);let i=t.resolve(n.map(this.anchor));return new He(i.parent.inlineContent?i:r,r)}replace(t,n=Ce.empty){if(super.replace(t,n),n==Ce.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof He&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Yw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new He(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Xe.findFrom(n,r,!0)||Xe.findFrom(n,-r,!0);if(s)n=s.$head;else return Xe.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Xe.findFrom(t,-r,!0)||Xe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new He(t,n)}}Xe.jsonID("text",He);class Yw{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Yw(t.map(this.anchor),t.map(this.head))}resolve(t){return He.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ue extends Xe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Xe.near(s):new Ue(s)}content(){return new Ce(ce.from(this.node),0,0)}eq(t){return t instanceof Ue&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new zj(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ue(t.resolve(n.anchor))}static create(t,n){return new Ue(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ue.prototype.visible=!1;Xe.jsonID("node",Ue);class zj{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Yw(r,r):new zj(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Ue.isSelectable(r)?new Ue(n):Xe.near(n)}}class Wi extends Xe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Ce.empty){if(n==Ce.empty){t.delete(0,t.doc.content.size);let r=Xe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Wi(t)}map(t){return new Wi(t)}eq(t){return t instanceof Wi}getBookmark(){return yje}}Xe.jsonID("all",Wi);const yje={map(){return this},resolve(e){return new Wi(e)}};function Sd(e,t,n,r,i,s=!1){if(t.inlineContent)return He.create(e,n);for(let a=r-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){let o=t.child(a);if(o.isAtom){if(!s&&Ue.isSelectable(o))return Ue.create(e,n-(i<0?o.nodeSize:0))}else{let l=Sd(e,o,n+i,i<0?o.childCount:0,i,s);if(l)return l}n+=o.nodeSize*i}return null}function x4(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof Qn||i instanceof rr))return;let s=e.mapping.maps[r],a;s.forEach((o,l,u,d)=>{a==null&&(a=d)}),e.setSelection(Xe.near(e.doc.resolve(a),n))}const b4=1,gv=2,w4=4;class xje extends Uj{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|b4)&~gv,this.storedMarks=null,this}get selectionSet(){return(this.updated&b4)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=gv,this}ensureMarks(t){return At.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&gv)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~gv,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||At.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),this.selection.empty||this.setSelection(Xe.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=w4,this}get scrolledIntoView(){return(this.updated&w4)>0}}function E4(e,t){return!t||!e?e:e.bind(t)}class Np{constructor(t,n,r){this.name=t,this.init=E4(n.init,r),this.apply=E4(n.apply,r)}}const bje=[new Np("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Np("selection",{init(e,t){return e.selection||Xe.atStart(t.doc)},apply(e){return e.selection}}),new Np("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Np("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class fN{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=bje.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Np(r.key,r.spec.state,r))})}}class Vd{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let l=i?i[a].n:0,u=i?i[a].state:this,d=l<n.length&&o.spec.appendTransaction.call(o,l?n.slice(l):n,u,r);if(d&&r.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Vd(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new xje(this)}static create(t){let n=new fN(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Vd(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new fN(this.schema,t.plugins),r=n.fields,i=new Vd(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new fN(t.schema,t.plugins),s=new Vd(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Hl.fromJSON(t.schema,n.doc);else if(a.name=="selection")s.selection=Xe.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let o in r){let l=r[o],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,o)){s[a.name]=u.fromJSON.call(l,t,n[o],s);return}}s[a.name]=a.init(t,s)}}),s}}function RK(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=RK(i,t,{})),n[r]=i}return n}class Qt{constructor(t){this.spec=t,this.props={},t.props&&RK(t.props,this,this.props),this.key=t.key?t.key.key:LK("plugin")}getState(t){return t[this.key]}}const hN=Object.create(null);function LK(e){return e in hN?e+"$"+ ++hN[e]:(hN[e]=0,e+"$")}class xn{constructor(t="key"){this.key=LK(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const gr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},zf=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let kC=null;const eo=function(e,t,n){let r=kC||(kC=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},wje=function(){kC=null},Ru=function(e,t,n,r){return n&&(S4(e,t,n,r,-1)||S4(e,t,n,r,1))},Eje=/^(img|br|input|textarea|hr)$/i;function S4(e,t,n,r,i){for(var s;;){if(e==n&&t==r)return!0;if(t==(i<0?0:ms(e))){let a=e.parentNode;if(!a||a.nodeType!=1||a0(e)||Eje.test(e.nodeName)||e.contentEditable=="false")return!1;t=gr(e)+(i<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)t+=i;else return!1;else e=a,t=i<0?ms(e):0}else return!1}}function ms(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Sje(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=ms(e)}else if(e.parentNode&&!a0(e))t=gr(e),e=e.parentNode;else return null}}function Nje(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!a0(e))t=gr(e)+1,e=e.parentNode;else return null}}function _je(e,t,n){for(let r=t==0,i=t==ms(e);r||i;){if(e==n)return!0;let s=gr(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==ms(e)}}function a0(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Xw=function(e){return e.focusNode&&Ru(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Hc(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Tje(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Cje(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(ms(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(ms(r.startContainer),r.startOffset)}}}const Da=typeof navigator<"u"?navigator:null,N4=typeof document<"u"?document:null,bc=Da&&Da.userAgent||"",AC=/Edge\/(\d+)/.exec(bc),BK=/MSIE \d/.exec(bc),OC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bc),bi=!!(BK||OC||AC),Vl=BK?document.documentMode:OC?+OC[1]:AC?+AC[1]:0,ta=!bi&&/gecko\/(\d+)/i.test(bc);ta&&+(/Firefox\/(\d+)/.exec(bc)||[0,0])[1];const jC=!bi&&/Chrome\/(\d+)/.exec(bc),jr=!!jC,FK=jC?+jC[1]:0,ti=!bi&&!!Da&&/Apple Computer/.test(Da.vendor),Hf=ti&&(/Mobile\/\w+/.test(bc)||!!Da&&Da.maxTouchPoints>2),cs=Hf||(Da?/Mac/.test(Da.platform):!1),kje=Da?/Win/.test(Da.platform):!1,fo=/Android \d/.test(bc),o0=!!N4&&"webkitFontSmoothing"in N4.documentElement.style,Aje=o0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Oje(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function qa(e,t){return typeof e=="number"?e:e[t]}function jje(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function _4(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=zf(a);continue}let o=a,l=o==s.body,u=l?Oje(s):jje(o),d=0,f=0;if(t.top<u.top+qa(r,"top")?f=-(u.top-t.top+qa(i,"top")):t.bottom>u.bottom-qa(r,"bottom")&&(f=t.bottom-t.top>u.bottom-u.top?t.top+qa(i,"top")-u.top:t.bottom-u.bottom+qa(i,"bottom")),t.left<u.left+qa(r,"left")?d=-(u.left-t.left+qa(i,"left")):t.right>u.right-qa(r,"right")&&(d=t.right-u.right+qa(i,"right")),d||f)if(l)s.defaultView.scrollBy(d,f);else{let p=o.scrollLeft,m=o.scrollTop;f&&(o.scrollTop+=f),d&&(o.scrollLeft+=d);let g=o.scrollLeft-p,v=o.scrollTop-m;t={left:t.left-g,top:t.top-v,right:t.right-g,bottom:t.bottom-v}}let h=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(h))break;a=h=="absolute"?a.offsetParent:zf(a)}}function Ije(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let o=e.root.elementFromPoint(s,a);if(!o||o==e.dom||!e.dom.contains(o))continue;let l=o.getBoundingClientRect();if(l.top>=n-20){r=o,i=l.top;break}}return{refDOM:r,refTop:i,stack:$K(e.dom)}}function $K(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=zf(r));return t}function Pje({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;UK(n,r==0?0:r-t)}function UK(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let gd=null;function Dje(e){if(e.setActive)return e.setActive();if(gd)return e.focus(gd);let t=$K(e);e.focus(gd==null?{get preventScroll(){return gd={preventScroll:!0},!0}}:void 0),gd||(gd=!1,UK(t,0))}function zK(e,t){let n,r=2e8,i,s=0,a=t.top,o=t.top,l,u;for(let d=e.firstChild,f=0;d;d=d.nextSibling,f++){let h;if(d.nodeType==1)h=d.getClientRects();else if(d.nodeType==3)h=eo(d).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.top<=a&&m.bottom>=o){a=Math.max(m.bottom,a),o=Math.min(m.top,o);let g=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(g<r){n=d,r=g,i=g&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,d.nodeType==1&&g&&(s=f+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=d,u={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(s=f+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?Mje(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:zK(n,i)}function Mje(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=nl(r,1);if(s.top!=s.bottom&&Hj(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function Hj(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Rje(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Lje(e,t,n){let{node:r,offset:i}=zK(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function Bje(e,t,n,r){let i=-1;for(let s=t,a=!1;s!=e.dom;){let o=e.docView.nearestDesc(s,!0),l;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((l=o.dom.getBoundingClientRect()).width||l.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?i=o.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(i=o.posAfter),a=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?o.posBefore:o.posAfter;s=o.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function HK(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=e.childNodes[s];if(a.nodeType==1){let o=a.getClientRects();for(let l=0;l<o.length;l++){let u=o[l];if(Hj(t,u))return HK(a,t,u)}}if((s=(s+1)%r)==i)break}return e}function Fje(e,t){let n=e.dom.ownerDocument,r,i=0,s=Cje(n,t.left,t.top);s&&({node:r,offset:i}=s);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),o;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=e.dom.getBoundingClientRect();if(!Hj(t,u)||(a=HK(e.dom,t,u),!a))return null}if(ti)for(let u=a;r&&u;u=zf(u))u.draggable&&(r=void 0);if(a=Rje(a,t),r){if(ta&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let u;o0&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=Bje(e,r,i,t))}o==null&&(o=Lje(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function T4(e){return e.top<e.bottom||e.left<e.right}function nl(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(T4(r))return r}return Array.prototype.find.call(n,T4)||e.getBoundingClientRect()}const $je=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function WK(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),a=o0||ta;if(r.nodeType==3)if(a&&($je.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=nl(eo(r,i,i),n);if(ta&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=nl(eo(r,i-1,i-1),-1);if(u.top==l.top){let d=nl(eo(r,i,i+1),-1);if(d.top!=l.top)return op(d,d.left<u.left)}}return l}else{let l=i,u=i,d=n<0?1:-1;return n<0&&!i?(u++,d=-1):n>=0&&i==r.nodeValue.length?(l--,d=1):n<0?l--:u++,op(nl(eo(r,l,u),d),d<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==ms(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return pN(l.getBoundingClientRect(),!1)}if(s==null&&i<ms(r)){let l=r.childNodes[i];if(l.nodeType==1)return pN(l.getBoundingClientRect(),!0)}return pN(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==ms(r))){let l=r.childNodes[i-1],u=l.nodeType==3?eo(l,ms(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return op(nl(u,1),!1)}if(s==null&&i<ms(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?eo(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return op(nl(u,-1),!0)}return op(nl(r.nodeType==3?eo(r):r,-n),n>=0)}function op(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function pN(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function VK(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function Uje(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return VK(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let o=e.docView.nearestDesc(s,!0);if(!o)break;if(o.node.isBlock){s=o.contentDOM||o.dom;break}s=o.dom.parentNode}let a=WK(e,i.pos,1);for(let o=s.firstChild;o;o=o.nextSibling){let l;if(o.nodeType==1)l=o.getClientRects();else if(o.nodeType==3)l=eo(o,0,o.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let d=l[u];if(d.bottom>d.top+1&&(n=="up"?a.top-d.top>(d.bottom-a.top)*2:d.bottom-a.bottom>(a.bottom-d.top)*2))return!1}}return!0})}const zje=/[\u0590-\u08ac]/;function Hje(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,o=e.domSelection();return o?!zje.test(r.parent.textContent)||!o.modify?n=="left"||n=="backward"?s:a:VK(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:d,anchorOffset:f}=e.domSelectionRange(),h=o.caretBidiLevel;o.modify("move",n,"character");let p=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:g}=e.domSelectionRange(),v=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&u==g;try{o.collapse(d,f),l&&(l!=d||u!=f)&&o.extend&&o.extend(l,u)}catch{}return h!=null&&(o.caretBidiLevel=h),v}):r.pos==r.start()||r.pos==r.end()}let C4=null,k4=null,A4=!1;function Wje(e,t,n){return C4==t&&k4==n?A4:(C4=t,k4=n,A4=n=="up"||n=="down"?Uje(e,t,n):Hje(e,t,n))}const Ns=0,O4=1,eu=2,Ma=3;class l0{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ns,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,a;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>gr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let o=i.children[a];if(o.size){i=o;break}}return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],o=s+a.size;if(o>t||a instanceof KK){i=t-s;break}s=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof qK&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?gr(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?gr(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,o=0;;o++){let l=this.children[o],u=a+l.size;if(i==-1&&t<=u){let d=a+l.border;if(t>=d&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,d);t=a;for(let f=o;f>0;f--){let h=this.children[f-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=gr(h.dom)+1;break}t-=h.size}i==-1&&(i=0)}if(i>-1&&(u>n||o==this.children.length-1)){n=u;for(let d=o+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=gr(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),a=Math.max(t,n);for(let p=0,m=0;p<this.children.length;p++){let g=this.children[p],v=m+g.size;if(s>m&&a<v)return g.setSelection(t-m-g.border,n-m-g.border,r,i);m=v}let o=this.domFromPos(t,t?-1:1),l=n==t?o:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((ta||ti)&&t==n){let{node:p,offset:m}=o;if(p.nodeType==3){if(f=!!(m&&p.nodeValue[m-1]==`
`),f&&m==p.nodeValue.length)for(let g=p,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(o=l={node:v.parentNode,offset:gr(v)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=p.childNodes[m-1];f=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(ta&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let p=d.focusNode.childNodes[d.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||f&&ti)&&Ru(o.node,o.offset,d.anchorNode,d.anchorOffset)&&Ru(l.node,l.offset,d.focusNode,d.focusOffset))return;let h=!1;if((u.extend||t==n)&&!f){u.collapse(o.node,o.offset);try{t!=n&&u.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(t>n){let m=o;o=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(o.node,o.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let o=r+s.border,l=a-s.border;if(t>=o&&n<=l){this.dirty=t==r||n==a?eu:O4,t==o&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ma:s.markDirty(t-o,n-o);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?eu:Ma}r=a}this.dirty=eu}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?eu:O4;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class qK extends l0{constructor(t,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==Ns&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Vje extends l0{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Lu extends l0{constructor(t,n,r,i,s){super(t,[],r,i),this.mark=n,this.spec=s}static create(t,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Qu.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Lu(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ma||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ma&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Ns){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ns}}slice(t,n,r){let i=Lu.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=PC(s,n,a,r)),t>0&&(s=PC(s,0,t,r));for(let o=0;o<s.length;o++)s[o].parent=i;return i.children=s,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ql extends l0{constructor(t,n,r,i,s,a,o,l,u){super(t,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=o}static create(t,n,r,i,s,a){let o=s.nodeViews[n.type.name],l,u=o&&o(n,s,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Qu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let h=d;return d=XK(d,r,n),u?l=new qje(t,n,r,i,d,f||null,h,u,s,a+1):n.isText?new Qw(t,n,r,i,d,h,s):new ql(t,n,r,i,d,f||null,h,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ce.empty)}return t}matchesNode(t,n,r){return this.dirty==Ns&&t.eq(this.node)&&Xx(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,a=s&&s.pos>-1?s:null,o=s&&s.pos<0,l=new Gje(this,a&&a.node,t);Qje(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!f&&l.syncToMarks(d==this.node.childCount?At.none:this.node.child(d).marks,r,t),l.placeWidget(u,t,i)},(u,d,f,h)=>{l.syncToMarks(u.marks,r,t);let p;l.findNodeMatch(u,d,f,h)||o&&t.state.selection.from>i&&t.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(u,d,f,p,t)||l.updateNextNode(u,d,f,t,h,i)||l.addNode(u,d,f,t,i),i+=u.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==eu)&&(a&&this.protectLocalComposition(t,a),GK(this.contentDOM,this.children,t),Hf&&Jje(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof He)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,o=Zje(this.node.content,a,r-n,i-n);return o<0?null:{node:s,pos:o,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new Vje(this,s,n,i);t.input.compositionNodes.push(a),this.children=PC(this.children,r,r+i.length,t,a)}update(t,n,r,i){return this.dirty==Ma||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ns}updateOuterDeco(t){if(Xx(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=YK(this.dom,this.nodeDOM,IC(this.outerDeco,this.node,n),IC(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function j4(e,t,n,r,i){XK(r,t,e);let s=new ql(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Qw extends ql{constructor(t,n,r,i,s,a,o){super(t,n,r,i,s,null,a,o,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Ma||this.dirty!=Ns&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ns||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Ns,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new Qw(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ma)}get domAtom(){return!1}isText(t){return this.node.text==t}}class KK extends l0{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Ns&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class qje extends ql{constructor(t,n,r,i,s,a,o,l,u,d){super(t,n,r,i,s,a,o,u,d),this.spec=l}update(t,n,r,i){if(this.dirty==Ma)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function GK(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let a=t[s],o=a.dom;if(o.parentNode==e){for(;o!=r;)r=I4(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(o,r);if(a instanceof Lu){let l=r?r.previousSibling:e.lastChild;GK(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=I4(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const qp=function(e){e&&(this.nodeName=e)};qp.prototype=Object.create(null);const tu=[new qp];function IC(e,t,n){if(e.length==0)return tu;let r=n?tu[0]:new qp,i=[r];for(let s=0;s<e.length;s++){let a=e[s].type.attrs;if(a){a.nodeName&&i.push(r=new qp(a.nodeName));for(let o in a){let l=a[o];l!=null&&(n&&i.length==1&&i.push(r=new qp(t.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+l:o=="style"?r.style=(r.style?r.style+";":"")+l:o!="nodeName"&&(r[o]=l))}}}return i}function YK(e,t,n,r){if(n==tu&&r==tu)return t;let i=t;for(let s=0;s<r.length;s++){let a=r[s],o=n[s];if(s){let l;o&&o.nodeName==a.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),o=tu[0]),i=l}Kje(i,o||tu[0],a)}return i}function Kje(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function XK(e,t,n){return YK(e,e,tu,IC(t,n,e.nodeType!=1))}function Xx(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function I4(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Gje{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Yje(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,t.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ns,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(t[s])&&!this.isLocked(u.dom)){o=l;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let l=Lu.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))s=this.top.children.indexOf(a,this.index);else for(let o=this.index,l=Math.min(this.top.children.length,o+5);o<l;o++){let u=this.top.children[o];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){s=o;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let a=this.top.children[i];return a.dirty==Ma&&a.dom==a.contentDOM&&(a.dirty=eu),a.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,a){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof ql){let u=this.preMatch.matched.get(l);if(u!=null&&u!=s)return!1;let d=l.dom,f,h=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Ma&&Xx(n,l.outerDeco));if(!h&&l.update(t,n,r,i))return this.destroyBetween(this.index,o),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!h&&(f=this.recreateWrapper(l,t,n,r,i,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=eu,f.updateChildren(i,a+1),f.dirty=Ns),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Xx(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let o=ql.create(this.top,n,r,i,s,a);if(o.contentDOM){o.children=t.children,t.children=[];for(let l of o.children)l.parent=o}return t.destroy(),o}addNode(t,n,r,i,s){let a=ql.create(this.top,t,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new qK(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Lu;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Qw)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((ti||jr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new KK(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Yje(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,a=[];e:for(;i>0;){let o;for(;;)if(r){let u=n.children[r-1];if(u instanceof Lu)n=u,r=u.children.length;else{o=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=o.node;if(l){if(l!=e.child(i-1))break;--i,s.set(o,i),a.push(o)}}return{index:i,matched:s,matches:a.reverse()}}function Xje(e,t){return e.type.side-t.type.side}function Qje(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let u=0;u<e.childCount;u++){let d=e.child(u);r(d,i,t.forChild(s,d),u),s+=d.nodeSize}return}let a=0,o=[],l=null;for(let u=0;;){let d,f;for(;a<i.length&&i[a].to==s;){let v=i[a++];v.widget&&(d?(f||(f=[d])).push(v):d=v)}if(d)if(f){f.sort(Xje);for(let v=0;v<f.length;v++)n(f[v],u,!!l)}else n(d,u,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(u<e.childCount)p=u,h=e.child(u++);else break;for(let v=0;v<o.length;v++)o[v].to<=s&&o.splice(v--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)o.push(i[a++]);let m=s+h.nodeSize;if(h.isText){let v=m;a<i.length&&i[a].from<v&&(v=i[a].from);for(let y=0;y<o.length;y++)o[y].to<v&&(v=o[y].to);v<m&&(l=h.cut(v-s),h=h.cut(0,v-s),m=v,p=-1)}else for(;a<i.length&&i[a].to<m;)a++;let g=h.isInline&&!h.isLeaf?o.filter(v=>!v.inline):o.slice();r(h,g,t.forChild(s,h),p),s=m}}function Jje(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Zje(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let a=e.child(i++),o=s;if(s+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<e.childCount;){let u=e.child(i++);if(s+=u.nodeSize,!u.isText)break;l+=u.text}if(s>=n){if(s>=r&&l.slice(r-t.length-o,r-o)==t)return r-t.length;let u=o<r?l.lastIndexOf(t,r-o-1):-1;if(u>=0&&u+t.length+o>=n)return o+u;if(n==r&&l.length>=r+t.length-o&&l.slice(r-o,r-o+t.length)==t)return r}}return-1}function PC(e,t,n,r,i){let s=[];for(let a=0,o=0;a<e.length;a++){let l=e[a],u=o,d=o+=l.size;u>=n||d<=t?s.push(l):(u<t&&s.push(l.slice(0,t-u,r)),i&&(s.push(i),i=void 0),d>n&&s.push(l.slice(n-u,l.size,r)))}return s}function Wj(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let o=r.resolve(a),l,u;if(Xw(n)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Ue.isSelectable(f)&&i.parent&&!(f.isInline&&_je(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;u=new Ue(a==h?o:r.resolve(h))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=a,h=a;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);f=Math.min(f,e.docView.posFromDOM(m.startContainer,m.startOffset,1)),h=Math.max(h,e.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(f<0)return null;[l,a]=h==e.state.selection.anchor?[h,f]:[f,h],o=r.resolve(a)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!u){let f=t=="pointer"||e.state.selection.head<o.pos&&!s?1:-1;u=Vj(e,d,o,f)}return u}function QK(e){return e.editable?e.hasFocus():ZK(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function xo(e,t=!1){let n=e.state.selection;if(JK(e,n),!!QK(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&jr){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ru(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)tIe(e);else{let{anchor:r,head:i}=n,s,a;P4&&!(n instanceof He)&&(n.$from.parent.inlineContent||(s=D4(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=D4(e,n.to))),e.docView.setSelection(r,i,e,t),P4&&(s&&M4(s),a&&M4(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&eIe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const P4=ti||jr&&FK<63;function D4(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(ti&&i&&i.contentEditable=="false")return mN(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return mN(i);if(s)return mN(s)}}function mN(e){return e.contentEditable="true",ti&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function M4(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function eIe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!QK(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function tIe(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,gr(r)+1):n.setStart(r,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&bi&&Vl<=11&&(r.disabled=!0,r.disabled=!1)}function JK(e,t){if(t instanceof Ue){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(R4(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else R4(e)}function R4(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Vj(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||He.between(t,n,r)}function L4(e){return e.editable&&!e.hasFocus()?!1:ZK(e)}function ZK(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function nIe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Ru(t.node,t.offset,n.anchorNode,n.anchorOffset)}function DC(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Xe.findFrom(s,t)}function ll(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function B4(e,t,n){let r=e.state.selection;if(r instanceof He)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return ll(e,new He(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=DC(e.state,t);return i&&i instanceof Ue?ll(e,i):!1}else if(!(cs&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let o=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=e.docView.descAt(o))&&!a.contentDOM?Ue.isSelectable(s)?ll(e,new Ue(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):o0?ll(e,new He(e.state.doc.resolve(t<0?o:o+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ue&&r.node.isInline)return ll(e,new He(t>0?r.$to:r.$from));{let i=DC(e.state,t);return i?ll(e,i):!1}}}function Qx(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Kp(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function vd(e,t){return t<0?rIe(e):iIe(e)}function rIe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,a=!1;for(ta&&n.nodeType==1&&r<Qx(n)&&Kp(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let o=n.childNodes[r-1];if(Kp(o,-1))i=n,s=--r;else if(o.nodeType==3)n=o,r=n.nodeValue.length;else break}}else{if(eG(n))break;{let o=n.previousSibling;for(;o&&Kp(o,-1);)i=n.parentNode,s=gr(o),o=o.previousSibling;if(o)n=o,r=Qx(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?MC(e,n,r):i&&MC(e,i,s)}function iIe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=Qx(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let o=n.childNodes[r];if(Kp(o,1))s=n,a=++r;else break}else{if(eG(n))break;{let o=n.nextSibling;for(;o&&Kp(o,1);)s=o.parentNode,a=gr(o)+1,o=o.nextSibling;if(o)n=o,r=0,i=Qx(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&MC(e,s,a)}function eG(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function sIe(e,t){for(;e&&t==e.childNodes.length&&!a0(e);)t=gr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function aIe(e,t){for(;e&&!t&&!a0(e);)t=gr(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function MC(e,t,n){if(t.nodeType!=3){let s,a;(a=sIe(t,n))?(t=a,n=0):(s=aIe(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Xw(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&xo(e)},50)}function F4(e,t){let n=e.state.doc.resolve(t);if(!(jr||kje)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function $4(e,t,n){let r=e.state.selection;if(r instanceof He&&!r.empty||n.indexOf("s")>-1||cs&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=DC(e.state,t);if(a&&a instanceof Ue)return ll(e,a)}if(!i.parent.inlineContent){let a=t<0?i:s,o=r instanceof Wi?Xe.near(a,t):Xe.findFrom(a,t);return o?ll(e,o):!1}return!1}function U4(e,t){if(!(e.state.selection instanceof He))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=e.state.tr;return t<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),e.dispatch(a),!0}return!1}function z4(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function oIe(e){if(!ti||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;z4(e,r,"true"),setTimeout(()=>z4(e,r,"false"),20)}return!1}function lIe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function cIe(e,t){let n=t.keyCode,r=lIe(t);if(n==8||cs&&n==72&&r=="c")return U4(e,-1)||vd(e,-1);if(n==46&&!t.shiftKey||cs&&n==68&&r=="c")return U4(e,1)||vd(e,1);if(n==13||n==27)return!0;if(n==37||cs&&n==66&&r=="c"){let i=n==37?F4(e,e.state.selection.from)=="ltr"?-1:1:-1;return B4(e,i,r)||vd(e,i)}else if(n==39||cs&&n==70&&r=="c"){let i=n==39?F4(e,e.state.selection.from)=="ltr"?1:-1:1;return B4(e,i,r)||vd(e,i)}else{if(n==38||cs&&n==80&&r=="c")return $4(e,-1,r)||vd(e,-1);if(n==40||cs&&n==78&&r=="c")return oIe(e)||$4(e,1,r)||vd(e,1);if(r==(cs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function qj(e,t){e.someProp("transformCopied",p=>{t=p(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let a=e.someProp("clipboardSerializer")||Qu.fromSchema(e.state.schema),o=aG(),l=o.createElement("div");l.appendChild(a.serializeFragment(r,{document:o}));let u=l.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=sG[u.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let m=o.createElement(d[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",p=>p(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:h,slice:t}}function tG(e,t,n,r,i){let s=i.parent.type.spec.code,a,o;if(!n&&!t)return null;let l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",h=>{t=h(t,s||r,e)}),s)return t?new Ce(ce.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Ce.empty;let f=e.someProp("clipboardTextParser",h=>h(t,i,r,e));if(f)o=f;else{let h=i.marks(),{schema:p}=e.state,m=Qu.fromSchema(p);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=a.appendChild(document.createElement("p"));g&&v.appendChild(m.serializeNode(p.text(g,h)))})}}else e.someProp("transformPastedHTML",f=>{n=f(n,e)}),a=hIe(n),o0&&pIe(a);let u=a&&a.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let h=a.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;a=h}if(o||(o=(e.someProp("clipboardParser")||e.someProp("domParser")||Wl.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||d),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!uIe.test(h.parentNode.nodeName)?{ignore:!0}:null}})),d)o=mIe(H4(o,+d[1],+d[2]),d[4]);else if(o=Ce.maxOpen(dIe(o.content,i),!0),o.openStart||o.openEnd){let f=0,h=0;for(let p=o.content.firstChild;f<o.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=o.content.lastChild;h<o.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);o=H4(o,f,h)}return e.someProp("transformPasted",f=>{o=f(o,e)}),o}const uIe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dIe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,a=[];if(e.forEach(o=>{if(!a)return;let l=i.findWrapping(o.type),u;if(!l)return a=null;if(u=a.length&&s.length&&rG(l,s,o,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=iG(a[a.length-1],s.length));let d=nG(o,l);a.push(d),i=i.matchType(d.type),s=l}}),a)return ce.from(a)}return e}function nG(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,ce.from(e));return e}function rG(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=rG(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(ce.from(nG(n,e,i+1))))}}function iG(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,iG(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(ce.empty,!0);return e.copy(n.append(r))}function RC(e,t,n,r,i,s){let a=t<0?e.firstChild:e.lastChild,o=a.content;return e.childCount>1&&(s=0),i<r-1&&(o=RC(o,t,n,r,i+1,s)),i>=n&&(o=t<0?a.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(ce.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(o))}function H4(e,t,n){return t<e.openStart&&(e=new Ce(RC(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ce(RC(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const sG={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let W4=null;function aG(){return W4||(W4=document.implementation.createHTMLDocument("title"))}let gN=null;function fIe(e){let t=window.trustedTypes;return t?(gN||(gN=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),gN.createHTML(e)):e}function hIe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=aG().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&sG[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=fIe(e),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function pIe(e){let t=e.querySelectorAll(jr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function mIe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:s,openEnd:a}=e;for(let o=r.length-2;o>=0;o-=2){let l=n.nodes[r[o]];if(!l||l.hasRequiredAttrs())break;i=ce.from(l.create(r[o+1],i)),s++,a++}return new Ce(i,s,a)}const ni={},ri={},gIe={touchstart:!0,touchmove:!0};class vIe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function yIe(e){for(let t in ni){let n=ni[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{bIe(e,r)&&!Kj(e,r)&&(e.editable||!(r.type in ri))&&n(e,r)},gIe[t]?{passive:!0}:void 0)}ti&&e.dom.addEventListener("input",()=>null),LC(e)}function Nl(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function xIe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function LC(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>Kj(e,r))})}function Kj(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function bIe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function wIe(e,t){!Kj(e,t)&&ni[t.type]&&(e.editable||!(t.type in ri))&&ni[t.type](e,t)}ri.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!lG(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(fo&&jr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Hf&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Hc(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||cIe(e,n)?n.preventDefault():Nl(e,"key")};ri.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};ri.keypress=(e,t)=>{let n=t;if(lG(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||cs&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof He)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,i,s))&&e.dispatch(s()),n.preventDefault()}};function Jw(e){return{left:e.clientX,top:e.clientY}}function EIe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Gj(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(e.someProp(t,o=>a>s.depth?o(e,n,s.nodeAfter,s.before(a),i,!0):o(e,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function uf(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function SIe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Ue.isSelectable(r)?(uf(e,new Ue(n)),!0):!1}function NIe(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Ue&&(r=n.node);let s=e.state.doc.resolve(t);for(let a=s.depth+1;a>0;a--){let o=a>s.depth?s.nodeAfter:s.node(a);if(Ue.isSelectable(o)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(uf(e,Ue.create(e.state.doc,i)),!0):!1}function _Ie(e,t,n,r,i){return Gj(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?NIe(e,n):SIe(e,n))}function TIe(e,t,n,r){return Gj(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function CIe(e,t,n,r){return Gj(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||kIe(e,n,r)}function kIe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(uf(e,He.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(a.inlineContent)uf(e,He.create(r,o+1,o+1+a.content.size));else if(Ue.isSelectable(a))uf(e,Ue.create(r,o));else continue;return!0}}function Yj(e){return Jx(e)}const oG=cs?"metaKey":"ctrlKey";ni.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Yj(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&EIe(n,e.input.lastClick)&&!n[oG]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=e.posAtCoords(Jw(n));a&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new AIe(e,a,n,!!r)):(s=="doubleClick"?TIe:CIe)(e,a.pos,a.inside,n)?n.preventDefault():Nl(e,"pointer"))};class AIe{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[oG],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),a=n.inside;else{let d=t.state.doc.resolve(n.pos);s=d.parent,a=d.depth?d.before():0}const o=i?null:r.target,l=o?t.docView.nearestDesc(o,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Ue&&u.from<=a&&u.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ta&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Nl(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Jw(t))),this.updateAllowDefault(t),this.allowDefault||!n?Nl(this.view,"pointer"):_Ie(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||ti&&this.mightDrag&&!this.mightDrag.node.isAtom||jr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(uf(this.view,Xe.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Nl(this.view,"pointer")}move(t){this.updateAllowDefault(t),Nl(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}ni.touchstart=e=>{e.input.lastTouch=Date.now(),Yj(e),Nl(e,"pointer")};ni.touchmove=e=>{e.input.lastTouch=Date.now(),Nl(e,"pointer")};ni.contextmenu=e=>Yj(e);function lG(e,t){return e.composing?!0:ti&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const OIe=fo?5e3:-1;ri.compositionstart=ri.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof He&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Jx(e,!0),e.markCursor=null;else if(Jx(e,!t.selection.empty),ta&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let o=e.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}e.input.composing=!0}cG(e,OIe)};ri.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,cG(e,20))};function cG(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Jx(e),t))}function uG(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=IIe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function jIe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Sje(t.focusNode,t.focusOffset),r=Nje(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function IIe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Jx(e,t=!1){if(!(fo&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),uG(e),t||e.docView&&e.docView.dirty){let n=Wj(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function PIe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Zm=bi&&Vl<15||Hf&&Aje<604;ni.copy=ri.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=Zm?null:n.clipboardData,a=r.content(),{dom:o,text:l}=qj(e,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",l)):PIe(e,o),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function DIe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function MIe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?eg(e,r.value,null,i,t):eg(e,r.textContent,r.innerHTML,i,t)},50)}function eg(e,t,n,r,i){let s=tG(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,s||Ce.empty)))return!0;if(!s)return!1;let a=DIe(s),o=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(s);return e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function dG(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ri.paste=(e,t)=>{let n=t;if(e.composing&&!fo)return;let r=Zm?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&eg(e,dG(r),r.getData("text/html"),i,n)?n.preventDefault():MIe(e,n)};class fG{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const RIe=cs?"altKey":"ctrlKey";function hG(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[RIe]}ni.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(Jw(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ue?i.to-1:i.to))){if(r&&r.mightDrag)a=Ue.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=e.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&(a=Ue.create(e.state.doc,f.posBefore))}}let o=(a||e.state.selection).content(),{dom:l,text:u,slice:d}=qj(e,o);(!n.dataTransfer.files.length||!jr||FK>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Zm?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Zm||n.dataTransfer.setData("text/plain",u),e.dragging=new fG(d,hG(e,n),a)};ni.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};ri.dragover=ri.dragenter=(e,t)=>t.preventDefault();ri.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Jw(n));if(!i)return;let s=e.state.doc.resolve(i.pos),a=r&&r.slice;a?e.someProp("transformPasted",m=>{a=m(a,e)}):a=tG(e,dG(n.dataTransfer),Zm?null:n.dataTransfer.getData("text/html"),!1,s);let o=!!(r&&hG(e,n));if(e.someProp("handleDrop",m=>m(e,n,a||Ce.empty,o))){n.preventDefault();return}if(!a)return;n.preventDefault();let l=a?OK(e.state.doc,s.pos,a):s.pos;l==null&&(l=s.pos);let u=e.state.tr;if(o){let{node:m}=r;m?m.replace(u):u.deleteSelection()}let d=u.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,h=u.doc;if(f?u.replaceRangeWith(d,d,a.content.firstChild):u.replaceRange(d,d,a),u.doc.eq(h))return;let p=u.doc.resolve(d);if(f&&Ue.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new Ue(p));else{let m=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,v,y,x)=>m=x),u.setSelection(Vj(e,p,u.doc.resolve(m)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};ni.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&xo(e)},20))};ni.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};ni.beforeinput=(e,t)=>{if(jr&&fo&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,Hc(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in ri)ni[e]=ri[e];function tg(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Zx{constructor(t,n){this.toDOM=t,this.spec=n||pu,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:a}=t.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Hn(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Zx&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&tg(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Kl{constructor(t,n){this.attrs=t,this.spec=n||pu}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Hn(s,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Kl&&tg(this.attrs,t.attrs)&&tg(this.spec,t.spec)}static is(t){return t.type instanceof Kl}destroy(){}}class Xj{constructor(t,n){this.attrs=t,this.spec=n||pu}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let a=t.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Hn(s.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof Xj&&tg(this.attrs,t.attrs)&&tg(this.spec,t.spec)}destroy(){}}class Hn{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Hn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Hn(t,t,new Zx(n,r))}static inline(t,n,r,i){return new Hn(t,n,new Kl(r,i))}static node(t,n,r,i){return new Hn(t,n,new Xj(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Kl}get widget(){return this.type instanceof Zx}}const Nd=[],pu={};class kt{constructor(t,n){this.local=t.length?t:Nd,this.children=n.length?n:Nd}static create(t,n){return n.length?eb(n,t,0,pu):Cr}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,s){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=n&&o.to>=t&&(!s||s(o.spec))&&r.push(o.copy(o.from+i,o.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let o=this.children[a]+1;this.children[a+2].findInner(t-o,n-o,r,i+o,s)}}map(t,n,r){return this==Cr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||pu)}mapInner(t,n,r,i,s){let a;for(let o=0;o<this.local.length;o++){let l=this.local[o].map(t,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?LIe(this.children,a||[],t,n,r,i,s):a?new kt(a.sort(mu),Nd):Cr}add(t,n){return n.length?this==Cr?kt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((o,l)=>{let u=l+r,d;if(d=mG(n,o,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(o,d,u+1):i.splice(s,0,l,l+o.nodeSize,eb(d,o,u+1,pu)),s+=3}});let a=pG(s?gG(n):n,-r);for(let o=0;o<a.length;o++)a[o].type.valid(t,a[o])||a.splice(o--,1);return new kt(a.length?this.local.concat(a).sort(mu):this.local,i||this.children)}remove(t){return t.length==0||this==Cr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,o=r[s]+n,l=r[s+1]+n;for(let d=0,f;d<t.length;d++)(f=t[d])&&f.from>o&&f.to<l&&(t[d]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(a,o+1);u!=Cr?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<t.length;s++)if(a=t[s])for(let o=0;o<i.length;o++)i[o].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new kt(i,r):Cr}forChild(t,n){if(this==Cr)return this;if(n.isLeaf)return kt.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break}let s=t+1,a=s+n.content.size;for(let o=0;o<this.local.length;o++){let l=this.local[o];if(l.from<a&&l.to>s&&l.type instanceof Kl){let u=Math.max(s,l.from)-s,d=Math.min(a,l.to)-s;u<d&&(i||(i=[])).push(l.copy(u,d))}}if(i){let o=new kt(i.sort(mu),Nd);return r?new ml([o,r]):o}return r||Cr}eq(t){if(this==t)return!0;if(!(t instanceof kt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Qj(this.localsInner(t))}localsInner(t){if(this==Cr)return Nd;if(t.inlineContent||!this.local.some(Kl.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Kl||n.push(this.local[r]);return n}forEachSet(t){t(this)}}kt.empty=new kt([],[]);kt.removeOverlap=Qj;const Cr=kt.empty;class ml{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,pu));return ml.from(r)}forChild(t,n){if(n.isLeaf)return kt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=Cr&&(s instanceof ml?r=r.concat(s.members):r.push(s))}return ml.from(r)}eq(t){if(!(t instanceof ml)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?Qj(r?n:n.sort(mu)):Nd}static from(t){switch(t.length){case 0:return Cr;case 1:return t[0];default:return new ml(t.every(n=>n instanceof kt)?t:t.reduce((n,r)=>n.concat(r instanceof kt?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function LIe(e,t,n,r,i,s,a){let o=e.slice();for(let u=0,d=s;u<n.maps.length;u++){let f=0;n.maps[u].forEach((h,p,m,g)=>{let v=g-m-(p-h);for(let y=0;y<o.length;y+=3){let x=o[y+1];if(x<0||h>x+d-f)continue;let w=o[y]+d-f;p>=w?o[y+1]=h<=w?-2:-1:h>=d&&v&&(o[y]+=v,o[y+1]+=v)}f+=v}),d=n.maps[u].map(d,-1)}let l=!1;for(let u=0;u<o.length;u+=3)if(o[u+1]<0){if(o[u+1]==-2){l=!0,o[u+1]=-1;continue}let d=n.map(e[u]+s),f=d-i;if(f<0||f>=r.content.size){l=!0;continue}let h=n.map(e[u+1]+s,-1),p=h-i,{index:m,offset:g}=r.content.findIndex(f),v=r.maybeChild(m);if(v&&g==f&&g+v.nodeSize==p){let y=o[u+2].mapInner(n,v,d+1,e[u]+s+1,a);y!=Cr?(o[u]=f,o[u+1]=p,o[u+2]=y):(o[u+1]=-2,l=!0)}else l=!0}if(l){let u=BIe(o,e,t,n,i,s,a),d=eb(u,r,0,a);t=d.local;for(let f=0;f<o.length;f+=3)o[f+1]<0&&(o.splice(f,3),f-=3);for(let f=0,h=0;f<d.children.length;f+=3){let p=d.children[f];for(;h<o.length&&o[h]<p;)h+=3;o.splice(h,0,d.children[f],d.children[f+1],d.children[f+2])}}return new kt(t.sort(mu),o)}function pG(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Hn(i.from+t,i.to+t,i.type))}return n}function BIe(e,t,n,r,i,s,a){function o(l,u){for(let d=0;d<l.local.length;d++){let f=l.local[d].map(r,i,u);f?n.push(f):a.onRemove&&a.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)o(l.children[d+2],l.children[d]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&o(e[l+2],t[l]+s+1);return n}function mG(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,a;s<e.length;s++)(a=e[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),e[s]=null);return i}function gG(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function eb(e,t,n,r){let i=[],s=!1;t.forEach((o,l)=>{let u=mG(e,o,l+n);if(u){s=!0;let d=eb(u,o,n+l+1,r);d!=Cr&&i.push(l,l+o.nodeSize,d)}});let a=pG(s?gG(e):e,-n).sort(mu);for(let o=0;o<a.length;o++)a[o].type.valid(t,a[o])||(r.onRemove&&r.onRemove(a[o].spec),a.splice(o--,1));return a.length||i.length?new kt(a,i):Cr}function mu(e,t){return e.from-t.from||e.to-t.to}function Qj(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),V4(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),V4(t,i,r.copy(s.from,r.to)));break}}}return t}function V4(e,t,n){for(;t<e.length&&mu(n,e[t])>0;)t++;e.splice(t,0,n)}function vN(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Cr&&t.push(r)}),e.cursorWrapper&&t.push(kt.create(e.state.doc,[e.cursorWrapper.deco])),ml.from(t)}const FIe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},$Ie=bi&&Vl<=11;class UIe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class zIe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new UIe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);bi&&Vl<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),$Ie&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,FIe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(L4(this.view)){if(this.suppressingSelectionUpdates)return xo(this.view);if(bi&&Vl<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Ru(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=zf(s))n.add(s);for(let s=t.anchorNode;s;s=zf(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&L4(t)&&!this.ignoreSelectionChange(r),s=-1,a=-1,o=!1,l=[];if(t.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],l);f&&(s=s<0?f.from:Math.min(f.from,s),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(o=!0))}if(ta&&l.length){let d=l.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,h]=d;f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let h of d){let p=h.parentNode;p&&p.nodeName=="LI"&&(!f||VIe(t,f)!=p)&&h.remove()}}}let u=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Xw(r)&&(u=Wj(t))&&u.eq(Xe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,xo(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,a),HIe(t)),this.handleDOMChange(s,a,o,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||xo(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let f=t.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(bi&&Vl<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:f,nextSibling:h}=t.addedNodes[d];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(s=h)}let a=i&&i.parentNode==t.target?gr(i)+1:0,o=r.localPosFromDOM(t.target,a,-1),l=s&&s.parentNode==t.target?gr(s):t.target.childNodes.length,u=r.localPosFromDOM(t.target,l,1);return{from:o,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let q4=new WeakMap,K4=!1;function HIe(e){if(!q4.has(e)&&(q4.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=ta,K4)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),K4=!0}}function G4(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return Ru(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function WIe(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return G4(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?G4(e,n):null}function VIe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function qIe(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:o}=e.docView.parseRange(t,n),l=e.domSelectionRange(),u,d=l.anchorNode;if(d&&e.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:l.anchorOffset}],Xw(l)||u.push({node:l.focusNode,offset:l.focusOffset})),jr&&e.input.lastKeyCode===8)for(let v=s;v>i;v--){let y=r.childNodes[v-1],x=y.pmViewDesc;if(y.nodeName=="BR"&&!x){s=v;break}if(!x||x.size)break}let f=e.state.doc,h=e.someProp("domParser")||Wl.fromSchema(e.state.schema),p=f.resolve(a),m=null,g=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:KIe,context:p});if(u&&u[0].pos!=null){let v=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=v),m={anchor:v+a,head:y+a}}return{doc:g,sel:m,from:a,to:o}}function KIe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(ti&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||ti&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const GIe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function YIe(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let C=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,O=Wj(e,C);if(O&&!e.state.selection.eq(O)){if(jr&&fo&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",D=>D(e,Hc(13,"Enter"))))return;let A=e.state.tr.setSelection(O);C=="pointer"?A.setMeta("pointer",!0):C=="key"&&A.scrollIntoView(),s&&A.setMeta("composition",s),e.dispatch(A)}return}let a=e.state.doc.resolve(t),o=a.sharedDepth(n);t=a.before(o+1),n=e.state.doc.resolve(n).after(o+1);let l=e.state.selection,u=qIe(e,t,n),d=e.state.doc,f=d.slice(u.from,u.to),h,p;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,p="end"):(h=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let m=JIe(f.content,u.doc.content,u.from,h,p);if(m&&e.input.domChangeCount++,(Hf&&e.input.lastIOSEnter>Date.now()-225||fo)&&i.some(C=>C.nodeType==1&&!GIe.test(C.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",C=>C(e,Hc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof He&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let C=Y4(e,e.state.doc,u.sel);if(C&&!C.eq(e.state.selection)){let O=e.state.tr.setSelection(C);s&&O.setMeta("composition",s),e.dispatch(O)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof He&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),bi&&Vl<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=u.doc.resolveNoCache(m.start-u.from),v=u.doc.resolveNoCache(m.endB-u.from),y=d.resolve(m.start),x=g.sameParent(v)&&g.parent.inlineContent&&y.end()>=m.endA,w;if((Hf&&e.input.lastIOSEnter>Date.now()-225&&(!x||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!x&&g.pos<u.doc.content.size&&(!g.sameParent(v)||!g.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(g.pos,v.pos,"",""))&&(w=Xe.findFrom(u.doc.resolve(g.pos+1),1,!0))&&w.head>g.pos)&&e.someProp("handleKeyDown",C=>C(e,Hc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&QIe(d,m.start,m.endA,g,v)&&e.someProp("handleKeyDown",C=>C(e,Hc(8,"Backspace")))){fo&&jr&&e.domObserver.suppressSelectionUpdates();return}jr&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),fo&&!x&&g.start()!=v.start()&&v.parentOffset==0&&g.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,v=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(C){return C(e,Hc(13,"Enter"))})},20));let E=m.start,_=m.endA,N=C=>{let O=C||e.state.tr.replace(E,_,u.doc.slice(m.start-u.from,m.endB-u.from));if(u.sel){let A=Y4(e,O.doc,u.sel);A&&!(jr&&e.composing&&A.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(A.head==E||A.head==O.mapping.map(_)-1)||bi&&A.empty&&A.head==E)&&O.setSelection(A)}return s&&O.setMeta("composition",s),O.scrollIntoView()},T;if(x){if(g.pos==v.pos){bi&&Vl<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>xo(e),20));let C=N(e.state.tr.delete(E,_)),O=d.resolve(m.start).marksAcross(d.resolve(m.endA));O&&C.ensureMarks(O),e.dispatch(C)}else if(m.endA==m.endB&&(T=XIe(g.parent.content.cut(g.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start())))){let C=N(e.state.tr);T.type=="add"?C.addMark(E,_,T.mark):C.removeMark(E,_,T.mark),e.dispatch(C)}else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let C=g.parent.textBetween(g.parentOffset,v.parentOffset),O=()=>N(e.state.tr.insertText(C,E,_));e.someProp("handleTextInput",A=>A(e,E,_,C,O))||e.dispatch(O())}}else e.dispatch(N())}function Y4(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Vj(e,t.resolve(n.anchor),t.resolve(n.head))}function XIe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,a,o,l;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],a="add",l=d=>d.mark(o.addToSet(d.marks));else if(i.length==0&&s.length==1)o=s[0],a="remove",l=d=>d.mark(o.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<t.childCount;d++)u.push(l(t.child(d)));if(ce.from(u).eq(e))return{mark:o,type:a}}function QIe(e,t,n,r,i){if(n-t<=i.pos-r.pos||yN(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let o=s.nodeAfter;return o!=null&&n==t+o.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=e.resolve(yN(s,!0,!0));return!a.parent.isTextblock||a.pos>n||yN(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function yN(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function JIe(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a,b:o}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,s-Math.min(a,o));r-=a+l-s}if(a<s&&e.size<t.size){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&X4(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}else if(o<s){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&X4(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}return{start:s,endA:a,endB:o}}function X4(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class vG{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new vIe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(t6),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Z4(this),J4(this),this.nodeViews=e6(this),this.docView=j4(this.state.doc,Q4(this),vN(this),this.dom,this),this.domObserver=new zIe(this,(r,i,s,a)=>YIe(this,r,i,s,a)),this.domObserver.start(),yIe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&LC(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(t6),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,a=!1;t.storedMarks&&this.composing&&(uG(this),a=!0),this.state=t;let o=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=e6(this);ePe(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&LC(this),this.editable=Z4(this),J4(this);let l=vN(this),u=Q4(this),d=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(t.doc,u,l);(f||!t.selection.eq(i.selection))&&(a=!0);let h=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&Ije(this);if(a){this.domObserver.stop();let p=f&&(bi||jr)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&ZIe(i.selection,t.selection);if(f){let m=jr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=jIe(this)),(s||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=j4(t.doc,u,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&nIe(this))?xo(this,p):(JK(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():h&&Pje(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ue){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_4(this,n.getBoundingClientRect(),t)}else _4(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new fG(t.slice,t.move,i<0?void 0:Ue.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[t];if(o!=null&&(i=n?n(o):o))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let o=s[a].props[t];if(o!=null&&(i=n?n(o):o))return i}}hasFocus(){if(bi){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Dje(this.dom),xo(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Fje(this,t)}coordsAtPos(t,n=1){return WK(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return Wje(this,n||this.state,t)}pasteHTML(t,n){return eg(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return eg(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return qj(this,t)}destroy(){this.docView&&(xIe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],vN(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,wje())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return wIe(this,t)}domSelectionRange(){let t=this.domSelection();return t?ti&&this.root.nodeType===11&&Tje(this.dom.ownerDocument)==this.dom&&WIe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}vG.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function Q4(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Hn.node(0,e.state.doc.content.size,t)]}function J4(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Hn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Z4(e){return!e.someProp("editable",t=>t(e.state)===!1)}function ZIe(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function e6(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function ePe(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function t6(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Zl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},tPe=typeof navigator<"u"&&/Mac/.test(navigator.platform),nPe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vr=0;vr<10;vr++)Zl[48+vr]=Zl[96+vr]=String(vr);for(var vr=1;vr<=24;vr++)Zl[vr+111]="F"+vr;for(var vr=65;vr<=90;vr++)Zl[vr]=String.fromCharCode(vr+32),tb[vr]=String.fromCharCode(vr);for(var xN in Zl)tb.hasOwnProperty(xN)||(tb[xN]=Zl[xN]);function rPe(e){var t=tPe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||nPe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?tb:Zl)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const iPe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),sPe=typeof navigator<"u"&&/Win/.test(navigator.platform);function aPe(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<t.length-1;o++){let l=t[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))iPe?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function oPe(e){let t=Object.create(null);for(let n in e)t[aPe(n)]=e[n];return t}function bN(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function lPe(e){return new Qt({props:{handleKeyDown:Jj(e)}})}function Jj(e){let t=oPe(e);return function(n,r){let i=rPe(r),s,a=t[bN(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let o=t[bN(i,r,!1)];if(o&&o(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(sPe&&r.ctrlKey&&r.altKey)&&(s=Zl[r.keyCode])&&s!=i){let o=t[bN(s,r)];if(o&&o(n.state,n.dispatch,n))return!0}}return!1}}const Zj=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function yG(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const xG=(e,t,n)=>{let r=yG(e,n);if(!r)return!1;let i=eI(r);if(!i){let a=r.blockRange(),o=a&&Nh(a);return o==null?!1:(t&&t(e.tr.lift(a,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(kG(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Wf(s,"end")||Ue.isSelectable(s)))for(let a=r.depth;;a--){let o=Gw(e.doc,r.before(a),r.after(a),Ce.empty);if(o&&o.slice.size<o.to-o.from){if(t){let l=e.tr.step(o);l.setSelection(Wf(s,"end")?Xe.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Ue.create(l.doc,i.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},cPe=(e,t,n)=>{let r=yG(e,n);if(!r)return!1;let i=eI(r);return i?bG(e,i,t):!1},uPe=(e,t,n)=>{let r=EG(e,n);if(!r)return!1;let i=tI(r);return i?bG(e,i,t):!1};function bG(e,t,n){let r=t.nodeBefore,i=r,s=t.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let a=t.nodeAfter,o=a,l=t.pos+1;for(;!o.isTextblock;l++){if(o.type.spec.isolating)return!1;let d=o.firstChild;if(!d)return!1;o=d}let u=Gw(e.doc,s,l,Ce.empty);if(!u||u.from!=s||u instanceof Qn&&u.slice.size>=l-s)return!1;if(n){let d=e.tr.step(u);d.setSelection(He.create(d.doc,s)),n(d.scrollIntoView())}return!0}function Wf(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const wG=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=eI(r)}let a=s&&s.nodeBefore;return!a||!Ue.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Ue.create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function eI(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function EG(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const SG=(e,t,n)=>{let r=EG(e,n);if(!r)return!1;let i=tI(r);if(!i)return!1;let s=i.nodeAfter;if(kG(e,i,t,1))return!0;if(r.parent.content.size==0&&(Wf(s,"start")||Ue.isSelectable(s))){let a=Gw(e.doc,r.before(),r.after(),Ce.empty);if(a&&a.slice.size<a.to-a.from){if(t){let o=e.tr.step(a);o.setSelection(Wf(s,"start")?Xe.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):Ue.create(o.doc,o.mapping.map(i.pos))),t(o.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},NG=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=tI(r)}let a=s&&s.nodeAfter;return!a||!Ue.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Ue.create(e.doc,s.pos)).scrollIntoView()),!0)};function tI(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const dPe=(e,t)=>{let n=e.selection,r=n instanceof Ue,i;if(r){if(n.node.isTextblock||!xc(e.doc,n.from))return!1;i=n.from}else if(i=Kw(e.doc,n.from,-1),i==null)return!1;if(t){let s=e.tr.join(i);r&&s.setSelection(Ue.create(s.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},fPe=(e,t)=>{let n=e.selection,r;if(n instanceof Ue){if(n.node.isTextblock||!xc(e.doc,n.to))return!1;r=n.to}else if(r=Kw(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},hPe=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),s=i&&Nh(i);return s==null?!1:(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},_G=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function nI(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const pPe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=nI(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(t){let o=n.after(),l=e.tr.replaceWith(o,o,a.createAndFill());l.setSelection(Xe.near(l.doc.resolve(o),1)),t(l.scrollIntoView())}return!0},TG=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Wi||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=nI(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,o=e.tr.insert(a,s.createAndFill());o.setSelection(He.create(o.doc,a+1)),t(o.scrollIntoView())}return!0},CG=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(yo(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Nh(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function mPe(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof Ue&&t.selection.node.isBlock)return!r.parentOffset||!yo(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,o,l=!1,u=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),u=r.start(p)==r.pos-(r.depth-p),o=nI(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&o?{type:o}:null),a=p;break}else{if(p==1)return!1;s.unshift(null)}let d=t.tr;(t.selection instanceof He||t.selection instanceof Wi)&&d.deleteSelection();let f=d.mapping.map(r.pos),h=yo(d.doc,f,s.length,s);if(h||(s[0]=o?{type:o}:null,h=yo(d.doc,f,s.length,s)),!h)return!1;if(d.split(f,s.length,s),!l&&u&&r.node(a).type!=o){let p=d.mapping.map(r.before(a)),m=d.doc.resolve(p);o&&r.node(a-1).canReplaceWith(m.index(),m.index()+1,o)&&d.setNodeMarkup(d.mapping.map(r.before(a)),o)}return n&&n(d.scrollIntoView()),!0}}const gPe=mPe(),vPe=(e,t)=>{let{$from:n,to:r}=e.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),t&&t(e.tr.setSelection(Ue.create(e.doc,i))),!0)};function yPe(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||xc(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function kG(e,t,n,r){let i=t.nodeBefore,s=t.nodeAfter,a,o,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&yPe(e,t,n))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(a=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(a[0]||s.type).validEnd){if(n){let p=t.pos+s.nodeSize,m=ce.empty;for(let y=a.length-1;y>=0;y--)m=ce.from(a[y].create(null,m));m=ce.from(i.copy(m));let g=e.tr.step(new rr(t.pos-1,p,t.pos,p,new Ce(m,1,0),a.length,!0)),v=g.doc.resolve(p+2*a.length);v.nodeAfter&&v.nodeAfter.type==i.type&&xc(g.doc,v.pos)&&g.join(v.pos),n(g.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&l?null:Xe.findFrom(t,1),f=d&&d.$from.blockRange(d.$to),h=f&&Nh(f);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(f,h).scrollIntoView()),!0;if(u&&Wf(s,"start",!0)&&Wf(i,"end")){let p=i,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=s,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let y=ce.empty;for(let w=m.length-1;w>=0;w--)y=ce.from(m[w].copy(y));let x=e.tr.step(new rr(t.pos-m.length,t.pos+s.nodeSize,t.pos+v,t.pos+s.nodeSize-v,new Ce(y,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function AG(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(He.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const xPe=AG(-1),bPe=AG(1);function wPe(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),o=a&&$j(a,e,t);return o?(r&&r(n.tr.wrap(a,o).scrollIntoView()),!0):!1}}function n6(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:o}}=n.selection.ranges[s];n.doc.nodesBetween(a,o,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let d=n.doc.resolve(u),f=d.index();i=d.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[a];s.setBlockType(o,l,e,t)}r(s.scrollIntoView())}return!0}}function rI(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}rI(Zj,xG,wG);rI(Zj,SG,NG);rI(_G,TG,CG,gPe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function EPe(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let o=r?n.tr:null;return SPe(o,a,e,t)?(r&&r(o.scrollIntoView()),!0):!1}}function SPe(e,t,n,r=null){let i=!1,s=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);s=new Gx(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Gx(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let o=$j(s,n,r,t);return o?(e&&NPe(e,t,o,i,n),!0):!1}function NPe(e,t,n,r,i){let s=ce.empty;for(let d=n.length-1;d>=0;d--)s=ce.from(n[d].type.create(n[d].attrs,s));e.step(new rr(t.start-(r?2:0),t.end,t.start,t.end,new Ce(s,0,0),n.length,!0));let a=0;for(let d=0;d<n.length;d++)n[d].type==i&&(a=d+1);let o=n.length-a,l=t.start+n.length-(r?2:0),u=t.parent;for(let d=t.startIndex,f=t.endIndex,h=!0;d<f;d++,h=!1)!h&&yo(e.doc,l,o)&&(e.split(l,o),l+=2*o),l+=u.child(d).nodeSize;return e}function _Pe(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?TPe(t,n,e,s):CPe(t,n,s):!0:!1}}function TPe(e,t,n,r){let i=e.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new rr(s-1,a,s,a,new Ce(ce.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Gx(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const o=Nh(r);if(o==null)return!1;i.lift(r,o);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return xc(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function CPe(e,t,n){let r=e.tr,i=n.parent;for(let p=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)p-=i.child(m).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let o=n.startIndex==0,l=n.endIndex==i.childCount,u=s.node(-1),d=s.index(-1);if(!u.canReplace(d+(o?0:1),d+1,a.content.append(l?ce.empty:ce.from(i))))return!1;let f=s.pos,h=f+a.nodeSize;return r.step(new rr(f-(o?1:0),h+(l?1:0),f+1,h-1,new Ce((o?ce.empty:ce.from(i.copy(ce.empty))).append(l?ce.empty:ce.from(i.copy(ce.empty))),o?0:1,l?0:1),o?0:1)),t(r.scrollIntoView()),!0}function kPe(e){return function(t,n){let{$from:r,$to:i}=t.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==e);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let o=s.parent,l=o.child(a-1);if(l.type!=e)return!1;if(n){let u=l.lastChild&&l.lastChild.type==o.type,d=ce.from(u?e.create():null),f=new Ce(ce.from(e.create(null,ce.from(o.type.create(null,d)))),u?3:1,0),h=s.start,p=s.end;n(t.tr.step(new rr(h-(u?3:1),p,h,p,f,1,!0)).scrollIntoView())}return!0}}var APe=Object.defineProperty,OG=(e,t)=>{for(var n in t)APe(e,n,{get:t[n],enumerable:!0})};function Zw(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var eE=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,o])=>[a,(...u)=>{const d=o(...u)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],o=!!e,l=e||i.tr,u=()=>(!o&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,h])=>[f,(...m)=>{const g=this.buildProps(l,t),v=h(...m)(g);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...u)=>l(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:e,editor:r,view:s,state:Zw({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([o,l])=>[o,(...u)=>l(...u)(a)]))}};return a}},OPe=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function jG(e,t){const n=new Uj(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}var IG=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&IG(r)}return e};function vv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return IG(n)}function ng(e,t,n){if(e instanceof Hl||e instanceof ce)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return ce.fromArray(e.map(o=>t.nodeFromJSON(o)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),ng("",t,n)}if(i){if(n.errorOnInvalidContent){let a=!1,o="";const l=new xK({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,o=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Wl.fromSchema(l).parseSlice(vv(e),n.parseOptions):Wl.fromSchema(l).parse(vv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const s=Wl.fromSchema(t);return n.slice?s.parseSlice(vv(e),n.parseOptions).content:s.parse(vv(e),n.parseOptions)}return ng("",t,n)}function BC(e,t,n={},r={}){return ng(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function jPe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function FC(e,t){const n=[];return e.descendants((r,i)=>{t(r)&&n.push({node:r,pos:i})}),n}function IPe(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function PG(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function tE(e){return t=>PG(t.$from,e)}function Fe(e,t,n){return e.config[t]===void 0&&e.parent?Fe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Fe(e.parent,t,n):null}):e.config[t]}function iI(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Fe(t,"addExtensions",n);return r?[t,...iI(r())]:t}).flat(10)}function sI(e,t){const n=Qu.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function DG(e){return typeof e=="function"}function yt(e,t=void 0,...n){return DG(e)?t?e.bind(t)(...n):e(...n):e}function PPe(e={}){return Object.keys(e).length===0&&e.constructor===Object}function rg(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function MG(e){const t=[],{nodeExtensions:n,markExtensions:r}=rg(e),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage,extensions:i},l=Fe(a,"addGlobalAttributes",o);if(!l)return;l().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([h,p])=>{t.push({type:f,name:h,attribute:{...s,...p}})})})})}),i.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage},l=Fe(a,"addAttributes",o);if(!l)return;const u=l();Object.entries(u).forEach(([d,f])=>{const h={...s,...f};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,t.push({type:a.name,name:d,attribute:h})})}),t}function Ht(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const o=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],u=o.filter(d=>!l.includes(d));r[i]=[...l,...u].join(" ")}else if(i==="style"){const o=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;l.forEach(d=>{const[f,h]=d.split(":").map(p=>p.trim());u.set(f,h)}),o.forEach(d=>{const[f,h]=d.split(":").map(p=>p.trim());u.set(f,h)}),r[i]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[i]=s}),r},{})}function nb(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Ht(n,r),{})}function DPe(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function r6(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((s,a)=>{const o=a.attribute.parseHTML?a.attribute.parseHTML(n):DPe(n.getAttribute(a.name));return o==null?s:{...s,[a.name]:o}},{});return{...r,...i}}}}function i6(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&PPe(n)?!1:n!=null))}function MPe(e,t){var n;const r=MG(e),{nodeExtensions:i,markExtensions:s}=rg(e),a=(n=i.find(u=>Fe(u,"topNode")))==null?void 0:n.name,o=Object.fromEntries(i.map(u=>{const d=r.filter(y=>y.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:t},h=e.reduce((y,x)=>{const w=Fe(x,"extendNodeSchema",f);return{...y,...w?w(u):{}}},{}),p=i6({...h,content:yt(Fe(u,"content",f)),marks:yt(Fe(u,"marks",f)),group:yt(Fe(u,"group",f)),inline:yt(Fe(u,"inline",f)),atom:yt(Fe(u,"atom",f)),selectable:yt(Fe(u,"selectable",f)),draggable:yt(Fe(u,"draggable",f)),code:yt(Fe(u,"code",f)),whitespace:yt(Fe(u,"whitespace",f)),linebreakReplacement:yt(Fe(u,"linebreakReplacement",f)),defining:yt(Fe(u,"defining",f)),isolating:yt(Fe(u,"isolating",f)),attrs:Object.fromEntries(d.map(y=>{var x,w;return[y.name,{default:(x=y==null?void 0:y.attribute)==null?void 0:x.default,validate:(w=y==null?void 0:y.attribute)==null?void 0:w.validate}]}))}),m=yt(Fe(u,"parseHTML",f));m&&(p.parseDOM=m.map(y=>r6(y,d)));const g=Fe(u,"renderHTML",f);g&&(p.toDOM=y=>g({node:y,HTMLAttributes:nb(y,d)}));const v=Fe(u,"renderText",f);return v&&(p.toText=v),[u.name,p]})),l=Object.fromEntries(s.map(u=>{const d=r.filter(v=>v.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:t},h=e.reduce((v,y)=>{const x=Fe(y,"extendMarkSchema",f);return{...v,...x?x(u):{}}},{}),p=i6({...h,inclusive:yt(Fe(u,"inclusive",f)),excludes:yt(Fe(u,"excludes",f)),group:yt(Fe(u,"group",f)),spanning:yt(Fe(u,"spanning",f)),code:yt(Fe(u,"code",f)),attrs:Object.fromEntries(d.map(v=>{var y,x;return[v.name,{default:(y=v==null?void 0:v.attribute)==null?void 0:y.default,validate:(x=v==null?void 0:v.attribute)==null?void 0:x.validate}]}))}),m=yt(Fe(u,"parseHTML",f));m&&(p.parseDOM=m.map(v=>r6(v,d)));const g=Fe(u,"renderHTML",f);return g&&(p.toDOM=v=>g({mark:v,HTMLAttributes:nb(v,d)})),[u.name,p]}));return new xK({topNode:a,nodes:o,marks:l})}function RPe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function aI(e){return e.sort((n,r)=>{const i=Fe(n,"priority")||100,s=Fe(r,"priority")||100;return i>s?-1:i<s?1:0})}function RG(e){const t=aI(iI(e)),n=RPe(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function LG(e,t,n){const{from:r,to:i}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let o="";return e.nodesBetween(r,i,(l,u,d,f)=>{var h;l.isBlock&&u>r&&(o+=s);const p=a==null?void 0:a[l.type.name];if(p)return d&&(o+=p({node:l,pos:u,parent:d,index:f,range:t})),!1;l.isText&&(o+=(h=l==null?void 0:l.text)==null?void 0:h.slice(Math.max(r,u)-u,i-u))}),o}function LPe(e,t){const n={from:0,to:e.content.size};return LG(e,n,t)}function BG(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function zo(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function FG(e,t){const n=zo(t,e.schema),{from:r,to:i,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{a.push(...l.marks)});const o=a.find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function Rn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function BPe(e,t){const n=Rn(t,e.schema),{from:r,to:i}=e.selection,s=[];e.doc.nodesBetween(r,i,o=>{s.push(o)});const a=s.reverse().find(o=>o.type.name===n.name);return a?{...a.attrs}:{}}function nE(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function $G(e,t){const n=nE(typeof t=="string"?t:t.name,e.schema);return n==="node"?BPe(e,t):n==="mark"?FG(e,t):{}}function FPe(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function $Pe(e){const t=FPe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function UG(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((o,l)=>{a.push({from:o,to:l})});else{const{from:o,to:l}=n[s];if(o===void 0||l===void 0)return;a.push({from:o,to:l})}a.forEach(({from:o,to:l})=>{const u=t.slice(s).map(o,-1),d=t.slice(s).map(l),f=t.invert().map(u,-1),h=t.invert().map(d);r.push({oldRange:{from:f,to:h},newRange:{from:u,to:d}})})}),$Pe(r)}function oI(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function rb(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:oI(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function zG(e,t,n={}){return e.find(r=>r.type===t&&rb(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function s6(e,t,n={}){return!!zG(e,t,n)}function lI(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!zG([...i.node.marks],t,n)))return;let a=i.index,o=e.start()+i.offset,l=a+1,u=o+i.node.nodeSize;for(;a>0&&s6([...e.parent.child(a-1).marks],t,n);)a-=1,o-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&s6([...e.parent.child(l).marks],t,n);)u+=e.parent.child(l).nodeSize,l+=1;return{from:o,to:u}}function cI(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const s=n.resolve(e),a=lI(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(e,t,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var UPe=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const o=i.node(s);(o==null?void 0:o.type.name)===t?a=o:s-=1}return[a,s]};function wN(e,t){return t.nodes[e]||t.marks[e]||null}function oy(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(s=>s.type===t&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var zPe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,s,a,o)=>{var l,u;const d=((u=(l=i.type.spec).toText)==null?void 0:u.call(l,{node:i,pos:s,parent:a,index:o}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function $C(e,t,n={}){const{empty:r,ranges:i}=e.selection,s=t?zo(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>rb(f.attrs,n,{strict:!1}));let a=0;const o=[];if(i.forEach(({$from:f,$to:h})=>{const p=f.pos,m=h.pos;e.doc.nodesBetween(p,m,(g,v)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(p,v),x=Math.min(m,v+g.nodeSize),w=x-y;a+=w,o.push(...g.marks.map(E=>({mark:E,from:y,to:x})))})}),a===0)return!1;const l=o.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>rb(f.mark.attrs,n,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),u=o.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,h)=>f+h.to-h.from,0);return(l>0?l+u:l)>=a}function ec(e,t,n={}){const{from:r,to:i,empty:s}=e.selection,a=t?Rn(t,e.schema):null,o=[];e.doc.nodesBetween(r,i,(f,h)=>{if(f.isText)return;const p=Math.max(r,h),m=Math.min(i,h+f.nodeSize);o.push({node:f,from:p,to:m})});const l=i-r,u=o.filter(f=>a?a.name===f.node.type.name:!0).filter(f=>rb(f.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((f,h)=>f+h.to-h.from,0)>=l}function HPe(e,t,n={}){if(!t)return ec(e,null,n)||$C(e,null,n);const r=nE(t,e.schema);return r==="node"?ec(e,t,n):r==="mark"?$C(e,t,n):!1}var WPe=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const s=tE(o=>o.type.name===t)(e.selection);if(!s)return!1;const a=e.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},VPe=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function a6(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function o6(e,t){const{nodeExtensions:n}=rg(t),r=n.find(a=>a.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=yt(Fe(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function rE(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(s=>{i!==!1&&(rE(s,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function HG(e){return e instanceof Ue}function WG(e){return e instanceof He}function nu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function VG(e,t=null){if(!t)return null;const n=Xe.atStart(e),r=Xe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,s=r.to;return t==="all"?He.create(e,nu(0,i,s),nu(e.content.size,i,s)):He.create(e,nu(t,i,s),nu(t,i,s))}function qPe(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof Qn||i instanceof rr))return;const s=e.mapping.maps[r];let a=0;s.forEach((o,l,u,d)=>{a===0&&(a=d)}),e.setSelection(Xe.near(e.doc.resolve(a),n))}var iE=class{constructor(e){this.find=e.find,this.handler=e.handler}},KPe=(e,t)=>{if(oI(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function yv(e){var t;const{editor:n,from:r,to:i,text:s,rules:a,plugin:o}=e,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||(t=u.nodeBefore||u.nodeAfter)!=null&&t.marks.find(h=>h.type.spec.code))return!1;let d=!1;const f=zPe(u)+s;return a.forEach(h=>{if(d)return;const p=KPe(f,h.find);if(!p)return;const m=l.state.tr,g=Zw({state:l.state,transaction:m}),v={from:r-(p[0].length-s.length),to:i},{commands:y,chain:x,can:w}=new eE({editor:n,state:g});h.handler({state:g,range:v,match:p,commands:y,chain:x,can:w})===null||!m.steps.length||(m.setMeta(o,{transform:m,from:r,to:i,text:s}),l.dispatch(m),d=!0)}),d}function GPe(e){const{editor:t,rules:n}=e,r=new Qt({state:{init(){return null},apply(i,s,a){const o=i.getMeta(r);if(o)return o;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=sI(ce.from(d),a.schema);const{from:f}=l,h=f+d.length;yv({editor:t,from:f,to:h,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,o){return yv({editor:t,from:s,to:a,text:o,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&yv({editor:t,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?yv({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function YPe(e){return Object.prototype.toString.call(e).slice(8,-1)}function xv(e){return YPe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function qG(e,t){const n={...e};return xv(e)&&xv(t)&&Object.keys(t).forEach(r=>{xv(t[r])&&xv(e[r])?n[r]=qG(e[r],t[r]):n[r]=t[r]}),n}var uI=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...yt(Fe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...yt(Fe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>qG(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},wc=class KG extends uI{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new KG(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=a.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function XPe(e){return typeof e=="number"}var QPe=class{constructor(e){this.find=e.find,this.handler=e.handler}},JPe=(e,t,n)=>{if(oI(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=e,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function ZPe(e){const{editor:t,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:o}=e,{commands:l,chain:u,can:d}=new eE({editor:t,state:n}),f=[];return n.doc.nodesBetween(r,i,(p,m)=>{var g,v,y,x,w;if((v=(g=p.type)==null?void 0:g.spec)!=null&&v.code||!(p.isText||p.isTextblock||p.isInline))return;const E=(w=(x=(y=p.content)==null?void 0:y.size)!=null?x:p.nodeSize)!=null?w:0,_=Math.max(r,m),N=Math.min(i,m+E);if(_>=N)return;const T=p.isText?p.text||"":p.textBetween(_-m,N-m,void 0,"");JPe(T,s.find,a).forEach(O=>{if(O.index===void 0)return;const A=_+O.index+1,D=A+O[0].length,k={from:n.tr.mapping.map(A),to:n.tr.mapping.map(D)},P=s.handler({state:n,range:k,match:O,commands:l,chain:u,can:d,pasteEvent:a,dropEvent:o});f.push(P)})}),f.every(p=>p!==null)}var bv=null,eDe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function tDe(e){const{editor:t,rules:n}=e;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const l=({state:d,from:f,to:h,rule:p,pasteEvt:m})=>{const g=d.tr,v=Zw({state:d,transaction:g});if(!(!ZPe({editor:t,state:v,from:Math.max(f-1,0),to:h.b-1,rule:p,pasteEvent:m,dropEvent:o})||!g.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(d=>new Qt({view(f){const h=m=>{var g;r=(g=f.dom.parentElement)!=null&&g.contains(m.target)?f.dom.parentElement:null,r&&(bv=t)},p=()=>{bv&&(bv=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(f,h)=>{if(s=r===f.dom.parentElement,o=h,!s){const p=bv;p!=null&&p.isEditable&&setTimeout(()=>{const m=p.state.selection;m&&p.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(f,h)=>{var p;const m=(p=h.clipboardData)==null?void 0:p.getData("text/html");return a=h,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(f,h,p)=>{const m=f[0],g=m.getMeta("uiEvent")==="paste"&&!i,v=m.getMeta("uiEvent")==="drop"&&!s,y=m.getMeta("applyPasteRules"),x=!!y;if(!g&&!v&&!x)return;if(x){let{text:_}=y;typeof _=="string"?_=_:_=sI(ce.from(_),p.schema);const{from:N}=y,T=N+_.length,C=eDe(_);return l({rule:d,state:p,from:N,to:{b:T},pasteEvt:C})}const w=h.doc.content.findDiffStart(p.doc.content),E=h.doc.content.findDiffEnd(p.doc.content);if(!(!XPe(w)||!E||w===E.b))return l({rule:d,state:p,from:w,to:E,pasteEvt:a})}}))}var sE=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=RG(e),this.schema=MPe(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:wN(t.name,this.schema)},r=Fe(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return aI([...this.extensions].reverse()).map(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:wN(r.name,this.schema)},s=[],a=Fe(r,"addKeyboardShortcuts",i);let o={};if(r.type==="mark"&&Fe(r,"exitable",i)&&(o.ArrowRight=()=>wc.handleExit({editor:e,mark:r})),a){const h=Object.fromEntries(Object.entries(a()).map(([p,m])=>[p,()=>m({editor:e})]));o={...o,...h}}const l=lPe(o);s.push(l);const u=Fe(r,"addInputRules",i);if(a6(r,e.options.enableInputRules)&&u){const h=u();if(h&&h.length){const p=GPe({editor:e,rules:h}),m=Array.isArray(p)?p:[p];s.push(...m)}}const d=Fe(r,"addPasteRules",i);if(a6(r,e.options.enablePasteRules)&&d){const h=d();if(h&&h.length){const p=tDe({editor:e,rules:h});s.push(...p)}}const f=Fe(r,"addProseMirrorPlugins",i);if(f){const h=f();s.push(...h)}return s}).flat()}get attributes(){return MG(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=rg(this.extensions);return Object.fromEntries(t.filter(n=>!!Fe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(o=>o.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Rn(n.name,this.schema)},s=Fe(n,"addNodeView",i);if(!s)return[];const a=(o,l,u,d,f)=>{const h=nb(o,r);return s()({node:o,view:l,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:n,HTMLAttributes:h})};return[n.name,a]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=rg(this.extensions);return Object.fromEntries(t.filter(n=>!!Fe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(o=>o.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:zo(n.name,this.schema)},s=Fe(n,"addMarkView",i);if(!s)return[];const a=(o,l,u)=>{const d=nb(o,r);return s()({mark:o,view:l,inline:u,editor:e,extension:n,HTMLAttributes:d,updateAttributes:f=>{gMe(o,e,f)}})};return[n.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:wN(t.name,this.schema)};t.type==="mark"&&((n=yt(Fe(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=Fe(t,"onBeforeCreate",r),s=Fe(t,"onCreate",r),a=Fe(t,"onUpdate",r),o=Fe(t,"onSelectionUpdate",r),l=Fe(t,"onTransaction",r),u=Fe(t,"onFocus",r),d=Fe(t,"onBlur",r),f=Fe(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};sE.resolve=RG;sE.sort=aI;sE.flatten=iI;var nDe={};OG(nDe,{ClipboardTextSerializer:()=>YG,Commands:()=>JG,Delete:()=>ZG,Drop:()=>eY,Editable:()=>tY,FocusEvents:()=>rY,Keymap:()=>iY,Paste:()=>sY,Tabindex:()=>aY,focusEventsPluginKey:()=>nY});var bn=class GG extends uI{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new GG(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},YG=bn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Qt({key:new xn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:s}=i,a=Math.min(...s.map(d=>d.$from.pos)),o=Math.max(...s.map(d=>d.$to.pos)),l=BG(n);return LG(r,{from:a,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),XG={};OG(XG,{blur:()=>rDe,clearContent:()=>iDe,clearNodes:()=>sDe,command:()=>aDe,createParagraphNear:()=>oDe,cut:()=>lDe,deleteCurrentNode:()=>cDe,deleteNode:()=>uDe,deleteRange:()=>dDe,deleteSelection:()=>fDe,enter:()=>hDe,exitCode:()=>pDe,extendMarkRange:()=>mDe,first:()=>gDe,focus:()=>yDe,forEach:()=>xDe,insertContent:()=>bDe,insertContentAt:()=>EDe,joinBackward:()=>_De,joinDown:()=>NDe,joinForward:()=>TDe,joinItemBackward:()=>CDe,joinItemForward:()=>kDe,joinTextblockBackward:()=>ADe,joinTextblockForward:()=>ODe,joinUp:()=>SDe,keyboardShortcut:()=>IDe,lift:()=>PDe,liftEmptyBlock:()=>DDe,liftListItem:()=>MDe,newlineInCode:()=>RDe,resetAttributes:()=>LDe,scrollIntoView:()=>BDe,selectAll:()=>FDe,selectNodeBackward:()=>$De,selectNodeForward:()=>UDe,selectParentNode:()=>zDe,selectTextblockEnd:()=>HDe,selectTextblockStart:()=>WDe,setContent:()=>VDe,setMark:()=>KDe,setMeta:()=>GDe,setNode:()=>YDe,setNodeSelection:()=>XDe,setTextSelection:()=>QDe,sinkListItem:()=>JDe,splitBlock:()=>ZDe,splitListItem:()=>eMe,toggleList:()=>tMe,toggleMark:()=>nMe,toggleNode:()=>rMe,toggleWrap:()=>iMe,undoInputRule:()=>sMe,unsetAllMarks:()=>aMe,unsetMark:()=>oMe,updateAttributes:()=>lMe,wrapIn:()=>cMe,wrapInList:()=>uMe});var rDe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),iDe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),sDe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(o,l)=>{if(o.type.isText)return;const{doc:u,mapping:d}=t,f=u.resolve(d.map(l)),h=u.resolve(d.map(l+o.nodeSize)),p=f.blockRange(h);if(!p)return;const m=Nh(p);if(o.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(p.start,g)}(m||m===0)&&t.lift(p,m)})}),!0},aDe=e=>t=>e(t),oDe=()=>({state:e,dispatch:t})=>TG(e,t),lDe=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new He(r.doc.resolve(Math.max(a-1,0)))),!0},cDe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(t){const o=i.before(s),l=i.after(s);e.delete(o,l).scrollIntoView()}return!0}return!1},uDe=e=>({tr:t,state:n,dispatch:r})=>{const i=Rn(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const l=s.before(a),u=s.after(a);t.delete(l,u).scrollIntoView()}return!0}return!1},dDe=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},fDe=()=>({state:e,dispatch:t})=>Zj(e,t),hDe=()=>({commands:e})=>e.keyboardShortcut("Enter"),pDe=()=>({state:e,dispatch:t})=>pPe(e,t),mDe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const s=zo(e,r.schema),{doc:a,selection:o}=n,{$from:l,from:u,to:d}=o;if(i){const f=lI(l,s,t);if(f&&f.from<=u&&f.to>=d){const h=He.create(a,f.from,f.to);n.setSelection(h)}}return!0},gDe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function vDe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function dI(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var yDe=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(dI()||vDe())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!WG(n.state.selection))return a(),!0;const o=VG(i.doc,e)||n.state.selection,l=n.state.selection.eq(o);return s&&(l||i.setSelection(o),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},xDe=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),bDe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),wDe=e=>!("type"in e),EDe=(e,t,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let o;const{selection:l}=s.state,u=y=>{s.emit("contentError",{editor:s,error:y,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{ng(t,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(y){u(y)}try{o=ng(t,s.schema,{parseOptions:d,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(y){return u(y),!1}let{from:f,to:h}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},p=!0,m=!0;if((wDe(o)?o:[o]).forEach(y=>{y.check(),p=p?y.isText&&y.marks.length===0:!1,m=m?y.isBlock:!1}),f===h&&m){const{parent:y}=r.doc.resolve(f);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(f-=1,h+=1)}let v;if(p){if(Array.isArray(t))v=t.map(y=>y.text||"").join("");else if(t instanceof ce){let y="";t.forEach(x=>{x.text&&(y+=x.text)}),v=y}else typeof t=="object"&&t&&t.text?v=t.text:v=t;r.insertText(v,f,h)}else{v=o;const y=l.$from.parentOffset===0,x=l.$from.node().isText||l.$from.node().isTextblock,w=l.$from.node().content.size>0;y&&x&&w&&(f=Math.max(0,f-1)),r.replaceWith(f,h,v)}n.updateSelection&&qPe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:v})}return!0},SDe=()=>({state:e,dispatch:t})=>dPe(e,t),NDe=()=>({state:e,dispatch:t})=>fPe(e,t),_De=()=>({state:e,dispatch:t})=>xG(e,t),TDe=()=>({state:e,dispatch:t})=>SG(e,t),CDe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Kw(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},kDe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Kw(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},ADe=()=>({state:e,dispatch:t})=>cPe(e,t),ODe=()=>({state:e,dispatch:t})=>uPe(e,t);function QG(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function jDe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let o=0;o<t.length-1;o+=1){const l=t[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))dI()||QG()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var IDe=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const s=jDe(e).split(/-(?!$)/),a=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,o))});return l==null||l.steps.forEach(u=>{const d=u.map(r.mapping);d&&i&&r.maybeStep(d)}),!0},PDe=(e,t={})=>({state:n,dispatch:r})=>{const i=Rn(e,n.schema);return ec(n,i,t)?hPe(n,r):!1},DDe=()=>({state:e,dispatch:t})=>CG(e,t),MDe=e=>({state:t,dispatch:n})=>{const r=Rn(e,t.schema);return _Pe(r)(t,n)},RDe=()=>({state:e,dispatch:t})=>_G(e,t);function l6(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var LDe=(e,t)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=nE(typeof e=="string"?e:e.name,r.schema);return o?(o==="node"&&(s=Rn(e,r.schema)),o==="mark"&&(a=zo(e,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,d)=>{s&&s===u.type&&n.setNodeMarkup(d,void 0,l6(u.attrs,t)),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&n.addMark(d,d+u.nodeSize,a.create(l6(f.attrs,t)))})})}),!0):!1},BDe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),FDe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Wi(e.doc);e.setSelection(n)}return!0},$De=()=>({state:e,dispatch:t})=>wG(e,t),UDe=()=>({state:e,dispatch:t})=>NG(e,t),zDe=()=>({state:e,dispatch:t})=>vPe(e,t),HDe=()=>({state:e,dispatch:t})=>bPe(e,t),WDe=()=>({state:e,dispatch:t})=>xPe(e,t),VDe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:o})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const u=BC(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),o.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function qDe(e,t,n){var r;const{selection:i}=t;let s=null;if(WG(i)&&(s=i.$cursor),s){const o=(r=e.storedMarks)!=null?r:s.marks();return!!n.isInSet(o)||!o.some(l=>l.type.excludes(n))}const{ranges:a}=i;return a.some(({$from:o,$to:l})=>{let u=o.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(o.pos,l.pos,(d,f,h)=>{if(u)return!1;if(d.isInline){const p=!h||h.type.allowsMarkType(n),m=!!n.isInSet(d.marks)||!d.marks.some(g=>g.type.excludes(n));u=p&&m}return!u}),u})}var KDe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:o}=s,l=zo(e,r.schema);if(i)if(a){const u=FG(r,l);n.addStoredMark(l.create({...u,...t}))}else o.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(d,f,(h,p)=>{const m=Math.max(p,d),g=Math.min(p+h.nodeSize,f);h.marks.find(y=>y.type===l)?h.marks.forEach(y=>{l===y.type&&n.addMark(m,g,l.create({...y.attrs,...t}))}):n.addMark(m,g,l.create(t))})});return qDe(r,n,l)},GDe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),YDe=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const s=Rn(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:o})=>n6(s,{...a,...t})(n)?!0:o.clearNodes()).command(({state:o})=>n6(s,{...a,...t})(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},XDe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=nu(e,0,r.content.size),s=Ue.create(r,i);t.setSelection(s)}return!0},QDe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:s}=typeof e=="number"?{from:e,to:e}:e,a=He.atStart(r).from,o=He.atEnd(r).to,l=nu(i,a,o),u=nu(s,a,o),d=He.create(r,l,u);t.setSelection(d)}return!0},JDe=e=>({state:t,dispatch:n})=>{const r=Rn(e,t.schema);return kPe(r)(t,n)};function c6(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}var ZDe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=t,{$from:o,$to:l}=s,u=i.extensionManager.attributes,d=oy(u,o.node().type.name,o.node().attrs);if(s instanceof Ue&&s.node.isBlock)return!o.parentOffset||!yo(a,o.pos)?!1:(r&&(e&&c6(n,i.extensionManager.splittableMarks),t.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,h=o.depth===0?void 0:jPe(o.node(-1).contentMatchAt(o.indexAfter(-1)));let p=f&&h?[{type:h,attrs:d}]:void 0,m=yo(t.doc,t.mapping.map(o.pos),1,p);if(!p&&!m&&yo(t.doc,t.mapping.map(o.pos),1,h?[{type:h}]:void 0)&&(m=!0,p=h?[{type:h,attrs:d}]:void 0),r){if(m&&(s instanceof He&&t.deleteSelection(),t.split(t.mapping.map(o.pos),1,p),h&&!f&&!o.parentOffset&&o.parent.type!==h)){const g=t.mapping.map(o.before()),v=t.doc.resolve(g);o.node(-1).canReplaceWith(v.index(),v.index()+1,h)&&t.setNodeMarkup(t.mapping.map(o.before()),h)}e&&c6(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return m},eMe=(e,t={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const o=Rn(e,r.schema),{$from:l,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(u))return!1;const f=l.node(-1);if(f.type!==o)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=ce.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-x;C>=l.depth-3;C-=1)y=ce.from(l.node(C).copy(y));const w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,E={...oy(h,l.node().type.name,l.node().attrs),...t},_=((a=o.contentMatch.defaultType)==null?void 0:a.createAndFill(E))||void 0;y=y.append(ce.from(o.createAndFill(null,_)||void 0));const N=l.before(l.depth-(x-1));n.replace(N,l.after(-w),new Ce(y,4-x,0));let T=-1;n.doc.nodesBetween(N,n.doc.content.size,(C,O)=>{if(T>-1)return!1;C.isTextblock&&C.content.size===0&&(T=O+1)}),T>-1&&n.setSelection(He.near(n.doc.resolve(T))),n.scrollIntoView()}return!0}const p=u.pos===l.end()?f.contentMatchAt(0).defaultType:null,m={...oy(h,f.type.name,f.attrs),...t},g={...oy(h,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,u.pos);const v=p?[{type:o,attrs:m},{type:p,attrs:g}]:[{type:o,attrs:m}];if(!yo(n.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:x}=r,{splittableMarks:w}=s.extensionManager,E=x||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!E||!i)return!0;const _=E.filter(N=>w.includes(N.type.name));n.ensureMarks(_)}return!0},EN=(e,t)=>{const n=tE(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&xc(e.doc,n.pos)&&e.join(n.pos),!0},SN=(e,t)=>{const n=tE(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&xc(e.doc,r)&&e.join(r),!0},tMe=(e,t,n,r={})=>({editor:i,tr:s,state:a,dispatch:o,chain:l,commands:u,can:d})=>{const{extensions:f,splittableMarks:h}=i.extensionManager,p=Rn(e,a.schema),m=Rn(t,a.schema),{selection:g,storedMarks:v}=a,{$from:y,$to:x}=g,w=y.blockRange(x),E=v||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const _=tE(N=>o6(N.type.name,f))(g);if(w.depth>=1&&_&&w.depth-_.depth<=1){if(_.node.type===p)return u.liftListItem(m);if(o6(_.node.type.name,f)&&p.validContent(_.node.content)&&o)return l().command(()=>(s.setNodeMarkup(_.pos,p),!0)).command(()=>EN(s,p)).command(()=>SN(s,p)).run()}return!n||!E||!o?l().command(()=>d().wrapInList(p,r)?!0:u.clearNodes()).wrapInList(p,r).command(()=>EN(s,p)).command(()=>SN(s,p)).run():l().command(()=>{const N=d().wrapInList(p,r),T=E.filter(C=>h.includes(C.type.name));return s.ensureMarks(T),N?!0:u.clearNodes()}).wrapInList(p,r).command(()=>EN(s,p)).command(()=>SN(s,p)).run()},nMe=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=zo(e,r.schema);return $C(r,a,t)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,t)},rMe=(e,t,n={})=>({state:r,commands:i})=>{const s=Rn(e,r.schema),a=Rn(t,r.schema),o=ec(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),o?i.setNode(a,l):i.setNode(s,{...l,...n})},iMe=(e,t={})=>({state:n,commands:r})=>{const i=Rn(e,n.schema);return ec(n,i,t)?r.lift(i):r.wrapIn(i,t)},sMe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(e))){if(t){const a=e.tr,o=s.transform;for(let l=o.steps.length-1;l>=0;l-=1)a.step(o.steps[l].invert(o.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},aMe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},oMe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:o}=n,l=zo(e,r.schema),{$from:u,empty:d,ranges:f}=o;if(!i)return!0;if(d&&a){let{from:h,to:p}=o;const m=(s=u.marks().find(v=>v.type===l))==null?void 0:s.attrs,g=lI(u,l,m);g&&(h=g.from,p=g.to),n.removeMark(h,p,l)}else f.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},lMe=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const o=nE(typeof e=="string"?e:e.name,r.schema);return o?(o==="node"&&(s=Rn(e,r.schema)),o==="mark"&&(a=zo(e,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,d=l.$to.pos;let f,h,p,m;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(p=Math.max(v,u),m=Math.min(v+g.nodeSize,d),f=v,h=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(p=Math.max(v,u),m=Math.min(v+g.nodeSize,d),f=v,h=g),v>=u&&v<=d&&(s&&s===g.type&&n.setNodeMarkup(v,void 0,{...g.attrs,...t}),a&&g.marks.length&&g.marks.forEach(y=>{if(a===y.type){const x=Math.max(v,u),w=Math.min(v+g.nodeSize,d);n.addMark(x,w,a.create({...y.attrs,...t}))}}))}),h&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...h.attrs,...t}),a&&h.marks.length&&h.marks.forEach(g=>{a===g.type&&n.addMark(p,m,a.create({...g.attrs,...t}))}))}),!0):!1},cMe=(e,t={})=>({state:n,dispatch:r})=>{const i=Rn(e,n.schema);return wPe(i,t)(n,r)},uMe=(e,t={})=>({state:n,dispatch:r})=>{const i=Rn(e,n.schema);return EPe(i,t)(n,r)},JG=bn.create({name:"commands",addCommands(){return{...XG}}}),ZG=bn.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const s=()=>{var a,o,l,u;if((u=(l=(o=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:o.filterTransaction)==null?void 0:l.call(o,e))!=null?u:e.getMeta("y-sync$"))return;const d=jG(e.before,[e,...t]);UG(d).forEach(p=>{d.mapping.mapResult(p.oldRange.from).deletedAfter&&d.mapping.mapResult(p.oldRange.to).deletedBefore&&d.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,g)=>{const v=g+m.nodeSize-2,y=p.oldRange.from<=g&&v<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:v,newFrom:d.mapping.map(g),newTo:d.mapping.map(v),deletedRange:p.oldRange,newRange:p.newRange,partial:!y,editor:this.editor,transaction:e,combinedTransform:d})})});const h=d.mapping;d.steps.forEach((p,m)=>{var g,v;if(p instanceof Ys){const y=h.slice(m).map(p.from,-1),x=h.slice(m).map(p.to),w=h.invert().map(y,-1),E=h.invert().map(x),_=(g=d.doc.nodeAt(y-1))==null?void 0:g.marks.some(T=>T.eq(p.mark)),N=(v=d.doc.nodeAt(x))==null?void 0:v.marks.some(T=>T.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:w,to:E},newRange:{from:y,to:x},partial:!!(N||_),editor:this.editor,transaction:e,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),eY=bn.create({name:"drop",addProseMirrorPlugins(){return[new Qt({key:new xn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),tY=bn.create({name:"editable",addProseMirrorPlugins(){return[new Qt({key:new xn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),nY=new xn("focusEvents"),rY=bn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Qt({key:nY,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),iY=bn.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{const{selection:l,doc:u}=o,{empty:d,$anchor:f}=l,{pos:h,parent:p}=f,m=f.parent.isTextblock&&h>0?o.doc.resolve(h-1):f,g=m.parent.type.spec.isolating,v=f.pos-f.parentOffset,y=g&&m.parent.childCount===1?v===f.pos:Xe.atStart(u).from===h;return!d||!p.type.isTextblock||p.textContent.length||!y||y&&f.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return dI()||QG()?s:i},addProseMirrorPlugins(){return[new Qt({key:new xn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(g=>g.getMeta("composition")))return;const r=e.some(g=>g.docChanged)&&!t.doc.eq(n.doc),i=e.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:o}=t.selection,l=Xe.atStart(t.doc).from,u=Xe.atEnd(t.doc).to;if(s||!(a===l&&o===u)||!rE(n.doc))return;const h=n.tr,p=Zw({state:n,transaction:h}),{commands:m}=new eE({editor:this.editor,state:p});if(m.clearNodes(),!!h.steps.length)return h}})]}}),sY=bn.create({name:"paste",addProseMirrorPlugins(){return[new Qt({key:new xn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),aY=bn.create({name:"tabindex",addProseMirrorPlugins(){return[new Qt({key:new xn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),dMe=class _d{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new _d(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new _d(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new _d(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(a);if(!i&&o.depth<=this.depth)return;const l=new _d(o,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new _d(o,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let o=0;o<a.length;o+=1){const l=a[o];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===t&&s.every(l=>n[l]===a.node.attrs[l])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},fMe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function hMe(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var pMe=class extends OPe{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=VG(t,this.options.autofocus);this.editorState=Vd.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=hMe(fMe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.editorState=this.state.apply(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=DG(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[tY,YG.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),JG,rY,iY,aY,eY,sY,ZG].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new sE(r,this)}createCommandManager(){this.commandManager=new eE({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=BC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=BC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new vG(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),o=a==null?void 0:a.getMeta("focus"),l=a==null?void 0:a.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:a}),l&&this.emit("blur",{editor:this,event:l.event,transaction:a}),!(e.getMeta("preventUpdate")||!n.some(u=>u.docChanged)||s.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return $G(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return HPe(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return sI(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return LPe(this.state.doc,{blockSeparator:t,textSerializers:{...BG(this.schema),...n}})}get isEmpty(){return rE(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new dMe(t,this)}get $doc(){return this.$pos(0)}};function Bu(e){return new iE({find:e.find,handler:({state:t,range:n,match:r})=>{const i=yt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=t,a=r[r.length-1],o=r[0];if(a){const l=o.search(/\S/),u=n.from+o.indexOf(a),d=u+a.length;if(cI(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(g=>g===e.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;d<n.to&&s.delete(d,n.to),u>n.from&&s.delete(n.from+l,u);const h=n.from+l+a.length;s.addMark(n.from+l,h,e.type.create(i||{})),s.removeStoredMark(e.type)}}})}function oY(e){return new iE({find:e.find,handler:({state:t,range:n,match:r})=>{const i=yt(e.getAttributes,void 0,r)||{},{tr:s}=t,a=n.from;let o=n.to;const l=e.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=a+u;d>o?d=o:o=d+r[1].length;const f=r[0][r[0].length-1];s.insertText(f,a+r[0].length-1),s.replaceWith(d,o,l)}else if(r[0]){const u=e.type.isInline?a:a-1;s.insert(u,e.type.create(i)).delete(s.mapping.map(a),s.mapping.map(o))}s.scrollIntoView()}})}function UC(e){return new iE({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),s=yt(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)}})}function Vf(e){return new iE({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const s=yt(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),u=l&&$j(l,e.type,s);if(!u)return null;if(a.wrap(l,u),e.keepMarks&&e.editor){const{selection:f,storedMarks:h}=t,{splittableMarks:p}=e.editor.extensionManager,m=h||f.$to.parentOffset&&f.$from.marks();if(m){const g=m.filter(v=>p.includes(v.type.name));a.ensureMarks(g)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const d=a.doc.resolve(n.from-1).nodeBefore;d&&d.type===e.type&&xc(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,d))&&a.join(n.from-1)}})}function mMe(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Ue){const s=r.index();return r.parent.canReplaceWith(s,s+1,t)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(t))return!0;i-=1}return!1}function gMe(e,t,n={}){const{state:r}=t,{doc:i,tr:s}=r,a=e;i.descendants((o,l)=>{const u=s.mapping.map(l),d=s.mapping.map(l)+o.nodeSize;let f=null;if(o.marks.forEach(p=>{if(p!==a)return!1;f=p}),!f)return;let h=!1;if(Object.keys(n).forEach(p=>{n[p]!==f.attrs[p]&&(h=!0)}),h){const p=e.type.create({...e.attrs,...n});s.removeMark(u,d,e.type),s.addMark(u,d,p)}}),s.docChanged&&t.view.dispatch(s)}var cr=class lY extends uI{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new lY(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function tc(e){return new QPe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const s=yt(e.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=t,o=r[r.length-1],l=r[0];let u=n.to;if(o){const d=l.search(/\S/),f=n.from+l.indexOf(o),h=f+o.length;if(cI(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(v=>v===e.type&&v!==m.mark.type)).filter(m=>m.to>f).length)return null;h<n.to&&a.delete(h,n.to),f>n.from&&a.delete(n.from+d,f),u=n.from+d+o.length,a.addMark(n.from+d,u,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}var vMe=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&t.$$typeof)&&!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};const yMe=Br(vMe);var xMe=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},bMe=({contentComponent:e})=>{const t=$2.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return c.jsx(c.Fragment,{children:Object.values(t)})};function wMe(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:jA.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var EMe=class extends nt.Component{constructor(e){var t;super(e),this.editorContentRef=nt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=wMe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null,!((e=t.options.element)!=null&&e.firstChild)))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:e,innerRef:t,...n}=this.props;return c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:xMe(t,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&c.jsx(bMe,{contentComponent:e.contentComponent})]})}},SMe=b.forwardRef((e,t)=>{const n=nt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return nt.createElement(EMe,{key:n,innerRef:t,...e})}),NMe=nt.memo(SMe),_Me=typeof window<"u"?b.useLayoutEffect:b.useEffect,TMe=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function CMe(e){var t;const[n]=b.useState(()=>new TMe(e.editor)),r=u9.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:yMe);return _Me(()=>n.watch(e.editor),[e.editor,n]),b.useDebugValue(r),r}var kMe=!1,zC=typeof window>"u",AMe=zC||!!(typeof window<"u"&&window.next),OMe=class cY{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?zC||AMe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new pMe(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?cY.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function jMe(e={},t=[]){const n=b.useRef(e);n.current=e;const[r]=b.useState(()=>new OMe(n)),i=$2.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return b.useDebugValue(i),b.useEffect(r.onRender(t)),CMe({editor:i,selector:({transactionNumber:s})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&s===0?0:s+1}),i}var IMe=b.createContext({editor:null});IMe.Consumer;var PMe=b.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),DMe=()=>b.useContext(PMe);nt.forwardRef((e,t)=>{const{onDragStart:n}=DMe(),r=e.as||"div";return c.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});nt.createContext({markViewContentRef:()=>{}});var ib=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},MMe=/^\s*>\s$/,RMe=cr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return ib("blockquote",{...Ht(this.options.HTMLAttributes,e),children:ib("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Vf({find:MMe,type:this.type})]}}),LMe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,BMe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,FMe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,$Me=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,UMe=wc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return ib("strong",{...Ht(this.options.HTMLAttributes,e),children:ib("slot",{})})},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Bu({find:LMe,type:this.type}),Bu({find:FMe,type:this.type})]},addPasteRules(){return[tc({find:BMe,type:this.type}),tc({find:$Me,type:this.type})]}}),zMe=/(^|[^`])`([^`]+)`(?!`)/,HMe=/(^|[^`])`([^`]+)`(?!`)/g,WMe=wc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Ht(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Bu({find:zMe,type:this.type})]},addPasteRules(){return[tc({find:HMe,type:this.type})]}}),VMe=/^```([a-z]+)?[\s\n]$/,qMe=/^~~~([a-z]+)?[\s\n]$/,uY=cr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,s=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Ht(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:e.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:r.nodeAt(o)?e.commands.command(({tr:u})=>(u.setSelection(Xe.near(r.resolve(o))),!0)):e.commands.exitCode()}}},addInputRules(){return[UC({find:VMe,type:this.type,getAttributes:e=>({language:e[1]})}),UC({find:qMe,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Qt({key:new xn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:a,schema:o}=e.state,l=o.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(He.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),KMe=uY,GMe=cr.create({name:"doc",topNode:!0,content:"block+"}),YMe=cr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Ht(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:o}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&l&&a){const f=l.filter(h=>o.includes(h.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),XMe=cr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Ht(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>UC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),QMe=cr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Ht(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!mMe(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return HG(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:s,dispatch:a})=>{var o;if(a){const{$to:l}=s.selection,u=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?s.setSelection(He.create(s.doc,l.pos+1)):l.nodeAfter.isBlock?s.setSelection(Ue.create(s.doc,l.pos)):s.setSelection(He.create(s.doc,l.pos));else{const d=(o=l.parent.type.contentMatch.defaultType)==null?void 0:o.create();d&&(s.insert(u,d),s.setSelection(He.create(s.doc,u+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[oY({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),JMe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,ZMe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,eRe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,tRe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,nRe=wc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Ht(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Bu({find:JMe,type:this.type}),Bu({find:eRe,type:this.type})]},addPasteRules(){return[tc({find:ZMe,type:this.type}),tc({find:tRe,type:this.type})]}});const rRe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",iRe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",HC="numeric",WC="ascii",VC="alpha",Gp="asciinumeric",_p="alphanumeric",qC="domain",dY="emoji",sRe="scheme",aRe="slashscheme",NN="whitespace";function oRe(e,t){return e in t||(t[e]=[]),t[e]}function ru(e,t,n){t[HC]&&(t[Gp]=!0,t[_p]=!0),t[WC]&&(t[Gp]=!0,t[VC]=!0),t[Gp]&&(t[_p]=!0),t[VC]&&(t[_p]=!0),t[_p]&&(t[qC]=!0),t[dY]&&(t[qC]=!0);for(const r in t){const i=oRe(r,n);i.indexOf(e)<0&&i.push(e)}}function lRe(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function pi(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}pi.groups={};pi.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],s=t.jr[r][1];if(s&&i.test(e))return s}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||pi.groups;let i;return t&&t.j?i=t:(i=new pi(t),n&&r&&ru(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const s=e.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(e[a]);return i.tt(e[s-1],t,n,r)},tt(e,t,n,r){r=r||pi.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const s=t;let a,o=i.go(e);if(o?(a=new pi,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new pi,s){if(r)if(a.t&&typeof a.t=="string"){const l=Object.assign(lRe(a.t,r),n);ru(s,l,r)}else n&&ru(s,n,r);a.t=s}return i.j[e]=a,a}};const tt=(e,t,n,r,i)=>e.ta(t,n,r,i),dn=(e,t,n,r,i)=>e.tr(t,n,r,i),u6=(e,t,n,r,i)=>e.ts(t,n,r,i),me=(e,t,n,r,i)=>e.tt(t,n,r,i),Xa="WORD",KC="UWORD",fY="ASCIINUMERICAL",hY="ALPHANUMERICAL",ig="LOCALHOST",GC="TLD",YC="UTLD",ly="SCHEME",Td="SLASH_SCHEME",fI="NUM",XC="WS",hI="NL",Yp="OPENBRACE",Xp="CLOSEBRACE",sb="OPENBRACKET",ab="CLOSEBRACKET",ob="OPENPAREN",lb="CLOSEPAREN",cb="OPENANGLEBRACKET",ub="CLOSEANGLEBRACKET",db="FULLWIDTHLEFTPAREN",fb="FULLWIDTHRIGHTPAREN",hb="LEFTCORNERBRACKET",pb="RIGHTCORNERBRACKET",mb="LEFTWHITECORNERBRACKET",gb="RIGHTWHITECORNERBRACKET",vb="FULLWIDTHLESSTHAN",yb="FULLWIDTHGREATERTHAN",xb="AMPERSAND",bb="APOSTROPHE",wb="ASTERISK",cl="AT",Eb="BACKSLASH",Sb="BACKTICK",Nb="CARET",gl="COLON",pI="COMMA",_b="DOLLAR",ga="DOT",Tb="EQUALS",mI="EXCLAMATION",as="HYPHEN",Qp="PERCENT",Cb="PIPE",kb="PLUS",Ab="POUND",Jp="QUERY",gI="QUOTE",pY="FULLWIDTHMIDDLEDOT",vI="SEMI",va="SLASH",Zp="TILDE",Ob="UNDERSCORE",mY="EMOJI",jb="SYM";var gY=Object.freeze({__proto__:null,ALPHANUMERICAL:hY,AMPERSAND:xb,APOSTROPHE:bb,ASCIINUMERICAL:fY,ASTERISK:wb,AT:cl,BACKSLASH:Eb,BACKTICK:Sb,CARET:Nb,CLOSEANGLEBRACKET:ub,CLOSEBRACE:Xp,CLOSEBRACKET:ab,CLOSEPAREN:lb,COLON:gl,COMMA:pI,DOLLAR:_b,DOT:ga,EMOJI:mY,EQUALS:Tb,EXCLAMATION:mI,FULLWIDTHGREATERTHAN:yb,FULLWIDTHLEFTPAREN:db,FULLWIDTHLESSTHAN:vb,FULLWIDTHMIDDLEDOT:pY,FULLWIDTHRIGHTPAREN:fb,HYPHEN:as,LEFTCORNERBRACKET:hb,LEFTWHITECORNERBRACKET:mb,LOCALHOST:ig,NL:hI,NUM:fI,OPENANGLEBRACKET:cb,OPENBRACE:Yp,OPENBRACKET:sb,OPENPAREN:ob,PERCENT:Qp,PIPE:Cb,PLUS:kb,POUND:Ab,QUERY:Jp,QUOTE:gI,RIGHTCORNERBRACKET:pb,RIGHTWHITECORNERBRACKET:gb,SCHEME:ly,SEMI:vI,SLASH:va,SLASH_SCHEME:Td,SYM:jb,TILDE:Zp,TLD:GC,UNDERSCORE:Ob,UTLD:YC,UWORD:KC,WORD:Xa,WS:XC});const Ka=/[a-z]/,lp=new RegExp("\\p{L}","u"),_N=new RegExp("\\p{Emoji}","u"),Ga=/\d/,TN=/\s/,d6="\r",CN=`
`,cRe="",uRe="",kN="";let wv=null,Ev=null;function dRe(e=[]){const t={};pi.groups=t;const n=new pi;wv==null&&(wv=f6(rRe)),Ev==null&&(Ev=f6(iRe)),me(n,"'",bb),me(n,"{",Yp),me(n,"}",Xp),me(n,"[",sb),me(n,"]",ab),me(n,"(",ob),me(n,")",lb),me(n,"<",cb),me(n,">",ub),me(n,"",db),me(n,"",fb),me(n,"",hb),me(n,"",pb),me(n,"",mb),me(n,"",gb),me(n,"",vb),me(n,"",yb),me(n,"&",xb),me(n,"*",wb),me(n,"@",cl),me(n,"`",Sb),me(n,"^",Nb),me(n,":",gl),me(n,",",pI),me(n,"$",_b),me(n,".",ga),me(n,"=",Tb),me(n,"!",mI),me(n,"-",as),me(n,"%",Qp),me(n,"|",Cb),me(n,"+",kb),me(n,"#",Ab),me(n,"?",Jp),me(n,'"',gI),me(n,"/",va),me(n,";",vI),me(n,"~",Zp),me(n,"_",Ob),me(n,"\\",Eb),me(n,"",pY);const r=dn(n,Ga,fI,{[HC]:!0});dn(r,Ga,r);const i=dn(r,Ka,fY,{[Gp]:!0}),s=dn(r,lp,hY,{[_p]:!0}),a=dn(n,Ka,Xa,{[WC]:!0});dn(a,Ga,i),dn(a,Ka,a),dn(i,Ga,i),dn(i,Ka,i);const o=dn(n,lp,KC,{[VC]:!0});dn(o,Ka),dn(o,Ga,s),dn(o,lp,o),dn(s,Ga,s),dn(s,Ka),dn(s,lp,s);const l=me(n,CN,hI,{[NN]:!0}),u=me(n,d6,XC,{[NN]:!0}),d=dn(n,TN,XC,{[NN]:!0});me(n,kN,d),me(u,CN,l),me(u,kN,d),dn(u,TN,d),me(d,d6),me(d,CN),dn(d,TN,d),me(d,kN,d);const f=dn(n,_N,mY,{[dY]:!0});me(f,"#"),dn(f,_N,f),me(f,cRe,f);const h=me(f,uRe);me(h,"#"),dn(h,_N,f);const p=[[Ka,a],[Ga,i]],m=[[Ka,null],[lp,o],[Ga,s]];for(let g=0;g<wv.length;g++)Qo(n,wv[g],GC,Xa,p);for(let g=0;g<Ev.length;g++)Qo(n,Ev[g],YC,KC,m);ru(GC,{tld:!0,ascii:!0},t),ru(YC,{utld:!0,alpha:!0},t),Qo(n,"file",ly,Xa,p),Qo(n,"mailto",ly,Xa,p),Qo(n,"http",Td,Xa,p),Qo(n,"https",Td,Xa,p),Qo(n,"ftp",Td,Xa,p),Qo(n,"ftps",Td,Xa,p),ru(ly,{scheme:!0,ascii:!0},t),ru(Td,{slashscheme:!0,ascii:!0},t),e=e.sort((g,v)=>g[0]>v[0]?1:-1);for(let g=0;g<e.length;g++){const v=e[g][0],x=e[g][1]?{[sRe]:!0}:{[aRe]:!0};v.indexOf("-")>=0?x[qC]=!0:Ka.test(v)?Ga.test(v)?x[Gp]=!0:x[WC]=!0:x[HC]=!0,u6(n,v,v,x)}return u6(n,"localhost",ig,{ascii:!0}),n.jd=new pi(jb),{start:n,tokens:Object.assign({groups:t},gY)}}function vY(e,t){const n=fRe(t.replace(/[A-Z]/g,o=>o.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let o=e,l=null,u=0,d=null,f=-1,h=-1;for(;a<r&&(l=o.go(n[a]));)o=l,o.accepts()?(f=0,h=0,d=o):f>=0&&(f+=n[a].length,h++),u+=n[a].length,s+=n[a].length,a++;s-=f,a-=h,u-=f,i.push({t:d.t,v:t.slice(s-u,s),s:s-u,e:s})}return i}function fRe(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function Qo(e,t,n,r,i){let s;const a=t.length;for(let o=0;o<a-1;o++){const l=t[o];e.j[l]?s=e.j[l]:(s=new pi(r),s.jr=i.slice(),e.j[l]=s),e=s}return s=new pi(n),s.jr=i.slice(),e.j[t[a-1]]=s,s}function f6(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let s=0;for(;i.indexOf(e[r+s])>=0;)s++;if(s>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(e[r]),r++}return t}const sg={defaultProtocol:"http",events:null,format:h6,formatHref:h6,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function yI(e,t=null){let n=Object.assign({},sg);e&&(n=Object.assign(n,e instanceof yI?e.o:e));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}yI.prototype={o:sg,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:sg[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function h6(e){return e}function yY(e,t){this.t="token",this.v=e,this.tk=t}yY.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=sg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),s=this.toFormattedString(e),a={},o=e.get("className",n,t),l=e.get("target",n,t),u=e.get("rel",n,t),d=e.getObj("attributes",n,t),f=e.getObj("events",n,t);return a.href=r,o&&(a.class=o),l&&(a.target=l),u&&(a.rel=u),d&&Object.assign(a,d),{tagName:i,attributes:a,content:s,eventListeners:f}}};function aE(e,t){class n extends yY{constructor(i,s){super(i,s),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const p6=aE("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),m6=aE("text"),hRe=aE("nl"),Sv=aE("url",{isLink:!0,toHref(e=sg.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==ig&&e[1].t===gl}}),is=e=>new pi(e);function pRe({groups:e}){const t=e.domain.concat([xb,wb,cl,Eb,Sb,Nb,_b,Tb,as,fI,Qp,Cb,kb,Ab,va,jb,Zp,Ob]),n=[bb,gl,pI,ga,mI,Qp,Jp,gI,vI,cb,ub,Yp,Xp,ab,sb,ob,lb,db,fb,hb,pb,mb,gb,vb,yb],r=[xb,bb,wb,Eb,Sb,Nb,_b,Tb,as,Yp,Xp,Qp,Cb,kb,Ab,Jp,va,jb,Zp,Ob],i=is(),s=me(i,Zp);tt(s,r,s),tt(s,e.domain,s);const a=is(),o=is(),l=is();tt(i,e.domain,a),tt(i,e.scheme,o),tt(i,e.slashscheme,l),tt(a,r,s),tt(a,e.domain,a);const u=me(a,cl);me(s,cl,u),me(o,cl,u),me(l,cl,u);const d=me(s,ga);tt(d,r,s),tt(d,e.domain,s);const f=is();tt(u,e.domain,f),tt(f,e.domain,f);const h=me(f,ga);tt(h,e.domain,f);const p=is(p6);tt(h,e.tld,p),tt(h,e.utld,p),me(u,ig,p);const m=me(f,as);me(m,as,m),tt(m,e.domain,f),tt(p,e.domain,f),me(p,ga,h),me(p,as,m);const g=me(p,gl);tt(g,e.numeric,p6);const v=me(a,as),y=me(a,ga);me(v,as,v),tt(v,e.domain,a),tt(y,r,s),tt(y,e.domain,a);const x=is(Sv);tt(y,e.tld,x),tt(y,e.utld,x),tt(x,e.domain,a),tt(x,r,s),me(x,ga,y),me(x,as,v),me(x,cl,u);const w=me(x,gl),E=is(Sv);tt(w,e.numeric,E);const _=is(Sv),N=is();tt(_,t,_),tt(_,n,N),tt(N,t,_),tt(N,n,N),me(x,va,_),me(E,va,_);const T=me(o,gl),C=me(l,gl),O=me(C,va),A=me(O,va);tt(o,e.domain,a),me(o,ga,y),me(o,as,v),tt(l,e.domain,a),me(l,ga,y),me(l,as,v),tt(T,e.domain,_),me(T,va,_),me(T,Jp,_),tt(A,e.domain,_),tt(A,t,_),me(A,va,_);const D=[[Yp,Xp],[sb,ab],[ob,lb],[cb,ub],[db,fb],[hb,pb],[mb,gb],[vb,yb]];for(let k=0;k<D.length;k++){const[P,B]=D[k],L=me(_,P);me(N,P,L),me(L,B,_);const j=is(Sv);tt(L,t,j);const R=is();tt(L,n),tt(j,t,j),tt(j,n,R),tt(R,t,j),tt(R,n,R),me(j,B,_),me(R,B,_)}return me(i,ig,x),me(i,hI,hRe),{start:i,tokens:gY}}function mRe(e,t,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let o=e,l=null,u=null,d=0,f=null,h=-1;for(;i<r&&!(l=o.go(n[i].t));)a.push(n[i++]);for(;i<r&&(u=l||o.go(n[i].t));)l=null,o=u,o.accepts()?(h=0,f=o):h>=0&&h++,i++,d++;if(h<0)i-=d,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(AN(m6,t,a)),a=[]),i-=h,d-=h;const p=f.t,m=n.slice(i-d,i);s.push(AN(p,t,m))}}return a.length>0&&s.push(AN(m6,t,a)),s}function AN(e,t,n){const r=n[0].s,i=n[n.length-1].e,s=t.slice(r,i);return new e(s,n)}const gRe=typeof console<"u"&&console&&console.warn||(()=>{}),vRe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Kt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function yRe(){return pi.groups={},Kt.scanner=null,Kt.parser=null,Kt.tokenQueue=[],Kt.pluginQueue=[],Kt.customSchemes=[],Kt.initialized=!1,Kt}function g6(e,t=!1){if(Kt.initialized&&gRe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${vRe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Kt.customSchemes.push([e,t])}function xRe(){Kt.scanner=dRe(Kt.customSchemes);for(let e=0;e<Kt.tokenQueue.length;e++)Kt.tokenQueue[e][1]({scanner:Kt.scanner});Kt.parser=pRe(Kt.scanner.tokens);for(let e=0;e<Kt.pluginQueue.length;e++)Kt.pluginQueue[e][1]({scanner:Kt.scanner,parser:Kt.parser});return Kt.initialized=!0,Kt}function xI(e){return Kt.initialized||xRe(),mRe(Kt.parser.start,e,vY(Kt.scanner.start,e))}xI.scan=vY;function xY(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new yI(n),i=xI(e),s=[];for(let a=0;a<i.length;a++){const o=i[a];o.isLink&&(!t||o.t===t)&&r.check(o)&&s.push(o.toFormattedObject(r))}return s}var bI="[\0- -\u2029]",bRe=new RegExp(bI),wRe=new RegExp(`${bI}$`),ERe=new RegExp(bI,"g");function SRe(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function NRe(e){return new Qt({key:new xn("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(u=>u.docChanged)&&!n.doc.eq(r.doc),s=t.some(u=>u.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,o=jG(n.doc,[...t]);if(UG(o).forEach(({newRange:u})=>{const d=IPe(r.doc,u,p=>p.isTextblock);let f,h;if(d.length>1)f=d[0],h=r.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const p=r.doc.textBetween(u.from,u.to," "," ");if(!wRe.test(p))return;f=d[0],h=r.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&h){const p=h.split(bRe).filter(Boolean);if(p.length<=0)return!1;const m=p[p.length-1],g=f.pos+h.lastIndexOf(m);if(!m)return!1;const v=xI(m).map(y=>y.toObject(e.defaultProtocol));if(!SRe(v))return!1;v.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>r.schema.marks.code?!r.doc.rangeHasMark(y.from,y.to,r.schema.marks.code):!0).filter(y=>e.validate(y.value)).filter(y=>e.shouldAutoLink(y.value)).forEach(y=>{cI(y.from,y.to,r.doc).some(x=>x.mark.type===e.type)||a.addMark(y.from,y.to,e.type.create({href:y.href}))})}}),!!a.steps.length)return a}})}function _Re(e){return new Qt({key:new xn("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,s;if(r.button!==0||!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const f=[];for(;d.nodeName!=="DIV";)f.push(d),d=d.parentNode;a=f.find(h=>h.nodeName==="A")}if(!a)return!1;const o=$G(t.state,e.type.name),l=(i=a==null?void 0:a.href)!=null?i:o.href,u=(s=a==null?void 0:a.target)!=null?s:o.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&l?(window.open(l,u),!0):!1}}})}function TRe(e){return new Qt({key:new xn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:s}=i,{empty:a}=s;if(a)return!1;let o="";r.content.forEach(u=>{o+=u.textContent});const l=xY(o,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===o);return!o||!l?!1:e.editor.commands.setMark(e.type,{href:l.href})}}})}function Ic(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(ERe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var bY=wc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){g6(e);return}g6(e.scheme,e.optionalSlashes)})},onDestroy(){yRe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Ic(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Ic(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Ic(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ht(this.options.HTMLAttributes,e),0]:["a",Ht(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ic(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ic(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[tc({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=xY(e).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Ic(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>t.push({text:s.value,data:{href:s.href},index:s.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(NRe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Ic(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(_Re({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(TRe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),CRe=bY,kRe=Object.defineProperty,ARe=(e,t)=>{for(var n in t)kRe(e,n,{get:t[n],enumerable:!0})},ORe="listItem",v6="textStyle",y6=/^\s*([-+*])\s$/,wY=cr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Ht(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ORe,this.editor.getAttributes(v6)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Vf({find:y6,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Vf({find:y6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(v6),editor:this.editor})),[e]}}),EY=cr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Ht(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),jRe={};ARe(jRe,{findListItemPos:()=>c0,getNextListDepth:()=>wI,handleBackspace:()=>QC,handleDelete:()=>JC,hasListBefore:()=>SY,hasListItemAfter:()=>IRe,hasListItemBefore:()=>NY,listItemHasSubList:()=>_Y,nextListIsDeeper:()=>TY,nextListIsHigher:()=>CY});var c0=(e,t)=>{const{$from:n}=t.selection,r=Rn(e,t.schema);let i=null,s=n.depth,a=n.pos,o=null;for(;s>0&&o===null;)i=n.node(s),i.type===r?o=s:(s-=1,a-=1);return o===null?null:{$pos:t.doc.resolve(a),depth:o}},wI=(e,t)=>{const n=c0(e,t);if(!n)return!1;const[,r]=UPe(t,e,n.$pos.pos+4);return r},SY=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),s=e.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},NY=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},_Y=(e,t,n)=>{if(!n)return!1;const r=Rn(e,t.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},QC=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!ec(e.state,t)&&SY(e.state,t,n)){const{$anchor:o}=e.state.selection,l=e.state.doc.resolve(o.before()-1),u=[];l.node().descendants((h,p)=>{h.type.name===t&&u.push({node:h,pos:p})});const d=u.at(-1);if(!d)return!1;const f=e.state.doc.resolve(l.start()+d.pos+1);return e.chain().cut({from:o.start()-1,to:o.end()+1},f.end()).joinForward().run()}if(!ec(e.state,t)||!VPe(e.state))return!1;const r=c0(t,e.state);if(!r)return!1;const s=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=_Y(t,e.state,s);return NY(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},TY=(e,t)=>{const n=wI(e,t),r=c0(e,t);return!r||!n?!1:n>r.depth},CY=(e,t)=>{const n=wI(e,t),r=c0(e,t);return!r||!n?!1:n<r.depth},JC=(e,t)=>{if(!ec(e.state,t)||!WPe(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:TY(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():CY(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},IRe=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},kY=bn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&JC(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&JC(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&QC(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&QC(e,n,r)&&(t=!0)}),t}}}}),PRe="listItem",x6="textStyle",b6=/^(\d+)\.\s$/,AY=cr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Ht(this.options.HTMLAttributes,n),0]:["ol",Ht(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(PRe,this.editor.getAttributes(x6)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Vf({find:b6,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Vf({find:b6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(x6)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),DRe=/^\s*(\[([( |x])?\])\s$/,OY=cr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Ht(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),l=document.createElement("div"),u=d=>{var f,h;o.ariaLabel=((h=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:h.call(f,d,o.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(e),s.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",d=>d.preventDefault()),o.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const p=n();if(typeof p!="number")return!1;const m=h.doc.nodeAt(p);return h.setNodeMarkup(p,void 0,{...m==null?void 0:m.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,f)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{i.setAttribute(d,f)}),i.dataset.checked=e.attrs.checked,o.checked=e.attrs.checked,s.append(o,a),i.append(s,l),Object.entries(t).forEach(([d,f])=>{i.setAttribute(d,f)}),{dom:i,contentDOM:l,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,o.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[Vf({find:DRe,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),jY=cr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Ht(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});bn.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(wY.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(EY.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(kY.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(AY.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(OY.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(jY.configure(this.options.taskList)),e}});var MRe=cr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Ht(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),RRe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,LRe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,BRe=wc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Ht(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Bu({find:RRe,type:this.type})]},addPasteRules(){return[tc({find:LRe,type:this.type})]}}),FRe=cr.create({name:"text",group:"inline"}),$Re=wc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Ht(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function URe(e={}){return new Qt({view(t){return new zRe(t,e)}})}class zRe{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return t.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,o=s.height/i.offsetHeight;if(n){let f=t.nodeBefore,h=t.nodeAfter;if(f||h){let p=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(p){let m=p.getBoundingClientRect(),g=f?m.bottom:m.top;f&&h&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*o;r={left:m.left,right:m.right,top:g-v,bottom:g+v}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*a;r={left:f.left-h,right:f.left+h,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=l.getBoundingClientRect(),h=f.width/l.offsetWidth,p=f.height/l.offsetHeight;u=f.left-l.scrollLeft*h,d=f.top-l.scrollTop*p}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-d)/o+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=OK(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class mn extends Xe{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return mn.valid(r)?new mn(r):Xe.near(r)}content(){return Ce.empty}eq(t){return t instanceof mn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new mn(t.resolve(n.pos))}getBookmark(){return new EI(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!HRe(t)||!WRe(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&mn.valid(t))return t;let i=t.pos,s=null;for(let a=t.depth;;a--){let o=t.node(a);if(n>0?t.indexAfter(a)<o.childCount:t.index(a)>0){s=o.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;i+=n;let l=t.doc.resolve(i);if(mn.valid(l))return l}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Ue.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let o=t.doc.resolve(i);if(mn.valid(o))return o}return null}}}mn.prototype.visible=!1;mn.findFrom=mn.findGapCursorFrom;Xe.jsonID("gapcursor",mn);class EI{constructor(t){this.pos=t}map(t){return new EI(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return mn.valid(n)?new mn(n):Xe.near(n)}}function HRe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function WRe(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function VRe(){return new Qt({props:{decorations:YRe,createSelectionBetween(e,t,n){return t.pos==n.pos&&mn.valid(n)?new mn(n):null},handleClick:KRe,handleKeyDown:qRe,handleDOMEvents:{beforeinput:GRe}}})}const qRe=Jj({ArrowLeft:Nv("horiz",-1),ArrowRight:Nv("horiz",1),ArrowUp:Nv("vert",-1),ArrowDown:Nv("vert",1)});function Nv(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let a=r.selection,o=t>0?a.$to:a.$from,l=a.empty;if(a instanceof He){if(!s.endOfTextblock(n)||o.depth==0)return!1;l=!1,o=r.doc.resolve(t>0?o.after():o.before())}let u=mn.findGapCursorFrom(o,t,l);return u?(i&&i(r.tr.setSelection(new mn(u))),!0):!1}}function KRe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!mn.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ue.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new mn(r))),!0)}function GRe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof mn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=ce.empty;for(let a=r.length-1;a>=0;a--)i=ce.from(r[a].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new Ce(i,0,0));return s.setSelection(He.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function YRe(e){if(!(e.selection instanceof mn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",kt.create(e.doc,[Hn.widget(e.selection.head,t,{key:"gapcursor"})])}var Ib=200,ir=function(){};ir.prototype.append=function(t){return t.length?(t=ir.from(t),!this.length&&t||t.length<Ib&&this.leafAppend(t)||this.length<Ib&&t.leafPrepend(this)||this.appendInner(t)):this};ir.prototype.prepend=function(t){return t.length?ir.from(t).append(this):this};ir.prototype.appendInner=function(t){return new XRe(this,t)};ir.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?ir.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};ir.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ir.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};ir.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(t(s,a))},n,r),i};ir.from=function(t){return t instanceof ir?t:t&&t.length?new IY(t):ir.empty};var IY=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,a,o){for(var l=s;l<a;l++)if(i(this.values[l],o+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,a,o){for(var l=s-1;l>=a;l--)if(i(this.values[l],o+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Ib)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Ib)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(ir);ir.empty=new IY([]);var XRe=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(r,Math.min(i,o),s,a)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(ir);const QRe=500;class qs{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=t.tr,o,l,u=[],d=[];return this.items.forEach((f,h)=>{if(!f.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,d.push(f);return}if(i){d.push(new Jo(f.map));let p=f.step.map(i.slice(s)),m;p&&a.maybeStep(p).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],u.push(new Jo(m,void 0,void 0,u.length+d.length))),s--,m&&i.appendMap(m,s)}else a.maybeStep(f.step);if(f.selection)return o=i?f.selection.map(i.slice(s)):f.selection,l=new qs(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:o}}addTransform(t,n,r,i){let s=[],a=this.eventCount,o=this.items,l=!i&&o.length?o.get(o.length-1):null;for(let d=0;d<t.steps.length;d++){let f=t.steps[d].invert(t.docs[d]),h=new Jo(t.mapping.maps[d],f,n),p;(p=l&&l.merge(h))&&(h=p,d?s.pop():o=o.slice(0,o.length-1)),s.push(h),n&&(a++,n=void 0),i||(l=h)}let u=a-r.depth;return u>ZRe&&(o=JRe(o,u),a-=u),new qs(o.append(s),a)}remapping(t,n){let r=new Qm;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new qs(this.items.append(t.map(n=>new Jo(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,a=t.steps.length,o=this.eventCount;this.items.forEach(h=>{h.selection&&o--},i);let l=n;this.items.forEach(h=>{let p=s.getMirror(--l);if(p==null)return;a=Math.min(a,p);let m=s.maps[p];if(h.step){let g=t.steps[p].invert(t.docs[p]),v=h.selection&&h.selection.map(s.slice(l+1,p));v&&o++,r.push(new Jo(m,g,v))}else r.push(new Jo(m))},i);let u=[];for(let h=n;h<a;h++)u.push(new Jo(s.maps[h]));let d=this.items.slice(0,i).append(u).append(r),f=new qs(d,o);return f.emptyItemCount()>QRe&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((a,o)=>{if(o>=t)i.push(a),a.selection&&s++;else if(a.step){let l=a.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let d=a.selection&&a.selection.map(n.slice(r));d&&s++;let f=new Jo(u.invert(),l,d),h,p=i.length-1;(h=i.length&&i[p].merge(f))?i[p]=h:i.push(f)}}else a.map&&r--},this.items.length,0),new qs(ir.from(i.reverse()),s)}}qs.empty=new qs(ir.empty,0);function JRe(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}let Jo=class PY{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new PY(n.getMap().invert(),n,this.selection)}}};class ul{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const ZRe=20;function eLe(e,t,n,r){let i=n.getMeta(gu),s;if(i)return i.historyState;n.getMeta(rLe)&&(e=new ul(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(gu))return a.getMeta(gu).redo?new ul(e.done.addTransform(n,void 0,r,cy(t)),e.undone,w6(n.mapping.maps),e.prevTime,e.prevComposition):new ul(e.done,e.undone.addTransform(n,void 0,r,cy(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=n.getMeta("composition"),l=e.prevTime==0||!a&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!tLe(n,e.prevRanges)),u=a?ON(e.prevRanges,n.mapping):w6(n.mapping.maps);return new ul(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,cy(t)),qs.empty,u,n.time,o??e.prevComposition)}else return(s=n.getMeta("rebased"))?new ul(e.done.rebased(n,s),e.undone.rebased(n,s),ON(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new ul(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),ON(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function tLe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function w6(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,a)=>t.push(s,a));return t}function ON(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function nLe(e,t,n){let r=cy(t),i=gu.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),o=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),l=new ul(n?o:s.remaining,n?s.remaining:o,null,0,-1);return s.transform.setSelection(a).setMeta(gu,{redo:n,historyState:l})}let jN=!1,E6=null;function cy(e){let t=e.plugins;if(E6!=t){jN=!1,E6=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){jN=!0;break}}return jN}const gu=new xn("history"),rLe=new xn("closeHistory");function iLe(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Qt({key:gu,state:{init(){return new ul(qs.empty,qs.empty,null,0,-1)},apply(t,n,r){return eLe(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?MY:r=="historyRedo"?RY:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function DY(e,t){return(n,r)=>{let i=gu.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=nLe(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const MY=DY(!1,!0),RY=DY(!0,!0);var sLe=bn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Qt({key:new xn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,o=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const u=r.tr.deleteRange(o,l);return e=!0,u}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:t.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!t.getMeta("paste"))return!1;const o=t.selection.$head.pos,l=s-r,u=o-l,d=o;return t.deleteRange(u,d),!(this.storage.characters({node:t.doc})>r)}})]}}),aLe=bn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[URe(this.options)]}});bn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Qt({key:new xn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,s=[];if(!n||!r)return kt.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((l,u)=>{if(l.isText)return;if(!(i>=u&&i<=u+l.nodeSize-1))return!1;a+=1});let o=0;return e.descendants((l,u)=>{if(l.isText||!(i>=u&&i<=u+l.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&a-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";s.push(Hn.node(u,u+l.nodeSize,{class:this.options.className}))}),kt.create(e,s)}}})]}});var oLe=bn.create({name:"gapCursor",addProseMirrorPlugins(){return[VRe()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=yt(Fe(e,"allowGapCursor",n)))!=null?t:null}}}),lLe=bn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Qt({key:new xn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const s=this.editor.isEmpty;return e.descendants((a,o)=>{const l=r>=o&&r<=o+a.nodeSize,u=!a.isLeaf&&rE(a);if((l||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const f=Hn.node(o,o+a.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:o,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),kt.create(e,i)}}})]}});bn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Qt({key:new xn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||HG(n.selection)||e.view.dragging?null:kt.create(n.doc,[Hn.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function S6({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var cLe=bn.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const e=new xn(this.name),t=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new Qt({key:e,appendTransaction:(n,r,i)=>{const{doc:s,tr:a,schema:o}=i,l=e.getState(i),u=s.content.size,d=o.nodes[this.options.node];if(l)return a.insert(u,d.create())},state:{init:(n,r)=>{const i=r.tr.doc.lastChild;return!S6({node:i,types:t})},apply:(n,r)=>{if(!n.docChanged)return r;const i=n.doc.lastChild;return!S6({node:i,types:t})}}})]}}),uLe=bn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>MY(e,t),redo:()=>({state:e,dispatch:t})=>RY(e,t)}},addProseMirrorPlugins(){return[iLe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),dLe=bn.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return this.options.bold!==!1&&i.push(UMe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(RMe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(wY.configure(this.options.bulletList)),this.options.code!==!1&&i.push(WMe.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(uY.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(GMe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(aLe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(oLe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(YMe.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(XMe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(uLe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(QMe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(nRe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(EY.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(kY.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(bY.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(AY.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(MRe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(BRe.configure(this.options.strike)),this.options.text!==!1&&i.push(FRe.configure(this.options.text)),this.options.underline!==!1&&i.push($Re.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(cLe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),fLe=dLe,hLe=lLe,pLe=sLe,mLe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,gLe=cr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Ht(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[oY({find:mLe,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),vLe=gLe;function LY(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&LY(n)}),e}let N6=class{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function BY(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function _l(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const yLe="</span>",_6=e=>!!e.scope,xLe=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${t}${e}`};class bLe{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=BY(t)}openNode(t){if(!_6(t))return;const n=xLe(t.scope,{prefix:this.classPrefix});this.span(n)}closeNode(t){_6(t)&&(this.buffer+=yLe)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const T6=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class SI{constructor(){this.rootNode=T6(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n=T6({scope:t});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{SI._collapse(n)}))}}class wLe extends SI{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,n){const r=t.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new bLe(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function ag(e){return e?typeof e=="string"?e:e.source:null}function FY(e){return Ju("(?=",e,")")}function ELe(e){return Ju("(?:",e,")*")}function SLe(e){return Ju("(?:",e,")?")}function Ju(...e){return e.map(n=>ag(n)).join("")}function NLe(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function NI(...e){return"("+(NLe(e).capture?"":"?:")+e.map(r=>ag(r)).join("|")+")"}function $Y(e){return new RegExp(e.toString()+"|").exec("").length-1}function _Le(e,t){const n=e&&e.exec(t);return n&&n.index===0}const TLe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _I(e,{joinWith:t}){let n=0;return e.map(r=>{n+=1;const i=n;let s=ag(r),a="";for(;s.length>0;){const o=TLe.exec(s);if(!o){a+=s;break}a+=s.substring(0,o.index),s=s.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?a+="\\"+String(Number(o[1])+i):(a+=o[0],o[0]==="("&&n++)}return a}).map(r=>`(${r})`).join(t)}const CLe=/\b\B/,UY="[a-zA-Z]\\w*",TI="[a-zA-Z_]\\w*",zY="\\b\\d+(\\.\\d+)?",HY="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",WY="\\b(0b[01]+)",kLe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ALe=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Ju(t,/.*\b/,e.binary,/\b.*/)),_l({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},og={begin:"\\\\[\\s\\S]",relevance:0},OLe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[og]},jLe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[og]},ILe={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},oE=function(e,t,n={}){const r=_l({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=NI("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Ju(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},PLe=oE("//","$"),DLe=oE("/\\*","\\*/"),MLe=oE("#","$"),RLe={scope:"number",begin:zY,relevance:0},LLe={scope:"number",begin:HY,relevance:0},BLe={scope:"number",begin:WY,relevance:0},FLe={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[og,{begin:/\[/,end:/\]/,relevance:0,contains:[og]}]},$Le={scope:"title",begin:UY,relevance:0},ULe={scope:"title",begin:TI,relevance:0},zLe={begin:"\\.\\s*"+TI,relevance:0},HLe=function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})};var _v=Object.freeze({__proto__:null,APOS_STRING_MODE:OLe,BACKSLASH_ESCAPE:og,BINARY_NUMBER_MODE:BLe,BINARY_NUMBER_RE:WY,COMMENT:oE,C_BLOCK_COMMENT_MODE:DLe,C_LINE_COMMENT_MODE:PLe,C_NUMBER_MODE:LLe,C_NUMBER_RE:HY,END_SAME_AS_BEGIN:HLe,HASH_COMMENT_MODE:MLe,IDENT_RE:UY,MATCH_NOTHING_RE:CLe,METHOD_GUARD:zLe,NUMBER_MODE:RLe,NUMBER_RE:zY,PHRASAL_WORDS_MODE:ILe,QUOTE_STRING_MODE:jLe,REGEXP_MODE:FLe,RE_STARTERS_RE:kLe,SHEBANG:ALe,TITLE_MODE:$Le,UNDERSCORE_IDENT_RE:TI,UNDERSCORE_TITLE_MODE:ULe});function WLe(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function VLe(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function qLe(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=WLe,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function KLe(e,t){Array.isArray(e.illegal)&&(e.illegal=NI(...e.illegal))}function GLe(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function YLe(e,t){e.relevance===void 0&&(e.relevance=1)}const XLe=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(r=>{delete e[r]}),e.keywords=n.keywords,e.begin=Ju(n.beforeMatch,FY(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},QLe=["of","and","for","in","not","or","if","then","parent","list","value"],JLe="keyword";function VY(e,t,n=JLe){const r=Object.create(null);return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(s){Object.assign(r,VY(e[s],t,s))}),r;function i(s,a){t&&(a=a.map(o=>o.toLowerCase())),a.forEach(function(o){const l=o.split("|");r[l[0]]=[s,ZLe(l[0],l[1])]})}}function ZLe(e,t){return t?Number(t):e3e(e)?0:1}function e3e(e){return QLe.includes(e.toLowerCase())}const C6={},vu=e=>{console.error(e)},k6=(e,...t)=>{console.log(`WARN: ${e}`,...t)},yd=(e,t)=>{C6[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),C6[`${e}/${t}`]=!0)},Pb=new Error;function qY(e,t,{key:n}){let r=0;const i=e[n],s={},a={};for(let o=1;o<=t.length;o++)a[o+r]=i[o],s[o+r]=!0,r+=$Y(t[o-1]);e[n]=a,e[n]._emit=s,e[n]._multi=!0}function t3e(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw vu("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Pb;if(typeof e.beginScope!="object"||e.beginScope===null)throw vu("beginScope must be object"),Pb;qY(e,e.begin,{key:"beginScope"}),e.begin=_I(e.begin,{joinWith:""})}}function n3e(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw vu("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Pb;if(typeof e.endScope!="object"||e.endScope===null)throw vu("endScope must be object"),Pb;qY(e,e.end,{key:"endScope"}),e.end=_I(e.end,{joinWith:""})}}function r3e(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function i3e(e){r3e(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),t3e(e),n3e(e)}function s3e(e){function t(a,o){return new RegExp(ag(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(o?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,o]),this.matchAt+=$Y(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(l=>l[1]);this.matcherRe=t(_I(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(o);if(!l)return null;const u=l.findIndex((f,h)=>h>0&&f!==void 0),d=this.matchIndexes[u];return l.splice(0,u),Object.assign(l,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const l=new n;return this.rules.slice(o).forEach(([u,d])=>l.addRule(u,d)),l.compile(),this.multiRegexes[o]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,l){this.rules.push([o,l]),l.type==="begin"&&this.count++}exec(o){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let u=l.exec(o);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,u=d.exec(o)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(a){const o=new r;return a.contains.forEach(l=>o.addRule(l.begin,{rule:l,type:"begin"})),a.terminatorEnd&&o.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&o.addRule(a.illegal,{type:"illegal"}),o}function s(a,o){const l=a;if(a.isCompiled)return l;[VLe,GLe,i3e,XLe].forEach(d=>d(a,o)),e.compilerExtensions.forEach(d=>d(a,o)),a.__beforeBegin=null,[qLe,KLe,YLe].forEach(d=>d(a,o)),a.isCompiled=!0;let u=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),u=a.keywords.$pattern,delete a.keywords.$pattern),u=u||/\w+/,a.keywords&&(a.keywords=VY(a.keywords,e.case_insensitive)),l.keywordPatternRe=t(u,!0),o&&(a.begin||(a.begin=/\B|\b/),l.beginRe=t(l.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(l.endRe=t(l.end)),l.terminatorEnd=ag(l.end)||"",a.endsWithParent&&o.terminatorEnd&&(l.terminatorEnd+=(a.end?"|":"")+o.terminatorEnd)),a.illegal&&(l.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(d){return a3e(d==="self"?a:d)})),a.contains.forEach(function(d){s(d,l)}),a.starts&&s(a.starts,o),l.matcher=i(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=_l(e.classNameAliases||{}),s(e)}function KY(e){return e?e.endsWithParent||KY(e.starts):!1}function a3e(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return _l(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:KY(e)?_l(e,{starts:e.starts?_l(e.starts):null}):Object.isFrozen(e)?_l(e):e}var o3e="11.11.1";class l3e extends Error{constructor(t,n){super(t),this.name="HTMLInjectionError",this.html=n}}const IN=BY,A6=_l,O6=Symbol("nomatch"),c3e=7,GY=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:wLe};function l(j){return o.noHighlightRe.test(j)}function u(j){let R=j.className+" ";R+=j.parentNode?j.parentNode.className:"";const M=o.languageDetectRe.exec(R);if(M){const V=C(M[1]);return V||(k6(s.replace("{}",M[1])),k6("Falling back to no-highlight mode for this block.",j)),V?M[1]:"no-highlight"}return R.split(/\s+/).find(V=>l(V)||C(V))}function d(j,R,M){let V="",I="";typeof R=="object"?(V=j,M=R.ignoreIllegals,I=R.language):(yd("10.7.0","highlight(lang, code, ...args) has been deprecated."),yd("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),I=j,V=R),M===void 0&&(M=!0);const ee={code:V,language:I};B("before:highlight",ee);const W=ee.result?ee.result:f(ee.language,ee.code,M);return W.code=ee.code,B("after:highlight",W),W}function f(j,R,M,V){const I=Object.create(null);function ee(q,te){return q.keywords[te]}function W(){if(!be.keywords){bt.addText(ut);return}let q=0;be.keywordPatternRe.lastIndex=0;let te=be.keywordPatternRe.exec(ut),we="";for(;te;){we+=ut.substring(q,te.index);const Pe=Qe.case_insensitive?te[0].toLowerCase():te[0],Ke=ee(be,Pe);if(Ke){const[Vt,Ni]=Ke;if(bt.addText(we),we="",I[Pe]=(I[Pe]||0)+1,I[Pe]<=c3e&&(ua+=Ni),Vt.startsWith("_"))we+=te[0];else{const Vr=Qe.classNameAliases[Vt]||Vt;ke(te[0],Vr)}}else we+=te[0];q=be.keywordPatternRe.lastIndex,te=be.keywordPatternRe.exec(ut)}we+=ut.substring(q),bt.addText(we)}function $(){if(ut==="")return;let q=null;if(typeof be.subLanguage=="string"){if(!t[be.subLanguage]){bt.addText(ut);return}q=f(be.subLanguage,ut,!0,Jt[be.subLanguage]),Jt[be.subLanguage]=q._top}else q=p(ut,be.subLanguage.length?be.subLanguage:null);be.relevance>0&&(ua+=q.relevance),bt.__addSublanguage(q._emitter,q.language)}function xe(){be.subLanguage!=null?$():W(),ut=""}function ke(q,te){q!==""&&(bt.startScope(te),bt.addText(q),bt.endScope())}function Ae(q,te){let we=1;const Pe=te.length-1;for(;we<=Pe;){if(!q._emit[we]){we++;continue}const Ke=Qe.classNameAliases[q[we]]||q[we],Vt=te[we];Ke?ke(Vt,Ke):(ut=Vt,W(),ut=""),we++}}function le(q,te){return q.scope&&typeof q.scope=="string"&&bt.openNode(Qe.classNameAliases[q.scope]||q.scope),q.beginScope&&(q.beginScope._wrap?(ke(ut,Qe.classNameAliases[q.beginScope._wrap]||q.beginScope._wrap),ut=""):q.beginScope._multi&&(Ae(q.beginScope,te),ut="")),be=Object.create(q,{parent:{value:be}}),be}function Se(q,te,we){let Pe=_Le(q.endRe,we);if(Pe){if(q["on:end"]){const Ke=new N6(q);q["on:end"](te,Ke),Ke.isMatchIgnored&&(Pe=!1)}if(Pe){for(;q.endsParent&&q.parent;)q=q.parent;return q}}if(q.endsWithParent)return Se(q.parent,te,we)}function ne(q){return be.matcher.regexIndex===0?(ut+=q[0],1):(Ps=!0,0)}function de(q){const te=q[0],we=q.rule,Pe=new N6(we),Ke=[we.__beforeBegin,we["on:begin"]];for(const Vt of Ke)if(Vt&&(Vt(q,Pe),Pe.isMatchIgnored))return ne(te);return we.skip?ut+=te:(we.excludeBegin&&(ut+=te),xe(),!we.returnBegin&&!we.excludeBegin&&(ut=te)),le(we,q),we.returnBegin?0:te.length}function pe(q){const te=q[0],we=R.substring(q.index),Pe=Se(be,q,we);if(!Pe)return O6;const Ke=be;be.endScope&&be.endScope._wrap?(xe(),ke(te,be.endScope._wrap)):be.endScope&&be.endScope._multi?(xe(),Ae(be.endScope,q)):Ke.skip?ut+=te:(Ke.returnEnd||Ke.excludeEnd||(ut+=te),xe(),Ke.excludeEnd&&(ut=te));do be.scope&&bt.closeNode(),!be.skip&&!be.subLanguage&&(ua+=be.relevance),be=be.parent;while(be!==Pe.parent);return Pe.starts&&le(Pe.starts,q),Ke.returnEnd?0:te.length}function J(){const q=[];for(let te=be;te!==Qe;te=te.parent)te.scope&&q.unshift(te.scope);q.forEach(te=>bt.openNode(te))}let qe={};function Oe(q,te){const we=te&&te[0];if(ut+=q,we==null)return xe(),0;if(qe.type==="begin"&&te.type==="end"&&qe.index===te.index&&we===""){if(ut+=R.slice(te.index,te.index+1),!i){const Pe=new Error(`0 width match regex (${j})`);throw Pe.languageName=j,Pe.badRule=qe.rule,Pe}return 1}if(qe=te,te.type==="begin")return de(te);if(te.type==="illegal"&&!M){const Pe=new Error('Illegal lexeme "'+we+'" for mode "'+(be.scope||"<unnamed>")+'"');throw Pe.mode=be,Pe}else if(te.type==="end"){const Pe=pe(te);if(Pe!==O6)return Pe}if(te.type==="illegal"&&we==="")return ut+=`
`,1;if(Ha>1e5&&Ha>te.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ut+=we,we.length}const Qe=C(j);if(!Qe)throw vu(s.replace("{}",j)),new Error('Unknown language: "'+j+'"');const G=s3e(Qe);let oe="",be=V||G;const Jt={},bt=new o.__emitter(o);J();let ut="",ua=0,Si=0,Ha=0,Ps=!1;try{if(Qe.__emitTokens)Qe.__emitTokens(R,bt);else{for(be.matcher.considerAll();;){Ha++,Ps?Ps=!1:be.matcher.considerAll(),be.matcher.lastIndex=Si;const q=be.matcher.exec(R);if(!q)break;const te=R.substring(Si,q.index),we=Oe(te,q);Si=q.index+we}Oe(R.substring(Si))}return bt.finalize(),oe=bt.toHTML(),{language:j,value:oe,relevance:ua,illegal:!1,_emitter:bt,_top:be}}catch(q){if(q.message&&q.message.includes("Illegal"))return{language:j,value:IN(R),illegal:!0,relevance:0,_illegalBy:{message:q.message,index:Si,context:R.slice(Si-100,Si+100),mode:q.mode,resultSoFar:oe},_emitter:bt};if(i)return{language:j,value:IN(R),illegal:!1,relevance:0,errorRaised:q,_emitter:bt,_top:be};throw q}}function h(j){const R={value:IN(j),illegal:!1,relevance:0,_top:a,_emitter:new o.__emitter(o)};return R._emitter.addText(j),R}function p(j,R){R=R||o.languages||Object.keys(t);const M=h(j),V=R.filter(C).filter(A).map(xe=>f(xe,j,!1));V.unshift(M);const I=V.sort((xe,ke)=>{if(xe.relevance!==ke.relevance)return ke.relevance-xe.relevance;if(xe.language&&ke.language){if(C(xe.language).supersetOf===ke.language)return 1;if(C(ke.language).supersetOf===xe.language)return-1}return 0}),[ee,W]=I,$=ee;return $.secondBest=W,$}function m(j,R,M){const V=R&&n[R]||M;j.classList.add("hljs"),j.classList.add(`language-${V}`)}function g(j){let R=null;const M=u(j);if(l(M))return;if(B("before:highlightElement",{el:j,language:M}),j.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",j);return}if(j.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(j)),o.throwUnescapedHTML))throw new l3e("One of your code blocks includes unescaped HTML.",j.innerHTML);R=j;const V=R.textContent,I=M?d(V,{language:M,ignoreIllegals:!0}):p(V);j.innerHTML=I.value,j.dataset.highlighted="yes",m(j,M,I.language),j.result={language:I.language,re:I.relevance,relevance:I.relevance},I.secondBest&&(j.secondBest={language:I.secondBest.language,relevance:I.secondBest.relevance}),B("after:highlightElement",{el:j,result:I,text:V})}function v(j){o=A6(o,j)}const y=()=>{E(),yd("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function x(){E(),yd("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let w=!1;function E(){function j(){E()}if(document.readyState==="loading"){w||window.addEventListener("DOMContentLoaded",j,!1),w=!0;return}document.querySelectorAll(o.cssSelector).forEach(g)}function _(j,R){let M=null;try{M=R(e)}catch(V){if(vu("Language definition for '{}' could not be registered.".replace("{}",j)),i)vu(V);else throw V;M=a}M.name||(M.name=j),t[j]=M,M.rawDefinition=R.bind(null,e),M.aliases&&O(M.aliases,{languageName:j})}function N(j){delete t[j];for(const R of Object.keys(n))n[R]===j&&delete n[R]}function T(){return Object.keys(t)}function C(j){return j=(j||"").toLowerCase(),t[j]||t[n[j]]}function O(j,{languageName:R}){typeof j=="string"&&(j=[j]),j.forEach(M=>{n[M.toLowerCase()]=R})}function A(j){const R=C(j);return R&&!R.disableAutodetect}function D(j){j["before:highlightBlock"]&&!j["before:highlightElement"]&&(j["before:highlightElement"]=R=>{j["before:highlightBlock"](Object.assign({block:R.el},R))}),j["after:highlightBlock"]&&!j["after:highlightElement"]&&(j["after:highlightElement"]=R=>{j["after:highlightBlock"](Object.assign({block:R.el},R))})}function k(j){D(j),r.push(j)}function P(j){const R=r.indexOf(j);R!==-1&&r.splice(R,1)}function B(j,R){const M=j;r.forEach(function(V){V[M]&&V[M](R)})}function L(j){return yd("10.7.0","highlightBlock will be removed entirely in v12.0"),yd("10.7.0","Please use highlightElement now."),g(j)}Object.assign(e,{highlight:d,highlightAuto:p,highlightAll:E,highlightElement:g,highlightBlock:L,configure:v,initHighlighting:y,initHighlightingOnLoad:x,registerLanguage:_,unregisterLanguage:N,listLanguages:T,getLanguage:C,registerAliases:O,autoDetection:A,inherit:A6,addPlugin:k,removePlugin:P}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=o3e,e.regex={concat:Ju,lookahead:FY,either:NI,optional:SLe,anyNumberOfTimes:ELe};for(const j in _v)typeof _v[j]=="object"&&LY(_v[j]);return Object.assign(e,_v),e},qf=GY({});qf.newInstance=()=>GY({});var u3e=qf;qf.HighlightJS=qf;qf.default=qf;const YY=Br(u3e);function XY(e,t=[]){return e.map(n=>{const r=[...t,...n.properties?n.properties.className:[]];return n.children?XY(n.children,r):{text:n.value,classes:r}}).flat()}function j6(e){return e.value||e.children||[]}function d3e(e){return!!YY.getLanguage(e)}function I6({doc:e,name:t,lowlight:n,defaultLanguage:r}){const i=[];return FC(e,s=>s.type.name===t).forEach(s=>{var a;let o=s.pos+1;const l=s.node.attrs.language||r,u=n.listLanguages(),d=l&&(u.includes(l)||d3e(l)||(a=n.registered)!=null&&a.call(n,l))?j6(n.highlight(l,s.node.textContent)):j6(n.highlightAuto(s.node.textContent));XY(d).forEach(f=>{const h=o+f.text.length;if(f.classes.length){const p=Hn.inline(o,h,{class:f.classes.join(" ")});i.push(p)}o=h})}),kt.create(e,i)}function f3e(e){return typeof e=="function"}function h3e({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>f3e(t[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Qt({key:new xn("lowlight"),state:{init:(i,{doc:s})=>I6({doc:s,name:e,lowlight:t,defaultLanguage:n}),apply:(i,s,a,o)=>{const l=a.selection.$head.parent.type.name,u=o.selection.$head.parent.type.name,d=FC(a.doc,h=>h.type.name===e),f=FC(o.doc,h=>h.type.name===e);return i.docChanged&&([l,u].includes(e)||f.length!==d.length||i.steps.some(h=>h.from!==void 0&&h.to!==void 0&&d.some(p=>p.pos>=h.from&&p.pos+p.node.nodeSize<=h.to)))?I6({doc:i.doc,name:e,lowlight:t,defaultLanguage:n}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}var p3e=KMe.extend({addOptions(){var e;return{...(e=this.parent)==null?void 0:e.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},addProseMirrorPlugins(){var e;return[...((e=this.parent)==null?void 0:e.call(this))||[],h3e({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),m3e=p3e,ZC,ek;if(typeof WeakMap<"u"){let e=new WeakMap;ZC=t=>e.get(t),ek=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;ZC=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},ek=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var gn=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let s=r+1,a=i+1;for(let o=1;s<this.width&&this.map[t+o]==n;o++)s++;for(let o=1;a<this.height&&this.map[t+this.width*o]==n;o++)a++;return{left:r,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:s,bottom:a}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:a==this.height)?null:this.map[r+this.width*(n<0?s-1:a)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:s}=this.findCell(e),{left:a,right:o,top:l,bottom:u}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(i,l),right:Math.max(r,o),bottom:Math.max(s,u)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const s=r*this.width+i,a=this.map[s];n[a]||(n[a]=!0,!(i==e.left&&i&&this.map[s-1]==a||r==e.top&&r&&this.map[s-this.width]==a)&&t.push(a))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==e){let a=t+e*this.width;const o=(e+1)*this.width;for(;a<o&&this.map[a]<i;)a++;return a==o?s-1:this.map[a]}i=s}}static get(e){return ZC(e)||ek(e,g3e(e))}};function g3e(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=v3e(e),n=e.childCount,r=[];let i=0,s=null;const a=[];for(let u=0,d=t*n;u<d;u++)r[u]=0;for(let u=0,d=0;u<n;u++){const f=e.child(u);d++;for(let m=0;;m++){for(;i<r.length&&r[i]!=0;)i++;if(m==f.childCount)break;const g=f.child(m),{colspan:v,rowspan:y,colwidth:x}=g.attrs;for(let w=0;w<y;w++){if(w+u>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:d,n:y-w});break}const E=i+w*t;for(let _=0;_<v;_++){r[E+_]==0?r[E+_]=d:(s||(s=[])).push({type:"collision",row:u,pos:d,n:v-_});const N=x&&x[_];if(N){const T=(E+_)%t*2,C=a[T];C==null||C!=N&&a[T+1]==1?(a[T]=N,a[T+1]=1):C==N&&a[T+1]++}}}i+=v,d+=g.nodeSize}const h=(u+1)*t;let p=0;for(;i<h;)r[i++]==0&&p++;p&&(s||(s=[])).push({type:"missing",row:u,n:p}),d++}(t===0||n===0)&&(s||(s=[])).push({type:"zero_sized"});const o=new gn(t,n,r,s);let l=!1;for(let u=0;!l&&u<a.length;u+=2)a[u]!=null&&a[u+1]<n&&(l=!0);return l&&y3e(o,a,e),o}function v3e(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let s=0;if(n)for(let a=0;a<r;a++){const o=e.child(a);for(let l=0;l<o.childCount;l++){const u=o.child(l);a+u.attrs.rowspan>r&&(s+=u.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const o=i.child(a);s+=o.attrs.colspan,o.attrs.rowspan>1&&(n=!0)}t==-1?t=s:t!=s&&(t=Math.max(t,s))}return t}function y3e(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const s=e.map[i];if(r[s])continue;r[s]=!0;const a=n.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let o=null;const l=a.attrs;for(let u=0;u<l.colspan;u++){const d=(i+u)%e.width,f=t[d*2];f!=null&&(!l.colwidth||l.colwidth[u]!=f)&&((o||(o=x3e(l)))[u]=f)}o&&e.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:o})}}function x3e(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function Lr(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var vl=new xn("selectingCells");function _h(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function b3e(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function la(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function lE(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=_h(t.$head)||w3e(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function w3e(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function tk(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function E3e(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function CI(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function QY(e,t,n){const r=e.node(-1),i=gn.get(r),s=e.start(-1),a=i.nextCell(e.pos-s,t,n);return a==null?null:e.node(0).resolve(s+a)}function Fu(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function JY(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function S3e(e,t,n){const r=Lr(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var zt=class Qa extends Xe{constructor(t,n=t){const r=t.node(-1),i=gn.get(r),s=t.start(-1),a=i.rectBetween(t.pos-s,n.pos-s),o=t.node(0),l=i.cellsInRect(a).filter(d=>d!=n.pos-s);l.unshift(n.pos-s);const u=l.map(d=>{const f=r.nodeAt(d);if(!f)throw RangeError(`No cell with offset ${d} found`);const h=s+d+1;return new MK(o.resolve(h),o.resolve(h+f.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(tk(r)&&tk(i)&&CI(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?Qa.rowSelection(r,i):s&&this.isColSelection()?Qa.colSelection(r,i):new Qa(r,i)}return He.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=gn.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},a=[];for(let l=i.top;l<i.bottom;l++){const u=[];for(let d=l*n.width+i.left,f=i.left;f<i.right;f++,d++){const h=n.map[d];if(s[h])continue;s[h]=!0;const p=n.findCell(h);let m=t.nodeAt(h);if(!m)throw RangeError(`No cell with offset ${h} found`);const g=i.left-p.left,v=p.right-i.right;if(g>0||v>0){let y=m.attrs;if(g>0&&(y=Fu(y,0,g)),v>0&&(y=Fu(y,y.colspan-v,v)),p.left<i.left){if(m=m.type.createAndFill(y),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else m=m.type.create(y,m.content)}if(p.top<i.top||p.bottom>i.bottom){const y={...m.attrs,rowspan:Math.min(p.bottom,i.bottom)-Math.max(p.top,i.top)};p.top<i.top?m=m.type.createAndFill(y):m=m.type.create(y,m.content)}u.push(m)}a.push(t.child(l).copy(ce.from(u)))}const o=this.isColSelection()&&this.isRowSelection()?t:a;return new Ce(ce.from(o),1,1)}replace(t,n=Ce.empty){const r=t.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:o,$to:l}=i[a],u=t.mapping.slice(r);t.replace(u.map(o.pos),u.map(l.pos),a?Ce.empty:n)}const s=Xe.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);s&&t.setSelection(s)}replaceWith(t,n){this.replace(t,new Ce(ce.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=gn.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)t(n.nodeAt(s[a]),i+s[a])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=gn.get(r),s=t.start(-1),a=i.findCell(t.pos-s),o=i.findCell(n.pos-s),l=t.node(0);return a.top<=o.top?(a.top>0&&(t=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(n=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))):(o.top>0&&(n=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(t=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new Qa(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=gn.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,o=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,o)==n.width}eq(t){return t instanceof Qa&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=gn.get(r),s=t.start(-1),a=i.findCell(t.pos-s),o=i.findCell(n.pos-s),l=t.node(0);return a.left<=o.left?(a.left>0&&(t=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(n=l.resolve(s+i.map[i.width*(o.top+1)-1]))):(o.left>0&&(n=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(t=l.resolve(s+i.map[i.width*(a.top+1)-1]))),new Qa(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Qa(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new Qa(t.resolve(n),t.resolve(r))}getBookmark(){return new N3e(this.$anchorCell.pos,this.$headCell.pos)}};zt.prototype.visible=!1;Xe.jsonID("cell",zt);var N3e=class ZY{constructor(t,n){this.anchor=t,this.head=n}map(t){return new ZY(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&CI(n,r)?new zt(n,r):Xe.near(r,1)}};function _3e(e){if(!(e.selection instanceof zt))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(Hn.node(r,r+n.nodeSize,{class:"selectedCell"}))}),kt.create(e.doc,t)}function T3e({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let s=t.depth;s>=0&&!(t.before(s+1)>t.start(s));s--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function C3e({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&t.parentOffset===0}function k3e(e,t,n){const r=(t||e).selection,i=(t||e).doc;let s,a;if(r instanceof Ue&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=zt.create(i,r.from);else if(a=="row"){const o=i.resolve(r.from+1);s=zt.rowSelection(o,o)}else if(!n){const o=gn.get(r.node),l=r.from+1,u=l+o.map[o.width*o.height-1];s=zt.create(i,l+1,u)}}else r instanceof He&&T3e(r)?s=He.create(i,r.from):r instanceof He&&C3e(r)&&(s=He.create(i,r.$from.start(),r.$from.end()));return s&&(t||(t=e.tr)).setSelection(s),t}var A3e=new xn("fix-tables");function eX(e,t,n,r){const i=e.childCount,s=t.childCount;e:for(let a=0,o=0;a<s;a++){const l=t.child(a);for(let u=o,d=Math.min(i,a+3);u<d;u++)if(e.child(u)==l){o=u+1,n+=l.nodeSize;continue e}r(l,n),o<i&&e.child(o).sameMarkup(l)?eX(e.child(o),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function tX(e,t){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=O3e(e,i,s,n))};return t?t.doc!=e.doc&&eX(t.doc,e.doc,0,r):e.doc.descendants(r),n}function O3e(e,t,n,r){const i=gn.get(t);if(!i.problems)return r;r||(r=e.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const u=i.problems[l];if(u.type=="collision"){const d=t.nodeAt(u.pos);if(!d)continue;const f=d.attrs;for(let h=0;h<f.rowspan;h++)s[u.row+h]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,Fu(f,f.colspan-u.n,u.n))}else if(u.type=="missing")s[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const d=t.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const d=t.nodeAt(u.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,{...d.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const d=r.mapping.map(n);r.delete(d,d+t.nodeSize)}}let a,o;for(let l=0;l<s.length;l++)s[l]&&(a==null&&(a=l),o=l);for(let l=0,u=n+1;l<i.height;l++){const d=t.child(l),f=u+d.nodeSize,h=s[l];if(h>0){let p="cell";d.firstChild&&(p=d.firstChild.type.spec.tableRole);const m=[];for(let v=0;v<h;v++){const y=Lr(e.schema)[p].createAndFill();y&&m.push(y)}const g=(l==0||a==l-1)&&o==l?u+1:f-1;r.insert(r.mapping.map(g),m)}u=f}return r.setMeta(A3e,{fixTables:!0})}function Fa(e){const t=e.selection,n=lE(e),r=n.node(-1),i=n.start(-1),s=gn.get(r);return{...t instanceof zt?s.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function nX(e,{map:t,tableStart:n,table:r},i){let s=i>0?-1:0;S3e(t,r,i+s)&&(s=i==0||i==t.width?null:0);for(let a=0;a<t.height;a++){const o=a*t.width+i;if(i>0&&i<t.width&&t.map[o-1]==t.map[o]){const l=t.map[o],u=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,JY(u.attrs,i-t.colCount(l))),a+=u.attrs.rowspan-1}else{const l=s==null?Lr(r.type.schema).cell:r.nodeAt(t.map[o+s]).type,u=t.positionAt(a,i,r);e.insert(e.mapping.map(n+u),l.createAndFill())}}return e}function j3e(e,t){if(!la(e))return!1;if(t){const n=Fa(e);t(nX(e.tr,n,n.left))}return!0}function I3e(e,t){if(!la(e))return!1;if(t){const n=Fa(e);t(nX(e.tr,n,n.right))}return!0}function P3e(e,{map:t,table:n,tableStart:r},i){const s=e.mapping.maps.length;for(let a=0;a<t.height;){const o=a*t.width+i,l=t.map[o],u=n.nodeAt(l),d=u.attrs;if(i>0&&t.map[o-1]==l||i<t.width-1&&t.map[o+1]==l)e.setNodeMarkup(e.mapping.slice(s).map(r+l),null,Fu(d,i-t.colCount(l)));else{const f=e.mapping.slice(s).map(r+l);e.delete(f,f+u.nodeSize)}a+=d.rowspan}}function D3e(e,t){if(!la(e))return!1;if(t){const n=Fa(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;P3e(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=gn.get(s)}t(r)}return!0}function M3e(e,t,n){var r;const i=Lr(t.type.schema).header_cell;for(let s=0;s<e.width;s++)if(((r=t.nodeAt(e.map[s+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function rX(e,{map:t,tableStart:n,table:r},i){var s;let a=n;for(let u=0;u<i;u++)a+=r.child(u).nodeSize;const o=[];let l=i>0?-1:0;M3e(t,r,i+l)&&(l=i==0||i==t.height?null:0);for(let u=0,d=t.width*i;u<t.width;u++,d++)if(i>0&&i<t.height&&t.map[d]==t.map[d-t.width]){const f=t.map[d],h=r.nodeAt(f).attrs;e.setNodeMarkup(n+f,null,{...h,rowspan:h.rowspan+1}),u+=h.colspan-1}else{const f=l==null?Lr(r.type.schema).cell:(s=r.nodeAt(t.map[d+l*t.width]))==null?void 0:s.type,h=f==null?void 0:f.createAndFill();h&&o.push(h)}return e.insert(a,Lr(r.type.schema).row.create(null,o)),e}function R3e(e,t){if(!la(e))return!1;if(t){const n=Fa(e);t(rX(e.tr,n,n.top))}return!0}function L3e(e,t){if(!la(e))return!1;if(t){const n=Fa(e);t(rX(e.tr,n,n.bottom))}return!0}function B3e(e,{map:t,table:n,tableStart:r},i){let s=0;for(let u=0;u<i;u++)s+=n.child(u).nodeSize;const a=s+n.child(i).nodeSize,o=e.mapping.maps.length;e.delete(s+r,a+r);const l=new Set;for(let u=0,d=i*t.width;u<t.width;u++,d++){const f=t.map[d];if(!l.has(f)){if(l.add(f),i>0&&f==t.map[d-t.width]){const h=n.nodeAt(f).attrs;e.setNodeMarkup(e.mapping.slice(o).map(f+r),null,{...h,rowspan:h.rowspan-1}),u+=h.colspan-1}else if(i<t.height&&f==t.map[d+t.width]){const h=n.nodeAt(f),p=h.attrs,m=h.type.create({...p,rowspan:h.attrs.rowspan-1},h.content),g=t.positionAt(i+1,u,n);e.insert(e.mapping.slice(o).map(r+g),m),u+=p.colspan-1}}}}function F3e(e,t){if(!la(e))return!1;if(t){const n=Fa(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;B3e(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=gn.get(n.table)}t(r)}return!0}function P6(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function $3e({width:e,height:t,map:n},r){let i=r.top*e+r.left,s=i,a=(r.bottom-1)*e+r.left,o=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<e&&n[o]==n[o+1])return!0;s+=e,o+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[a]==n[a+e])return!0;i++,a++}return!1}function D6(e,t){const n=e.selection;if(!(n instanceof zt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Fa(e),{map:i}=r;if($3e(i,r))return!1;if(t){const s=e.tr,a={};let o=ce.empty,l,u;for(let d=r.top;d<r.bottom;d++)for(let f=r.left;f<r.right;f++){const h=i.map[d*i.width+f],p=r.table.nodeAt(h);if(!(a[h]||!p))if(a[h]=!0,l==null)l=h,u=p;else{P6(p)||(o=o.append(p.content));const m=s.mapping.map(h+r.tableStart);s.delete(m,m+p.nodeSize)}}if(l==null||u==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...JY(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),o.size){const d=l+1+u.content.size,f=P6(u)?l+1:d;s.replaceWith(f+r.tableStart,d+r.tableStart,o)}s.setSelection(new zt(s.doc.resolve(l+r.tableStart))),t(s)}return!0}function M6(e,t){const n=Lr(e.schema);return U3e(({node:r})=>n[r.type.spec.tableRole])(e,t)}function U3e(e){return(t,n)=>{var r;const i=t.selection;let s,a;if(i instanceof zt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,a=i.$anchorCell.pos}else{if(s=b3e(i.$from),!s)return!1;a=(r=_h(i.$from))==null?void 0:r.pos}if(s==null||a==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let o=s.attrs;const l=[],u=o.colwidth;o.rowspan>1&&(o={...o,rowspan:1}),o.colspan>1&&(o={...o,colspan:1});const d=Fa(t),f=t.tr;for(let p=0;p<d.right-d.left;p++)l.push(u?{...o,colwidth:u&&u[p]?[u[p]]:null}:o);let h;for(let p=d.top;p<d.bottom;p++){let m=d.map.positionAt(p,d.left,d.table);p==d.top&&(m+=s.nodeSize);for(let g=d.left,v=0;g<d.right;g++,v++)g==d.left&&p==d.top||f.insert(h=f.mapping.map(m+d.tableStart,1),e({node:s,row:p,col:g}).createAndFill(l[v]))}f.setNodeMarkup(a,e({node:s,row:d.top,col:d.left}),l[0]),i instanceof zt&&f.setSelection(new zt(f.doc.resolve(i.$anchorCell.pos),h?f.doc.resolve(h):void 0)),n(f)}return!0}}function z3e(e,t){return function(n,r){if(!la(n))return!1;const i=lE(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){const s=n.tr;n.selection instanceof zt?n.selection.forEachCell((a,o)=>{a.attrs[e]!==t&&s.setNodeMarkup(o,null,{...a.attrs,[e]:t})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),r(s)}return!0}}function H3e(e){return function(t,n){if(!la(t))return!1;if(n){const r=Lr(t.schema),i=Fa(t),s=t.tr,a=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),o=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)o[l].type==r.header_cell&&s.setNodeMarkup(i.tableStart+a[l],r.cell,o[l].attrs);if(s.steps.length==0)for(let l=0;l<a.length;l++)s.setNodeMarkup(i.tableStart+a[l],r.header_cell,o[l].attrs);n(s)}return!0}}function R6(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const s=t.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function lg(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?H3e(e):function(n,r){if(!la(n))return!1;if(r){const i=Lr(n.schema),s=Fa(n),a=n.tr,o=R6("row",s,i),l=R6("column",s,i),d=(e==="column"?o:e==="row"?l:!1)?1:0,f=e=="column"?{left:0,top:d,right:1,bottom:s.map.height}:e=="row"?{left:d,top:0,right:s.map.width,bottom:1}:s,h=e=="column"?l?i.cell:i.header_cell:e=="row"?o?i.cell:i.header_cell:i.cell;s.map.cellsInRect(f).forEach(p=>{const m=p+s.tableStart,g=a.doc.nodeAt(m);g&&a.setNodeMarkup(m,h,g.attrs)}),r(a)}return!0}}lg("row",{useDeprecatedLogic:!0});lg("column",{useDeprecatedLogic:!0});var W3e=lg("cell",{useDeprecatedLogic:!0});function V3e(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const s=e.node(-1).child(r),a=s.lastChild;if(a)return i-1-a.nodeSize;i-=s.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function L6(e){return function(t,n){if(!la(t))return!1;const r=V3e(lE(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(He.between(i,E3e(i))).scrollIntoView())}return!0}}function q3e(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function Tv(e,t){const n=e.selection;if(!(n instanceof zt))return!1;if(t){const r=e.tr,i=Lr(e.schema).cell.createAndFill().content;n.forEachCell((s,a)=>{s.content.eq(i)||r.replace(r.mapping.map(a+1),r.mapping.map(a+s.nodeSize-1),new Ce(i,0,0))}),r.docChanged&&t(r)}return!0}function K3e(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),s=i.type.spec.tableRole,a=i.type.schema,o=[];if(s=="row")for(let l=0;l<t.childCount;l++){let u=t.child(l).content;const d=l?0:Math.max(0,n-1),f=l<t.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=nk(Lr(a).row,new Ce(u,d,f)).content),o.push(u)}else if(s=="cell"||s=="header_cell")o.push(n||r?nk(Lr(a).row,new Ce(t,n,r)).content:t);else return null;return G3e(a,o)}function G3e(e,t){const n=[];for(let i=0;i<t.length;i++){const s=t[i];for(let a=s.childCount-1;a>=0;a--){const{rowspan:o,colspan:l}=s.child(a).attrs;for(let u=i;u<i+o;u++)n[u]=(n[u]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(ce.empty),n[i]<r){const s=Lr(e).cell.createAndFill(),a=[];for(let o=n[i];o<r;o++)a.push(s);t[i]=t[i].append(ce.from(a))}return{height:t.length,width:r,rows:t}}function nk(e,t){const n=e.createAndFill();return new Uj(n).replace(0,n.content.size,t).doc}function Y3e({width:e,height:t,rows:n},r,i){if(e!=r){const s=[],a=[];for(let o=0;o<n.length;o++){const l=n[o],u=[];for(let d=s[o]||0,f=0;d<r;f++){let h=l.child(f%l.childCount);d+h.attrs.colspan>r&&(h=h.type.createChecked(Fu(h.attrs,h.attrs.colspan,d+h.attrs.colspan-r),h.content)),u.push(h),d+=h.attrs.colspan;for(let p=1;p<h.attrs.rowspan;p++)s[o+p]=(s[o+p]||0)+h.attrs.colspan}a.push(ce.from(u))}n=a,e=r}if(t!=i){const s=[];for(let a=0,o=0;a<i;a++,o++){const l=[],u=n[o%t];for(let d=0;d<u.childCount;d++){let f=u.child(d);a+f.attrs.rowspan>i&&(f=f.type.create({...f.attrs,rowspan:Math.max(1,i-f.attrs.rowspan)},f.content)),l.push(f)}s.push(ce.from(l))}n=s,t=i}return{width:e,height:t,rows:n}}function X3e(e,t,n,r,i,s,a){const o=e.doc.type.schema,l=Lr(o);let u,d;if(i>t.width)for(let f=0,h=0;f<t.height;f++){const p=n.child(f);h+=p.nodeSize;const m=[];let g;p.lastChild==null||p.lastChild.type==l.cell?g=u||(u=l.cell.createAndFill()):g=d||(d=l.header_cell.createAndFill());for(let v=t.width;v<i;v++)m.push(g);e.insert(e.mapping.slice(a).map(h-1+r),m)}if(s>t.height){const f=[];for(let m=0,g=(t.height-1)*t.width;m<Math.max(t.width,i);m++){const v=m>=t.width?!1:n.nodeAt(t.map[g+m]).type==l.header_cell;f.push(v?d||(d=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const h=l.row.create(null,ce.from(f)),p=[];for(let m=t.height;m<s;m++)p.push(h);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),p)}return!!(u||d)}function B6(e,t,n,r,i,s,a,o){if(a==0||a==t.height)return!1;let l=!1;for(let u=i;u<s;u++){const d=a*t.width+u,f=t.map[d];if(t.map[d-t.width]==f){l=!0;const h=n.nodeAt(f),{top:p,left:m}=t.findCell(f);e.setNodeMarkup(e.mapping.slice(o).map(f+r),null,{...h.attrs,rowspan:a-p}),e.insert(e.mapping.slice(o).map(t.positionAt(a,m,n)),h.type.createAndFill({...h.attrs,rowspan:p+h.attrs.rowspan-a})),u+=h.attrs.colspan-1}}return l}function F6(e,t,n,r,i,s,a,o){if(a==0||a==t.width)return!1;let l=!1;for(let u=i;u<s;u++){const d=u*t.width+a,f=t.map[d];if(t.map[d-1]==f){l=!0;const h=n.nodeAt(f),p=t.colCount(f),m=e.mapping.slice(o).map(f+r);e.setNodeMarkup(m,null,Fu(h.attrs,a-p,h.attrs.colspan-(a-p))),e.insert(m+h.nodeSize,h.type.createAndFill(Fu(h.attrs,0,a-p))),u+=h.attrs.rowspan-1}}return l}function $6(e,t,n,r,i){let s=n?e.doc.nodeAt(n-1):e.doc;if(!s)throw new Error("No table found");let a=gn.get(s);const{top:o,left:l}=r,u=l+i.width,d=o+i.height,f=e.tr;let h=0;function p(){if(s=n?f.doc.nodeAt(n-1):f.doc,!s)throw new Error("No table found");a=gn.get(s),h=f.mapping.maps.length}X3e(f,a,s,n,u,d,h)&&p(),B6(f,a,s,n,l,u,o,h)&&p(),B6(f,a,s,n,l,u,d,h)&&p(),F6(f,a,s,n,o,d,l,h)&&p(),F6(f,a,s,n,o,d,u,h)&&p();for(let m=o;m<d;m++){const g=a.positionAt(m,l,s),v=a.positionAt(m,u,s);f.replace(f.mapping.slice(h).map(g+n),f.mapping.slice(h).map(v+n),new Ce(i.rows[m-o],0,0))}p(),f.setSelection(new zt(f.doc.resolve(n+a.positionAt(o,l,s)),f.doc.resolve(n+a.positionAt(d-1,u-1,s)))),t(f)}var Q3e=Jj({ArrowLeft:Cv("horiz",-1),ArrowRight:Cv("horiz",1),ArrowUp:Cv("vert",-1),ArrowDown:Cv("vert",1),"Shift-ArrowLeft":kv("horiz",-1),"Shift-ArrowRight":kv("horiz",1),"Shift-ArrowUp":kv("vert",-1),"Shift-ArrowDown":kv("vert",1),Backspace:Tv,"Mod-Backspace":Tv,Delete:Tv,"Mod-Delete":Tv});function uy(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Cv(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof zt)return uy(n,r,Xe.near(s.$headCell,t));if(e!="horiz"&&!s.empty)return!1;const a=iX(i,e,t);if(a==null)return!1;if(e=="horiz")return uy(n,r,Xe.near(n.doc.resolve(s.head+t),t));{const o=n.doc.resolve(a),l=QY(o,e,t);let u;return l?u=Xe.near(l,1):t<0?u=Xe.near(n.doc.resolve(o.before(-1)),-1):u=Xe.near(n.doc.resolve(o.after(-1)),1),uy(n,r,u)}}}function kv(e,t){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let a;if(s instanceof zt)a=s;else{const l=iX(i,e,t);if(l==null)return!1;a=new zt(n.doc.resolve(l))}const o=QY(a.$headCell,e,t);return o?uy(n,r,new zt(a.$anchorCell,o)):!1}}function J3e(e,t){const n=e.state.doc,r=_h(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new zt(r))),!0):!1}function Z3e(e,t,n){if(!la(e.state))return!1;let r=K3e(n);const i=e.state.selection;if(i instanceof zt){r||(r={width:1,height:1,rows:[ce.from(nk(Lr(e.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),o=gn.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return r=Y3e(r,o.right-o.left,o.bottom-o.top),$6(e.state,e.dispatch,a,o,r),!0}else if(r){const s=lE(e.state),a=s.start(-1);return $6(e.state,e.dispatch,a,gn.get(s.node(-1)).findCell(s.pos-a),r),!0}else return!1}function e4e(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=U6(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof zt)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=_h(e.state.selection.$anchor))!=null&&((n=PN(e,t))==null?void 0:n.pos)!=i.pos)s(i,t),t.preventDefault();else if(!r)return;function s(l,u){let d=PN(e,u);const f=vl.getState(e.state)==null;if(!d||!CI(l,d))if(f)d=l;else return;const h=new zt(l,d);if(f||!e.state.selection.eq(h)){const p=e.state.tr.setSelection(h);f&&p.setMeta(vl,l.pos),e.dispatch(p)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",o),vl.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(vl,-1))}function o(l){const u=l,d=vl.getState(e.state);let f;if(d!=null)f=e.state.doc.resolve(d);else if(U6(e,u.target)!=r&&(f=PN(e,t),!f))return a();f&&s(f,u)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",o)}function iX(e,t,n){if(!(e.state.selection instanceof He))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const o=r.before(i),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?o:null}}return null}function U6(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function PN(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?_h(e.state.doc.resolve(n.pos)):null}var t4e=class{constructor(t,n){this.node=t,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),rk(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,rk(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function rk(e,t,n,r,i,s){var a;let o=0,l=!0,u=t.firstChild;const d=e.firstChild;if(d){for(let f=0,h=0;f<d.childCount;f++){const{colspan:p,colwidth:m}=d.child(f).attrs;for(let g=0;g<p;g++,h++){const v=i==h?s:m&&m[g],y=v?v+"px":"";if(o+=v||r,v||(l=!1),u)u.style.width!=y&&(u.style.width=y),u=u.nextSibling;else{const x=document.createElement("col");x.style.width=y,t.appendChild(x)}}}for(;u;){const f=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=f}l?(n.style.width=o+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=o+"px")}}var Mi=new xn("tableColumnResizing");function n4e({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=t4e,lastColumnResizable:i=!0}={}){const s=new Qt({key:Mi,state:{init(a,o){var l,u;const d=(u=(l=s.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,f=Lr(o.schema).table.name;return r&&d&&(d[f]=(h,p)=>new r(h,n,p)),new r4e(-1,!1)},apply(a,o){return o.apply(a)}},props:{attributes:a=>{const o=Mi.getState(a);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,o)=>{i4e(a,o,e,i)},mouseleave:a=>{s4e(a)},mousedown:(a,o)=>{a4e(a,o,t,n)}},decorations:a=>{const o=Mi.getState(a);if(o&&o.activeHandle>-1)return d4e(a,o.activeHandle)},nodeViews:{}}});return s}var r4e=class dy{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(Mi);if(r&&r.setHandle!=null)return new dy(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new dy(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return tk(t.doc.resolve(i))||(i=-1),new dy(i,n.dragging)}return n}};function i4e(e,t,n,r){if(!e.editable)return;const i=Mi.getState(e.state);if(i&&!i.dragging){const s=l4e(t.target);let a=-1;if(s){const{left:o,right:l}=s.getBoundingClientRect();t.clientX-o<=n?a=z6(e,t,"left",n):l-t.clientX<=n&&(a=z6(e,t,"right",n))}if(a!=i.activeHandle){if(!r&&a!==-1){const o=e.state.doc.resolve(a),l=o.node(-1),u=gn.get(l),d=o.start(-1);if(u.colCount(o.pos-d)+o.nodeAfter.attrs.colspan-1==u.width-1)return}sX(e,a)}}}function s4e(e){if(!e.editable)return;const t=Mi.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&sX(e,-1)}function a4e(e,t,n,r){var i;if(!e.editable)return!1;const s=(i=e.dom.ownerDocument.defaultView)!=null?i:window,a=Mi.getState(e.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const o=e.state.doc.nodeAt(a.activeHandle),l=o4e(e,a.activeHandle,o.attrs);e.dispatch(e.state.tr.setMeta(Mi,{setDragging:{startX:t.clientX,startWidth:l}}));function u(f){s.removeEventListener("mouseup",u),s.removeEventListener("mousemove",d);const h=Mi.getState(e.state);h!=null&&h.dragging&&(c4e(e,h.activeHandle,H6(h.dragging,f,n)),e.dispatch(e.state.tr.setMeta(Mi,{setDragging:null})))}function d(f){if(!f.which)return u(f);const h=Mi.getState(e.state);if(h&&h.dragging){const p=H6(h.dragging,f,n);W6(e,h.activeHandle,p,r)}}return W6(e,a.activeHandle,l,r),s.addEventListener("mouseup",u),s.addEventListener("mousemove",d),t.preventDefault(),!0}function o4e(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=e.domAtPos(t);let o=s.node.childNodes[s.offset].offsetWidth,l=n;if(r)for(let u=0;u<n;u++)r[u]&&(o-=r[u],l--);return o/l}function l4e(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function z6(e,t,n,r){const i=n=="right"?-r:r,s=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!s)return-1;const{pos:a}=s,o=_h(e.state.doc.resolve(a));if(!o)return-1;if(n=="right")return o.pos;const l=gn.get(o.node(-1)),u=o.start(-1),d=l.map.indexOf(o.pos-u);return d%l.width==0?-1:u+l.map[d-1]}function H6(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function sX(e,t){e.dispatch(e.state.tr.setMeta(Mi,{setHandle:t}))}function c4e(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),s=gn.get(i),a=r.start(-1),o=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let u=0;u<s.height;u++){const d=u*s.width+o;if(u&&s.map[d]==s.map[d-s.width])continue;const f=s.map[d],h=i.nodeAt(f).attrs,p=h.colspan==1?0:o-s.colCount(f);if(h.colwidth&&h.colwidth[p]==n)continue;const m=h.colwidth?h.colwidth.slice():u4e(h.colspan);m[p]=n,l.setNodeMarkup(a+f,null,{...h,colwidth:m})}l.docChanged&&e.dispatch(l)}function W6(e,t,n,r){const i=e.state.doc.resolve(t),s=i.node(-1),a=i.start(-1),o=gn.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&rk(s,l.firstChild,l,r,o,n)}function u4e(e){return Array(e).fill(0)}function d4e(e,t){var n;const r=[],i=e.doc.resolve(t),s=i.node(-1);if(!s)return kt.empty;const a=gn.get(s),o=i.start(-1),l=a.colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;for(let u=0;u<a.height;u++){const d=l+u*a.width;if((l==a.width-1||a.map[d]!=a.map[d+1])&&(u==0||a.map[d]!=a.map[d-a.width])){const f=a.map[d],h=o+f+s.nodeAt(f).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",(n=Mi.getState(e))!=null&&n.dragging&&r.push(Hn.node(o+f,o+f+s.nodeAt(f).nodeSize,{class:"column-resize-dragging"})),r.push(Hn.widget(h,p))}}return kt.create(e.doc,r)}function f4e({allowTableNodeSelection:e=!1}={}){return new Qt({key:vl,state:{init(){return null},apply(t,n){const r=t.getMeta(vl);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:s}=t.mapping.mapResult(n);return i?null:s}},props:{decorations:_3e,handleDOMEvents:{mousedown:e4e},createSelectionBetween(t){return vl.getState(t.state)!=null?t.state.selection:null},handleTripleClick:J3e,handleKeyDown:Q3e,handlePaste:Z3e},appendTransaction(t,n,r){return k3e(r,tX(r,n),e)}})}var aX=cr.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",Ht(this.options.HTMLAttributes,e),0]}}),oX=cr.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",Ht(this.options.HTMLAttributes,e),0]}}),lX=cr.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Ht(this.options.HTMLAttributes,e),0]}});function ik(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function V6(e,t,n,r,i,s){var a;let o=0,l=!0,u=t.firstChild;const d=e.firstChild;if(d!==null)for(let f=0,h=0;f<d.childCount;f+=1){const{colspan:p,colwidth:m}=d.child(f).attrs;for(let g=0;g<p;g+=1,h+=1){const v=i===h?s:m&&m[g],y=v?`${v}px`:"";if(o+=v||r,v||(l=!1),u){if(u.style.width!==y){const[x,w]=ik(r,v);u.style.setProperty(x,w)}u=u.nextSibling}else{const x=document.createElement("col"),[w,E]=ik(r,v);x.style.setProperty(w,E),t.appendChild(x)}}}for(;u;){const f=u.nextSibling;(a=u.parentNode)==null||a.removeChild(u),u=f}l?(n.style.width=`${o}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${o}px`)}var h4e=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),V6(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,V6(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}};function p4e(e,t,n,r){let i=0,s=!0;const a=[],o=e.firstChild;if(!o)return{};for(let f=0,h=0;f<o.childCount;f+=1){const{colspan:p,colwidth:m}=o.child(f).attrs;for(let g=0;g<p;g+=1,h+=1){const v=n===h?r:m&&m[g];i+=v||t,v||(s=!1);const[y,x]=ik(t,v);a.push(["col",{style:`${y}: ${x}`}])}}const l=s?`${i}px`:"",u=s?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:u}}function q6(e,t){return e.createAndFill()}function m4e(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function g4e(e,t,n,r,i){const s=m4e(e),a=[],o=[];for(let u=0;u<n;u+=1){const d=q6(s.cell);if(d&&o.push(d),r){const f=q6(s.header_cell);f&&a.push(f)}}const l=[];for(let u=0;u<t;u+=1)l.push(s.row.createChecked(null,r&&u===0?a:o));return s.table.createChecked(null,l)}function v4e(e){return e instanceof zt}var Av=({editor:e})=>{const{selection:t}=e.state;if(!v4e(t))return!1;let n=0;const r=PG(t.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},cX=cr.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:h4e,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=p4e(e,this.options.cellMinWidth);return["table",Ht(this.options.HTMLAttributes,t,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const a=g4e(s.schema,e,t,n);if(i){const o=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(He.near(r.doc.resolve(o)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>j3e(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>I3e(e,t),deleteColumn:()=>({state:e,dispatch:t})=>D3e(e,t),addRowBefore:()=>({state:e,dispatch:t})=>R3e(e,t),addRowAfter:()=>({state:e,dispatch:t})=>L3e(e,t),deleteRow:()=>({state:e,dispatch:t})=>F3e(e,t),deleteTable:()=>({state:e,dispatch:t})=>q3e(e,t),mergeCells:()=>({state:e,dispatch:t})=>D6(e,t),splitCell:()=>({state:e,dispatch:t})=>M6(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>lg("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>lg("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>W3e(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>D6(e,t)?!0:M6(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>z3e(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>L6(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>L6(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&tX(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=zt.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Av,"Mod-Backspace":Av,Delete:Av,"Mod-Delete":Av}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[n4e({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],f4e({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:yt(Fe(e,"tableRole",t))}}});bn.create({name:"tableKit",addExtensions(){const e=[];return this.options.table!==!1&&e.push(cX.configure(this.options.table)),this.options.tableCell!==!1&&e.push(aX.configure(this.options.tableCell)),this.options.tableHeader!==!1&&e.push(oX.configure(this.options.tableHeader)),this.options.tableRow!==!1&&e.push(lX.configure(this.options.tableRow)),e}});var y4e=bn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),x4e=y4e,b4e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,w4e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,E4e=wc.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",Ht(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Bu({find:b4e,type:this.type})]},addPasteRules(){return[tc({find:w4e,type:this.type})]}}),S4e=E4e,N4e=jY,_4e=OY;function T4e(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],E={type:g,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},_={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},N=[_,f,o,n,e.C_BLOCK_COMMENT_MODE,d,u],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:E,contains:N.concat([{begin:/\(/,end:/\)/,keywords:E,contains:N.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:E,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:E,relevance:0},{begin:p,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:E,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,C,_,N,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:E,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:E},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function C4e(e){const t={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=T4e(e),r=n.keywords;return r.type=[...r.type,...t.type],r.literal=[...r.literal,...t.literal],r.built_in=[...r.built_in,...t.built_in],r._hints=t._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function k4e(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(o);const l={match:/\\"/},u={className:"string",begin:/'/,end:/'/},d={match:/\\'/},f={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},h=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=e.SHEBANG({binary:`(${h.join("|")})`,relevance:10}),m={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],v=["true","false"],y={match:/(\/[a-z._-]+)+/},x=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],w=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],E=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],_=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:v,built_in:[...x,...w,"set","shopt",...E,..._]},contains:[p,e.SHEBANG(),m,f,s,a,y,o,l,u,d,n]}}function A4e(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",v={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[f,o,n,e.C_BLOCK_COMMENT_MODE,d,u],x={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:v,contains:y.concat([{begin:/\(/,end:/\)/,keywords:v,contains:y.concat(["self"]),relevance:0}]),relevance:0},w={begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:v,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:v,relevance:0},{begin:p,returnBegin:!0,contains:[e.inherit(h,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,f]};return{name:"C",aliases:["h"],keywords:v,disableAutodetect:!0,illegal:"</",contains:[].concat(x,w,y,[f,{begin:e.IDENT_RE+"::",keywords:v},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:f,strings:u,keywords:v}}}function O4e(e){const t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",a="(?!struct)("+r+"|"+t.optional(i)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",o={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},f={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:t.optional(i)+e.IDENT_RE,relevance:0},p=t.optional(i)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],E={type:g,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},_={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:t.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,t.lookahead(/(<[^<>]+>|)\s*\(/))},N=[_,f,o,n,e.C_BLOCK_COMMENT_MODE,d,u],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:E,contains:N.concat([{begin:/\(/,end:/\)/,keywords:E,contains:N.concat(["self"]),relevance:0}]),relevance:0},C={className:"function",begin:"("+a+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:E,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:E,relevance:0},{begin:p,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,d,o,{begin:/\(/,end:/\)/,keywords:E,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,d,o]}]},o,n,e.C_BLOCK_COMMENT_MODE,f]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:E,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,C,_,N,[f,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:E,contains:["self",o]},{begin:e.IDENT_RE+"::",keywords:E},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function j4e(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(s),built_in:t,literal:r},o=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},f=e.inherit(d,{illegal:/\n/}),h={className:"subst",begin:/\{/,end:/\}/,keywords:a},p=e.inherit(h,{illegal:/\n/}),m={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,p]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]},v=e.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]});h.contains=[g,m,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],p.contains=[v,m,f,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const y={variants:[u,g,m,d,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},x={begin:"<",end:">",contains:[{beginKeywords:"in out"},o]},w=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",E={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},y,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},o,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[o,x,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+w+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,x],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[y,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},E]}}const I4e=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),P4e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],D4e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],M4e=[...P4e,...D4e],R4e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),L4e=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),B4e=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),F4e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function $4e(e){const t=e.regex,n=I4e(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",o=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+L4e.join("|")+")"},{begin:":(:)?("+B4e.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+F4e.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:R4e.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+M4e.join("|")+")\\b"}]}}function U4e(e){const t=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:t.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:t.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function z4e(e){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function H4e(e){const t=e.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:t.concat(n,t.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function W4e(e){const t=e.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},r=e.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},o={begin:/\[/,end:/\]/,contains:[r,s,i,a,n,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,d=/'[^']*'/,f=t.either(l,u,d),h=t.concat(f,"(\\s*\\.\\s*",f,")*",t.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:h,className:"attr",starts:{end:/$/,contains:[r,o,s,i,a,n]}}]}}var Cd="[0-9](_*[0-9])*",Ov=`\\.(${Cd})`,jv="[0-9a-fA-F](_*[0-9a-fA-F])*",K6={className:"number",variants:[{begin:`(\\b(${Cd})((${Ov})|\\.)?|(${Ov}))[eE][+-]?(${Cd})[fFdD]?\\b`},{begin:`\\b(${Cd})((${Ov})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Ov})[fFdD]?\\b`},{begin:`\\b(${Cd})[fFdD]\\b`},{begin:`\\b0[xX]((${jv})\\.?|(${jv})?\\.(${jv}))[pP][+-]?(${Cd})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${jv})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function uX(e,t,n){return n===-1?"":e.replace(t,r=>uX(e,t,n-1))}function V4e(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+uX("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,K6,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},K6,u]}}const G6="[A-Za-z$_][0-9A-Za-z$_]*",q4e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],K4e=["true","false","null","undefined","NaN","Infinity"],dX=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],fX=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],hX=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],G4e=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Y4e=[].concat(hX,dX,fX);function X4e(e){const t=e.regex,n=(M,{after:V})=>{const I="</"+M[0].slice(1);return M.input.indexOf(I,V)!==-1},r=G6,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(M,V)=>{const I=M[0].length+M.index,ee=M.input[I];if(ee==="<"||ee===","){V.ignoreMatch();return}ee===">"&&(n(M,{after:I})||V.ignoreMatch());let W;const $=M.input.substring(I);if(W=$.match(/^\s*=/)){V.ignoreMatch();return}if((W=$.match(/^\s+extends\s+/))&&W.index===0){V.ignoreMatch();return}}},o={$pattern:G6,keyword:q4e,literal:K4e,built_in:Y4e,"variable.language":G4e},l="[0-9](_?[0-9])*",u=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,h]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},w=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,v,{match:/\$\d+/},f];h.contains=w.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(w)});const E=[].concat(x,h.contains),_=E.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(E)}]),N={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:_},T={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...dX,...fX]}},O={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},A={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[N],illegal:/%/},D={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function k(M){return t.concat("(?!",M.join("|"),")")}const P={match:t.concat(/\b/,k([...hX,"super","import"].map(M=>`${M}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},B={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},L={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},N]},j="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(j)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[N]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),O,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,v,x,{match:/\$\d+/},f,C,{scope:"attr",match:r+t.lookahead(":"),relevance:0},R,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:j,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[N,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},B,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[N]},P,D,T,L,{match:/\$[(.]/}]}}function Q4e(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var kd="[0-9](_*[0-9])*",Iv=`\\.(${kd})`,Pv="[0-9a-fA-F](_*[0-9a-fA-F])*",J4e={className:"number",variants:[{begin:`(\\b(${kd})((${Iv})|\\.)?|(${Iv}))[eE][+-]?(${kd})[fFdD]?\\b`},{begin:`\\b(${kd})((${Iv})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Iv})[fFdD]?\\b`},{begin:`\\b(${kd})[fFdD]\\b`},{begin:`\\b0[xX]((${Pv})\\.?|(${Pv})?\\.(${Pv}))[pP][+-]?(${kd})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Pv})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Z4e(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(a);const o={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},u=J4e,d=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),f={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},h=f;return h.variants[1].contains=[f],f.variants[1].contains=[h],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,d,n,r,o,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[f,e.C_LINE_COMMENT_MODE,d],relevance:0},e.C_LINE_COMMENT_MODE,d,o,l,a,e.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},o,l]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}const e6e=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),t6e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],n6e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],r6e=[...t6e,...n6e],i6e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),pX=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),mX=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),s6e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),a6e=pX.concat(mX).sort().reverse();function o6e(e){const t=e6e(e),n=a6e,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",a=[],o=[],l=function(w){return{className:"string",begin:"~?"+w+".*?"+w}},u=function(w,E,_){return{className:w,begin:E,relevance:_}},d={$pattern:/[a-z-]+/,keyword:r,attribute:i6e.join(" ")},f={begin:"\\(",end:"\\)",contains:o,keywords:d,relevance:0};o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),t.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},t.HEXCOLOR,f,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},t.IMPORTANT,{beginKeywords:"and not"},t.FUNCTION_DISPATCH);const h=o.concat({begin:/\{/,end:/\}/,contains:a}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(o)},m={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+s6e.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:o}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:o,relevance:0}},v={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:h}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,p,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+r6e.join("|")+")\\b",className:"selector-tag"},t.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+pX.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+mX.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:h},{begin:"!important"},t.FUNCTION_DISPATCH]},x={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[y]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,v,x,m,y,p,t.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:a}}function l6e(e){const t="\\[=*\\[",n="\\]=*\\]",r={begin:t,end:n,contains:["self"]},i=[e.COMMENT("--(?!"+t+")","$"),e.COMMENT("--"+t,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:t,end:n,contains:[r],relevance:5}])}}function c6e(e){const t={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[t,n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},a={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[t]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,t,n,r,i,s,a]}}function u6e(e){const t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},o=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,o,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},f=e.inherit(u,{contains:[]}),h=e.inherit(d,{contains:[]});u.contains.push(h),d.contains.push(f);let p=[n,l];return[u,d,f,h].forEach(y=>{y.contains=y.contains.concat(p)}),p=p.concat(u,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},n,s,u,d,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},i,r,l,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function d6e(e){const t={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,o={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:o,illegal:"</",contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function f6e(e){const t=e.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},a={begin:/->\{/,end:/\}/},o={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:t.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[o]},u={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[e.BACKSLASH_ESCAPE,s,l],f=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],h=(g,v,y="\\1")=>{const x=y==="\\1"?y:t.concat(y,v);return t.concat(t.concat("(?:",g,")"),v,/(?:\\.|[^\\\/])*?/,x,/(?:\\.|[^\\\/])*?/,y,r)},p=(g,v,y)=>t.concat(t.concat("(?:",g,")"),v,/(?:\\.|[^\\\/])*?/,y,r),m=[l,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),a,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},u,{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:h("s|tr|y",t.either(...f,{capture:!0}))},{begin:h("s|tr|y","\\(","\\)")},{begin:h("s|tr|y","\\[","\\]")},{begin:h("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",t.either(...f,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE,o,u]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=m,a.contains=m,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:m}}function h6e(e){const t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=t.concat(/[A-Z]+/,n),a={scope:"variable",match:"\\$+"+r},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),d=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(l)}),f={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(B,L)=>{L.data._beginMatch=B[1]||B[2]},"on:end":(B,L)=>{L.data._beginMatch!==B[1]&&L.ignoreMatch()}},h=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),p=`[ 	
]`,m={scope:"string",variants:[d,u,f,h]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},v=["false","null","true"],y=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],x=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],E={keyword:y,literal:(B=>{const L=[];return B.forEach(j=>{L.push(j),j.toLowerCase()===j?L.push(j.toUpperCase()):L.push(j.toLowerCase())}),L})(v),built_in:x},_=B=>B.map(L=>L.replace(/\|\d+$/,"")),N={variants:[{match:[/new/,t.concat(p,"+"),t.concat("(?!",_(x).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},T=t.concat(r,"\\b(?!\\()"),C={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),T],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,t.concat(/::/,t.lookahead(/(?!class\b)/)),T],scope:{1:"title.class",3:"variable.constant"}},{match:[i,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},O={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},A={relevance:0,begin:/\(/,end:/\)/,keywords:E,contains:[O,a,C,e.C_BLOCK_COMMENT_MODE,m,g,N]},D={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",_(y).join("\\b|"),"|",_(x).join("\\b|"),"\\b)"),r,t.concat(p,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[A]};A.contains.push(D);const k=[O,C,e.C_BLOCK_COMMENT_MODE,m,g,N],P={begin:t.concat(/#\[\s*\\?/,t.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:v,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:v,keyword:["new","array"]},contains:["self",...k]},...k,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:E,contains:[P,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},a,D,C,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},N,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:E,contains:["self",P,a,C,e.C_BLOCK_COMMENT_MODE,m,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},m,g]}}function p6e(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function m6e(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function g6e(e){const t=e.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},d={begin:/\{\{/,relevance:0},f={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,d,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,d,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,d,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},h="[0-9](_?[0-9])*",p=`(\\b(${h}))?\\.(${h})|\\b(${h})\\.`,m=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${h})|(${p}))[eE][+-]?(${h})[jJ]?(?=${m})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${m})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${m})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${m})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${m})`},{begin:`\\b(${h})[jJ](?=${m})`}]},v={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",l,g,f,e.HASH_COMMENT_MODE]}]};return u.contains=[f,g,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[l,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},f,v,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,y,f]}]}}function v6e(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function y6e(e){const t=e.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=t.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=t.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:t.lookahead(t.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function x6e(e){const t=e.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=t.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=t.concat(r,/(::\w+)*/),a={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},o={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[o]}),e.COMMENT("^=begin","^=end",{contains:[o],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:a},f={className:"string",contains:[e.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:t.concat(/<<[-~]?'?/,t.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,d]})]}]},h="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",m={className:"number",relevance:0,variants:[{begin:`\\b(${h})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:a}]},N=[f,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:a},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:a},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[f,{begin:n}],relevance:0},m,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,u),relevance:0}].concat(l,u);d.contains=N,g.contains=N;const A=[{begin:/^\s*=>/,starts:{end:"$",contains:N}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:a,contains:N}}];return u.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(A).concat(u).concat(N)}}function b6e(e){const t=e.regex,n=/(r#)?/,r=t.concat(n,e.UNDERSCORE_IDENT_RE),i=t.concat(n,e.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,t.lookahead(/\s*\(/))},a="([ui](8|16|32|64|128|size)|f(32|64))?",o=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],u=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:d,keyword:o,literal:l,built_in:u},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{begin:"\\b0x([A-Fa-f0-9_]+)"+a},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:u,type:d}},{className:"punctuation",begin:"->"},s]}}const w6e=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),E6e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],S6e=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],N6e=[...E6e,...S6e],_6e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),T6e=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),C6e=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),k6e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function A6e(e){const t=w6e(e),n=C6e,r=T6e,i="@[a-z-]+",s="and or not only",o={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+N6e.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},o,{begin:/\(/,end:/\)/,contains:[t.CSS_NUMBER_MODE]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+k6e.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[t.BLOCK_COMMENT,o,t.HEXCOLOR,t.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.IMPORTANT,t.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:_6e.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},o,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,t.HEXCOLOR,t.CSS_NUMBER_MODE]},t.FUNCTION_DISPATCH]}}function O6e(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function j6e(e){const t=e.regex,n=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],f=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],h=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=d,m=[...u,...l].filter(_=>!d.includes(_)),g={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},v={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={match:t.concat(/\b/,t.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function x(_){return t.concat(/\b/,t.either(..._.map(N=>N.replace(/\s+/,"\\s+"))),/\b/)}const w={scope:"keyword",match:x(h),relevance:0};function E(_,{exceptions:N,when:T}={}){const C=T;return N=N||[],_.map(O=>O.match(/\|\d+$/)||N.includes(O)?O:C(O)?`${O}|0`:O)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:E(m,{when:_=>_.length<3}),literal:s,type:o,built_in:f},contains:[{scope:"type",match:x(a)},w,y,g,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,v]}}function gX(e){return e?typeof e=="string"?e:e.source:null}function cp(e){return Ct("(?=",e,")")}function Ct(...e){return e.map(n=>gX(n)).join("")}function I6e(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function Gr(...e){return"("+(I6e(e).capture?"":"?:")+e.map(r=>gX(r)).join("|")+")"}const kI=e=>Ct(/\b/,e,/\w$/.test(e)?/\b/:/\B/),P6e=["Protocol","Type"].map(kI),Y6=["init","self"].map(kI),D6e=["Any","Self"],DN=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],X6=["false","nil","true"],M6e=["assignment","associativity","higherThan","left","lowerThan","none","right"],R6e=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Q6=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],vX=Gr(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),yX=Gr(vX,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),MN=Ct(vX,yX,"*"),xX=Gr(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Db=Gr(xX,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),ha=Ct(xX,Db,"*"),Dv=Ct(/[A-Z]/,Db,"*"),L6e=["attached","autoclosure",Ct(/convention\(/,Gr("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Ct(/objc\(/,ha,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],B6e=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function F6e(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={match:[/\./,Gr(...P6e,...Y6)],className:{2:"keyword"}},s={match:Ct(/\./,Gr(...DN)),relevance:0},a=DN.filter(G=>typeof G=="string").concat(["_|0"]),o=DN.filter(G=>typeof G!="string").concat(D6e).map(kI),l={variants:[{className:"keyword",match:Gr(...o,...Y6)}]},u={$pattern:Gr(/\b\w+/,/#\w+/),keyword:a.concat(R6e),literal:X6},d=[i,s,l],f={match:Ct(/\./,Gr(...Q6)),relevance:0},h={className:"built_in",match:Ct(/\b/,Gr(...Q6),/(?=\()/)},p=[f,h],m={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:MN},{match:`\\.(\\.|${yX})+`}]},v=[m,g],y="([0-9]_*)+",x="([0-9a-fA-F]_*)+",w={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${x})(\\.(${x}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},E=(G="")=>({className:"subst",variants:[{match:Ct(/\\/,G,/[0\\tnr"']/)},{match:Ct(/\\/,G,/u\{[0-9a-fA-F]{1,8}\}/)}]}),_=(G="")=>({className:"subst",match:Ct(/\\/,G,/[\t ]*(?:[\r\n]|\r\n)/)}),N=(G="")=>({className:"subst",label:"interpol",begin:Ct(/\\/,G,/\(/),end:/\)/}),T=(G="")=>({begin:Ct(G,/"""/),end:Ct(/"""/,G),contains:[E(G),_(G),N(G)]}),C=(G="")=>({begin:Ct(G,/"/),end:Ct(/"/,G),contains:[E(G),N(G)]}),O={className:"string",variants:[T(),T("#"),T("##"),T("###"),C(),C("#"),C("##"),C("###")]},A=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],D={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:A},k=G=>{const oe=Ct(G,/\//),be=Ct(/\//,G);return{begin:oe,end:be,contains:[...A,{scope:"comment",begin:`#(?!.*${be})`,end:/$/}]}},P={scope:"regexp",variants:[k("###"),k("##"),k("#"),D]},B={match:Ct(/`/,ha,/`/)},L={className:"variable",match:/\$\d+/},j={className:"variable",match:`\\$${Db}+`},R=[B,L,j],M={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:B6e,contains:[...v,w,O]}]}},V={scope:"keyword",match:Ct(/@/,Gr(...L6e),cp(Gr(/\(/,/\s+/)))},I={scope:"meta",match:Ct(/@/,ha)},ee=[M,V,I],W={match:cp(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Ct(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Db,"+")},{className:"type",match:Dv,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Ct(/\s+&\s+/,cp(Dv)),relevance:0}]},$={begin:/</,end:/>/,keywords:u,contains:[...r,...d,...ee,m,W]};W.contains.push($);const xe={match:Ct(ha,/\s*:/),keywords:"_|0",relevance:0},ke={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",xe,...r,P,...d,...p,...v,w,O,...R,...ee,W]},Ae={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,W]},le={begin:Gr(cp(Ct(ha,/\s*:/)),cp(Ct(ha,/\s+/,ha,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:ha}]},Se={begin:/\(/,end:/\)/,keywords:u,contains:[le,...r,...d,...v,w,O,...ee,W,ke],endsParent:!0,illegal:/["']/},ne={match:[/(func|macro)/,/\s+/,Gr(B.match,ha,MN)],className:{1:"keyword",3:"title.function"},contains:[Ae,Se,t],illegal:[/\[/,/%/]},de={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Ae,Se,t],illegal:/\[|%/},pe={match:[/operator/,/\s+/,MN],className:{1:"keyword",3:"title"}},J={begin:[/precedencegroup/,/\s+/,Dv],className:{1:"keyword",3:"title"},contains:[W],keywords:[...M6e,...X6],end:/}/},qe={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},Oe={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Qe={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,ha,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:u,contains:[Ae,...d,{begin:/:/,end:/\{/,keywords:u,contains:[{scope:"title.class.inherited",match:Dv},...d],relevance:0}]};for(const G of O.variants){const oe=G.contains.find(Jt=>Jt.label==="interpol");oe.keywords=u;const be=[...d,...p,...v,w,O,...R];oe.contains=[...be,{begin:/\(/,end:/\)/,contains:["self",...be]}]}return{name:"Swift",keywords:u,contains:[...r,ne,de,qe,Oe,Qe,pe,J,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},P,...d,...p,...v,w,O,...R,...ee,W,ke]}}const Mb="[A-Za-z$_][0-9A-Za-z$_]*",bX=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],wX=["true","false","null","undefined","NaN","Infinity"],EX=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],SX=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],NX=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],_X=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],TX=[].concat(NX,EX,SX);function $6e(e){const t=e.regex,n=(M,{after:V})=>{const I="</"+M[0].slice(1);return M.input.indexOf(I,V)!==-1},r=Mb,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(M,V)=>{const I=M[0].length+M.index,ee=M.input[I];if(ee==="<"||ee===","){V.ignoreMatch();return}ee===">"&&(n(M,{after:I})||V.ignoreMatch());let W;const $=M.input.substring(I);if(W=$.match(/^\s*=/)){V.ignoreMatch();return}if((W=$.match(/^\s+extends\s+/))&&W.index===0){V.ignoreMatch();return}}},o={$pattern:Mb,keyword:bX,literal:wX,built_in:TX,"variable.language":_X},l="[0-9](_?[0-9])*",u=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${d})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},p={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},m={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,h]},x={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},w=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,v,{match:/\$\d+/},f];h.contains=w.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(w)});const E=[].concat(x,h.contains),_=E.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(E)}]),N={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:_},T={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},C={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...EX,...SX]}},O={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},A={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[N],illegal:/%/},D={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function k(M){return t.concat("(?!",M.join("|"),")")}const P={match:t.concat(/\b/,k([...NX,"super","import"].map(M=>`${M}\\s*\\(`)),r,t.lookahead(/\s*\(/)),className:"title.function",relevance:0},B={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},L={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},N]},j="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(j)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[N]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:C},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),O,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,p,m,g,v,x,{match:/\$\d+/},f,C,{scope:"attr",match:r+t.lookahead(":"),relevance:0},R,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[x,e.REGEXP_MODE,{className:"function",begin:j,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},A,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[N,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},B,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[N]},P,D,T,L,{match:/\$[(.]/}]}}function U6e(e){const t=e.regex,n=$6e(e),r=Mb,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],u={$pattern:Mb,keyword:bX.concat(l),literal:wX,built_in:TX.concat(i),"variable.language":_X},d={className:"meta",begin:"@"+r},f=(g,v,y)=>{const x=g.contains.findIndex(w=>w.label===v);if(x===-1)throw new Error("can not find mode to replace");g.contains.splice(x,1,y)};Object.assign(n.keywords,u),n.exports.PARAMS_CONTAINS.push(d);const h=n.contains.find(g=>g.scope==="attr"),p=Object.assign({},h,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,h,p]),n.contains=n.contains.concat([d,s,a,p]),f(n,"shebang",e.SHEBANG()),f(n,"use_strict",o);const m=n.contains.find(g=>g.label==="func.def");return m.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function z6e(e){const t=e.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,a=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:t.concat(/# */,t.either(s,i),/ *#/)},{begin:t.concat(/# */,o,/ *#/)},{begin:t.concat(/# */,a,/ *#/)},{begin:t.concat(/# */,t.either(s,i),/ +/,t.either(a,o),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},f=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),h=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,l,u,d,f,h,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[h]}]}}function H6e(e){e.regex;const t=e.COMMENT(/\(;/,/;\)/);t.contains.push("self");const n=e.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},a={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},o={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,t,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,a,i,e.QUOTE_STRING_MODE,l,u,o]}}function W6e(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(s,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,l,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function V6e(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},a={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},o=e.inherit(a,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),h={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},p={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},m={begin:/\{/,end:/\}/,contains:[p],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[p],illegal:"\\n",relevance:0},v=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},h,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},m,g,s,a],y=[...v];return y.pop(),y.push(o),p.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:v}}const CX={arduino:C4e,bash:k4e,c:A4e,cpp:O4e,csharp:j4e,css:$4e,diff:U4e,go:z4e,graphql:H4e,ini:W4e,java:V4e,javascript:X4e,json:Q4e,kotlin:Z4e,less:o6e,lua:l6e,makefile:c6e,markdown:u6e,objectivec:d6e,perl:f6e,php:h6e,"php-template":p6e,plaintext:m6e,python:g6e,"python-repl":v6e,r:y6e,ruby:x6e,rust:b6e,scss:A6e,shell:O6e,sql:j6e,swift:F6e,typescript:U6e,vbnet:z6e,wasm:H6e,xml:W6e,yaml:V6e};const J6={},q6e="hljs-";function kX(e){const t=YY.newInstance();return e&&s(e),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:a,registered:o};function n(l,u,d){const f=d||J6,h=typeof f.prefix=="string"?f.prefix:q6e;if(!t.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");t.configure({__emitter:K6e,classPrefix:h});const p=t.highlight(u,{ignoreIllegals:!0,language:l});if(p.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:p.errorRaised});const m=p._emitter.root,g=m.data;return g.language=p.language,g.relevance=p.relevance,m}function r(l,u){const f=(u||J6).subset||i();let h=-1,p=0,m;for(;++h<f.length;){const g=f[h];if(!t.getLanguage(g))continue;const v=n(g,l,u);v.data&&v.data.relevance!==void 0&&v.data.relevance>p&&(p=v.data.relevance,m=v)}return m||{type:"root",children:[],data:{language:void 0,relevance:p}}}function i(){return t.listLanguages()}function s(l,u){if(typeof l=="string")t.registerLanguage(l,u);else{let d;for(d in l)Object.hasOwn(l,d)&&t.registerLanguage(d,l[d])}}function a(l,u){if(typeof l=="string")t.registerAliases(typeof u=="string"?u:[...u],{languageName:l});else{let d;for(d in l)if(Object.hasOwn(l,d)){const f=l[d];t.registerAliases(typeof f=="string"?f:[...f],{languageName:d})}}}function o(l){return!!t.getLanguage(l)}}class K6e{constructor(t){this.options=t,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(t){if(t==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=t:n.children.push({type:"text",value:t})}startScope(t){this.openNode(String(t))}endScope(){this.closeNode()}__addSublanguage(t,n){const r=this.stack[this.stack.length-1],i=t.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(t){const n=this,r=t.split(".").map(function(a,o){return o?a+"_".repeat(o):n.options.classPrefix+a}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const G6e=kX(CX);function Z6({content:e,placeholder:t="Start writing your document...",onChange:n,onSave:r,onPreview:i,className:s,readOnly:a=!1,isSensitive:o=!1,onSensitivityToggle:l,showSaveButton:u=!0,showPreviewButton:d=!0,saveButtonText:f="Save",isLoading:h=!1,characterLimit:p=5e4}){const[m,g]=b.useState(!1),v=jMe({extensions:[fLe,hLe.configure({placeholder:t}),pLe,CRe.configure({openOnClick:!1}),vLe,m3e.configure({lowlight:G6e}),cX.configure({resizable:!0}),lX,oX,aX,x4e.configure({types:["heading","paragraph"]}),S4e.configure({multicolor:!0}),N4e,_4e.configure({nested:!0})],content:e||"",onUpdate:({editor:C})=>{const O=C.getJSON();JSON.stringify(O)!==JSON.stringify(e)&&n&&n(O,C.getHTML(),C.getText())},editorProps:{attributes:{class:"prose prose-sm sm:prose-base lg:prose-lg xl:prose-xl mx-auto focus:outline-none min-h-[500px] p-8 max-w-none"},handleKeyDown:(C,O)=>O.key==="F11"?(O.preventDefault(),g(!m),!0):!1},editable:!a}),y=()=>{if(!v)return;const C=window.prompt("Enter URL:");C&&v.chain().focus().setLink({href:C}).run()},x=()=>{if(!v)return;const C=window.prompt("Enter image URL:");C&&v.chain().focus().setImage({src:C}).run()},w=()=>{v&&v.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()};if(!v)return c.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})});const E=v.storage.characterCount.characters(),_=v.storage.characterCount.words(),N=p&&E>p*.8,T=p&&E>p;return c.jsxs("div",{className:ze("border rounded-lg bg-white transition-all duration-300",m&&"fixed inset-0 z-50 rounded-none border-0 h-screen flex flex-col",s),children:[!a&&c.jsxs("div",{className:"border-b p-3 flex flex-wrap gap-1 bg-gray-50/50 flex-shrink-0",children:[c.jsxs("div",{className:"flex gap-1 mr-3",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleBold().run(),className:v.isActive("bold")?"bg-gray-200":"",children:c.jsx(cT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleItalic().run(),className:v.isActive("italic")?"bg-gray-200":"",children:c.jsx(uT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleStrike().run(),className:v.isActive("strike")?"bg-gray-200":"",children:c.jsx(_ae,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleCode().run(),className:v.isActive("code")?"bg-gray-200":"",children:c.jsx(UA,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-1 mr-3",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleHeading({level:1}).run(),className:v.isActive("heading",{level:1})?"bg-gray-200":"",children:c.jsx(nae,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleHeading({level:2}).run(),className:v.isActive("heading",{level:2})?"bg-gray-200":"",children:c.jsx(rae,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleHeading({level:3}).run(),className:v.isActive("heading",{level:3})?"bg-gray-200":"",children:c.jsx(iae,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().setParagraph().run(),className:v.isActive("paragraph")?"bg-gray-200":"",children:c.jsx(pT,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-1 mr-3",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleBulletList().run(),className:v.isActive("bulletList")?"bg-gray-200":"",children:c.jsx(fT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleOrderedList().run(),className:v.isActive("orderedList")?"bg-gray-200":"",children:c.jsx(dT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleTaskList().run(),className:v.isActive("taskList")?"bg-gray-200":"",children:c.jsx(Qse,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleBlockquote().run(),className:v.isActive("blockquote")?"bg-gray-200":"",children:c.jsx(L8,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-1 mr-3",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().setTextAlign("left").run(),className:v.isActive({textAlign:"left"})?"bg-gray-200":"",children:c.jsx(Vse,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().setTextAlign("center").run(),className:v.isActive({textAlign:"center"})?"bg-gray-200":"",children:c.jsx(Wse,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().setTextAlign("right").run(),className:v.isActive({textAlign:"right"})?"bg-gray-200":"",children:c.jsx(qse,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex gap-1 mr-3",children:c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().toggleHighlight().run(),className:v.isActive("highlight")?"bg-yellow-200":"",children:c.jsx(oo,{className:"h-4 w-4"})})}),c.jsxs("div",{className:"flex gap-1 mr-3",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:y,children:c.jsx(cae,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:x,children:c.jsx(aae,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:w,children:c.jsx(VA,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-1 mr-3",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().undo().run(),disabled:!v.can().undo(),children:c.jsx(F8,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v.chain().focus().redo().run(),disabled:!v.can().redo(),children:c.jsx(B8,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex gap-2 ml-auto",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>g(!m),title:m?"Exit full screen (F11)":"Enter full screen (F11)",children:m?c.jsx(mae,{className:"h-4 w-4"}):c.jsx(hae,{className:"h-4 w-4"})}),c.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),l&&c.jsx(z,{variant:"ghost",size:"sm",onClick:l,className:o?"text-red-600":"text-gray-600",children:o?c.jsx(ou,{className:"h-4 w-4"}):c.jsx($8,{className:"h-4 w-4"})}),d&&i&&c.jsx(z,{variant:"ghost",size:"sm",onClick:i,children:c.jsx($i,{className:"h-4 w-4"})}),u&&r&&c.jsxs(z,{size:"sm",onClick:r,disabled:h||!!T,children:[c.jsx(b1,{className:"h-4 w-4 mr-1"}),f]})]})]}),c.jsx("div",{className:ze("flex-1 overflow-auto",m?"p-8":"p-6"),children:c.jsx(NMe,{editor:v,className:ze("prose prose-sm max-w-none focus:outline-none","prose-headings:font-bold prose-h1:text-2xl prose-h2:text-xl prose-h3:text-lg","prose-p:leading-relaxed prose-li:leading-relaxed","prose-pre:bg-gray-100 prose-code:bg-gray-100 prose-code:px-1 prose-code:py-0.5 prose-code:rounded","prose-blockquote:border-l-4 prose-blockquote:border-blue-500 prose-blockquote:pl-4 prose-blockquote:italic","prose-table:table-auto prose-th:text-left prose-th:font-semibold",a&&"cursor-default")})}),c.jsxs("div",{className:"border-t p-3 flex items-center justify-between text-sm text-gray-500 bg-gray-50/50 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{children:[_," words"]}),c.jsxs("span",{className:ze(T&&"text-red-600 font-semibold",N&&!T&&"text-yellow-600"),children:[E,p&&` / ${p}`," characters"]}),o&&c.jsxs(Ye,{variant:"destructive",className:"text-xs",children:[c.jsx(ou,{className:"h-3 w-3 mr-1"}),"Sensitive"]})]}),T&&c.jsx("span",{className:"text-red-600 text-xs font-medium",children:"Character limit exceeded"})]})]})}function eB(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}function AX(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Y6e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,X6e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Q6e={};function tB(e,t){return(Q6e.jsx?X6e:Y6e).test(e)}const J6e=/[ \t\n\f\r]/g;function Z6e(e){return typeof e=="object"?e.type==="text"?nB(e.value):!1:nB(e)}function nB(e){return e.replace(J6e,"")===""}let u0=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};u0.prototype.normal={};u0.prototype.property={};u0.prototype.space=void 0;function OX(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new u0(n,r,t)}function cg(e){return e.toLowerCase()}let Ei=class{constructor(t,n){this.attribute=n,this.property=t}};Ei.prototype.attribute="";Ei.prototype.booleanish=!1;Ei.prototype.boolean=!1;Ei.prototype.commaOrSpaceSeparated=!1;Ei.prototype.commaSeparated=!1;Ei.prototype.defined=!1;Ei.prototype.mustUseProperty=!1;Ei.prototype.number=!1;Ei.prototype.overloadedBoolean=!1;Ei.prototype.property="";Ei.prototype.spaceSeparated=!1;Ei.prototype.space=void 0;let eBe=0;const et=Zu(),An=Zu(),sk=Zu(),ve=Zu(),Mt=Zu(),df=Zu(),_i=Zu();function Zu(){return 2**++eBe}const ak=Object.freeze(Object.defineProperty({__proto__:null,boolean:et,booleanish:An,commaOrSpaceSeparated:_i,commaSeparated:df,number:ve,overloadedBoolean:sk,spaceSeparated:Mt},Symbol.toStringTag,{value:"Module"})),RN=Object.keys(ak);let AI=class extends Ei{constructor(t,n,r,i){let s=-1;if(super(t,n),rB(this,"space",i),typeof r=="number")for(;++s<RN.length;){const a=RN[s];rB(this,RN[s],(r&ak[a])===ak[a])}}};AI.prototype.defined=!0;function rB(e,t,n){n&&(e[t]=n)}function Th(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new AI(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[cg(r)]=r,n[cg(s.attribute)]=r}return new u0(t,n,e.space)}const jX=Th({properties:{ariaActiveDescendant:null,ariaAtomic:An,ariaAutoComplete:null,ariaBusy:An,ariaChecked:An,ariaColCount:ve,ariaColIndex:ve,ariaColSpan:ve,ariaControls:Mt,ariaCurrent:null,ariaDescribedBy:Mt,ariaDetails:null,ariaDisabled:An,ariaDropEffect:Mt,ariaErrorMessage:null,ariaExpanded:An,ariaFlowTo:Mt,ariaGrabbed:An,ariaHasPopup:null,ariaHidden:An,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Mt,ariaLevel:ve,ariaLive:null,ariaModal:An,ariaMultiLine:An,ariaMultiSelectable:An,ariaOrientation:null,ariaOwns:Mt,ariaPlaceholder:null,ariaPosInSet:ve,ariaPressed:An,ariaReadOnly:An,ariaRelevant:null,ariaRequired:An,ariaRoleDescription:Mt,ariaRowCount:ve,ariaRowIndex:ve,ariaRowSpan:ve,ariaSelected:An,ariaSetSize:ve,ariaSort:null,ariaValueMax:ve,ariaValueMin:ve,ariaValueNow:ve,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function IX(e,t){return t in e?e[t]:t}function PX(e,t){return IX(e,t.toLowerCase())}const tBe=Th({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:df,acceptCharset:Mt,accessKey:Mt,action:null,allow:null,allowFullScreen:et,allowPaymentRequest:et,allowUserMedia:et,alt:null,as:null,async:et,autoCapitalize:null,autoComplete:Mt,autoFocus:et,autoPlay:et,blocking:Mt,capture:null,charSet:null,checked:et,cite:null,className:Mt,cols:ve,colSpan:null,content:null,contentEditable:An,controls:et,controlsList:Mt,coords:ve|df,crossOrigin:null,data:null,dateTime:null,decoding:null,default:et,defer:et,dir:null,dirName:null,disabled:et,download:sk,draggable:An,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:et,formTarget:null,headers:Mt,height:ve,hidden:sk,high:ve,href:null,hrefLang:null,htmlFor:Mt,httpEquiv:Mt,id:null,imageSizes:null,imageSrcSet:null,inert:et,inputMode:null,integrity:null,is:null,isMap:et,itemId:null,itemProp:Mt,itemRef:Mt,itemScope:et,itemType:Mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:et,low:ve,manifest:null,max:null,maxLength:ve,media:null,method:null,min:null,minLength:ve,multiple:et,muted:et,name:null,nonce:null,noModule:et,noValidate:et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:et,optimum:ve,pattern:null,ping:Mt,placeholder:null,playsInline:et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:et,referrerPolicy:null,rel:Mt,required:et,reversed:et,rows:ve,rowSpan:ve,sandbox:Mt,scope:null,scoped:et,seamless:et,selected:et,shadowRootClonable:et,shadowRootDelegatesFocus:et,shadowRootMode:null,shape:null,size:ve,sizes:null,slot:null,span:ve,spellCheck:An,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ve,step:null,style:null,tabIndex:ve,target:null,title:null,translate:null,type:null,typeMustMatch:et,useMap:null,value:An,width:ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Mt,axis:null,background:null,bgColor:null,border:ve,borderColor:null,bottomMargin:ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:et,declare:et,event:null,face:null,frame:null,frameBorder:null,hSpace:ve,leftMargin:ve,link:null,longDesc:null,lowSrc:null,marginHeight:ve,marginWidth:ve,noResize:et,noHref:et,noShade:et,noWrap:et,object:null,profile:null,prompt:null,rev:null,rightMargin:ve,rules:null,scheme:null,scrolling:An,standby:null,summary:null,text:null,topMargin:ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:et,disableRemotePlayback:et,prefix:null,property:null,results:ve,security:null,unselectable:null},space:"html",transform:PX}),nBe=Th({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_i,accentHeight:ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ve,amplitude:ve,arabicForm:null,ascent:ve,attributeName:null,attributeType:null,azimuth:ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ve,by:null,calcMode:null,capHeight:ve,className:Mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ve,diffuseConstant:ve,direction:null,display:null,dur:null,divisor:ve,dominantBaseline:null,download:et,dx:null,dy:null,edgeMode:null,editable:null,elevation:ve,enableBackground:null,end:null,event:null,exponent:ve,externalResourcesRequired:null,fill:null,fillOpacity:ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:df,g2:df,glyphName:df,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ve,horizOriginX:ve,horizOriginY:ve,id:null,ideographic:ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ve,k:ve,k1:ve,k2:ve,k3:ve,k4:ve,kernelMatrix:_i,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ve,overlineThickness:ve,paintOrder:null,panose1:null,path:null,pathLength:ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ve,pointsAtY:ve,pointsAtZ:ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_i,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_i,rev:_i,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_i,requiredFeatures:_i,requiredFonts:_i,requiredFormats:_i,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ve,specularExponent:ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ve,strikethroughThickness:ve,string:null,stroke:null,strokeDashArray:_i,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ve,strokeOpacity:ve,strokeWidth:null,style:null,surfaceScale:ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_i,tabIndex:ve,tableValues:null,target:null,targetX:ve,targetY:ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_i,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ve,underlineThickness:ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ve,values:null,vAlphabetic:ve,vMathematical:ve,vectorEffect:null,vHanging:ve,vIdeographic:ve,version:null,vertAdvY:ve,vertOriginX:ve,vertOriginY:ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:IX}),DX=Th({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),MX=Th({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:PX}),RX=Th({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),rBe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},iBe=/[A-Z]/g,iB=/-[a-z]/g,sBe=/^data[-\w.:]+$/i;function OI(e,t){const n=cg(t);let r=t,i=Ei;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&sBe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(iB,oBe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!iB.test(s)){let a=s.replace(iBe,aBe);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=AI}return new i(r,t)}function aBe(e){return"-"+e.toLowerCase()}function oBe(e){return e.charAt(1).toUpperCase()}const cE=OX([jX,tBe,DX,MX,RX],"html"),Ch=OX([jX,nBe,DX,MX,RX],"svg");function sB(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function LX(e){return e.join(" ").trim()}var jI={},aB=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,lBe=/\n/g,cBe=/^\s*/,uBe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,dBe=/^:\s*/,fBe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,hBe=/^[;\s]*/,pBe=/^\s+|\s+$/g,mBe=`
`,oB="/",lB="*",Wc="",gBe="comment",vBe="declaration",yBe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(lBe);g&&(n+=g.length);var v=m.lastIndexOf(mBe);r=~v?m.length-v:r+m.length}function s(){var m={line:n,column:r};return function(g){return g.position=new a(m),u(),g}}function a(m){this.start=m,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function o(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var v=g[0];return i(v),e=e.slice(v.length),g}}function u(){l(cBe)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=s();if(!(oB!=e.charAt(0)||lB!=e.charAt(1))){for(var g=2;Wc!=e.charAt(g)&&(lB!=e.charAt(g)||oB!=e.charAt(g+1));)++g;if(g+=2,Wc===e.charAt(g-1))return o("End of comment missing");var v=e.slice(2,g-2);return r+=2,i(v),e=e.slice(g),r+=2,m({type:gBe,comment:v})}}function h(){var m=s(),g=l(uBe);if(g){if(f(),!l(dBe))return o("property missing ':'");var v=l(fBe),y=m({type:vBe,property:cB(g[0].replace(aB,Wc)),value:v?cB(v[0].replace(aB,Wc)):Wc});return l(hBe),y}}function p(){var m=[];d(m);for(var g;g=h();)g!==!1&&(m.push(g),d(m));return m}return u(),p()};function cB(e){return e?e.replace(pBe,Wc):Wc}var xBe=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jI,"__esModule",{value:!0});jI.default=wBe;var bBe=xBe(yBe);function wBe(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,bBe.default)(e),i=typeof t=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?t(a,o,s):o&&(n=n||{},n[a]=o)}}),n}var uE={};Object.defineProperty(uE,"__esModule",{value:!0});uE.camelCase=void 0;var EBe=/^--[a-zA-Z0-9_-]+$/,SBe=/-([a-z])/g,NBe=/^[^-]+$/,_Be=/^-(webkit|moz|ms|o|khtml)-/,TBe=/^-(ms)-/,CBe=function(e){return!e||NBe.test(e)||EBe.test(e)},kBe=function(e,t){return t.toUpperCase()},uB=function(e,t){return"".concat(t,"-")},ABe=function(e,t){return t===void 0&&(t={}),CBe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(TBe,uB):e=e.replace(_Be,uB),e.replace(SBe,kBe))};uE.camelCase=ABe;var OBe=Dr&&Dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},jBe=OBe(jI),IBe=uE;function ok(e,t){var n={};return!e||typeof e!="string"||(0,jBe.default)(e,function(r,i){r&&i&&(n[(0,IBe.camelCase)(r,t)]=i)}),n}ok.default=ok;var PBe=ok;const DBe=Br(PBe),dE=BX("end"),$a=BX("start");function BX(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function MBe(e){const t=$a(e),n=dE(e);if(t&&n)return{start:t,end:n}}function em(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?dB(e.position):"start"in e||"end"in e?dB(e):"line"in e||"column"in e?lk(e):""}function lk(e){return fB(e&&e.line)+":"+fB(e&&e.column)}function dB(e){return lk(e&&e.start)+"-"+lk(e&&e.end)}function fB(e){return e&&typeof e=="number"?e:1}class Hr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=em(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Hr.prototype.file="";Hr.prototype.name="";Hr.prototype.reason="";Hr.prototype.message="";Hr.prototype.stack="";Hr.prototype.column=void 0;Hr.prototype.line=void 0;Hr.prototype.ancestors=void 0;Hr.prototype.cause=void 0;Hr.prototype.fatal=void 0;Hr.prototype.place=void 0;Hr.prototype.ruleId=void 0;Hr.prototype.source=void 0;const II={}.hasOwnProperty,RBe=new Map,LBe=/[A-Z]/g,BBe=new Set(["table","tbody","thead","tfoot","tr"]),FBe=new Set(["td","th"]),FX="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function $Be(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=GBe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=KBe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ch:cE,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=$X(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function $X(e,t,n){if(t.type==="element")return UBe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return zBe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return WBe(e,t,n);if(t.type==="mdxjsEsm")return HBe(e,t);if(t.type==="root")return VBe(e,t,n);if(t.type==="text")return qBe(e,t)}function UBe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ch,e.schema=i),e.ancestors.push(t);const s=zX(e,t.tagName,!1),a=YBe(e,t);let o=DI(e,t);return BBe.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Z6e(l):!0})),UX(e,a,s,t),PI(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function zBe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ug(e,t.position)}function HBe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ug(e,t.position)}function WBe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Ch,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:zX(e,t.name,!0),a=XBe(e,t),o=DI(e,t);return UX(e,a,s,t),PI(a,o),e.ancestors.pop(),e.schema=r,e.create(t,s,a,n)}function VBe(e,t,n){const r={};return PI(r,DI(e,t)),e.create(t,e.Fragment,r,n)}function qBe(e,t){return t.value}function UX(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function PI(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function KBe(e,t,n){return r;function r(i,s,a,o){const u=Array.isArray(a.children)?n:t;return o?u(s,a,o):u(s,a)}}function GBe(e,t){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=$a(r);return t(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function YBe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&II.call(t.properties,i)){const s=QBe(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&FBe.has(t.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function XBe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else ug(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else ug(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function DI(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:RBe;for(;++r<t.children.length;){const s=t.children[r];let a;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;a=l+"-"+u,i.set(l,u+1)}}const o=$X(e,s,a);o!==void 0&&n.push(o)}return n}function QBe(e,t,n){const r=OI(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?AX(n):LX(n)),r.property==="style"){let i=typeof n=="object"?n:JBe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=ZBe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?rBe[r.property]||r.property:r.attribute,n]}}function JBe(e,t){try{return DBe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Hr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=FX+"#cannot-parse-style-attribute",i}}function zX(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=tB(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=tB(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return II.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ug(e)}function ug(e,t){const n=new Hr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=FX+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ZBe(e){const t={};let n;for(n in e)II.call(e,n)&&(t[eFe(n)]=e[n]);return t}function eFe(e){let t=e.replace(LBe,tFe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function tFe(e){return"-"+e.toLowerCase()}const LN={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},nFe={};function MI(e,t){const n=nFe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return HX(e,r,i)}function HX(e,t,n){if(rFe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return hB(e.children,t,n)}return Array.isArray(e)?hB(e,t,n):""}function hB(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=HX(e[i],t,n);return r.join("")}function rFe(e){return!!(e&&typeof e=="object")}const pB=document.createElement("i");function RI(e){const t="&"+e+";";pB.innerHTML=t;const n=pB.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Vi(e,t,n,r){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function hs(e,t){return e.length>0?(Vi(e,e.length,0,t),e):t}const mB={}.hasOwnProperty;function WX(e){const t={};let n=-1;for(;++n<e.length;)iFe(t,e[n]);return t}function iFe(e,t){let n;for(n in t){const i=(mB.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){mB.call(i,a)||(i[a]=[]);const o=s[a];sFe(i[a],Array.isArray(o)?o:o?[o]:[])}}}function sFe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Vi(e,0,0,r)}function VX(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Js(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Xr=Ec(/[A-Za-z]/),Ir=Ec(/[\dA-Za-z]/),aFe=Ec(/[#-'*+\--9=?A-Z^-~]/);function Rb(e){return e!==null&&(e<32||e===127)}const ck=Ec(/\d/),oFe=Ec(/[\dA-Fa-f]/),lFe=Ec(/[!-/:-@[-`{-~]/);function We(e){return e!==null&&e<-2}function jt(e){return e!==null&&(e<0||e===32)}function ot(e){return e===-2||e===-1||e===32}const fE=Ec(new RegExp("\\p{P}|\\p{S}","u")),$u=Ec(/\s/);function Ec(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function kh(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(s===37&&Ir(e.charCodeAt(n+1))&&Ir(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function pt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return ot(l)?(e.enter(n),o(l)):t(l)}function o(l){return ot(l)&&s++<i?(e.consume(l),o):(e.exit(n),t(l))}}const cFe={tokenize:uFe};function uFe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),pt(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return We(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const dFe={tokenize:fFe},gB={tokenize:hFe};function fFe(e){const t=this,n=[];let r=0,i,s,a;return o;function o(w){if(r<n.length){const E=n[r];return t.containerState=E[1],e.attempt(E[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const E=t.events.length;let _=E,N;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){N=t.events[_][1].end;break}y(r);let T=E;for(;T<t.events.length;)t.events[T][1].end={...N},T++;return Vi(t.events,_+1,0,t.events.slice(E)),t.events.length=T,u(w)}return o(w)}function u(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(gB,d,f)(w)}function d(w){return i&&x(),y(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,m(w)}function h(w){return t.containerState={},e.attempt(gB,p,m)(w)}function p(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function m(w){if(w===null){i&&x(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(w)}function g(w){if(w===null){v(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return We(w)?(e.consume(w),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),g)}function v(w,E){const _=t.sliceStream(w);if(E&&_.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(_),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<a&&(!i.events[N][1].end||i.events[N][1].end.offset>a))return;const T=t.events.length;let C=T,O,A;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(O){A=t.events[C][1].end;break}O=!0}for(y(r),N=T;N<t.events.length;)t.events[N][1].end={...A},N++;Vi(t.events,C+1,0,t.events.slice(T)),t.events.length=N}}function y(w){let E=n.length;for(;E-- >w;){const _=n[E];t.containerState=_[1],_[0].exit.call(t,e)}n.length=w}function x(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function hFe(e,t,n){return pt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Kf(e){if(e===null||jt(e)||$u(e))return 1;if(fE(e))return 2}function hE(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const uk={name:"attention",resolveAll:pFe,tokenize:mFe};function pFe(e,t){let n=-1,r,i,s,a,o,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};vB(f,-l),vB(h,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[r][1].end={...a.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=hs(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=hs(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=hs(u,hE(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=hs(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=hs(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Vi(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function mFe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Kf(r);let s;return a;function a(l){return s=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===s)return e.consume(l),o;const u=e.exit("attentionSequence"),d=Kf(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?f:f&&(i||!h)),u._close=!!(s===42?h:h&&(d||!f)),t(l)}}function vB(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const gFe={name:"autolink",tokenize:vFe};function vFe(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(p){return Xr(p)?(e.consume(p),a):p===64?n(p):u(p)}function a(p){return p===43||p===45||p===46||Ir(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||Ir(p))&&r++<32?(e.consume(p),o):(r=0,u(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Rb(p)?n(p):(e.consume(p),l)}function u(p){return p===64?(e.consume(p),d):aFe(p)?(e.consume(p),u):n(p)}function d(p){return Ir(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Ir(p))&&r++<63){const m=p===45?h:f;return e.consume(p),m}return n(p)}}const d0={partial:!0,tokenize:yFe};function yFe(e,t,n){return r;function r(s){return ot(s)?pt(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||We(s)?t(s):n(s)}}const qX={continuation:{tokenize:bFe},exit:wFe,name:"blockQuote",tokenize:xFe};function xFe(e,t,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return ot(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function bFe(e,t,n){const r=this;return i;function i(a){return ot(a)?pt(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(qX,t,n)(a)}}function wFe(e){e.exit("blockQuote")}const KX={name:"characterEscape",tokenize:EFe};function EFe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return lFe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const GX={name:"characterReference",tokenize:SFe};function SFe(e,t,n){const r=this;let i=0,s,a;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=Ir,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=oFe,d):(e.enter("characterReferenceValue"),s=7,a=ck,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return a===Ir&&!RI(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&i++<s?(e.consume(f),d):n(f)}}const yB={partial:!0,tokenize:_Fe},xB={concrete:!0,name:"codeFenced",tokenize:NFe};function NFe(e,t,n){const r=this,i={partial:!0,tokenize:_};let s=0,a=0,o;return l;function l(N){return u(N)}function u(N){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===o?(a++,e.consume(N),d):a<3?n(N):(e.exit("codeFencedFenceSequence"),ot(N)?pt(e,f,"whitespace")(N):f(N))}function f(N){return N===null||We(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(yB,g,E)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||We(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):ot(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),pt(e,p,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),h)}function p(N){return N===null||We(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||We(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),m)}function g(N){return e.attempt(i,E,v)(N)}function v(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),y}function y(N){return s>0&&ot(N)?pt(e,x,"linePrefix",s+1)(N):x(N)}function x(N){return N===null||We(N)?e.check(yB,g,E)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||We(N)?(e.exit("codeFlowValue"),x(N)):(e.consume(N),w)}function E(N){return e.exit("codeFenced"),t(N)}function _(N,T,C){let O=0;return A;function A(L){return N.enter("lineEnding"),N.consume(L),N.exit("lineEnding"),D}function D(L){return N.enter("codeFencedFence"),ot(L)?pt(N,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):k(L)}function k(L){return L===o?(N.enter("codeFencedFenceSequence"),P(L)):C(L)}function P(L){return L===o?(O++,N.consume(L),P):O>=a?(N.exit("codeFencedFenceSequence"),ot(L)?pt(N,B,"whitespace")(L):B(L)):C(L)}function B(L){return L===null||We(L)?(N.exit("codeFencedFence"),T(L)):C(L)}}}function _Fe(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const BN={name:"codeIndented",tokenize:CFe},TFe={partial:!0,tokenize:kFe};function CFe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),pt(e,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?l(u):We(u)?e.attempt(TFe,a,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||We(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function kFe(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):We(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):pt(e,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):We(a)?i(a):n(a)}}const AFe={name:"codeText",previous:jFe,resolve:OFe,tokenize:IFe};function OFe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function jFe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function IFe(e,t,n){let r=0,i,s;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):We(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||We(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",u(f))}}class PFe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&up(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),up(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),up(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);up(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);up(this.left,n.reverse())}}}function up(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function YX(e){const t={};let n=-1,r,i,s,a,o,l,u;const d=new PFe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,DFe(d,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Vi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function DFe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],u={};let d,f,h=-1,p=n,m=0,g=0;const v=[g];for(;p;){for(;e.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,v.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),h=v.length;h--;){const y=o.slice(v[h],v[h+1]),x=s.pop();l.push([x,x+y.length-1]),e.splice(x,2,y)}for(l.reverse(),h=-1;++h<l.length;)u[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return u}const MFe={resolve:LFe,tokenize:BFe},RFe={partial:!0,tokenize:FFe};function LFe(e){return YX(e),e}function BFe(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):We(o)?e.check(RFe,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function FFe(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),pt(e,s,"linePrefix")}function s(a){if(a===null||We(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function XX(e,t,n,r,i,s,a,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),h):y===null||y===32||y===41||Rb(y)?n(y):(e.enter(r),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(y))}function h(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(o),h(y)):y===null||y===60||We(y)?n(y):(e.consume(y),y===92?m:p)}function m(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function g(y){return!d&&(y===null||y===41||jt(y))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,g):y===41?(e.consume(y),d--,g):y===null||y===32||y===40||Rb(y)?n(y):(e.consume(y),y===92?v:g)}function v(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function QX(e,t,n,r,i,s){const a=this;let o=0,l;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(e.exit(s),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):We(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||We(p)||o++>999?(e.exit("chunkString"),d(p)):(e.consume(p),l||(l=!ot(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),o++,f):f(p)}}function JX(e,t,n,r,i,s){let a;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,l):n(h)}function l(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(s),u(h))}function u(h){return h===a?(e.exit(s),l(a)):h===null?n(h):We(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),pt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||We(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===a||h===92?(e.consume(h),d):d(h)}}function tm(e,t){let n;return r;function r(i){return We(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ot(i)?pt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const $Fe={name:"definition",tokenize:zFe},UFe={partial:!0,tokenize:HFe};function zFe(e,t,n){const r=this;let i;return s;function s(p){return e.enter("definition"),a(p)}function a(p){return QX.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return i=Js(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return jt(p)?tm(e,u)(p):u(p)}function u(p){return XX(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(UFe,f,f)(p)}function f(p){return ot(p)?pt(e,h,"whitespace")(p):h(p)}function h(p){return p===null||We(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function HFe(e,t,n){return r;function r(o){return jt(o)?tm(e,i)(o):n(o)}function i(o){return JX(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return ot(o)?pt(e,a,"whitespace")(o):a(o)}function a(o){return o===null||We(o)?t(o):n(o)}}const WFe={name:"hardBreakEscape",tokenize:VFe};function VFe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return We(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const qFe={name:"headingAtx",resolve:KFe,tokenize:GFe};function KFe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Vi(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function GFe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||jt(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||We(d)?(e.exit("atxHeading"),t(d)):ot(d)?pt(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||jt(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const YFe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bB=["pre","script","style","textarea"],XFe={concrete:!0,name:"htmlFlow",resolveTo:ZFe,tokenize:e5e},QFe={partial:!0,tokenize:n5e},JFe={partial:!0,tokenize:t5e};function ZFe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function e5e(e,t,n){const r=this;let i,s,a,o,l;return u;function u($){return d($)}function d($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),f}function f($){return $===33?(e.consume($),h):$===47?(e.consume($),s=!0,g):$===63?(e.consume($),i=3,r.interrupt?t:I):Xr($)?(e.consume($),a=String.fromCharCode($),v):n($)}function h($){return $===45?(e.consume($),i=2,p):$===91?(e.consume($),i=5,o=0,m):Xr($)?(e.consume($),i=4,r.interrupt?t:I):n($)}function p($){return $===45?(e.consume($),r.interrupt?t:I):n($)}function m($){const xe="CDATA[";return $===xe.charCodeAt(o++)?(e.consume($),o===xe.length?r.interrupt?t:k:m):n($)}function g($){return Xr($)?(e.consume($),a=String.fromCharCode($),v):n($)}function v($){if($===null||$===47||$===62||jt($)){const xe=$===47,ke=a.toLowerCase();return!xe&&!s&&bB.includes(ke)?(i=1,r.interrupt?t($):k($)):YFe.includes(a.toLowerCase())?(i=6,xe?(e.consume($),y):r.interrupt?t($):k($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):s?x($):w($))}return $===45||Ir($)?(e.consume($),a+=String.fromCharCode($),v):n($)}function y($){return $===62?(e.consume($),r.interrupt?t:k):n($)}function x($){return ot($)?(e.consume($),x):A($)}function w($){return $===47?(e.consume($),A):$===58||$===95||Xr($)?(e.consume($),E):ot($)?(e.consume($),w):A($)}function E($){return $===45||$===46||$===58||$===95||Ir($)?(e.consume($),E):_($)}function _($){return $===61?(e.consume($),N):ot($)?(e.consume($),_):w($)}function N($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),l=$,T):ot($)?(e.consume($),N):C($)}function T($){return $===l?(e.consume($),l=null,O):$===null||We($)?n($):(e.consume($),T)}function C($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||jt($)?_($):(e.consume($),C)}function O($){return $===47||$===62||ot($)?w($):n($)}function A($){return $===62?(e.consume($),D):n($)}function D($){return $===null||We($)?k($):ot($)?(e.consume($),D):n($)}function k($){return $===45&&i===2?(e.consume($),j):$===60&&i===1?(e.consume($),R):$===62&&i===4?(e.consume($),ee):$===63&&i===3?(e.consume($),I):$===93&&i===5?(e.consume($),V):We($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(QFe,W,P)($)):$===null||We($)?(e.exit("htmlFlowData"),P($)):(e.consume($),k)}function P($){return e.check(JFe,B,W)($)}function B($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),L}function L($){return $===null||We($)?P($):(e.enter("htmlFlowData"),k($))}function j($){return $===45?(e.consume($),I):k($)}function R($){return $===47?(e.consume($),a="",M):k($)}function M($){if($===62){const xe=a.toLowerCase();return bB.includes(xe)?(e.consume($),ee):k($)}return Xr($)&&a.length<8?(e.consume($),a+=String.fromCharCode($),M):k($)}function V($){return $===93?(e.consume($),I):k($)}function I($){return $===62?(e.consume($),ee):$===45&&i===2?(e.consume($),I):k($)}function ee($){return $===null||We($)?(e.exit("htmlFlowData"),W($)):(e.consume($),ee)}function W($){return e.exit("htmlFlow"),t($)}}function t5e(e,t,n){const r=this;return i;function i(a){return We(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function n5e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(d0,t,n)}}const r5e={name:"htmlText",tokenize:i5e};function i5e(e,t,n){const r=this;let i,s,a;return o;function o(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),l}function l(I){return I===33?(e.consume(I),u):I===47?(e.consume(I),_):I===63?(e.consume(I),w):Xr(I)?(e.consume(I),C):n(I)}function u(I){return I===45?(e.consume(I),d):I===91?(e.consume(I),s=0,m):Xr(I)?(e.consume(I),x):n(I)}function d(I){return I===45?(e.consume(I),p):n(I)}function f(I){return I===null?n(I):I===45?(e.consume(I),h):We(I)?(a=f,R(I)):(e.consume(I),f)}function h(I){return I===45?(e.consume(I),p):f(I)}function p(I){return I===62?j(I):I===45?h(I):f(I)}function m(I){const ee="CDATA[";return I===ee.charCodeAt(s++)?(e.consume(I),s===ee.length?g:m):n(I)}function g(I){return I===null?n(I):I===93?(e.consume(I),v):We(I)?(a=g,R(I)):(e.consume(I),g)}function v(I){return I===93?(e.consume(I),y):g(I)}function y(I){return I===62?j(I):I===93?(e.consume(I),y):g(I)}function x(I){return I===null||I===62?j(I):We(I)?(a=x,R(I)):(e.consume(I),x)}function w(I){return I===null?n(I):I===63?(e.consume(I),E):We(I)?(a=w,R(I)):(e.consume(I),w)}function E(I){return I===62?j(I):w(I)}function _(I){return Xr(I)?(e.consume(I),N):n(I)}function N(I){return I===45||Ir(I)?(e.consume(I),N):T(I)}function T(I){return We(I)?(a=T,R(I)):ot(I)?(e.consume(I),T):j(I)}function C(I){return I===45||Ir(I)?(e.consume(I),C):I===47||I===62||jt(I)?O(I):n(I)}function O(I){return I===47?(e.consume(I),j):I===58||I===95||Xr(I)?(e.consume(I),A):We(I)?(a=O,R(I)):ot(I)?(e.consume(I),O):j(I)}function A(I){return I===45||I===46||I===58||I===95||Ir(I)?(e.consume(I),A):D(I)}function D(I){return I===61?(e.consume(I),k):We(I)?(a=D,R(I)):ot(I)?(e.consume(I),D):O(I)}function k(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,P):We(I)?(a=k,R(I)):ot(I)?(e.consume(I),k):(e.consume(I),B)}function P(I){return I===i?(e.consume(I),i=void 0,L):I===null?n(I):We(I)?(a=P,R(I)):(e.consume(I),P)}function B(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||jt(I)?O(I):(e.consume(I),B)}function L(I){return I===47||I===62||jt(I)?O(I):n(I)}function j(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function R(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),M}function M(I){return ot(I)?pt(e,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):V(I)}function V(I){return e.enter("htmlTextData"),a(I)}}const LI={name:"labelEnd",resolveAll:l5e,resolveTo:c5e,tokenize:u5e},s5e={tokenize:d5e},a5e={tokenize:f5e},o5e={tokenize:h5e};function l5e(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Vi(e,0,e.length,n),e}function c5e(e,t){let n=e.length,r=0,i,s,a,o;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=hs(o,e.slice(s+1,s+r+3)),o=hs(o,[["enter",d,t]]),o=hs(o,hE(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),o=hs(o,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),o=hs(o,e.slice(a+1)),o=hs(o,[["exit",l,t]]),Vi(e,s,e.length,o),e}function u5e(e,t,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(h){return s?s._inactive?f(h):(a=r.parser.defined.includes(Js(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(s5e,d,a?d:f)(h):h===91?e.attempt(a5e,d,a?u:f)(h):a?d(h):f(h)}function u(h){return e.attempt(o5e,d,f)(h)}function d(h){return t(h)}function f(h){return s._balanced=!0,n(h)}}function d5e(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return jt(f)?tm(e,s)(f):s(f)}function s(f){return f===41?d(f):XX(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return jt(f)?tm(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?JX(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return jt(f)?tm(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function f5e(e,t,n){const r=this;return i;function i(o){return QX.call(r,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Js(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function a(o){return n(o)}}function h5e(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const p5e={name:"labelStartImage",resolveAll:LI.resolveAll,tokenize:m5e};function m5e(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const g5e={name:"labelStartLink",resolveAll:LI.resolveAll,tokenize:v5e};function v5e(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const FN={name:"lineEnding",tokenize:y5e};function y5e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),pt(e,t,"linePrefix")}}const fy={name:"thematicBreak",tokenize:x5e};function x5e(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||We(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),ot(u)?pt(e,o,"whitespace")(u):o(u))}}const ci={continuation:{tokenize:S5e},exit:_5e,name:"list",tokenize:E5e},b5e={partial:!0,tokenize:T5e},w5e={partial:!0,tokenize:N5e};function E5e(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:ck(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(fy,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return ck(p)&&++a<10?(e.consume(p),l):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(d0,r.interrupt?n:d,e.attempt(b5e,h,f))}function d(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function f(p){return ot(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function S5e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(d0,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,pt(e,t,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!ot(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(w5e,t,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,pt(e,e.attempt(ci,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function N5e(e,t,n){const r=this;return pt(e,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}function _5e(e){e.exit(this.containerState.type)}function T5e(e,t,n){const r=this;return pt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!ot(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const wB={name:"setextUnderline",resolveTo:C5e,tokenize:k5e};function C5e(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function k5e(e,t,n){const r=this;let i;return s;function s(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),ot(u)?pt(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||We(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const A5e={tokenize:O5e};function O5e(e){const t=this,n=e.attempt(d0,r,e.attempt(this.parser.constructs.flowInitial,i,pt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(MFe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const j5e={resolveAll:eQ()},I5e=ZX("string"),P5e=ZX("text");function ZX(e){return{resolveAll:eQ(e==="text"?D5e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,a,o);return a;function a(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function eQ(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function D5e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(u===-2)l=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const M5e={42:ci,43:ci,45:ci,48:ci,49:ci,50:ci,51:ci,52:ci,53:ci,54:ci,55:ci,56:ci,57:ci,62:qX},R5e={91:$Fe},L5e={[-2]:BN,[-1]:BN,32:BN},B5e={35:qFe,42:fy,45:[wB,fy],60:XFe,61:wB,95:fy,96:xB,126:xB},F5e={38:GX,92:KX},$5e={[-5]:FN,[-4]:FN,[-3]:FN,33:p5e,38:GX,42:uk,60:[gFe,r5e],91:g5e,92:[WFe,KX],93:LI,95:uk,96:AFe},U5e={null:[uk,j5e]},z5e={null:[42,95]},H5e={null:[]},W5e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:z5e,contentInitial:R5e,disable:H5e,document:M5e,flow:B5e,flowInitial:L5e,insideSpan:U5e,string:F5e,text:$5e},Symbol.toStringTag,{value:"Module"}));function V5e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:T(_),check:T(N),consume:x,enter:w,exit:E,interrupt:T(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function f(D){return a=hs(a,D),v(),a[a.length-1]!==null?[]:(C(t,0),u.events=hE(s,u.events,u),u.events)}function h(D,k){return K5e(p(D),k)}function p(D){return q5e(a,D)}function m(){const{_bufferIndex:D,_index:k,line:P,column:B,offset:L}=r;return{_bufferIndex:D,_index:k,line:P,column:B,offset:L}}function g(D){i[D.line]=D.column,A()}function v(){let D;for(;r._index<a.length;){const k=a[r._index];if(typeof k=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<k.length;)y(k.charCodeAt(r._bufferIndex));else y(k)}}function y(D){d=d(D)}function x(D){We(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,A()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function w(D,k){const P=k||{};return P.type=D,P.start=m(),u.events.push(["enter",P,u]),o.push(P),P}function E(D){const k=o.pop();return k.end=m(),u.events.push(["exit",k,u]),k}function _(D,k){C(D,k.from)}function N(D,k){k.restore()}function T(D,k){return P;function P(B,L,j){let R,M,V,I;return Array.isArray(B)?W(B):"tokenize"in B?W([B]):ee(B);function ee(Ae){return le;function le(Se){const ne=Se!==null&&Ae[Se],de=Se!==null&&Ae.null,pe=[...Array.isArray(ne)?ne:ne?[ne]:[],...Array.isArray(de)?de:de?[de]:[]];return W(pe)(Se)}}function W(Ae){return R=Ae,M=0,Ae.length===0?j:$(Ae[M])}function $(Ae){return le;function le(Se){return I=O(),V=Ae,Ae.partial||(u.currentConstruct=Ae),Ae.name&&u.parser.constructs.disable.null.includes(Ae.name)?ke():Ae.tokenize.call(k?Object.assign(Object.create(u),k):u,l,xe,ke)(Se)}}function xe(Ae){return D(V,I),L}function ke(Ae){return I.restore(),++M<R.length?$(R[M]):j}}}function C(D,k){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&Vi(u.events,k,u.events.length-k,D.resolve(u.events.slice(k),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function O(){const D=m(),k=u.previous,P=u.currentConstruct,B=u.events.length,L=Array.from(o);return{from:B,restore:j};function j(){r=D,u.previous=k,u.currentConstruct=P,u.events.length=B,o=L,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function q5e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,s)];else{if(a=e.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function K5e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function G5e(e){const r={constructs:WX([W5e,...(e||{}).extensions||[]]),content:i(cFe),defined:[],document:i(dFe),flow:i(A5e),lazy:{},string:i(I5e),text:i(P5e)};return r;function i(s){return a;function a(o){return V5e(r,s,o)}}}function Y5e(e){for(;!YX(e););return e}const EB=/[\0\t\n\r]/g;function X5e(){let e=1,t="",n=!0,r;return i;function i(s,a,o){const l=[];let u,d,f,h,p;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(EB.lastIndex=f,u=EB.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){t=s.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(s.slice(f,h)),e+=h-f),p){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Q5e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function J5e(e){return e.replace(Q5e,Z5e)}function Z5e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return VX(n.slice(s?2:1),s?16:10)}return RI(n)||e}const tQ={}.hasOwnProperty;function e$e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),t$e(n)(Y5e(G5e(n).document().write(X5e()(e,t,!0))))}function t$e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Jt),autolinkProtocol:O,autolinkEmail:O,atxHeading:s(Qe),blockQuote:s(de),characterEscape:O,characterReference:O,codeFenced:s(pe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(pe,a),codeText:s(J,a),codeTextData:O,data:O,codeFlowValue:O,definition:s(qe),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Oe),hardBreakEscape:s(G),hardBreakTrailing:s(G),htmlFlow:s(oe,a),htmlFlowData:O,htmlText:s(oe,a),htmlTextData:O,image:s(be),label:a,link:s(Jt),listItem:s(ut),listItemValue:h,listOrdered:s(bt,f),listUnordered:s(bt),paragraph:s(ua),reference:$,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Qe),strong:s(Si),thematicBreak:s(Ps)},exit:{atxHeading:l(),atxHeadingSequence:_,autolink:l(),autolinkEmail:ne,autolinkProtocol:Se,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:ke,characterReferenceMarkerNumeric:ke,characterReferenceValue:Ae,characterReference:le,codeFenced:l(v),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:A,codeIndented:l(y),codeText:l(L),codeTextData:A,data:A,definition:l(),definitionDestinationString:E,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(k),hardBreakTrailing:l(k),htmlFlow:l(P),htmlFlowData:A,htmlText:l(B),htmlTextData:A,image:l(R),label:V,labelText:M,lineEnding:D,link:l(j),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:xe,resourceDestinationString:I,resourceTitleString:ee,resource:W,setextHeading:l(C),setextHeadingLineSequence:T,setextHeadingText:N,strong:l(),thematicBreak:l()}};nQ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(q){let te={type:"root",children:[]};const we={stack:[te],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:d,data:n},Pe=[];let Ke=-1;for(;++Ke<q.length;)if(q[Ke][1].type==="listOrdered"||q[Ke][1].type==="listUnordered")if(q[Ke][0]==="enter")Pe.push(Ke);else{const Vt=Pe.pop();Ke=i(q,Vt,Ke)}for(Ke=-1;++Ke<q.length;){const Vt=t[q[Ke][0]];tQ.call(Vt,q[Ke][1].type)&&Vt[q[Ke][1].type].call(Object.assign({sliceSerialize:q[Ke][2].sliceSerialize},we),q[Ke][1])}if(we.tokenStack.length>0){const Vt=we.tokenStack[we.tokenStack.length-1];(Vt[1]||SB).call(we,void 0,Vt[0])}for(te.position={start:Zo(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:Zo(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},Ke=-1;++Ke<t.transforms.length;)te=t.transforms[Ke](te)||te;return te}function i(q,te,we){let Pe=te-1,Ke=-1,Vt=!1,Ni,Vr,Wa,da;for(;++Pe<=we;){const Tt=q[Pe];switch(Tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Tt[0]==="enter"?Ke++:Ke--,da=void 0;break}case"lineEndingBlank":{Tt[0]==="enter"&&(Ni&&!da&&!Ke&&!Wa&&(Wa=Pe),da=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:da=void 0}if(!Ke&&Tt[0]==="enter"&&Tt[1].type==="listItemPrefix"||Ke===-1&&Tt[0]==="exit"&&(Tt[1].type==="listUnordered"||Tt[1].type==="listOrdered")){if(Ni){let oi=Pe;for(Vr=void 0;oi--;){const Ie=q[oi];if(Ie[1].type==="lineEnding"||Ie[1].type==="lineEndingBlank"){if(Ie[0]==="exit")continue;Vr&&(q[Vr][1].type="lineEndingBlank",Vt=!0),Ie[1].type="lineEnding",Vr=oi}else if(!(Ie[1].type==="linePrefix"||Ie[1].type==="blockQuotePrefix"||Ie[1].type==="blockQuotePrefixWhitespace"||Ie[1].type==="blockQuoteMarker"||Ie[1].type==="listItemIndent"))break}Wa&&(!Vr||Wa<Vr)&&(Ni._spread=!0),Ni.end=Object.assign({},Vr?q[Vr][1].start:Tt[1].end),q.splice(Vr||Pe,0,["exit",Ni,Tt[2]]),Pe++,we++}if(Tt[1].type==="listItemPrefix"){const oi={type:"listItem",_spread:!1,start:Object.assign({},Tt[1].start),end:void 0};Ni=oi,q.splice(Pe,0,["enter",oi,Tt[2]]),Pe++,we++,Wa=void 0,da=!0}}}return q[te][1]._spread=Vt,we}function s(q,te){return we;function we(Pe){o.call(this,q(Pe),Pe),te&&te.call(this,Pe)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(q,te,we){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([te,we||void 0]),q.position={start:Zo(te.start),end:void 0}}function l(q){return te;function te(we){q&&q.call(this,we),u.call(this,we)}}function u(q,te){const we=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==q.type&&(te?te.call(this,q,Pe[0]):(Pe[1]||SB).call(this,q,Pe[0]));else throw new Error("Cannot close `"+q.type+"` ("+em({start:q.start,end:q.end})+"): its not open");we.position.end=Zo(q.end)}function d(){return MI(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(q){if(this.data.expectingFirstListItemValue){const te=this.stack[this.stack.length-2];te.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function p(){const q=this.resume(),te=this.stack[this.stack.length-1];te.lang=q}function m(){const q=this.resume(),te=this.stack[this.stack.length-1];te.meta=q}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const q=this.resume(),te=this.stack[this.stack.length-1];te.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const q=this.resume(),te=this.stack[this.stack.length-1];te.value=q.replace(/(\r?\n|\r)$/g,"")}function x(q){const te=this.resume(),we=this.stack[this.stack.length-1];we.label=te,we.identifier=Js(this.sliceSerialize(q)).toLowerCase()}function w(){const q=this.resume(),te=this.stack[this.stack.length-1];te.title=q}function E(){const q=this.resume(),te=this.stack[this.stack.length-1];te.url=q}function _(q){const te=this.stack[this.stack.length-1];if(!te.depth){const we=this.sliceSerialize(q).length;te.depth=we}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function T(q){const te=this.stack[this.stack.length-1];te.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function O(q){const we=this.stack[this.stack.length-1].children;let Pe=we[we.length-1];(!Pe||Pe.type!=="text")&&(Pe=Ha(),Pe.position={start:Zo(q.start),end:void 0},we.push(Pe)),this.stack.push(Pe)}function A(q){const te=this.stack.pop();te.value+=this.sliceSerialize(q),te.position.end=Zo(q.end)}function D(q){const te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=te.children[te.children.length-1];we.position.end=Zo(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(te.type)&&(O.call(this,q),A.call(this,q))}function k(){this.data.atHardBreak=!0}function P(){const q=this.resume(),te=this.stack[this.stack.length-1];te.value=q}function B(){const q=this.resume(),te=this.stack[this.stack.length-1];te.value=q}function L(){const q=this.resume(),te=this.stack[this.stack.length-1];te.value=q}function j(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=te,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function R(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=te,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function M(q){const te=this.sliceSerialize(q),we=this.stack[this.stack.length-2];we.label=J5e(te),we.identifier=Js(te).toLowerCase()}function V(){const q=this.stack[this.stack.length-1],te=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const Pe=q.children;we.children=Pe}else we.alt=te}function I(){const q=this.resume(),te=this.stack[this.stack.length-1];te.url=q}function ee(){const q=this.resume(),te=this.stack[this.stack.length-1];te.title=q}function W(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function xe(q){const te=this.resume(),we=this.stack[this.stack.length-1];we.label=te,we.identifier=Js(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function ke(q){this.data.characterReferenceType=q.type}function Ae(q){const te=this.sliceSerialize(q),we=this.data.characterReferenceType;let Pe;we?(Pe=VX(te,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=RI(te);const Ke=this.stack[this.stack.length-1];Ke.value+=Pe}function le(q){const te=this.stack.pop();te.position.end=Zo(q.end)}function Se(q){A.call(this,q);const te=this.stack[this.stack.length-1];te.url=this.sliceSerialize(q)}function ne(q){A.call(this,q);const te=this.stack[this.stack.length-1];te.url="mailto:"+this.sliceSerialize(q)}function de(){return{type:"blockquote",children:[]}}function pe(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function qe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oe(){return{type:"emphasis",children:[]}}function Qe(){return{type:"heading",depth:0,children:[]}}function G(){return{type:"break"}}function oe(){return{type:"html",value:""}}function be(){return{type:"image",title:null,url:"",alt:null}}function Jt(){return{type:"link",title:null,url:"",children:[]}}function bt(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function ut(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function ua(){return{type:"paragraph",children:[]}}function Si(){return{type:"strong",children:[]}}function Ha(){return{type:"text",value:""}}function Ps(){return{type:"thematicBreak"}}}function Zo(e){return{line:e.line,column:e.column,offset:e.offset}}function nQ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?nQ(e,r):n$e(e,r)}}function n$e(e,t){let n;for(n in t)if(tQ.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function SB(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+em({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+em({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+em({start:t.start,end:t.end})+") is still open")}function r$e(e){const t=this;t.parser=n;function n(r){return e$e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function i$e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function s$e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function a$e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function o$e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function l$e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function c$e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=kh(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let a,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function u$e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function d$e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rQ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function f$e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rQ(e,t);const i={src:kh(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function h$e(e,t){const n={src:kh(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function p$e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function m$e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rQ(e,t);const i={href:kh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function g$e(e,t){const n={href:kh(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function v$e(e,t,n){const r=e.all(t),i=n?y$e(n):iQ(t),s={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function y$e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=iQ(n[r])}return t}function iQ(e){const t=e.spread;return t??e.children.length>1}function x$e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function b$e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function w$e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function E$e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function S$e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=$a(t.children[1]),l=dE(t.children[t.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function N$e(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],h={},p=a?a[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:s,properties:h,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function _$e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const NB=9,_B=32;function T$e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(TB(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(TB(t.slice(i),i>0,!1)),s.join("")}function TB(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===NB||s===_B;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===NB||s===_B;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function C$e(e,t){const n={type:"text",value:T$e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function k$e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const A$e={blockquote:i$e,break:s$e,code:a$e,delete:o$e,emphasis:l$e,footnoteReference:c$e,heading:u$e,html:d$e,imageReference:f$e,image:h$e,inlineCode:p$e,linkReference:m$e,link:g$e,listItem:v$e,list:x$e,paragraph:b$e,root:w$e,strong:E$e,table:S$e,tableCell:_$e,tableRow:N$e,text:C$e,thematicBreak:k$e,toml:Mv,yaml:Mv,definition:Mv,footnoteDefinition:Mv};function Mv(){}const sQ=-1,pE=0,nm=1,Lb=2,BI=3,FI=4,$I=5,UI=6,aQ=7,oQ=8,CB=typeof self=="object"?self:globalThis,O$e=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case pE:case sQ:return n(a,i);case nm:{const o=n([],i);for(const l of a)o.push(r(l));return o}case Lb:{const o=n({},i);for(const[l,u]of a)o[r(l)]=r(u);return o}case BI:return n(new Date(a),i);case FI:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case $I:{const o=n(new Map,i);for(const[l,u]of a)o.set(r(l),r(u));return o}case UI:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case aQ:{const{name:o,message:l}=a;return n(new CB[o](l),i)}case oQ:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new CB[s](a),i)};return r},kB=e=>O$e(new Map,e)(0),xd="",{toString:j$e}={},{keys:I$e}=Object,dp=e=>{const t=typeof e;if(t!=="object"||!e)return[pE,t];const n=j$e.call(e).slice(8,-1);switch(n){case"Array":return[nm,xd];case"Object":return[Lb,xd];case"Date":return[BI,xd];case"RegExp":return[FI,xd];case"Map":return[$I,xd];case"Set":return[UI,xd];case"DataView":return[nm,n]}return n.includes("Array")?[nm,n]:n.includes("Error")?[aQ,n]:[Lb,n]},Rv=([e,t])=>e===pE&&(t==="function"||t==="symbol"),P$e=(e,t,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=dp(a);switch(o){case pE:{let d=a;switch(l){case"bigint":o=oQ,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([sQ],a)}return i([o,d],a)}case nm:{if(l){let h=a;return l==="DataView"?h=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(a)),i([l,[...h]],a)}const d=[],f=i([o,d],a);for(const h of a)d.push(s(h));return f}case Lb:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],f=i([o,d],a);for(const h of I$e(a))(e||!Rv(dp(a[h])))&&d.push([s(h),s(a[h])]);return f}case BI:return i([o,a.toISOString()],a);case FI:{const{source:d,flags:f}=a;return i([o,{source:d,flags:f}],a)}case $I:{const d=[],f=i([o,d],a);for(const[h,p]of a)(e||!(Rv(dp(h))||Rv(dp(p))))&&d.push([s(h),s(p)]);return f}case UI:{const d=[],f=i([o,d],a);for(const h of a)(e||!Rv(dp(h)))&&d.push(s(h));return f}}const{message:u}=a;return i([o,{name:l,message:u}],a)};return s},AB=(e,{json:t,lossy:n}={})=>{const r=[];return P$e(!(t||n),!!t,new Map,r)(e),r},Gf=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?kB(AB(e,t)):structuredClone(e):(e,t)=>kB(AB(e,t));function D$e(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function M$e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function R$e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||D$e,r=e.options.footnoteBackLabel||M$e,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=kh(f.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,p);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const x=v.children[v.children.length-1];x&&x.type==="text"?x.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else d.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Gf(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const f0=function(e){if(e==null)return $$e;if(typeof e=="function")return mE(e);if(typeof e=="object")return Array.isArray(e)?L$e(e):B$e(e);if(typeof e=="string")return F$e(e);throw new Error("Expected function, string, or object as test")};function L$e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=f0(e[n]);return mE(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function B$e(e){const t=e;return mE(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function F$e(e){return mE(t);function t(n){return n&&n.type===e}}function mE(e){return t;function t(n,r,i){return!!(U$e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function $$e(){return!0}function U$e(e){return e!==null&&typeof e=="object"&&"type"in e}const lQ=[],z$e=!0,dk=!1,H$e="skip";function cQ(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=f0(i),a=r?-1:1;o(e,void 0,[])();function o(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=lQ,m,g,v;if((!t||s(l,u,d[d.length-1]||void 0))&&(p=W$e(n(l,d)),p[0]===dk))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==H$e)for(g=(r?y.children.length:-1)+a,v=d.concat(y);g>-1&&g<y.children.length;){const x=y.children[g];if(m=o(x,g,v)(),m[0]===dk)return m;g=typeof m[1]=="number"?m[1]:g+a}}return p}}}function W$e(e){return Array.isArray(e)?e:typeof e=="number"?[z$e,e]:e==null?lQ:[e]}function h0(e,t,n,r){let i,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,i=n):(s=t,a=n,i=r),cQ(e,s,o,i);function o(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return a(l,f,d)}}const fk={}.hasOwnProperty,V$e={};function q$e(e,t){const n=t||V$e,r=new Map,i=new Map,s=new Map,a={...A$e,...n.handlers},o={all:u,applyData:G$e,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:K$e,wrap:X$e};return h0(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,p=o.handlers[h];if(fk.call(o.handlers,h)&&p)return p(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...v}=d,y=Gf(v);return y.children=o.all(d),y}return Gf(d)}return(o.options.unknownHandler||Y$e)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const m=o.one(h[p],d);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=OB(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=OB(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function K$e(e,t){e.position&&(t.position=MBe(e))}function G$e(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Gf(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Y$e(e,t){const n=t.data||{},r="value"in t&&!(fk.call(n,"hProperties")||fk.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function X$e(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function OB(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function jB(e,t){const n=q$e(e,t),r=n.one(e,void 0),i=R$e(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Q$e(e,t){return e&&"run"in e?async function(n,r){const i=jB(n,{file:r,...t});await e.run(i,r)}:function(n,r){return jB(n,{file:r,...e||t})}}function IB(e){if(e)throw e}var hy=Object.prototype.hasOwnProperty,uQ=Object.prototype.toString,PB=Object.defineProperty,DB=Object.getOwnPropertyDescriptor,MB=function(t){return typeof Array.isArray=="function"?Array.isArray(t):uQ.call(t)==="[object Array]"},RB=function(t){if(!t||uQ.call(t)!=="[object Object]")return!1;var n=hy.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&hy.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||hy.call(t,i)},LB=function(t,n){PB&&n.name==="__proto__"?PB(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},BB=function(t,n){if(n==="__proto__")if(hy.call(t,n)){if(DB)return DB(t,n).value}else return;return t[n]},J$e=function e(){var t,n,r,i,s,a,o=arguments[0],l=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=BB(o,n),i=BB(t,n),o!==i&&(d&&i&&(RB(i)||(s=MB(i)))?(s?(s=!1,a=r&&MB(r)?r:[]):a=r&&RB(r)?r:{},LB(o,{name:n,newValue:e(d,a,i)})):typeof i<"u"&&LB(o,{name:n,newValue:i}));return o};const $N=Br(J$e);function hk(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Z$e(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...u){const d=e[++s];let f=-1;if(l){a(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?e8e(d,o)(...u):a(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function e8e(e,t){let n;return r;function r(...a){const o=e.length>a.length;let l;o&&a.push(i);try{l=e.apply(this,a)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,t(a,...o))}function s(a){i(null,a)}}const ya={basename:t8e,dirname:n8e,extname:r8e,join:i8e,sep:"/"};function t8e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');p0(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function n8e(e){if(p0(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function r8e(e){p0(e);let t=e.length,n=-1,r=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function i8e(...e){let t=-1,n;for(;++t<e.length;)p0(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":s8e(n)}function s8e(e){p0(e);const t=e.codePointAt(0)===47;let n=a8e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function a8e(e,t){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function p0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const o8e={cwd:l8e};function l8e(){return"/"}function pk(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function c8e(e){if(typeof e=="string")e=new URL(e);else if(!pk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return u8e(e)}function u8e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const UN=["history","path","basename","stem","extname","dirname"];class dQ{constructor(t){let n;t?pk(t)?n={path:t}:typeof t=="string"||d8e(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":o8e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<UN.length;){const s=UN[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)UN.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ya.basename(this.path):void 0}set basename(t){HN(t,"basename"),zN(t,"basename"),this.path=ya.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ya.dirname(this.path):void 0}set dirname(t){FB(this.basename,"dirname"),this.path=ya.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ya.extname(this.path):void 0}set extname(t){if(zN(t,"extname"),FB(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ya.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){pk(t)&&(t=c8e(t)),HN(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ya.basename(this.path,this.extname):void 0}set stem(t){HN(t,"stem"),zN(t,"stem"),this.path=ya.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Hr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function zN(e,t){if(e&&e.includes(ya.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ya.sep+"`")}function HN(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function FB(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function d8e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const f8e=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},h8e={}.hasOwnProperty;class zI extends f8e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Z$e()}copy(){const t=new zI;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data($N(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(qN("data",this.frozen),this.namespace[t]=n,this):h8e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(qN("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Lv(t),r=this.parser||this.Parser;return WN("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),WN("process",this.parser||this.Parser),VN("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=Lv(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return u(d);const p=f,m=r.stringify(p,h);g8e(m)?h.value=m:h.result=m,u(d,h)});function u(d,f){d||!f?a(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),WN("processSync",this.parser||this.Parser),VN("processSync",this.compiler||this.Compiler),this.process(t,i),UB("processSync","process",n),r;function i(s,a){n=!0,IB(s),r=a}}run(t,n,r){$B(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=Lv(n);i.run(t,l,u);function u(d,f,h){const p=f||t;d?o(d):a?a(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),UB("runSync","run",r),i;function s(a,o){IB(a),i=o,r=!0}}stringify(t,n){this.freeze();const r=Lv(n),i=this.compiler||this.Compiler;return VN("stringify",i),$B(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(qN("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=$N(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...m]=d;const g=r[h][1];hk(g)&&hk(p)&&(p=$N(!0,g,p)),r[h]=[u,p,...m]}}}}const p8e=new zI().freeze();function WN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function VN(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function qN(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $B(e){if(!hk(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function UB(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Lv(e){return m8e(e)?e:new dQ(e)}function m8e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function g8e(e){return typeof e=="string"||v8e(e)}function v8e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const y8e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zB=[],HB={allowDangerousHtml:!0},x8e=/^(https?|ircs?|mailto|xmpp)$/i,b8e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function w8e(e){const t=E8e(e),n=S8e(e);return N8e(t.runSync(t.parse(n),n),e)}function E8e(e){const t=e.rehypePlugins||zB,n=e.remarkPlugins||zB,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...HB}:HB;return p8e().use(r$e).use(n).use(Q$e,r).use(t)}function S8e(e){const t=e.children||"",n=new dQ;return typeof t=="string"&&(n.value=t),n}function N8e(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||_8e;for(const d of b8e)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+y8e+d.id,void 0);return h0(e,u),$Be(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return a?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in LN)if(Object.hasOwn(LN,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],g=LN[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=l(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function _8e(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||x8e.test(e.slice(0,t))?e:""}function WB(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function T8e(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function C8e(e,t,n){const i=f0((n||{}).ignore||[]),s=k8e(t);let a=-1;for(;++a<s.length;)cQ(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const p=d[f],m=h?h.children:void 0;if(i(p,m?m.indexOf(p):void 0,h))return;h=p}if(h)return l(u,d)}function l(u,d){const f=d[d.length-1],h=s[a][0],p=s[a][1];let m=0;const v=f.children.indexOf(u);let y=!1,x=[];h.lastIndex=0;let w=h.exec(u.value);for(;w;){const E=w.index,_={index:w.index,input:w.input,stack:[...d,u]};let N=p(...w,_);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=E+1:(m!==E&&x.push({type:"text",value:u.value.slice(m,E)}),Array.isArray(N)?x.push(...N):N&&x.push(N),m=E+w[0].length,y=!0),!h.global)break;w=h.exec(u.value)}return y?(m<u.value.length&&x.push({type:"text",value:u.value.slice(m)}),f.children.splice(v,1,...x)):x=[u],v+x.length}}function k8e(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([A8e(i[0]),O8e(i[1])])}return t}function A8e(e){return typeof e=="string"?new RegExp(T8e(e),"g"):e}function O8e(e){return typeof e=="function"?e:function(){return e}}const KN="phrasing",GN=["autolink","link","image","label"];function j8e(){return{transforms:[B8e],enter:{literalAutolink:P8e,literalAutolinkEmail:YN,literalAutolinkHttp:YN,literalAutolinkWww:YN},exit:{literalAutolink:L8e,literalAutolinkEmail:R8e,literalAutolinkHttp:D8e,literalAutolinkWww:M8e}}}function I8e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:KN,notInConstruct:GN},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:KN,notInConstruct:GN},{character:":",before:"[ps]",after:"\\/",inConstruct:KN,notInConstruct:GN}]}}function P8e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function YN(e){this.config.enter.autolinkProtocol.call(this,e)}function D8e(e){this.config.exit.autolinkProtocol.call(this,e)}function M8e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function R8e(e){this.config.exit.autolinkEmail.call(this,e)}function L8e(e){this.exit(e)}function B8e(e){C8e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,F8e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$8e]],{ignore:["link","linkReference"]})}function F8e(e,t,n,r,i){let s="";if(!fQ(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!U8e(n)))return!1;const a=z8e(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function $8e(e,t,n,r){return!fQ(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function U8e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function z8e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=WB(e,"(");let s=WB(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function fQ(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||$u(n)||fE(n))&&(!t||n!==47)}hQ.peek=Q8e;function H8e(){this.buffer()}function W8e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function V8e(){this.buffer()}function q8e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function K8e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Js(this.sliceSerialize(e)).toLowerCase(),n.label=t}function G8e(e){this.exit(e)}function Y8e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Js(this.sliceSerialize(e)).toLowerCase(),n.label=t}function X8e(e){this.exit(e)}function Q8e(){return"["}function hQ(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function J8e(){return{enter:{gfmFootnoteCallString:H8e,gfmFootnoteCall:W8e,gfmFootnoteDefinitionLabelString:V8e,gfmFootnoteDefinition:q8e},exit:{gfmFootnoteCallString:K8e,gfmFootnoteCall:G8e,gfmFootnoteDefinitionLabelString:Y8e,gfmFootnoteDefinition:X8e}}}function Z8e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:hQ},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return l+=o.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),t?pQ:eUe))),u(),l}}function eUe(e,t,n){return t===0?e:pQ(e,t,n)}function pQ(e,t,n){return(n?"":"    ")+e}const tUe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];mQ.peek=aUe;function nUe(){return{canContainEols:["delete"],enter:{strikethrough:iUe},exit:{strikethrough:sUe}}}function rUe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:tUe}],handlers:{delete:mQ}}}function iUe(e){this.enter({type:"delete",children:[]},e)}function sUe(e){this.exit(e)}function mQ(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function aUe(){return"~"}function oUe(e){return e.length}function lUe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||oUe,s=[],a=[],o=[],l=[];let u=0,d=-1;for(;++d<e.length;){const g=[],v=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const x=cUe(e[d][y]);if(n.alignDelimiters!==!1){const w=i(x);v[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}g.push(x)}a[d]=g,o[d]=v}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)s[f]=VB(r[f]);else{const g=VB(r);for(;++f<u;)s[f]=g}f=-1;const h=[],p=[];for(;++f<u;){const g=s[f];let v="",y="";g===99?(v=":",y=":"):g===108?v=":":g===114&&(y=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[f]-v.length-y.length);const w=v+"-".repeat(x)+y;n.alignDelimiters!==!1&&(x=v.length+x+y.length,x>l[f]&&(l[f]=x),p[f]=x),h[f]=w}a.splice(1,0,h),o.splice(1,0,p),d=-1;const m=[];for(;++d<a.length;){const g=a[d],v=o[d];f=-1;const y=[];for(;++f<u;){const x=g[f]||"";let w="",E="";if(n.alignDelimiters!==!1){const _=l[f]-(v[f]||0),N=s[f];N===114?w=" ".repeat(_):N===99?_%2?(w=" ".repeat(_/2+.5),E=" ".repeat(_/2-.5)):(w=" ".repeat(_/2),E=w):E=" ".repeat(_)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(x),n.alignDelimiters!==!1&&y.push(E),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&y.push("|")}m.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function cUe(e){return e==null?"":String(e)}function VB(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const qB={}.hasOwnProperty;function gQ(e,t){const n=t||{};function r(i,...s){let a=r.invalid;const o=r.handlers;if(i&&qB.call(i,e)){const l=String(i[e]);a=qB.call(o,l)?o[l]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function uUe(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),dUe);return i(),a}function dUe(e,t,n){return">"+(n?"":" ")+e}function fUe(e,t){return KB(e,t.inConstruct,!0)&&!KB(e,t.notInConstruct,!1)}function KB(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function GB(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&fUe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function hUe(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+t.length,r=n.indexOf(t,i);return a}function pUe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function mUe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function gUe(e,t,n,r){const i=mUe(n),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(pUe(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(s,vUe);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(hUe(s,i)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(l),u(),d}function vUe(e,t,n){return(n?"":"    ")+e}function HI(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function yUe(e,t,n,r){const i=HI(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),a(),u}function xUe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function dg(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Bb(e,t,n){const r=Kf(e),i=Kf(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}vQ.peek=bUe;function vQ(e,t,n,r){const i=xUe(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let l=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),d=Bb(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=dg(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Bb(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+dg(f));const p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+p}function bUe(e,t,n){return n.options.emphasis||"*"}function wUe(e,t){let n=!1;return h0(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,dk}),!!((!e.depth||e.depth<3)&&MI(e)&&(t.options.setext||n))}function EUe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(wUe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=dg(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),l(),o(),u}yQ.peek=SUe;function yQ(e){return e.value||""}function SUe(){return"<"}xQ.peek=NUe;function xQ(e,t,n,r){const i=HI(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),a(),u}function NUe(){return"!"}bQ.peek=_Ue;function bQ(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function _Ue(){return"!"}wQ.peek=TUe;function wQ(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function TUe(){return"`"}function EQ(e,t){const n=MI(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}SQ.peek=CUe;function SQ(e,t,n,r){const i=HI(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(EQ(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(l=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),l()),u+=a.move(")"),o(),u}function CUe(e,t,n){return EQ(e,n)?"<":"["}NQ.peek=kUe;function NQ(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function kUe(){return"["}function WI(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function AUe(e){const t=WI(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function OUe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function _Q(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function jUe(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?OUe(n):WI(n);const o=e.ordered?a==="."?")":".":AUe(n);let l=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),_Q(n)===a&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),u}function IUe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function PUe(e,t,n,r){const i=IUe(n);let s=n.bulletCurrent||WI(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return l(),u;function d(f,h,p){return h?(p?"":" ".repeat(a))+f:(p?s:s+" ".repeat(a-s.length))+f}}function DUe(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),i(),a}const MUe=f0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function RUe(e,t,n,r){return(e.children.some(function(a){return MUe(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function LUe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}TQ.peek=BUe;function TQ(e,t,n,r){const i=LUe(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let l=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=l.charCodeAt(0),d=Bb(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=dg(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Bb(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+dg(f));const p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+p}function BUe(e,t,n){return n.options.strong||"*"}function FUe(e,t,n,r){return n.safe(e.value,r)}function $Ue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function UUe(e,t,n){const r=(_Q(n)+(n.options.ruleSpaces?" ":"")).repeat($Ue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const CQ={blockquote:uUe,break:GB,code:gUe,definition:yUe,emphasis:vQ,hardBreak:GB,heading:EUe,html:yQ,image:xQ,imageReference:bQ,inlineCode:wQ,link:SQ,linkReference:NQ,list:jUe,listItem:PUe,paragraph:DUe,root:RUe,strong:TQ,text:FUe,thematicBreak:UUe};function zUe(){return{enter:{table:HUe,tableData:YB,tableHeader:YB,tableRow:VUe},exit:{codeText:qUe,table:WUe,tableData:XN,tableHeader:XN,tableRow:XN}}}function HUe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function WUe(e){this.exit(e),this.data.inTable=void 0}function VUe(e){this.enter({type:"tableRow",children:[]},e)}function XN(e){this.exit(e)}function YB(e){this.enter({type:"tableCell",children:[]},e)}function qUe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,KUe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function KUe(e,t){return t==="|"?t:e}function GUe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:a,tableCell:l,tableRow:o}};function a(p,m,g,v){return u(d(p,g,v),p.align)}function o(p,m,g,v){const y=f(p,g,v),x=u([y]);return x.slice(0,x.indexOf(`
`))}function l(p,m,g,v){const y=g.enter("tableCell"),x=g.enter("phrasing"),w=g.containerPhrasing(p,{...v,before:s,after:s});return x(),y(),w}function u(p,m){return lUe(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function d(p,m,g){const v=p.children;let y=-1;const x=[],w=m.enter("table");for(;++y<v.length;)x[y]=f(v[y],m,g);return w(),x}function f(p,m,g){const v=p.children;let y=-1;const x=[],w=m.enter("tableRow");for(;++y<v.length;)x[y]=l(v[y],p,m,g);return w(),x}function h(p,m,g){let v=CQ.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function YUe(){return{exit:{taskListCheckValueChecked:XB,taskListCheckValueUnchecked:XB,paragraph:QUe}}}function XUe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:JUe}}}function XB(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function QUe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function JUe(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let l=CQ.listItem(e,t,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+a}}function ZUe(){return[j8e(),J8e(),nUe(),zUe(),YUe()]}function eze(e){return{extensions:[I8e(),Z8e(e),rUe(),GUe(e),XUe()]}}const tze={tokenize:oze,partial:!0},kQ={tokenize:lze,partial:!0},AQ={tokenize:cze,partial:!0},OQ={tokenize:uze,partial:!0},nze={tokenize:dze,partial:!0},jQ={name:"wwwAutolink",tokenize:sze,previous:PQ},IQ={name:"protocolAutolink",tokenize:aze,previous:DQ},Ho={name:"emailAutolink",tokenize:ize,previous:MQ},Ua={};function rze(){return{text:Ua}}let Pc=48;for(;Pc<123;)Ua[Pc]=Ho,Pc++,Pc===58?Pc=65:Pc===91&&(Pc=97);Ua[43]=Ho;Ua[45]=Ho;Ua[46]=Ho;Ua[95]=Ho;Ua[72]=[Ho,IQ];Ua[104]=[Ho,IQ];Ua[87]=[Ho,jQ];Ua[119]=[Ho,jQ];function ize(e,t,n){const r=this;let i,s;return a;function a(f){return!mk(f)||!MQ.call(r,r.previous)||VI(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return mk(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(nze,d,u)(f):f===45||f===95||Ir(f)?(s=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),i=!0,l}function d(f){return s&&i&&Xr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function sze(e,t,n){const r=this;return i;function i(a){return a!==87&&a!==119||!PQ.call(r,r.previous)||VI(r.events)?n(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(tze,e.attempt(kQ,e.attempt(AQ,s),n),n)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function aze(e,t,n){const r=this;let i="",s=!1;return a;function a(f){return(f===72||f===104)&&DQ.call(r,r.previous)&&!VI(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Xr(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),s?u:(s=!0,l)):n(f)}function u(f){return f===null||Rb(f)||jt(f)||$u(f)||fE(f)?n(f):e.attempt(kQ,e.attempt(AQ,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function oze(e,t,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),i):a===46&&r===3?(e.consume(a),s):n(a)}function s(a){return a===null?n(a):t(a)}}function lze(e,t,n){let r,i,s;return a;function a(u){return u===46||u===95?e.check(OQ,l,o)(u):u===null||jt(u)||$u(u)||u!==45&&fE(u)?l(u):(s=!0,e.consume(u),a)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),a}function l(u){return i||r||!s?n(u):t(u)}}function cze(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(OQ,t,s)(a):a===null||jt(a)||$u(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&r++,e.consume(a),i}}function uze(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),s):o===93?(e.consume(o),i):o===60||o===null||jt(o)||$u(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||jt(o)||$u(o)?t(o):r(o)}function s(o){return Xr(o)?a(o):n(o)}function a(o){return o===59?(e.consume(o),r):Xr(o)?(e.consume(o),a):n(o)}}function dze(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Ir(s)?n(s):t(s)}}function PQ(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||jt(e)}function DQ(e){return!Xr(e)}function MQ(e){return!(e===47||mk(e))}function mk(e){return e===43||e===45||e===46||e===95||Ir(e)}function VI(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const fze={tokenize:bze,partial:!0};function hze(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:vze,continuation:{tokenize:yze},exit:xze}},text:{91:{name:"gfmFootnoteCall",tokenize:gze},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:pze,resolveTo:mze}}}}function pze(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const u=Js(r.sliceSerialize({start:a.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function mze(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function gze(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(s>999||f===93&&!a||f===null||f===91||jt(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Js(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return jt(f)||(a=!0),s++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),s++,u):u(f)}}function vze(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(m)}function d(m){if(a>999||m===93&&!o||m===null||m===91||jt(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return s=Js(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return jt(m)||(o=!0),a++,e.consume(m),m===92?f:d}function f(m){return m===91||m===92||m===93?(e.consume(m),a++,d):d(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(s)||i.push(s),pt(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function yze(e,t,n){return e.check(d0,t,e.attempt(fze,t,n))}function xze(e){e.exit("gfmFootnoteDefinition")}function bze(e,t,n){const r=this;return pt(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):n(s)}}function wze(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let u=l;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[l][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[l][1].end)},f={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[l][1].start)},h=[["enter",d,o],["enter",a[u][1],o],["exit",a[u][1],o],["enter",f,o]],p=o.parser.constructs.insideSpan.null;p&&Vi(h,h.length,0,hE(p,a.slice(u+1,l),o)),Vi(h,h.length,0,[["exit",f,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",d,o]]),Vi(a,u-1,l-u+3,h),l=u+h.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const u=this.previous,d=this.events;let f=0;return h;function h(m){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(m):(a.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=Kf(u);if(m===126)return f>1?l(m):(a.consume(m),f++,p);if(f<2&&!n)return l(m);const v=a.exit("strikethroughSequenceTemporary"),y=Kf(m);return v._open=!y||y===2&&!!g,v._close=!g||g===2&&!!y,o(m)}}}class Eze{constructor(){this.map=[]}add(t,n,r){Sze(this,t,n,r)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const s of i)t.push(s);i=r.pop()}this.map.length=0}}function Sze(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Nze(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function _ze(){return{flow:{null:{name:"table",tokenize:Tze,resolveAll:Cze}}}}function Tze(e,t,n){const r=this;let i=0,s=0,a;return o;function o(A){let D=r.events.length-1;for(;D>-1;){const B=r.events[D][1].type;if(B==="lineEnding"||B==="linePrefix")D--;else break}const k=D>-1?r.events[D][1].type:null,P=k==="tableHead"||k==="tableRow"?N:l;return P===N&&r.parser.lazy[r.now().line]?n(A):P(A)}function l(A){return e.enter("tableHead"),e.enter("tableRow"),u(A)}function u(A){return A===124||(a=!0,s+=1),d(A)}function d(A){return A===null?n(A):We(A)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),p):n(A):ot(A)?pt(e,d,"whitespace")(A):(s+=1,a&&(a=!1,i+=1),A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),f(A)))}function f(A){return A===null||A===124||jt(A)?(e.exit("data"),d(A)):(e.consume(A),A===92?h:f)}function h(A){return A===92||A===124?(e.consume(A),f):f(A)}function p(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(e.enter("tableDelimiterRow"),a=!1,ot(A)?pt(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):m(A))}function m(A){return A===45||A===58?v(A):A===124?(a=!0,e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),g):_(A)}function g(A){return ot(A)?pt(e,v,"whitespace")(A):v(A)}function v(A){return A===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),y):A===45?(s+=1,y(A)):A===null||We(A)?E(A):_(A)}function y(A){return A===45?(e.enter("tableDelimiterFiller"),x(A)):_(A)}function x(A){return A===45?(e.consume(A),x):A===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(A),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(A))}function w(A){return ot(A)?pt(e,E,"whitespace")(A):E(A)}function E(A){return A===124?m(A):A===null||We(A)?!a||i!==s?_(A):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(A)):_(A)}function _(A){return n(A)}function N(A){return e.enter("tableRow"),T(A)}function T(A){return A===124?(e.enter("tableCellDivider"),e.consume(A),e.exit("tableCellDivider"),T):A===null||We(A)?(e.exit("tableRow"),t(A)):ot(A)?pt(e,T,"whitespace")(A):(e.enter("data"),C(A))}function C(A){return A===null||A===124||jt(A)?(e.exit("data"),T(A)):(e.consume(A),A===92?O:C)}function O(A){return A===92||A===124?(e.consume(A),C):C(A)}}function Cze(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,u,d,f;const h=new Eze;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(o=!1,l!==0&&(QB(h,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",d,t]])),i=m.type==="tableDelimiterRow"?2:d?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],f=Bv(h,t,s,i,void 0,f),s=[0,0,0,0]),a[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],f=Bv(h,t,s,i,void 0,f)),s=a,a=[s[1],n,0,0])):m.type==="tableHead"?(o=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],f=Bv(h,t,s,i,n,f)):a[1]!==0&&(f=Bv(h,t,a,i,n,f)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&QB(h,t,l,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Nze(t.events,n))}return e}function Bv(e,t,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},Ad(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=Ad(t.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const u=Ad(t.events,n[2]),d=Ad(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;e.add(m,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(s.end=Object.assign({},Ad(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function QB(e,t,n,r,i){const s=[],a=Ad(t.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),r.end=Object.assign({},a),s.push(["exit",r,t]),e.add(n+1,0,s)}function Ad(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const kze={name:"tasklistCheck",tokenize:Oze};function Aze(){return{text:{91:kze}}}function Oze(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return jt(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return We(l)?t(l):ot(l)?e.check({tokenize:jze},t,n)(l):n(l)}}function jze(e,t,n){return pt(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Ize(e){return WX([rze(),hze(),wze(e),_ze(),Aze()])}const Pze={};function Dze(e){const t=this,n=e||Pze,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Ize(n)),s.push(ZUe()),a.push(eze(n))}const JB=function(e,t,n){const r=f0(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},ed=function(e){if(e==null)return Lze;if(typeof e=="string")return Rze(e);if(typeof e=="object")return Mze(e);if(typeof e=="function")return qI(e);throw new Error("Expected function, string, or array as `test`")};function Mze(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ed(e[n]);return qI(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Rze(e){return qI(t);function t(n){return n.tagName===e}}function qI(e){return t;function t(n,r,i){return!!(Bze(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Lze(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function Bze(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const ZB=/\n/g,eF=/[\t ]+/g,gk=ed("br"),tF=ed(qze),Fze=ed("p"),nF=ed("tr"),$ze=ed(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",Vze,Kze]),RQ=ed(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Uze(e,t){const n=t||{},r="children"in e?e.children:[],i=RQ(e),s=FQ(e,{whitespace:n.whitespace||"normal"}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...BQ(e,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<r.length;)a.push(...LQ(r[o],e,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<r.length-1?gk(r[o+1]):i}));const l=[];let u;for(o=-1;++o<a.length;){const d=a[o];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&l.push(`
`.repeat(u)||" "),u=-1,l.push(d))}return l.join("")}function LQ(e,t,n){return e.type==="element"?zze(e,t,n):e.type==="text"?n.whitespace==="normal"?BQ(e,n):Hze(e):[]}function zze(e,t,n){const r=FQ(e,n),i=e.children||[];let s=-1,a=[];if($ze(e))return a;let o,l;for(gk(e)||nF(e)&&JB(t,e,nF)?l=`
`:Fze(e)?(o=2,l=2):RQ(e)&&(o=1,l=1);++s<i.length;)a=a.concat(LQ(i[s],e,{whitespace:r,breakBefore:s?void 0:o,breakAfter:s<i.length-1?gk(i[s+1]):l}));return tF(e)&&JB(t,e,tF)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function BQ(e,t){const n=String(e.value),r=[],i=[];let s=0;for(;s<=n.length;){ZB.lastIndex=s;const l=ZB.exec(n),u=l&&"index"in l?l.index:n.length;r.push(Wze(n.slice(s,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,u===n.length?t.breakAfter:!0)),s=u+1}let a=-1,o;for(;++a<r.length;)r[a].charCodeAt(r[a].length-1)===8203||a<r.length-1&&r[a+1].charCodeAt(0)===8203?(i.push(r[a]),o=void 0):r[a]?(typeof o=="number"&&i.push(o),i.push(r[a]),o=0):(a===0||a===r.length-1)&&i.push(0);return i}function Hze(e){return[String(e.value)]}function Wze(e,t,n){const r=[];let i=0,s;for(;i<e.length;){eF.lastIndex=i;const a=eF.exec(e);s=a?a.index:e.length,!i&&!s&&a&&!t&&r.push(""),i!==s&&r.push(e.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!n&&r.push(""),r.join(" ")}function FQ(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function Vze(e){return!!(e.properties||{}).hidden}function qze(e){return e.tagName==="td"||e.tagName==="th"}function Kze(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const Gze={};function Yze(e){const t=e||Gze,n=t.aliases,r=t.detect||!1,i=t.languages||CX,s=t.plainText,a=t.prefix,o=t.subset;let l="hljs";const u=kX(i);if(n&&u.registerAlias(n),a){const d=a.indexOf("-");l=d===-1?a:a.slice(0,d)}return function(d,f){h0(d,"element",function(h,p,m){if(h.tagName!=="code"||!m||m.type!=="element"||m.tagName!=="pre")return;const g=Xze(h);if(g===!1||!g&&!r||g&&s&&s.includes(g))return;Array.isArray(h.properties.className)||(h.properties.className=[]),h.properties.className.includes(l)||h.properties.className.unshift(l);const v=Uze(h,{whitespace:"pre"});let y;try{y=g?u.highlight(g,v,{prefix:a}):u.highlightAuto(v,{prefix:a,subset:o})}catch(x){const w=x;if(g&&/Unknown language/.test(w.message)){f.message("Cannot highlight as `"+g+"`, its not registered",{ancestors:[m,h],cause:w,place:h.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw w}!g&&y.data&&y.data.language&&h.properties.className.push("language-"+y.data.language),y.children.length>0&&(h.children=y.children)})}}function Xze(e){const t=e.properties.className;let n=-1;if(!Array.isArray(t))return;let r;for(;++n<t.length;){const i=String(t[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!r&&i.slice(0,5)==="lang-"&&(r=i.slice(5)),!r&&i.slice(0,9)==="language-"&&(r=i.slice(9))}return r}const rF=/[#.]/g;function Qze(e,t){const n=e||"",r={};let i=0,s,a;for(;i<n.length;){rF.lastIndex=i;const o=rF.exec(n),l=n.slice(i,o?o.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||t||"div",properties:r,children:[]}}function $Q(e,t,n){const r=n?t9e(n):void 0;function i(s,a,...o){let l;if(s==null){l={type:"root",children:[]};const u=a;o.unshift(u)}else{l=Qze(s,t);const u=l.tagName.toLowerCase(),d=r?r.get(u):void 0;if(l.tagName=d||u,Jze(a))o.unshift(a);else for(const[f,h]of Object.entries(a))Zze(e,l.properties,f,h)}for(const u of o)vk(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function Jze(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const i=t[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Zze(e,t,n,r){const i=OI(e,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=sB(r):i.commaSeparated?s=eB(r):i.commaOrSpaceSeparated?s=sB(eB(r).join(" ")):s=iF(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?e9e(r):String(r);if(Array.isArray(s)){const a=[];for(const o of s)a.push(iF(i,i.property,o));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function vk(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)vk(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?vk(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function iF(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||cg(n)===cg(t)))return!0}return n}function e9e(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function t9e(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const n9e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],r9e=$Q(cE,"div"),i9e=$Q(Ch,"g",n9e);function s9e(e){const t=String(e),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=t.length){let a=0;for(;;){let o=n[a];if(o===void 0){const l=sF(t,n[a-1]);o=l===-1?t.length+1:l+1,n[a]=o}if(o>s)return{line:a+1,column:s-(a>0?n[a-1]:0)+1,offset:s};a++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],l=sF(t,o),u=l===-1?t.length+1:l+1;if(o===u)break;n.push(u)}const a=(s.line>1?n[s.line-2]:0)+s.column-1;if(a<n[s.line-1])return a}}}function sF(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const iu={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},UQ={}.hasOwnProperty,a9e=Object.prototype;function o9e(e,t){const n=t||{};return KI({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ch:cE,verbose:n.verbose||!1},e)}function KI(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},py(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:zQ(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const s=String(e.file),a=s9e(s),o=a.toPoint(0),l=a.toPoint(s.length);n.position={start:o,end:l}}return n}case"#documentType":{const r=t;return n={type:"doctype"},py(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},py(e,r,n),n}default:return n=l9e(e,t),n}}function zQ(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=KI(e,t[n]);r.push(i)}return r}function l9e(e,t){const n=e.schema;e.schema=t.namespaceURI===iu.svg?Ch:cE;let r=-1;const i={};for(;++r<t.attrs.length;){const o=t.attrs[r],l=(o.prefix?o.prefix+":":"")+o.name;UQ.call(a9e,l)||(i[l]=o.value)}const a=(e.schema.space==="svg"?i9e:r9e)(t.tagName,i,zQ(e,t.childNodes));if(py(e,t,a),a.tagName==="template"){const o=t,l=o.sourceCodeLocation,u=l&&l.startTag&&qd(l.startTag),d=l&&l.endTag&&qd(l.endTag),f=KI(e,o.content);u&&d&&e.file&&(f.position={start:u.end,end:d.start}),a.content=f}return e.schema=n,a}function py(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=c9e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function c9e(e,t,n){const r=qd(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const s={};let a;if(n.attrs)for(a in n.attrs)UQ.call(n.attrs,a)&&(s[OI(e.schema,a).property]=qd(n.attrs[a]));n.startTag;const o=qd(n.startTag),l=n.endTag?qd(n.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=s,t.data={position:u}}}return r}function qd(e){const t=aF({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=aF({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function aF(e){return e.line&&e.column?e:void 0}class m0{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}m0.prototype.property={};m0.prototype.normal={};m0.prototype.space=null;function HQ(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new m0(n,r,t)}function yk(e){return e.toLowerCase()}class Is{constructor(t,n){this.property=t,this.attribute=n}}Is.prototype.space=null;Is.prototype.boolean=!1;Is.prototype.booleanish=!1;Is.prototype.overloadedBoolean=!1;Is.prototype.number=!1;Is.prototype.commaSeparated=!1;Is.prototype.spaceSeparated=!1;Is.prototype.commaOrSpaceSeparated=!1;Is.prototype.mustUseProperty=!1;Is.prototype.defined=!1;let u9e=0;const Je=td(),On=td(),WQ=td(),ye=td(),Rt=td(),ff=td(),Ti=td();function td(){return 2**++u9e}const xk=Object.freeze(Object.defineProperty({__proto__:null,boolean:Je,booleanish:On,commaOrSpaceSeparated:Ti,commaSeparated:ff,number:ye,overloadedBoolean:WQ,spaceSeparated:Rt},Symbol.toStringTag,{value:"Module"})),QN=Object.keys(xk);class GI extends Is{constructor(t,n,r,i){let s=-1;if(super(t,n),oF(this,"space",i),typeof r=="number")for(;++s<QN.length;){const a=QN[s];oF(this,QN[s],(r&xk[a])===xk[a])}}}GI.prototype.defined=!0;function oF(e,t,n){n&&(e[t]=n)}const d9e={}.hasOwnProperty;function Ah(e){const t={},n={};let r;for(r in e.properties)if(d9e.call(e.properties,r)){const i=e.properties[r],s=new GI(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[yk(r)]=r,n[yk(s.attribute)]=r}return new m0(t,n,e.space)}const VQ=Ah({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),qQ=Ah({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function KQ(e,t){return t in e?e[t]:t}function GQ(e,t){return KQ(e,t.toLowerCase())}const YQ=Ah({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:GQ,properties:{xmlns:null,xmlnsXLink:null}}),XQ=Ah({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:On,ariaAutoComplete:null,ariaBusy:On,ariaChecked:On,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:Rt,ariaCurrent:null,ariaDescribedBy:Rt,ariaDetails:null,ariaDisabled:On,ariaDropEffect:Rt,ariaErrorMessage:null,ariaExpanded:On,ariaFlowTo:Rt,ariaGrabbed:On,ariaHasPopup:null,ariaHidden:On,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Rt,ariaLevel:ye,ariaLive:null,ariaModal:On,ariaMultiLine:On,ariaMultiSelectable:On,ariaOrientation:null,ariaOwns:Rt,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:On,ariaReadOnly:On,ariaRelevant:null,ariaRequired:On,ariaRoleDescription:Rt,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:On,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null}}),f9e=Ah({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:GQ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ff,acceptCharset:Rt,accessKey:Rt,action:null,allow:null,allowFullScreen:Je,allowPaymentRequest:Je,allowUserMedia:Je,alt:null,as:null,async:Je,autoCapitalize:null,autoComplete:Rt,autoFocus:Je,autoPlay:Je,blocking:Rt,capture:null,charSet:null,checked:Je,cite:null,className:Rt,cols:ye,colSpan:null,content:null,contentEditable:On,controls:Je,controlsList:Rt,coords:ye|ff,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Je,defer:Je,dir:null,dirName:null,disabled:Je,download:WQ,draggable:On,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Je,formTarget:null,headers:Rt,height:ye,hidden:Je,high:ye,href:null,hrefLang:null,htmlFor:Rt,httpEquiv:Rt,id:null,imageSizes:null,imageSrcSet:null,inert:Je,inputMode:null,integrity:null,is:null,isMap:Je,itemId:null,itemProp:Rt,itemRef:Rt,itemScope:Je,itemType:Rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Je,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:Je,muted:Je,name:null,nonce:null,noModule:Je,noValidate:Je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Je,optimum:ye,pattern:null,ping:Rt,placeholder:null,playsInline:Je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Je,referrerPolicy:null,rel:Rt,required:Je,reversed:Je,rows:ye,rowSpan:ye,sandbox:Rt,scope:null,scoped:Je,seamless:Je,selected:Je,shadowRootClonable:Je,shadowRootDelegatesFocus:Je,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:On,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:Je,useMap:null,value:On,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Rt,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Je,declare:Je,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:Je,noHref:Je,noShade:Je,noWrap:Je,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:On,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Je,disableRemotePlayback:Je,prefix:null,property:null,results:ye,security:null,unselectable:null}}),h9e=Ah({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:KQ,properties:{about:Ti,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:Rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:Je,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ff,g2:ff,glyphName:ff,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:Ti,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ti,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ti,rev:Ti,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ti,requiredFeatures:Ti,requiredFonts:Ti,requiredFormats:Ti,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:Ti,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ti,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ti,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),p9e=/^data[-\w.:]+$/i,lF=/-[a-z]/g,m9e=/[A-Z]/g;function g9e(e,t){const n=yk(t);let r=t,i=Is;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&p9e.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(lF,y9e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!lF.test(s)){let a=s.replace(m9e,v9e);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=GI}return new i(r,t)}function v9e(e){return"-"+e.toLowerCase()}function y9e(e){return e.charAt(1).toUpperCase()}const x9e=HQ([qQ,VQ,YQ,XQ,f9e],"html"),QQ=HQ([qQ,VQ,YQ,XQ,h9e],"svg"),b9e={},w9e={}.hasOwnProperty,JQ=gQ("type",{handlers:{root:S9e,element:k9e,text:T9e,comment:C9e,doctype:_9e}});function E9e(e,t){const r=(t||b9e).space;return JQ(e,r==="svg"?QQ:x9e)}function S9e(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=YI(e.children,n,t),Oh(e,n),n}function N9e(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=YI(e.children,n,t),Oh(e,n),n}function _9e(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Oh(e,t),t}function T9e(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Oh(e,t),t}function C9e(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Oh(e,t),t}function k9e(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=QQ);const i=[];let s;if(e.properties){for(s in e.properties)if(s!=="children"&&w9e.call(e.properties,s)){const l=A9e(r,s,e.properties[s]);l&&i.push(l)}}const a=r.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:iu[a],childNodes:[],parentNode:null};return o.childNodes=YI(e.children,o,r),Oh(e,o),e.tagName==="template"&&e.content&&(o.content=N9e(e.content,r)),o}function A9e(e,t,n){const r=g9e(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?AX(n):LX(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=iu[r.space]}return i}function YI(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const s=JQ(e[r],n);s.parentNode=t,i.push(s)}return i}function Oh(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const O9e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],j9e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Zt="";var F;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(F||(F={}));const li={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function ZQ(e){return e>=55296&&e<=57343}function I9e(e){return e>=56320&&e<=57343}function P9e(e,t){return(e-55296)*1024+9216+t}function eJ(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function tJ(e){return e>=64976&&e<=65007||j9e.has(e)}var re;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(re||(re={}));const D9e=65536;class M9e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=D9e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:i,offset:s}=this,a=i+n,o=s+n;return{code:t,startLine:r,endLine:r,startCol:a,endCol:a,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(I9e(n))return this.pos++,this._addGap(),P9e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,F.EOF;return this._err(re.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;const r=this.html.charCodeAt(n);return r===F.CARRIAGE_RETURN?F.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,F.EOF;let t=this.html.charCodeAt(this.pos);return t===F.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,F.LINE_FEED):t===F.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,ZQ(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===F.LINE_FEED||t===F.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){eJ(t)?this._err(re.controlCharacterInInputStream):tJ(t)&&this._err(re.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var it;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(it||(it={}));function nJ(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const R9e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),L9e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function B9e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=L9e.get(e))!==null&&t!==void 0?t:e}var Jn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Jn||(Jn={}));const F9e=32;var Tl;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Tl||(Tl={}));function bk(e){return e>=Jn.ZERO&&e<=Jn.NINE}function $9e(e){return e>=Jn.UPPER_A&&e<=Jn.UPPER_F||e>=Jn.LOWER_A&&e<=Jn.LOWER_F}function U9e(e){return e>=Jn.UPPER_A&&e<=Jn.UPPER_Z||e>=Jn.LOWER_A&&e<=Jn.LOWER_Z||bk(e)}function z9e(e){return e===Jn.EQUALS||U9e(e)}var Gn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Gn||(Gn={}));var io;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(io||(io={}));class H9e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Gn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=io.Strict}startEntity(t){this.decodeMode=t,this.state=Gn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Gn.EntityStart:return t.charCodeAt(n)===Jn.NUM?(this.state=Gn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Gn.NamedEntity,this.stateNamedEntity(t,n));case Gn.NumericStart:return this.stateNumericStart(t,n);case Gn.NumericDecimal:return this.stateNumericDecimal(t,n);case Gn.NumericHex:return this.stateNumericHex(t,n);case Gn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|F9e)===Jn.LOWER_X?(this.state=Gn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Gn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(t.substr(n,s),i),this.consumed+=s}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(bk(i)||$9e(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(bk(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Jn.SEMI)this.consumed+=1;else if(this.decodeMode===io.Strict)return 0;return this.emitCodePoint(B9e(this.result),this.consumed),this.errors&&(t!==Jn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Tl.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const a=t.charCodeAt(n);if(this.treeIndex=W9e(r,i,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===io.Attribute&&(s===0||z9e(a))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Tl.VALUE_LENGTH)>>14,s!==0){if(a===Jn.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==io.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Tl.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Tl.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Gn.NamedEntity:return this.result!==0&&(this.decodeMode!==io.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Gn.NumericDecimal:return this.emitNumericEntity(0,2);case Gn.NumericHex:return this.emitNumericEntity(0,3);case Gn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Gn.EntityStart:return 0}}}function W9e(e,t,n,r){const i=(t&Tl.BRANCH_LENGTH)>>7,s=t&Tl.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:e[n+l]-1}let a=n,o=a+i-1;for(;a<=o;){const l=a+o>>>1,u=e[l];if(u<r)a=l+1;else if(u>r)o=l-1;else return e[l+i]}return-1}var fe;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(fe||(fe={}));var yu;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(yu||(yu={}));var ps;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(ps||(ps={}));var Y;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Y||(Y={}));var S;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(S||(S={}));const V9e=new Map([[Y.A,S.A],[Y.ADDRESS,S.ADDRESS],[Y.ANNOTATION_XML,S.ANNOTATION_XML],[Y.APPLET,S.APPLET],[Y.AREA,S.AREA],[Y.ARTICLE,S.ARTICLE],[Y.ASIDE,S.ASIDE],[Y.B,S.B],[Y.BASE,S.BASE],[Y.BASEFONT,S.BASEFONT],[Y.BGSOUND,S.BGSOUND],[Y.BIG,S.BIG],[Y.BLOCKQUOTE,S.BLOCKQUOTE],[Y.BODY,S.BODY],[Y.BR,S.BR],[Y.BUTTON,S.BUTTON],[Y.CAPTION,S.CAPTION],[Y.CENTER,S.CENTER],[Y.CODE,S.CODE],[Y.COL,S.COL],[Y.COLGROUP,S.COLGROUP],[Y.DD,S.DD],[Y.DESC,S.DESC],[Y.DETAILS,S.DETAILS],[Y.DIALOG,S.DIALOG],[Y.DIR,S.DIR],[Y.DIV,S.DIV],[Y.DL,S.DL],[Y.DT,S.DT],[Y.EM,S.EM],[Y.EMBED,S.EMBED],[Y.FIELDSET,S.FIELDSET],[Y.FIGCAPTION,S.FIGCAPTION],[Y.FIGURE,S.FIGURE],[Y.FONT,S.FONT],[Y.FOOTER,S.FOOTER],[Y.FOREIGN_OBJECT,S.FOREIGN_OBJECT],[Y.FORM,S.FORM],[Y.FRAME,S.FRAME],[Y.FRAMESET,S.FRAMESET],[Y.H1,S.H1],[Y.H2,S.H2],[Y.H3,S.H3],[Y.H4,S.H4],[Y.H5,S.H5],[Y.H6,S.H6],[Y.HEAD,S.HEAD],[Y.HEADER,S.HEADER],[Y.HGROUP,S.HGROUP],[Y.HR,S.HR],[Y.HTML,S.HTML],[Y.I,S.I],[Y.IMG,S.IMG],[Y.IMAGE,S.IMAGE],[Y.INPUT,S.INPUT],[Y.IFRAME,S.IFRAME],[Y.KEYGEN,S.KEYGEN],[Y.LABEL,S.LABEL],[Y.LI,S.LI],[Y.LINK,S.LINK],[Y.LISTING,S.LISTING],[Y.MAIN,S.MAIN],[Y.MALIGNMARK,S.MALIGNMARK],[Y.MARQUEE,S.MARQUEE],[Y.MATH,S.MATH],[Y.MENU,S.MENU],[Y.META,S.META],[Y.MGLYPH,S.MGLYPH],[Y.MI,S.MI],[Y.MO,S.MO],[Y.MN,S.MN],[Y.MS,S.MS],[Y.MTEXT,S.MTEXT],[Y.NAV,S.NAV],[Y.NOBR,S.NOBR],[Y.NOFRAMES,S.NOFRAMES],[Y.NOEMBED,S.NOEMBED],[Y.NOSCRIPT,S.NOSCRIPT],[Y.OBJECT,S.OBJECT],[Y.OL,S.OL],[Y.OPTGROUP,S.OPTGROUP],[Y.OPTION,S.OPTION],[Y.P,S.P],[Y.PARAM,S.PARAM],[Y.PLAINTEXT,S.PLAINTEXT],[Y.PRE,S.PRE],[Y.RB,S.RB],[Y.RP,S.RP],[Y.RT,S.RT],[Y.RTC,S.RTC],[Y.RUBY,S.RUBY],[Y.S,S.S],[Y.SCRIPT,S.SCRIPT],[Y.SEARCH,S.SEARCH],[Y.SECTION,S.SECTION],[Y.SELECT,S.SELECT],[Y.SOURCE,S.SOURCE],[Y.SMALL,S.SMALL],[Y.SPAN,S.SPAN],[Y.STRIKE,S.STRIKE],[Y.STRONG,S.STRONG],[Y.STYLE,S.STYLE],[Y.SUB,S.SUB],[Y.SUMMARY,S.SUMMARY],[Y.SUP,S.SUP],[Y.TABLE,S.TABLE],[Y.TBODY,S.TBODY],[Y.TEMPLATE,S.TEMPLATE],[Y.TEXTAREA,S.TEXTAREA],[Y.TFOOT,S.TFOOT],[Y.TD,S.TD],[Y.TH,S.TH],[Y.THEAD,S.THEAD],[Y.TITLE,S.TITLE],[Y.TR,S.TR],[Y.TRACK,S.TRACK],[Y.TT,S.TT],[Y.U,S.U],[Y.UL,S.UL],[Y.SVG,S.SVG],[Y.VAR,S.VAR],[Y.WBR,S.WBR],[Y.XMP,S.XMP]]);function jh(e){var t;return(t=V9e.get(e))!==null&&t!==void 0?t:S.UNKNOWN}const he=S,q9e={[fe.HTML]:new Set([he.ADDRESS,he.APPLET,he.AREA,he.ARTICLE,he.ASIDE,he.BASE,he.BASEFONT,he.BGSOUND,he.BLOCKQUOTE,he.BODY,he.BR,he.BUTTON,he.CAPTION,he.CENTER,he.COL,he.COLGROUP,he.DD,he.DETAILS,he.DIR,he.DIV,he.DL,he.DT,he.EMBED,he.FIELDSET,he.FIGCAPTION,he.FIGURE,he.FOOTER,he.FORM,he.FRAME,he.FRAMESET,he.H1,he.H2,he.H3,he.H4,he.H5,he.H6,he.HEAD,he.HEADER,he.HGROUP,he.HR,he.HTML,he.IFRAME,he.IMG,he.INPUT,he.LI,he.LINK,he.LISTING,he.MAIN,he.MARQUEE,he.MENU,he.META,he.NAV,he.NOEMBED,he.NOFRAMES,he.NOSCRIPT,he.OBJECT,he.OL,he.P,he.PARAM,he.PLAINTEXT,he.PRE,he.SCRIPT,he.SECTION,he.SELECT,he.SOURCE,he.STYLE,he.SUMMARY,he.TABLE,he.TBODY,he.TD,he.TEMPLATE,he.TEXTAREA,he.TFOOT,he.TH,he.THEAD,he.TITLE,he.TR,he.TRACK,he.UL,he.WBR,he.XMP]),[fe.MATHML]:new Set([he.MI,he.MO,he.MN,he.MS,he.MTEXT,he.ANNOTATION_XML]),[fe.SVG]:new Set([he.TITLE,he.FOREIGN_OBJECT,he.DESC]),[fe.XLINK]:new Set,[fe.XML]:new Set,[fe.XMLNS]:new Set},wk=new Set([he.H1,he.H2,he.H3,he.H4,he.H5,he.H6]);Y.STYLE,Y.SCRIPT,Y.XMP,Y.IFRAME,Y.NOEMBED,Y.NOFRAMES,Y.PLAINTEXT;var U;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(U||(U={}));const _n={DATA:U.DATA,RCDATA:U.RCDATA,RAWTEXT:U.RAWTEXT,SCRIPT_DATA:U.SCRIPT_DATA,PLAINTEXT:U.PLAINTEXT,CDATA_SECTION:U.CDATA_SECTION};function K9e(e){return e>=F.DIGIT_0&&e<=F.DIGIT_9}function Tp(e){return e>=F.LATIN_CAPITAL_A&&e<=F.LATIN_CAPITAL_Z}function G9e(e){return e>=F.LATIN_SMALL_A&&e<=F.LATIN_SMALL_Z}function rl(e){return G9e(e)||Tp(e)}function cF(e){return rl(e)||K9e(e)}function Fv(e){return e+32}function rJ(e){return e===F.SPACE||e===F.LINE_FEED||e===F.TABULATION||e===F.FORM_FEED}function uF(e){return rJ(e)||e===F.SOLIDUS||e===F.GREATER_THAN_SIGN}function Y9e(e){return e===F.NULL?re.nullCharacterReference:e>1114111?re.characterReferenceOutsideUnicodeRange:ZQ(e)?re.surrogateCharacterReference:tJ(e)?re.noncharacterCharacterReference:eJ(e)||e===F.CARRIAGE_RETURN?re.controlCharacterReference:null}class X9e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=U.DATA,this.returnState=U.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new M9e(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new H9e(R9e,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(re.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(re.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=Y9e(r);i&&this._err(i,1)}}:void 0)}_err(t,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:it.START_TAG,tagName:"",tagID:S.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:it.END_TAG,tagName:"",tagID:S.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:it.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:it.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(nJ(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(re.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=jh(t.tagName),t.type===it.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(re.endTagWithAttributes),t.selfClosing&&this._err(re.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case it.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case it.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case it.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:it.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=rJ(t)?it.WHITESPACE_CHARACTER:t===F.NULL?it.NULL_CHARACTER:it.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(it.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=U.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?io.Attribute:io.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===U.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===U.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===U.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case U.DATA:{this._stateData(t);break}case U.RCDATA:{this._stateRcdata(t);break}case U.RAWTEXT:{this._stateRawtext(t);break}case U.SCRIPT_DATA:{this._stateScriptData(t);break}case U.PLAINTEXT:{this._statePlaintext(t);break}case U.TAG_OPEN:{this._stateTagOpen(t);break}case U.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case U.TAG_NAME:{this._stateTagName(t);break}case U.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case U.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case U.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case U.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case U.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case U.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case U.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case U.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case U.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case U.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case U.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case U.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case U.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case U.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case U.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case U.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case U.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case U.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case U.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case U.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case U.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case U.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case U.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case U.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case U.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case U.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case U.BOGUS_COMMENT:{this._stateBogusComment(t);break}case U.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case U.COMMENT_START:{this._stateCommentStart(t);break}case U.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case U.COMMENT:{this._stateComment(t);break}case U.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case U.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case U.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case U.COMMENT_END:{this._stateCommentEnd(t);break}case U.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case U.DOCTYPE:{this._stateDoctype(t);break}case U.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case U.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case U.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case U.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case U.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case U.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case U.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case U.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case U.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case U.CDATA_SECTION:{this._stateCdataSection(t);break}case U.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case U.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case U.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case U.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=U.TAG_OPEN;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.NULL:{this._err(re.unexpectedNullCharacter),this._emitCodePoint(t);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case F.AMPERSAND:{this._startCharacterReference();break}case F.LESS_THAN_SIGN:{this.state=U.RCDATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(re.unexpectedNullCharacter),this._emitChars(Zt);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case F.LESS_THAN_SIGN:{this.state=U.RAWTEXT_LESS_THAN_SIGN;break}case F.NULL:{this._err(re.unexpectedNullCharacter),this._emitChars(Zt);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case F.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_LESS_THAN_SIGN;break}case F.NULL:{this._err(re.unexpectedNullCharacter),this._emitChars(Zt);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case F.NULL:{this._err(re.unexpectedNullCharacter),this._emitChars(Zt);break}case F.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(rl(t))this._createStartTagToken(),this.state=U.TAG_NAME,this._stateTagName(t);else switch(t){case F.EXCLAMATION_MARK:{this.state=U.MARKUP_DECLARATION_OPEN;break}case F.SOLIDUS:{this.state=U.END_TAG_OPEN;break}case F.QUESTION_MARK:{this._err(re.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t);break}case F.EOF:{this._err(re.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(re.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=U.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(rl(t))this._createEndTagToken(),this.state=U.TAG_NAME,this._stateTagName(t);else switch(t){case F.GREATER_THAN_SIGN:{this._err(re.missingEndTagName),this.state=U.DATA;break}case F.EOF:{this._err(re.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(re.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=U.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this.state=U.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(re.unexpectedNullCharacter),n.tagName+=Zt;break}case F.EOF:{this._err(re.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Tp(t)?Fv(t):t)}}_stateRcdataLessThanSign(t){t===F.SOLIDUS?this.state=U.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=U.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){rl(t)?(this.state=U.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=U.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=U.BEFORE_ATTRIBUTE_NAME,!1;case F.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=U.SELF_CLOSING_START_TAG,!1;case F.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=U.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===F.SOLIDUS?this.state=U.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){rl(t)?(this.state=U.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case F.SOLIDUS:{this.state=U.SCRIPT_DATA_END_TAG_OPEN;break}case F.EXCLAMATION_MARK:{this.state=U.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=U.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){rl(t)?(this.state=U.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===F.HYPHEN_MINUS?(this.state=U.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===F.HYPHEN_MINUS?(this.state=U.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=U.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(re.unexpectedNullCharacter),this._emitChars(Zt);break}case F.EOF:{this._err(re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.NULL:{this._err(re.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_ESCAPED,this._emitChars(Zt);break}case F.EOF:{this._err(re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case F.GREATER_THAN_SIGN:{this.state=U.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(re.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_ESCAPED,this._emitChars(Zt);break}case F.EOF:{this._err(re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===F.SOLIDUS?this.state=U.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:rl(t)?(this._emitChars("<"),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){rl(t)?(this.state=U.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(li.SCRIPT,!1)&&uF(this.preprocessor.peek(li.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<li.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=U.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case F.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(re.unexpectedNullCharacter),this._emitChars(Zt);break}case F.EOF:{this._err(re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case F.HYPHEN_MINUS:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.NULL:{this._err(re.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Zt);break}case F.EOF:{this._err(re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case F.HYPHEN_MINUS:{this._emitChars("-");break}case F.LESS_THAN_SIGN:{this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case F.GREATER_THAN_SIGN:{this.state=U.SCRIPT_DATA,this._emitChars(">");break}case F.NULL:{this._err(re.unexpectedNullCharacter),this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Zt);break}case F.EOF:{this._err(re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===F.SOLIDUS?(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(li.SCRIPT,!1)&&uF(this.preprocessor.peek(li.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<li.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=U.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=U.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this.state=U.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._err(re.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=U.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=U.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:case F.SOLIDUS:case F.GREATER_THAN_SIGN:case F.EOF:{this._leaveAttrName(),this.state=U.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case F.EQUALS_SIGN:{this._leaveAttrName(),this.state=U.BEFORE_ATTRIBUTE_VALUE;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:{this._err(re.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case F.NULL:{this._err(re.unexpectedNullCharacter),this.currentAttr.name+=Zt;break}default:this.currentAttr.name+=String.fromCodePoint(Tp(t)?Fv(t):t)}}_stateAfterAttributeName(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.SOLIDUS:{this.state=U.SELF_CLOSING_START_TAG;break}case F.EQUALS_SIGN:{this.state=U.BEFORE_ATTRIBUTE_VALUE;break}case F.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(re.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=U.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{this.state=U.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this.state=U.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(re.missingAttributeValue),this.state=U.DATA,this.emitCurrentTagToken();break}default:this.state=U.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case F.QUOTATION_MARK:{this.state=U.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.NULL:{this._err(re.unexpectedNullCharacter),this.currentAttr.value+=Zt;break}case F.EOF:{this._err(re.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case F.APOSTROPHE:{this.state=U.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.NULL:{this._err(re.unexpectedNullCharacter),this.currentAttr.value+=Zt;break}case F.EOF:{this._err(re.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=U.BEFORE_ATTRIBUTE_NAME;break}case F.AMPERSAND:{this._startCharacterReference();break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=U.DATA,this.emitCurrentTagToken();break}case F.NULL:{this._err(re.unexpectedNullCharacter),this.currentAttr.value+=Zt;break}case F.QUOTATION_MARK:case F.APOSTROPHE:case F.LESS_THAN_SIGN:case F.EQUALS_SIGN:case F.GRAVE_ACCENT:{this._err(re.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case F.EOF:{this._err(re.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this._leaveAttrValue(),this.state=U.BEFORE_ATTRIBUTE_NAME;break}case F.SOLIDUS:{this._leaveAttrValue(),this.state=U.SELF_CLOSING_START_TAG;break}case F.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=U.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(re.eofInTag),this._emitEOFToken();break}default:this._err(re.missingWhitespaceBetweenAttributes),this.state=U.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case F.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=U.DATA,this.emitCurrentTagToken();break}case F.EOF:{this._err(re.eofInTag),this._emitEOFToken();break}default:this._err(re.unexpectedSolidusInTag),this.state=U.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentComment(n);break}case F.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case F.NULL:{this._err(re.unexpectedNullCharacter),n.data+=Zt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(li.DASH_DASH,!0)?(this._createCommentToken(li.DASH_DASH.length+1),this.state=U.COMMENT_START):this._consumeSequenceIfMatch(li.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(li.DOCTYPE.length+1),this.state=U.DOCTYPE):this._consumeSequenceIfMatch(li.CDATA_START,!0)?this.inForeignNode?this.state=U.CDATA_SECTION:(this._err(re.cdataInHtmlContent),this._createCommentToken(li.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=U.BOGUS_COMMENT):this._ensureHibernation()||(this._err(re.incorrectlyOpenedComment),this._createCommentToken(2),this.state=U.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case F.HYPHEN_MINUS:{this.state=U.COMMENT_START_DASH;break}case F.GREATER_THAN_SIGN:{this._err(re.abruptClosingOfEmptyComment),this.state=U.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=U.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=U.COMMENT_END;break}case F.GREATER_THAN_SIGN:{this._err(re.abruptClosingOfEmptyComment),this.state=U.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=U.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=U.COMMENT_END_DASH;break}case F.LESS_THAN_SIGN:{n.data+="<",this.state=U.COMMENT_LESS_THAN_SIGN;break}case F.NULL:{this._err(re.unexpectedNullCharacter),n.data+=Zt;break}case F.EOF:{this._err(re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case F.EXCLAMATION_MARK:{n.data+="!",this.state=U.COMMENT_LESS_THAN_SIGN_BANG;break}case F.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=U.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===F.HYPHEN_MINUS?this.state=U.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=U.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===F.HYPHEN_MINUS?this.state=U.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=U.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==F.GREATER_THAN_SIGN&&t!==F.EOF&&this._err(re.nestedComment),this.state=U.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{this.state=U.COMMENT_END;break}case F.EOF:{this._err(re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=U.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentComment(n);break}case F.EXCLAMATION_MARK:{this.state=U.COMMENT_END_BANG;break}case F.HYPHEN_MINUS:{n.data+="-";break}case F.EOF:{this._err(re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=U.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case F.HYPHEN_MINUS:{n.data+="--!",this.state=U.COMMENT_END_DASH;break}case F.GREATER_THAN_SIGN:{this._err(re.incorrectlyClosedComment),this.state=U.DATA,this.emitCurrentComment(n);break}case F.EOF:{this._err(re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=U.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=U.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case F.EOF:{this._err(re.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(re.missingWhitespaceBeforeDoctypeName),this.state=U.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Tp(t))this._createDoctypeToken(String.fromCharCode(Fv(t))),this.state=U.DOCTYPE_NAME;else switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.NULL:{this._err(re.unexpectedNullCharacter),this._createDoctypeToken(Zt),this.state=U.DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this._err(re.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=U.DATA;break}case F.EOF:{this._err(re.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=U.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=U.AFTER_DOCTYPE_NAME;break}case F.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(n);break}case F.NULL:{this._err(re.unexpectedNullCharacter),n.name+=Zt;break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Tp(t)?Fv(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(li.PUBLIC,!1)?this.state=U.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(li.SYSTEM,!1)?this.state=U.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(re.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(re.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(re.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(re.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(re.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.publicId="",this.state=U.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(re.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(re.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(re.unexpectedNullCharacter),n.publicId+=Zt;break}case F.GREATER_THAN_SIGN:{this._err(re.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=U.DATA;break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=U.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case F.NULL:{this._err(re.unexpectedNullCharacter),n.publicId+=Zt;break}case F.GREATER_THAN_SIGN:{this._err(re.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=U.DATA;break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=U.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case F.GREATER_THAN_SIGN:{this.state=U.DATA,this.emitCurrentDoctype(n);break}case F.QUOTATION_MARK:{this._err(re.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(re.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(re.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=U.DATA;break}case F.QUOTATION_MARK:{n.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(re.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:{this.state=U.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.QUOTATION_MARK:{this._err(re.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{this._err(re.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(re.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(re.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.QUOTATION_MARK:{n.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case F.APOSTROPHE:{n.systemId="",this.state=U.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case F.GREATER_THAN_SIGN:{this._err(re.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=U.DATA,this.emitCurrentDoctype(n);break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(re.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case F.QUOTATION_MARK:{this.state=U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(re.unexpectedNullCharacter),n.systemId+=Zt;break}case F.GREATER_THAN_SIGN:{this._err(re.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=U.DATA;break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case F.APOSTROPHE:{this.state=U.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case F.NULL:{this._err(re.unexpectedNullCharacter),n.systemId+=Zt;break}case F.GREATER_THAN_SIGN:{this._err(re.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=U.DATA;break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case F.SPACE:case F.LINE_FEED:case F.TABULATION:case F.FORM_FEED:break;case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=U.DATA;break}case F.EOF:{this._err(re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(re.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=U.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case F.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=U.DATA;break}case F.NULL:{this._err(re.unexpectedNullCharacter);break}case F.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case F.RIGHT_SQUARE_BRACKET:{this.state=U.CDATA_SECTION_BRACKET;break}case F.EOF:{this._err(re.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===F.RIGHT_SQUARE_BRACKET?this.state=U.CDATA_SECTION_END:(this._emitChars("]"),this.state=U.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case F.GREATER_THAN_SIGN:{this.state=U.DATA;break}case F.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=U.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(F.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&cF(this.preprocessor.peek(1))?U.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){cF(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===F.SEMICOLON&&this._err(re.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const iJ=new Set([S.DD,S.DT,S.LI,S.OPTGROUP,S.OPTION,S.P,S.RB,S.RP,S.RT,S.RTC]),dF=new Set([...iJ,S.CAPTION,S.COLGROUP,S.TBODY,S.TD,S.TFOOT,S.TH,S.THEAD,S.TR]),Fb=new Set([S.APPLET,S.CAPTION,S.HTML,S.MARQUEE,S.OBJECT,S.TABLE,S.TD,S.TEMPLATE,S.TH]),Q9e=new Set([...Fb,S.OL,S.UL]),J9e=new Set([...Fb,S.BUTTON]),fF=new Set([S.ANNOTATION_XML,S.MI,S.MN,S.MO,S.MS,S.MTEXT]),hF=new Set([S.DESC,S.FOREIGN_OBJECT,S.TITLE]),Z9e=new Set([S.TR,S.TEMPLATE,S.HTML]),eHe=new Set([S.TBODY,S.TFOOT,S.THEAD,S.TEMPLATE,S.HTML]),tHe=new Set([S.TABLE,S.TEMPLATE,S.HTML]),nHe=new Set([S.TD,S.TH]);class rHe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=S.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===S.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===fe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==fe.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(wk,fe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(nHe,fe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(tHe,fe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(eHe,fe.HTML)}clearBackToTableRowContext(){this.clearBackTo(Z9e,fe.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===S.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===S.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case fe.HTML:{if(i===t)return!0;if(n.has(i))return!1;break}case fe.SVG:{if(hF.has(i))return!1;break}case fe.MATHML:{if(fF.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Fb)}hasInListItemScope(t){return this.hasInDynamicScope(t,Q9e)}hasInButtonScope(t){return this.hasInDynamicScope(t,J9e)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case fe.HTML:{if(wk.has(n))return!0;if(Fb.has(n))return!1;break}case fe.SVG:{if(hF.has(n))return!1;break}case fe.MATHML:{if(fF.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===fe.HTML)switch(this.tagIDs[n]){case t:return!0;case S.TABLE:case S.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===fe.HTML)switch(this.tagIDs[t]){case S.TBODY:case S.THEAD:case S.TFOOT:return!0;case S.TABLE:case S.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===fe.HTML)switch(this.tagIDs[n]){case t:return!0;case S.OPTION:case S.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&iJ.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&dF.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&dF.has(this.currentTagId);)this.pop()}}const JN=3;var xa;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(xa||(xa={}));const pF={type:xa.Marker};class iHe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(t),a=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===xa.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===a){const d=this.treeAdapter.getAttrList(u);d.length===i&&r.push({idx:o,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<JN)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<JN)return;const i=new Map(n.map(a=>[a.name,a.value]));let s=0;for(let a=0;a<r.length;a++){const o=r[a];o.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=JN&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(pF)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:xa.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:xa.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(pF);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===xa.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===xa.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===xa.Element&&n.element===t)}}const il={createDocument(){return{nodeName:"#document",mode:ps.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};il.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(il.isTextNode(n)){n.value+=t;return}}il.appendChild(e,il.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&il.isTextNode(r)?r.value+=t:il.insertBefore(e,il.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},sJ="html",sHe="about:legacy-compat",aHe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",aJ=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],oHe=[...aJ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],lHe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),oJ=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],cHe=[...oJ,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function mF(e,t){return t.some(n=>e.startsWith(n))}function uHe(e){return e.name===sJ&&e.publicId===null&&(e.systemId===null||e.systemId===sHe)}function dHe(e){if(e.name!==sJ)return ps.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===aHe)return ps.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),lHe.has(n))return ps.QUIRKS;let r=t===null?oHe:aJ;if(mF(n,r))return ps.QUIRKS;if(r=t===null?oJ:cHe,mF(n,r))return ps.LIMITED_QUIRKS}return ps.NO_QUIRKS}const gF={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},fHe="definitionurl",hHe="definitionURL",pHe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),mHe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:fe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:fe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:fe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:fe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:fe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:fe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:fe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:fe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:fe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:fe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:fe.XMLNS}]]),gHe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),vHe=new Set([S.B,S.BIG,S.BLOCKQUOTE,S.BODY,S.BR,S.CENTER,S.CODE,S.DD,S.DIV,S.DL,S.DT,S.EM,S.EMBED,S.H1,S.H2,S.H3,S.H4,S.H5,S.H6,S.HEAD,S.HR,S.I,S.IMG,S.LI,S.LISTING,S.MENU,S.META,S.NOBR,S.OL,S.P,S.PRE,S.RUBY,S.S,S.SMALL,S.SPAN,S.STRONG,S.STRIKE,S.SUB,S.SUP,S.TABLE,S.TT,S.U,S.UL,S.VAR]);function yHe(e){const t=e.tagID;return t===S.FONT&&e.attrs.some(({name:r})=>r===yu.COLOR||r===yu.SIZE||r===yu.FACE)||vHe.has(t)}function lJ(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===fHe){e.attrs[t].name=hHe;break}}function cJ(e){for(let t=0;t<e.attrs.length;t++){const n=pHe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function XI(e){for(let t=0;t<e.attrs.length;t++){const n=mHe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function xHe(e){const t=gHe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=jh(e.tagName))}function bHe(e,t){return t===fe.MATHML&&(e===S.MI||e===S.MO||e===S.MN||e===S.MS||e===S.MTEXT)}function wHe(e,t,n){if(t===fe.MATHML&&e===S.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===yu.ENCODING){const i=n[r].value.toLowerCase();return i===gF.TEXT_HTML||i===gF.APPLICATION_XML}}return t===fe.SVG&&(e===S.FOREIGN_OBJECT||e===S.DESC||e===S.TITLE)}function EHe(e,t,n,r){return(!r||r===fe.HTML)&&wHe(e,t,n)||(!r||r===fe.MATHML)&&bHe(e,t)}const SHe="hidden",NHe=8,_He=3;var H;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(H||(H={}));const THe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},uJ=new Set([S.TABLE,S.TBODY,S.TFOOT,S.THEAD,S.TR]),vF={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:il,onParseError:null};class yF{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=H.INITIAL,this.originalInsertionMode=H.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...vF,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new X9e(this.options,this),this.activeFormattingElements=new iHe(this.treeAdapter),this.fragmentContextID=r?jh(this.treeAdapter.getTagName(r)):S.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new rHe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...vF,...n};t??(t=r.treeAdapter.createElement(Y.TEMPLATE,fe.HTML,[]));const i=r.treeAdapter.createElement("documentmock",fe.HTML,[]),s=new this(r,i,t);return s.fragmentContextID===S.TEMPLATE&&s.tmplInsertionModeStack.unshift(H.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const s=(i=t.location)!==null&&i!==void 0?i:THe,a={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(a)}onItemPush(t,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let s,a;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,a=this.fragmentContextID):{current:s,currentTagId:a}=this.openElements,this._setContextModes(s,a)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===fe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,fe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=H.TEXT}switchToPlaintextParsing(){this.insertionMode=H.TEXT,this.originalInsertionMode=H.IN_BODY,this.tokenizer.state=_n.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Y.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==fe.HTML))switch(this.fragmentContextID){case S.TITLE:case S.TEXTAREA:{this.tokenizer.state=_n.RCDATA;break}case S.STYLE:case S.XMP:case S.IFRAME:case S.NOEMBED:case S.NOFRAMES:case S.NOSCRIPT:{this.tokenizer.state=_n.RAWTEXT;break}case S.SCRIPT:{this.tokenizer.state=_n.SCRIPT_DATA;break}case S.PLAINTEXT:{this.tokenizer.state=_n.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const a=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));a&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,fe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,fe.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Y.HTML,fe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,S.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,a=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(a)){const{endLine:l,endCol:u,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(a,{endLine:l,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(a,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),s=n.type===it.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===S.SVG&&this.treeAdapter.getTagName(n)===Y.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===fe.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===S.MGLYPH||t.tagID===S.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,fe.HTML)}_processToken(t){switch(t.type){case it.CHARACTER:{this.onCharacter(t);break}case it.NULL_CHARACTER:{this.onNullCharacter(t);break}case it.COMMENT:{this.onComment(t);break}case it.DOCTYPE:{this.onDoctype(t);break}case it.START_TAG:{this._processStartTag(t);break}case it.END_TAG:{this.onEndTag(t);break}case it.EOF:{this.onEof(t);break}case it.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return EHe(t,i,s,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===xa.Marker||this.openElements.contains(i.element)),r=n===-1?t-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=H.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(S.P),this.openElements.popUntilTagNamePopped(S.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case S.TR:{this.insertionMode=H.IN_ROW;return}case S.TBODY:case S.THEAD:case S.TFOOT:{this.insertionMode=H.IN_TABLE_BODY;return}case S.CAPTION:{this.insertionMode=H.IN_CAPTION;return}case S.COLGROUP:{this.insertionMode=H.IN_COLUMN_GROUP;return}case S.TABLE:{this.insertionMode=H.IN_TABLE;return}case S.BODY:{this.insertionMode=H.IN_BODY;return}case S.FRAMESET:{this.insertionMode=H.IN_FRAMESET;return}case S.SELECT:{this._resetInsertionModeForSelect(t);return}case S.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case S.HTML:{this.insertionMode=this.headElement?H.AFTER_HEAD:H.BEFORE_HEAD;return}case S.TD:case S.TH:{if(t>0){this.insertionMode=H.IN_CELL;return}break}case S.HEAD:{if(t>0){this.insertionMode=H.IN_HEAD;return}break}}this.insertionMode=H.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===S.TEMPLATE)break;if(r===S.TABLE){this.insertionMode=H.IN_SELECT_IN_TABLE;return}}this.insertionMode=H.IN_SELECT}_isElementCausesFosterParenting(t){return uJ.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case S.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===fe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case S.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return q9e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){nWe(this,t);return}switch(this.insertionMode){case H.INITIAL:{fp(this,t);break}case H.BEFORE_HTML:{rm(this,t);break}case H.BEFORE_HEAD:{im(this,t);break}case H.IN_HEAD:{sm(this,t);break}case H.IN_HEAD_NO_SCRIPT:{am(this,t);break}case H.AFTER_HEAD:{om(this,t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:{fJ(this,t);break}case H.TEXT:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{ZN(this,t);break}case H.IN_TABLE_TEXT:{yJ(this,t);break}case H.IN_COLUMN_GROUP:{$b(this,t);break}case H.AFTER_BODY:{Ub(this,t);break}case H.AFTER_AFTER_BODY:{my(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){tWe(this,t);return}switch(this.insertionMode){case H.INITIAL:{fp(this,t);break}case H.BEFORE_HTML:{rm(this,t);break}case H.BEFORE_HEAD:{im(this,t);break}case H.IN_HEAD:{sm(this,t);break}case H.IN_HEAD_NO_SCRIPT:{am(this,t);break}case H.AFTER_HEAD:{om(this,t);break}case H.TEXT:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{ZN(this,t);break}case H.IN_COLUMN_GROUP:{$b(this,t);break}case H.AFTER_BODY:{Ub(this,t);break}case H.AFTER_AFTER_BODY:{my(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Ek(this,t);return}switch(this.insertionMode){case H.INITIAL:case H.BEFORE_HTML:case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_TEMPLATE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{Ek(this,t);break}case H.IN_TABLE_TEXT:{hp(this,t);break}case H.AFTER_BODY:{PHe(this,t);break}case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{DHe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case H.INITIAL:{MHe(this,t);break}case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:{this._err(t,re.misplacedDoctype);break}case H.IN_TABLE_TEXT:{hp(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,re.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?rWe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{fp(this,t);break}case H.BEFORE_HTML:{RHe(this,t);break}case H.BEFORE_HEAD:{BHe(this,t);break}case H.IN_HEAD:{ca(this,t);break}case H.IN_HEAD_NO_SCRIPT:{UHe(this,t);break}case H.AFTER_HEAD:{HHe(this,t);break}case H.IN_BODY:{Wr(this,t);break}case H.IN_TABLE:{Yf(this,t);break}case H.IN_TABLE_TEXT:{hp(this,t);break}case H.IN_CAPTION:{F7e(this,t);break}case H.IN_COLUMN_GROUP:{ZI(this,t);break}case H.IN_TABLE_BODY:{yE(this,t);break}case H.IN_ROW:{xE(this,t);break}case H.IN_CELL:{z7e(this,t);break}case H.IN_SELECT:{wJ(this,t);break}case H.IN_SELECT_IN_TABLE:{W7e(this,t);break}case H.IN_TEMPLATE:{q7e(this,t);break}case H.AFTER_BODY:{G7e(this,t);break}case H.IN_FRAMESET:{Y7e(this,t);break}case H.AFTER_FRAMESET:{Q7e(this,t);break}case H.AFTER_AFTER_BODY:{Z7e(this,t);break}case H.AFTER_AFTER_FRAMESET:{eWe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?iWe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{fp(this,t);break}case H.BEFORE_HTML:{LHe(this,t);break}case H.BEFORE_HEAD:{FHe(this,t);break}case H.IN_HEAD:{$He(this,t);break}case H.IN_HEAD_NO_SCRIPT:{zHe(this,t);break}case H.AFTER_HEAD:{WHe(this,t);break}case H.IN_BODY:{vE(this,t);break}case H.TEXT:{A7e(this,t);break}case H.IN_TABLE:{fg(this,t);break}case H.IN_TABLE_TEXT:{hp(this,t);break}case H.IN_CAPTION:{$7e(this,t);break}case H.IN_COLUMN_GROUP:{U7e(this,t);break}case H.IN_TABLE_BODY:{Sk(this,t);break}case H.IN_ROW:{bJ(this,t);break}case H.IN_CELL:{H7e(this,t);break}case H.IN_SELECT:{EJ(this,t);break}case H.IN_SELECT_IN_TABLE:{V7e(this,t);break}case H.IN_TEMPLATE:{K7e(this,t);break}case H.AFTER_BODY:{NJ(this,t);break}case H.IN_FRAMESET:{X7e(this,t);break}case H.AFTER_FRAMESET:{J7e(this,t);break}case H.AFTER_AFTER_BODY:{my(this,t);break}}}onEof(t){switch(this.insertionMode){case H.INITIAL:{fp(this,t);break}case H.BEFORE_HTML:{rm(this,t);break}case H.BEFORE_HEAD:{im(this,t);break}case H.IN_HEAD:{sm(this,t);break}case H.IN_HEAD_NO_SCRIPT:{am(this,t);break}case H.AFTER_HEAD:{om(this,t);break}case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{gJ(this,t);break}case H.TEXT:{O7e(this,t);break}case H.IN_TABLE_TEXT:{hp(this,t);break}case H.IN_TEMPLATE:{SJ(this,t);break}case H.AFTER_BODY:case H.IN_FRAMESET:case H.AFTER_FRAMESET:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{JI(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===F.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.TEXT:case H.IN_COLUMN_GROUP:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{this._insertCharacters(t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:case H.AFTER_BODY:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{dJ(this,t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{ZN(this,t);break}case H.IN_TABLE_TEXT:{vJ(this,t);break}}}}function CHe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):mJ(e,t),n}function kHe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function AHe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==n;s++,a=i){i=e.openElements.getCommonAncestor(a);const o=e.activeFormattingElements.getElementEntry(a),l=o&&s>=_He;!o||l?(l&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(a)):(a=OHe(e,o),r===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function OHe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function jHe(e,t,n){const r=e.treeAdapter.getTagName(t),i=jh(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);i===S.TEMPLATE&&s===fe.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function IHe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function QI(e,t){for(let n=0;n<NHe;n++){const r=CHe(e,t);if(!r)break;const i=kHe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const s=AHe(e,i,r.element),a=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(s),a&&jHe(e,a,s),IHe(e,i,r)}}function Ek(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function PHe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function DHe(e,t){e._appendCommentNode(t,e.document)}function JI(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t)}}}}function MHe(e,t){e._setDocumentType(t);const n=t.forceQuirks?ps.QUIRKS:dHe(t);uHe(t)||e._err(t,re.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=H.BEFORE_HTML}function fp(e,t){e._err(t,re.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ps.QUIRKS),e.insertionMode=H.BEFORE_HTML,e._processToken(t)}function RHe(e,t){t.tagID===S.HTML?(e._insertElement(t,fe.HTML),e.insertionMode=H.BEFORE_HEAD):rm(e,t)}function LHe(e,t){const n=t.tagID;(n===S.HTML||n===S.HEAD||n===S.BODY||n===S.BR)&&rm(e,t)}function rm(e,t){e._insertFakeRootElement(),e.insertionMode=H.BEFORE_HEAD,e._processToken(t)}function BHe(e,t){switch(t.tagID){case S.HTML:{Wr(e,t);break}case S.HEAD:{e._insertElement(t,fe.HTML),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD;break}default:im(e,t)}}function FHe(e,t){const n=t.tagID;n===S.HEAD||n===S.BODY||n===S.HTML||n===S.BR?im(e,t):e._err(t,re.endTagWithoutMatchingOpenElement)}function im(e,t){e._insertFakeElement(Y.HEAD,S.HEAD),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD,e._processToken(t)}function ca(e,t){switch(t.tagID){case S.HTML:{Wr(e,t);break}case S.BASE:case S.BASEFONT:case S.BGSOUND:case S.LINK:case S.META:{e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case S.TITLE:{e._switchToTextParsing(t,_n.RCDATA);break}case S.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,_n.RAWTEXT):(e._insertElement(t,fe.HTML),e.insertionMode=H.IN_HEAD_NO_SCRIPT);break}case S.NOFRAMES:case S.STYLE:{e._switchToTextParsing(t,_n.RAWTEXT);break}case S.SCRIPT:{e._switchToTextParsing(t,_n.SCRIPT_DATA);break}case S.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=H.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(H.IN_TEMPLATE);break}case S.HEAD:{e._err(t,re.misplacedStartTagForHeadElement);break}default:sm(e,t)}}function $He(e,t){switch(t.tagID){case S.HEAD:{e.openElements.pop(),e.insertionMode=H.AFTER_HEAD;break}case S.BODY:case S.BR:case S.HTML:{sm(e,t);break}case S.TEMPLATE:{nd(e,t);break}default:e._err(t,re.endTagWithoutMatchingOpenElement)}}function nd(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==S.TEMPLATE&&e._err(t,re.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(S.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,re.endTagWithoutMatchingOpenElement)}function sm(e,t){e.openElements.pop(),e.insertionMode=H.AFTER_HEAD,e._processToken(t)}function UHe(e,t){switch(t.tagID){case S.HTML:{Wr(e,t);break}case S.BASEFONT:case S.BGSOUND:case S.HEAD:case S.LINK:case S.META:case S.NOFRAMES:case S.STYLE:{ca(e,t);break}case S.NOSCRIPT:{e._err(t,re.nestedNoscriptInHead);break}default:am(e,t)}}function zHe(e,t){switch(t.tagID){case S.NOSCRIPT:{e.openElements.pop(),e.insertionMode=H.IN_HEAD;break}case S.BR:{am(e,t);break}default:e._err(t,re.endTagWithoutMatchingOpenElement)}}function am(e,t){const n=t.type===it.EOF?re.openElementsLeftAfterEof:re.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=H.IN_HEAD,e._processToken(t)}function HHe(e,t){switch(t.tagID){case S.HTML:{Wr(e,t);break}case S.BODY:{e._insertElement(t,fe.HTML),e.framesetOk=!1,e.insertionMode=H.IN_BODY;break}case S.FRAMESET:{e._insertElement(t,fe.HTML),e.insertionMode=H.IN_FRAMESET;break}case S.BASE:case S.BASEFONT:case S.BGSOUND:case S.LINK:case S.META:case S.NOFRAMES:case S.SCRIPT:case S.STYLE:case S.TEMPLATE:case S.TITLE:{e._err(t,re.abandonedHeadElementChild),e.openElements.push(e.headElement,S.HEAD),ca(e,t),e.openElements.remove(e.headElement);break}case S.HEAD:{e._err(t,re.misplacedStartTagForHeadElement);break}default:om(e,t)}}function WHe(e,t){switch(t.tagID){case S.BODY:case S.HTML:case S.BR:{om(e,t);break}case S.TEMPLATE:{nd(e,t);break}default:e._err(t,re.endTagWithoutMatchingOpenElement)}}function om(e,t){e._insertFakeElement(Y.BODY,S.BODY),e.insertionMode=H.IN_BODY,gE(e,t)}function gE(e,t){switch(t.type){case it.CHARACTER:{fJ(e,t);break}case it.WHITESPACE_CHARACTER:{dJ(e,t);break}case it.COMMENT:{Ek(e,t);break}case it.START_TAG:{Wr(e,t);break}case it.END_TAG:{vE(e,t);break}case it.EOF:{gJ(e,t);break}}}function dJ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function fJ(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function VHe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function qHe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function KHe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,fe.HTML),e.insertionMode=H.IN_FRAMESET)}function GHe(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,fe.HTML)}function YHe(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&wk.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,fe.HTML)}function XHe(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,fe.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function QHe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,fe.HTML),n||(e.formElement=e.openElements.current))}function JHe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===S.LI&&i===S.LI||(n===S.DD||n===S.DT)&&(i===S.DD||i===S.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==S.ADDRESS&&i!==S.DIV&&i!==S.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,fe.HTML)}function ZHe(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,fe.HTML),e.tokenizer.state=_n.PLAINTEXT}function e7e(e,t){e.openElements.hasInScope(S.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(S.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.framesetOk=!1}function t7e(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Y.A);n&&(QI(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function n7e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function r7e(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(S.NOBR)&&(QI(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function i7e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function s7e(e,t){e.treeAdapter.getDocumentMode(e.document)!==ps.QUIRKS&&e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._insertElement(t,fe.HTML),e.framesetOk=!1,e.insertionMode=H.IN_TABLE}function hJ(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,fe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function pJ(e){const t=nJ(e,yu.TYPE);return t!=null&&t.toLowerCase()===SHe}function a7e(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,fe.HTML),pJ(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function o7e(e,t){e._appendElement(t,fe.HTML),t.ackSelfClosing=!0}function l7e(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._appendElement(t,fe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function c7e(e,t){t.tagName=Y.IMG,t.tagID=S.IMG,hJ(e,t)}function u7e(e,t){e._insertElement(t,fe.HTML),e.skipNextNewLine=!0,e.tokenizer.state=_n.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=H.TEXT}function d7e(e,t){e.openElements.hasInButtonScope(S.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,_n.RAWTEXT)}function f7e(e,t){e.framesetOk=!1,e._switchToTextParsing(t,_n.RAWTEXT)}function xF(e,t){e._switchToTextParsing(t,_n.RAWTEXT)}function h7e(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===H.IN_TABLE||e.insertionMode===H.IN_CAPTION||e.insertionMode===H.IN_TABLE_BODY||e.insertionMode===H.IN_ROW||e.insertionMode===H.IN_CELL?H.IN_SELECT_IN_TABLE:H.IN_SELECT}function p7e(e,t){e.openElements.currentTagId===S.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML)}function m7e(e,t){e.openElements.hasInScope(S.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,fe.HTML)}function g7e(e,t){e.openElements.hasInScope(S.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(S.RTC),e._insertElement(t,fe.HTML)}function v7e(e,t){e._reconstructActiveFormattingElements(),lJ(t),XI(t),t.selfClosing?e._appendElement(t,fe.MATHML):e._insertElement(t,fe.MATHML),t.ackSelfClosing=!0}function y7e(e,t){e._reconstructActiveFormattingElements(),cJ(t),XI(t),t.selfClosing?e._appendElement(t,fe.SVG):e._insertElement(t,fe.SVG),t.ackSelfClosing=!0}function bF(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,fe.HTML)}function Wr(e,t){switch(t.tagID){case S.I:case S.S:case S.B:case S.U:case S.EM:case S.TT:case S.BIG:case S.CODE:case S.FONT:case S.SMALL:case S.STRIKE:case S.STRONG:{n7e(e,t);break}case S.A:{t7e(e,t);break}case S.H1:case S.H2:case S.H3:case S.H4:case S.H5:case S.H6:{YHe(e,t);break}case S.P:case S.DL:case S.OL:case S.UL:case S.DIV:case S.DIR:case S.NAV:case S.MAIN:case S.MENU:case S.ASIDE:case S.CENTER:case S.FIGURE:case S.FOOTER:case S.HEADER:case S.HGROUP:case S.DIALOG:case S.DETAILS:case S.ADDRESS:case S.ARTICLE:case S.SEARCH:case S.SECTION:case S.SUMMARY:case S.FIELDSET:case S.BLOCKQUOTE:case S.FIGCAPTION:{GHe(e,t);break}case S.LI:case S.DD:case S.DT:{JHe(e,t);break}case S.BR:case S.IMG:case S.WBR:case S.AREA:case S.EMBED:case S.KEYGEN:{hJ(e,t);break}case S.HR:{l7e(e,t);break}case S.RB:case S.RTC:{m7e(e,t);break}case S.RT:case S.RP:{g7e(e,t);break}case S.PRE:case S.LISTING:{XHe(e,t);break}case S.XMP:{d7e(e,t);break}case S.SVG:{y7e(e,t);break}case S.HTML:{VHe(e,t);break}case S.BASE:case S.LINK:case S.META:case S.STYLE:case S.TITLE:case S.SCRIPT:case S.BGSOUND:case S.BASEFONT:case S.TEMPLATE:{ca(e,t);break}case S.BODY:{qHe(e,t);break}case S.FORM:{QHe(e,t);break}case S.NOBR:{r7e(e,t);break}case S.MATH:{v7e(e,t);break}case S.TABLE:{s7e(e,t);break}case S.INPUT:{a7e(e,t);break}case S.PARAM:case S.TRACK:case S.SOURCE:{o7e(e,t);break}case S.IMAGE:{c7e(e,t);break}case S.BUTTON:{e7e(e,t);break}case S.APPLET:case S.OBJECT:case S.MARQUEE:{i7e(e,t);break}case S.IFRAME:{f7e(e,t);break}case S.SELECT:{h7e(e,t);break}case S.OPTION:case S.OPTGROUP:{p7e(e,t);break}case S.NOEMBED:case S.NOFRAMES:{xF(e,t);break}case S.FRAMESET:{KHe(e,t);break}case S.TEXTAREA:{u7e(e,t);break}case S.NOSCRIPT:{e.options.scriptingEnabled?xF(e,t):bF(e,t);break}case S.PLAINTEXT:{ZHe(e,t);break}case S.COL:case S.TH:case S.TD:case S.TR:case S.HEAD:case S.FRAME:case S.TBODY:case S.TFOOT:case S.THEAD:case S.CAPTION:case S.COLGROUP:break;default:bF(e,t)}}function x7e(e,t){if(e.openElements.hasInScope(S.BODY)&&(e.insertionMode=H.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function b7e(e,t){e.openElements.hasInScope(S.BODY)&&(e.insertionMode=H.AFTER_BODY,NJ(e,t))}function w7e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function E7e(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(S.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(S.FORM):n&&e.openElements.remove(n))}function S7e(e){e.openElements.hasInButtonScope(S.P)||e._insertFakeElement(Y.P,S.P),e._closePElement()}function N7e(e){e.openElements.hasInListItemScope(S.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(S.LI),e.openElements.popUntilTagNamePopped(S.LI))}function _7e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function T7e(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function C7e(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function k7e(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Y.BR,S.BR),e.openElements.pop(),e.framesetOk=!1}function mJ(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const s=e.openElements.items[i],a=e.openElements.tagIDs[i];if(r===a&&(r!==S.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(s,a))break}}function vE(e,t){switch(t.tagID){case S.A:case S.B:case S.I:case S.S:case S.U:case S.EM:case S.TT:case S.BIG:case S.CODE:case S.FONT:case S.NOBR:case S.SMALL:case S.STRIKE:case S.STRONG:{QI(e,t);break}case S.P:{S7e(e);break}case S.DL:case S.UL:case S.OL:case S.DIR:case S.DIV:case S.NAV:case S.PRE:case S.MAIN:case S.MENU:case S.ASIDE:case S.BUTTON:case S.CENTER:case S.FIGURE:case S.FOOTER:case S.HEADER:case S.HGROUP:case S.DIALOG:case S.ADDRESS:case S.ARTICLE:case S.DETAILS:case S.SEARCH:case S.SECTION:case S.SUMMARY:case S.LISTING:case S.FIELDSET:case S.BLOCKQUOTE:case S.FIGCAPTION:{w7e(e,t);break}case S.LI:{N7e(e);break}case S.DD:case S.DT:{_7e(e,t);break}case S.H1:case S.H2:case S.H3:case S.H4:case S.H5:case S.H6:{T7e(e);break}case S.BR:{k7e(e);break}case S.BODY:{x7e(e,t);break}case S.HTML:{b7e(e,t);break}case S.FORM:{E7e(e);break}case S.APPLET:case S.OBJECT:case S.MARQUEE:{C7e(e,t);break}case S.TEMPLATE:{nd(e,t);break}default:mJ(e,t)}}function gJ(e,t){e.tmplInsertionModeStack.length>0?SJ(e,t):JI(e,t)}function A7e(e,t){var n;t.tagID===S.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function O7e(e,t){e._err(t,re.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function ZN(e,t){if(e.openElements.currentTagId!==void 0&&uJ.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=H.IN_TABLE_TEXT,t.type){case it.CHARACTER:{yJ(e,t);break}case it.WHITESPACE_CHARACTER:{vJ(e,t);break}}else g0(e,t)}function j7e(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,fe.HTML),e.insertionMode=H.IN_CAPTION}function I7e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,fe.HTML),e.insertionMode=H.IN_COLUMN_GROUP}function P7e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Y.COLGROUP,S.COLGROUP),e.insertionMode=H.IN_COLUMN_GROUP,ZI(e,t)}function D7e(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,fe.HTML),e.insertionMode=H.IN_TABLE_BODY}function M7e(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Y.TBODY,S.TBODY),e.insertionMode=H.IN_TABLE_BODY,yE(e,t)}function R7e(e,t){e.openElements.hasInTableScope(S.TABLE)&&(e.openElements.popUntilTagNamePopped(S.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function L7e(e,t){pJ(t)?e._appendElement(t,fe.HTML):g0(e,t),t.ackSelfClosing=!0}function B7e(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,fe.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Yf(e,t){switch(t.tagID){case S.TD:case S.TH:case S.TR:{M7e(e,t);break}case S.STYLE:case S.SCRIPT:case S.TEMPLATE:{ca(e,t);break}case S.COL:{P7e(e,t);break}case S.FORM:{B7e(e,t);break}case S.TABLE:{R7e(e,t);break}case S.TBODY:case S.TFOOT:case S.THEAD:{D7e(e,t);break}case S.INPUT:{L7e(e,t);break}case S.CAPTION:{j7e(e,t);break}case S.COLGROUP:{I7e(e,t);break}default:g0(e,t)}}function fg(e,t){switch(t.tagID){case S.TABLE:{e.openElements.hasInTableScope(S.TABLE)&&(e.openElements.popUntilTagNamePopped(S.TABLE),e._resetInsertionMode());break}case S.TEMPLATE:{nd(e,t);break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:case S.TBODY:case S.TD:case S.TFOOT:case S.TH:case S.THEAD:case S.TR:break;default:g0(e,t)}}function g0(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,gE(e,t),e.fosterParentingEnabled=n}function vJ(e,t){e.pendingCharacterTokens.push(t)}function yJ(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function hp(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)g0(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const xJ=new Set([S.CAPTION,S.COL,S.COLGROUP,S.TBODY,S.TD,S.TFOOT,S.TH,S.THEAD,S.TR]);function F7e(e,t){const n=t.tagID;xJ.has(n)?e.openElements.hasInTableScope(S.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(S.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,Yf(e,t)):Wr(e,t)}function $7e(e,t){const n=t.tagID;switch(n){case S.CAPTION:case S.TABLE:{e.openElements.hasInTableScope(S.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(S.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,n===S.TABLE&&fg(e,t));break}case S.BODY:case S.COL:case S.COLGROUP:case S.HTML:case S.TBODY:case S.TD:case S.TFOOT:case S.TH:case S.THEAD:case S.TR:break;default:vE(e,t)}}function ZI(e,t){switch(t.tagID){case S.HTML:{Wr(e,t);break}case S.COL:{e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case S.TEMPLATE:{ca(e,t);break}default:$b(e,t)}}function U7e(e,t){switch(t.tagID){case S.COLGROUP:{e.openElements.currentTagId===S.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case S.TEMPLATE:{nd(e,t);break}case S.COL:break;default:$b(e,t)}}function $b(e,t){e.openElements.currentTagId===S.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE,e._processToken(t))}function yE(e,t){switch(t.tagID){case S.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,fe.HTML),e.insertionMode=H.IN_ROW;break}case S.TH:case S.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Y.TR,S.TR),e.insertionMode=H.IN_ROW,xE(e,t);break}case S.CAPTION:case S.COL:case S.COLGROUP:case S.TBODY:case S.TFOOT:case S.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,Yf(e,t));break}default:Yf(e,t)}}function Sk(e,t){const n=t.tagID;switch(t.tagID){case S.TBODY:case S.TFOOT:case S.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case S.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,fg(e,t));break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:case S.TD:case S.TH:case S.TR:break;default:fg(e,t)}}function xE(e,t){switch(t.tagID){case S.TH:case S.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,fe.HTML),e.insertionMode=H.IN_CELL,e.activeFormattingElements.insertMarker();break}case S.CAPTION:case S.COL:case S.COLGROUP:case S.TBODY:case S.TFOOT:case S.THEAD:case S.TR:{e.openElements.hasInTableScope(S.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,yE(e,t));break}default:Yf(e,t)}}function bJ(e,t){switch(t.tagID){case S.TR:{e.openElements.hasInTableScope(S.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY);break}case S.TABLE:{e.openElements.hasInTableScope(S.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,Sk(e,t));break}case S.TBODY:case S.TFOOT:case S.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(S.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,Sk(e,t));break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:case S.TD:case S.TH:break;default:fg(e,t)}}function z7e(e,t){const n=t.tagID;xJ.has(n)?(e.openElements.hasInTableScope(S.TD)||e.openElements.hasInTableScope(S.TH))&&(e._closeTableCell(),xE(e,t)):Wr(e,t)}function H7e(e,t){const n=t.tagID;switch(n){case S.TD:case S.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_ROW);break}case S.TABLE:case S.TBODY:case S.TFOOT:case S.THEAD:case S.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),bJ(e,t));break}case S.BODY:case S.CAPTION:case S.COL:case S.COLGROUP:case S.HTML:break;default:vE(e,t)}}function wJ(e,t){switch(t.tagID){case S.HTML:{Wr(e,t);break}case S.OPTION:{e.openElements.currentTagId===S.OPTION&&e.openElements.pop(),e._insertElement(t,fe.HTML);break}case S.OPTGROUP:{e.openElements.currentTagId===S.OPTION&&e.openElements.pop(),e.openElements.currentTagId===S.OPTGROUP&&e.openElements.pop(),e._insertElement(t,fe.HTML);break}case S.HR:{e.openElements.currentTagId===S.OPTION&&e.openElements.pop(),e.openElements.currentTagId===S.OPTGROUP&&e.openElements.pop(),e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case S.INPUT:case S.KEYGEN:case S.TEXTAREA:case S.SELECT:{e.openElements.hasInSelectScope(S.SELECT)&&(e.openElements.popUntilTagNamePopped(S.SELECT),e._resetInsertionMode(),t.tagID!==S.SELECT&&e._processStartTag(t));break}case S.SCRIPT:case S.TEMPLATE:{ca(e,t);break}}}function EJ(e,t){switch(t.tagID){case S.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===S.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===S.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===S.OPTGROUP&&e.openElements.pop();break}case S.OPTION:{e.openElements.currentTagId===S.OPTION&&e.openElements.pop();break}case S.SELECT:{e.openElements.hasInSelectScope(S.SELECT)&&(e.openElements.popUntilTagNamePopped(S.SELECT),e._resetInsertionMode());break}case S.TEMPLATE:{nd(e,t);break}}}function W7e(e,t){const n=t.tagID;n===S.CAPTION||n===S.TABLE||n===S.TBODY||n===S.TFOOT||n===S.THEAD||n===S.TR||n===S.TD||n===S.TH?(e.openElements.popUntilTagNamePopped(S.SELECT),e._resetInsertionMode(),e._processStartTag(t)):wJ(e,t)}function V7e(e,t){const n=t.tagID;n===S.CAPTION||n===S.TABLE||n===S.TBODY||n===S.TFOOT||n===S.THEAD||n===S.TR||n===S.TD||n===S.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(S.SELECT),e._resetInsertionMode(),e.onEndTag(t)):EJ(e,t)}function q7e(e,t){switch(t.tagID){case S.BASE:case S.BASEFONT:case S.BGSOUND:case S.LINK:case S.META:case S.NOFRAMES:case S.SCRIPT:case S.STYLE:case S.TEMPLATE:case S.TITLE:{ca(e,t);break}case S.CAPTION:case S.COLGROUP:case S.TBODY:case S.TFOOT:case S.THEAD:{e.tmplInsertionModeStack[0]=H.IN_TABLE,e.insertionMode=H.IN_TABLE,Yf(e,t);break}case S.COL:{e.tmplInsertionModeStack[0]=H.IN_COLUMN_GROUP,e.insertionMode=H.IN_COLUMN_GROUP,ZI(e,t);break}case S.TR:{e.tmplInsertionModeStack[0]=H.IN_TABLE_BODY,e.insertionMode=H.IN_TABLE_BODY,yE(e,t);break}case S.TD:case S.TH:{e.tmplInsertionModeStack[0]=H.IN_ROW,e.insertionMode=H.IN_ROW,xE(e,t);break}default:e.tmplInsertionModeStack[0]=H.IN_BODY,e.insertionMode=H.IN_BODY,Wr(e,t)}}function K7e(e,t){t.tagID===S.TEMPLATE&&nd(e,t)}function SJ(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(S.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):JI(e,t)}function G7e(e,t){t.tagID===S.HTML?Wr(e,t):Ub(e,t)}function NJ(e,t){var n;if(t.tagID===S.HTML){if(e.fragmentContext||(e.insertionMode=H.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===S.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Ub(e,t)}function Ub(e,t){e.insertionMode=H.IN_BODY,gE(e,t)}function Y7e(e,t){switch(t.tagID){case S.HTML:{Wr(e,t);break}case S.FRAMESET:{e._insertElement(t,fe.HTML);break}case S.FRAME:{e._appendElement(t,fe.HTML),t.ackSelfClosing=!0;break}case S.NOFRAMES:{ca(e,t);break}}}function X7e(e,t){t.tagID===S.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==S.FRAMESET&&(e.insertionMode=H.AFTER_FRAMESET))}function Q7e(e,t){switch(t.tagID){case S.HTML:{Wr(e,t);break}case S.NOFRAMES:{ca(e,t);break}}}function J7e(e,t){t.tagID===S.HTML&&(e.insertionMode=H.AFTER_AFTER_FRAMESET)}function Z7e(e,t){t.tagID===S.HTML?Wr(e,t):my(e,t)}function my(e,t){e.insertionMode=H.IN_BODY,gE(e,t)}function eWe(e,t){switch(t.tagID){case S.HTML:{Wr(e,t);break}case S.NOFRAMES:{ca(e,t);break}}}function tWe(e,t){t.chars=Zt,e._insertCharacters(t)}function nWe(e,t){e._insertCharacters(t),e.framesetOk=!1}function _J(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==fe.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function rWe(e,t){if(yHe(t))_J(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===fe.MATHML?lJ(t):r===fe.SVG&&(xHe(t),cJ(t)),XI(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function iWe(e,t){if(t.tagID===S.P||t.tagID===S.BR){_J(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===fe.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Y.AREA,Y.BASE,Y.BASEFONT,Y.BGSOUND,Y.BR,Y.COL,Y.EMBED,Y.FRAME,Y.HR,Y.IMG,Y.INPUT,Y.KEYGEN,Y.LINK,Y.META,Y.PARAM,Y.SOURCE,Y.TRACK,Y.WBR;const sWe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,aWe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),wF={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function TJ(e,t){const n=gWe(e),r=gQ("type",{handlers:{root:oWe,element:lWe,text:cWe,comment:kJ,doctype:uWe,raw:fWe},unknown:hWe}),i={parser:n?new yF(wF):yF.getFragmentParser(void 0,wF),handle(o){r(o,i)},stitches:!1,options:t||{}};r(e,i),Ih(i,$a());const s=n?i.parser.document:i.parser.getFragment(),a=o9e(s,{file:i.options.file});return i.stitches&&h0(a,"comment",function(o,l,u){const d=o;if(d.value.stitch&&u&&l!==void 0){const f=u.children;return f[l]=d.value.stitch,l}}),a.type==="root"&&a.children.length===1&&a.children[0].type===e.type?a.children[0]:a}function CJ(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function oWe(e,t){CJ(e.children,t)}function lWe(e,t){pWe(e,t),CJ(e.children,t),mWe(e,t)}function cWe(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:it.CHARACTER,chars:e.value,location:v0(e)};Ih(t,$a(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function uWe(e,t){const n={type:it.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:v0(e)};Ih(t,$a(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function dWe(e,t){t.stitches=!0;const n=vWe(e);if("children"in e&&"children"in n){const r=TJ({type:"root",children:e.children},t.options);n.children=r.children}kJ({type:"comment",value:{stitch:n}},t)}function kJ(e,t){const n=e.value,r={type:it.COMMENT,data:n,location:v0(e)};Ih(t,$a(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function fWe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,AJ(t,$a(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(sWe,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function hWe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))dWe(n,t);else{let r="";throw aWe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Ih(e,t){AJ(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=_n.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function AJ(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function pWe(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===_n.PLAINTEXT)return;Ih(t,$a(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:iu.html;i===iu.html&&n==="svg"&&(i=iu.svg);const s=E9e({...e,children:[]},{space:i===iu.svg?"svg":"html"}),a={type:it.START_TAG,tagName:n,tagID:jh(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:v0(e)};t.parser.currentToken=a,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function mWe(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&O9e.includes(n)||t.parser.tokenizer.state===_n.PLAINTEXT)return;Ih(t,dE(e));const r={type:it.END_TAG,tagName:n,tagID:jh(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:v0(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===_n.RCDATA||t.parser.tokenizer.state===_n.RAWTEXT||t.parser.tokenizer.state===_n.SCRIPT_DATA)&&(t.parser.tokenizer.state=_n.DATA)}function gWe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function v0(e){const t=$a(e)||{line:void 0,column:void 0,offset:void 0},n=dE(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function vWe(e){return"children"in e?Gf({...e,children:[]}):Gf(e)}function yWe(e){return function(t,n){return TJ(t,{...e,file:n})}}function EF({content:e,className:t,variant:n="default"}){return c.jsx("div",{className:ze("prose prose-sm max-w-none",n==="compact"&&"prose-compact",t),children:c.jsx(w8e,{remarkPlugins:[Dze],rehypePlugins:[Yze,yWe],components:{h1:({children:r,...i})=>c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 mt-6 first:mt-0",...i,children:r}),h2:({children:r,...i})=>c.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3 mt-5",...i,children:r}),h3:({children:r,...i})=>c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2 mt-4",...i,children:r}),p:({children:r,...i})=>c.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 leading-relaxed",...i,children:r}),ul:({children:r,...i})=>c.jsx("ul",{className:"list-disc pl-6 mb-4 space-y-1",...i,children:r}),ol:({children:r,...i})=>c.jsx("ol",{className:"list-decimal pl-6 mb-4 space-y-1",...i,children:r}),li:({children:r,...i})=>c.jsx("li",{className:"text-gray-700 dark:text-gray-300",...i,children:r}),blockquote:({children:r,...i})=>c.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 my-4 bg-blue-50 dark:bg-blue-900/20 italic",...i,children:r}),code:({children:r,className:i,...s})=>i!=null&&i.includes("language-")?c.jsx("code",{className:"block bg-gray-100 dark:bg-gray-800 p-4 rounded-lg text-sm font-mono overflow-x-auto",...s,children:r}):c.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded text-sm font-mono text-pink-600 dark:text-pink-400",...s,children:r}),pre:({children:r,...i})=>c.jsx("pre",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg overflow-x-auto mb-4",...i,children:r}),a:({children:r,href:i,...s})=>c.jsx("a",{href:i,className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline",target:"_blank",rel:"noopener noreferrer",...s,children:r}),img:({src:r,alt:i,...s})=>c.jsx("img",{src:r,alt:i,className:"max-w-full h-auto rounded-lg shadow-sm my-4",...s}),table:({children:r,...i})=>c.jsx("div",{className:"overflow-x-auto my-4",children:c.jsx("table",{className:"min-w-full border-collapse border border-gray-300 dark:border-gray-600",...i,children:r})}),thead:({children:r,...i})=>c.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",...i,children:r}),th:({children:r,...i})=>c.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-left font-semibold text-gray-900 dark:text-gray-100",...i,children:r}),td:({children:r,...i})=>c.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300",...i,children:r}),hr:({...r})=>c.jsx("hr",{className:"my-6 border-gray-300 dark:border-gray-600",...r})},children:e})})}function xWe({documents:e,loading:t=!1,onDocumentClick:n,onEditDocument:r,onDeleteDocument:i,onDuplicateDocument:s,onCreateNew:a,showClientFilter:o=!0,selectedClientId:l,onClientFilterChange:u,className:d}){const[f,h]=b.useState(""),[p,m]=b.useState("all"),[g,v]=b.useState("all"),[y,x]=b.useState("updated_at"),[w,E]=b.useState("desc"),[_,N]=b.useState(!1),T=Array.from(new Map(e.filter(k=>k.client_name).map(k=>[k.client_id,{id:k.client_id,name:k.client_name,company:k.client_company}])).values()),C=e.filter(k=>{const P=!f||k.title.toLowerCase().includes(f.toLowerCase())||k.tags.some(R=>R.toLowerCase().includes(f.toLowerCase())),B=p==="all"||k.document_type===p,L=g==="all"||k.status===g,j=!l||k.client_id===l;return P&&B&&L&&j}).sort((k,P)=>{let B=k[y],L=P[y];(y==="updated_at"||y==="created_at")&&(B=new Date(B).getTime(),L=new Date(L).getTime()),typeof B=="string"&&typeof L=="string"&&(B=B.toLowerCase(),L=L.toLowerCase());const j=B<L?-1:B>L?1:0;return w==="asc"?j:-j}),O=k=>{y===k?E(w==="asc"?"desc":"asc"):(x(k),E("desc"))},A=k=>{switch(k){case"contract":return"";case"specification":return"";case"note":return"";default:return""}},D=k=>{switch(k){case"published":return"bg-green-100 text-green-700 border-green-200";case"draft":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"archived":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return t?c.jsxs(X,{className:d,children:[c.jsx(ie,{children:c.jsx(ae,{children:"Loading documents..."})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-4",children:[1,2,3].map(k=>c.jsxs("div",{className:"border rounded-lg p-4 animate-pulse",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mb-2"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"}),c.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]})]},k))})})]}):c.jsxs(X,{className:d,children:[c.jsxs(ie,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(xt,{className:"h-5 w-5"}),"Documents (",C.length,")"]}),a&&c.jsxs(z,{onClick:a,size:"sm",children:[c.jsx(at,{className:"h-4 w-4 mr-1"}),"New Document"]})]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx(Te,{placeholder:"Search documents and tags...",value:f,onChange:k=>h(k.target.value),className:"pl-10"})]}),c.jsx(z,{variant:"outline",size:"sm",onClick:()=>N(!_),className:_?"bg-gray-100":"",children:c.jsx(Am,{className:"h-4 w-4"})})]}),_&&c.jsxs("div",{className:"flex flex-wrap gap-2",children:[o&&T.length>1&&c.jsxs("select",{value:l||"all",onChange:k=>u==null?void 0:u(k.target.value==="all"?"":k.target.value),className:"px-3 py-1 border rounded text-sm","aria-label":"Filter by client",children:[c.jsx("option",{value:"all",children:"All Clients"}),T.map(k=>c.jsxs("option",{value:k.id,children:[k.name," ",k.company&&`(${k.company})`]},k.id))]}),c.jsxs("select",{value:p,onChange:k=>m(k.target.value),className:"px-3 py-1 border rounded text-sm","aria-label":"Filter by document type",children:[c.jsx("option",{value:"all",children:"All Types"}),c.jsx("option",{value:"page",children:"Pages"}),c.jsx("option",{value:"note",children:"Notes"}),c.jsx("option",{value:"contract",children:"Contracts"}),c.jsx("option",{value:"specification",children:"Specifications"})]}),c.jsxs("select",{value:g,onChange:k=>v(k.target.value),className:"px-3 py-1 border rounded text-sm","aria-label":"Filter by document status",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"draft",children:"Draft"}),c.jsx("option",{value:"published",children:"Published"}),c.jsx("option",{value:"archived",children:"Archived"})]}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>O("updated_at"),className:"text-xs",children:[c.jsx(yn,{className:"h-3 w-3 mr-1"}),"Updated",y==="updated_at"&&(w==="asc"?c.jsx(XD,{className:"h-3 w-3 ml-1"}):c.jsx(GD,{className:"h-3 w-3 ml-1"}))]}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>O("title"),className:"text-xs",children:["Title",y==="title"&&(w==="asc"?c.jsx(XD,{className:"h-3 w-3 ml-1"}):c.jsx(GD,{className:"h-3 w-3 ml-1"}))]})]})]})]}),c.jsx(Q,{children:C.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No documents found"}),c.jsx("p",{className:"text-sm mb-4",children:f||p!=="all"||g!=="all"||l?"Try adjusting your search or filter criteria.":"Get started by creating your first document."}),a&&!f&&c.jsxs(z,{onClick:a,variant:"outline",children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Create First Document"]})]}):c.jsx("div",{className:"space-y-3",children:C.map(k=>c.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>n==null?void 0:n(k),children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("h3",{className:"font-medium text-gray-900 truncate flex items-center gap-2",children:[c.jsx("span",{className:"text-lg",children:A(k.document_type)}),k.title,k.is_sensitive&&c.jsx(ou,{className:"h-4 w-4 text-red-500"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-1",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Es,{className:"h-3 w-3"}),k.client_name,k.client_company&&` (${k.client_company})`]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(ht,{className:"h-3 w-3"}),Wd(new Date(k.updated_at))," ago"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx($i,{className:"h-3 w-3"}),k.view_count," views"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(Ye,{className:ze("text-xs",D(k.status)),children:k.status}),c.jsxs("div",{className:"flex gap-1",children:[r&&c.jsx(z,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),r(k)},children:c.jsx(Qr,{className:"h-3 w-3"})}),s&&c.jsx(z,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),s(k)},children:c.jsx(Nf,{className:"h-3 w-3"})}),i&&c.jsx(z,{variant:"ghost",size:"sm",onClick:P=>{P.stopPropagation(),window.confirm("Are you sure you want to delete this document?")&&i(k.id)},className:"text-red-600 hover:text-red-700",children:c.jsx(Pr,{className:"h-3 w-3"})})]})]})]}),k.tags.length>0&&c.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[c.jsx(hT,{className:"h-3 w-3 text-gray-400"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[k.tags.slice(0,3).map(P=>c.jsx(Ye,{variant:"secondary",className:"text-xs",children:P},P)),k.tags.length>3&&c.jsxs(Ye,{variant:"secondary",className:"text-xs",children:["+",k.tags.length-3," more"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("span",{children:[k.word_count," words"]}),c.jsxs("span",{children:[k.reading_time_minutes," min read"]}),c.jsxs("span",{children:["Created by ",k.created_by_name||"Unknown"]})]}),c.jsx("span",{className:"capitalize",children:k.document_type})]})]},k.id))})})]})}const bWe=KA("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Xf=b.forwardRef(({className:e,variant:t,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:ze(bWe({variant:t}),e),...n}));Xf.displayName="Alert";const Qf=b.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:ze("text-sm [&_p]:leading-relaxed",e),...t}));Qf.displayName="AlertDescription";async function wWe(e,t){try{const n=crypto.getRandomValues(new Uint8Array(16)),r=crypto.getRandomValues(new Uint8Array(12)),i=new TextEncoder,s=i.encode(t),a=await crypto.subtle.importKey("raw",s,"PBKDF2",!1,["deriveKey"]),o=await crypto.subtle.deriveKey({name:"PBKDF2",salt:n,iterations:1e5,hash:"SHA-256"},a,{name:"AES-GCM",length:256},!1,["encrypt"]),l=i.encode(e),u=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},o,l),d={data:btoa(String.fromCharCode(...new Uint8Array(u))),salt:btoa(String.fromCharCode(...n)),iv:btoa(String.fromCharCode(...r))};return JSON.stringify(d)}catch(n){throw console.error("Encryption failed:",n),new Error("Failed to encrypt sensitive content")}}async function EWe(e,t){try{const n=JSON.parse(e),r=Uint8Array.from(atob(n.data),h=>h.charCodeAt(0)),i=Uint8Array.from(atob(n.salt),h=>h.charCodeAt(0)),s=Uint8Array.from(atob(n.iv),h=>h.charCodeAt(0)),o=new TextEncoder().encode(t),l=await crypto.subtle.importKey("raw",o,"PBKDF2",!1,["deriveKey"]),u=await crypto.subtle.deriveKey({name:"PBKDF2",salt:i,iterations:1e5,hash:"SHA-256"},l,{name:"AES-GCM",length:256},!1,["decrypt"]),d=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},u,r);return new TextDecoder().decode(d)}catch(n){throw console.error("Decryption failed:",n),new Error("Failed to decrypt content. Invalid password or corrupted data.")}}function SWe(e){const t=[];return e.length<8&&t.push("Password must be at least 8 characters long"),/[A-Z]/.test(e)||t.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e)||t.push("Password must contain at least one lowercase letter"),/[0-9]/.test(e)||t.push("Password must contain at least one number"),{valid:t.length===0,errors:t}}function NWe(e=16){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*",n=new Uint8Array(e);return crypto.getRandomValues(n),Array.from(n,r=>t[r%t.length]).join("")}class _We{constructor(){Tc(this,"password",null);Tc(this,"expiryTime",0);Tc(this,"SESSION_DURATION",30*60*1e3)}setPassword(t){this.password=t,this.expiryTime=Date.now()+this.SESSION_DURATION}getPassword(){return this.password&&Date.now()<this.expiryTime?this.password:(this.clearSession(),null)}clearSession(){this.password=null,this.expiryTime=0}extendSession(){this.password&&(this.expiryTime=Date.now()+this.SESSION_DURATION)}isActive(){return this.password!==null&&Date.now()<this.expiryTime}}const pp=new _We;function TWe({open:e,onOpenChange:t,onPasswordSet:n,mode:r,title:i,description:s}){const[a,o]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(!1),[h,p]=b.useState(null),[m,g]=b.useState(!1),v=r==="setup",y=SWe(a),x=async _=>{_.preventDefault(),p(null),g(!0);try{if(v){if(!y.valid){p(y.errors[0]);return}if(a!==l){p("Passwords do not match");return}}if(!a){p("Password is required");return}n(a),o(""),u(""),p(null),t(!1)}catch(N){p(N instanceof Error?N.message:"An error occurred")}finally{g(!1)}},w=()=>{const _=NWe(16);o(_),u(_),f(!0)},E=()=>{o(""),u(""),p(null),f(!1)};return c.jsx(jn,{open:e,onOpenChange:_=>{t(_),_||E()},children:c.jsxs(wn,{className:"sm:max-w-md",children:[c.jsxs(En,{children:[c.jsx(Sn,{className:"flex items-center gap-2",children:v?c.jsxs(c.Fragment,{children:[c.jsx(WA,{className:"h-5 w-5 text-blue-600"}),i||"Set Up Document Encryption"]}):c.jsxs(c.Fragment,{children:[c.jsx(ou,{className:"h-5 w-5 text-yellow-600"}),i||"Unlock Sensitive Documents"]})}),c.jsx(Ba,{children:s||(v?"Create a master password to encrypt sensitive documents. This password will be required to view or edit sensitive content.":"Enter your master password to access sensitive documents.")})]}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[v&&c.jsxs(Xf,{className:"border-blue-200 bg-blue-50",children:[c.jsx(Rl,{className:"h-4 w-4 text-blue-600"}),c.jsxs(Qf,{className:"text-blue-700",children:[c.jsx("strong",{children:"Important:"})," Store this password safely. If you lose it, your encrypted documents cannot be recovered."]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:v?"Master Password":"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Te,{type:d?"text":"password",value:a,onChange:_=>o(_.target.value),placeholder:"Enter your encryption password",className:"pr-10",required:!0}),c.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d?c.jsx(D8,{className:"h-4 w-4"}):c.jsx($i,{className:"h-4 w-4"})})]}),v&&a&&c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx("div",{className:"text-xs text-gray-600",children:"Password strength:"}),c.jsxs("div",{className:"space-y-1",children:[y.errors.map((_,N)=>c.jsxs("div",{className:"text-xs text-red-600 flex items-center gap-1",children:[c.jsx("div",{className:"w-1 h-1 bg-red-600 rounded-full"}),_]},N)),y.valid&&c.jsxs("div",{className:"text-xs text-green-600 flex items-center gap-1",children:[c.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full"}),"Strong password"]})]})]})]}),v&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),c.jsx(Te,{type:d?"text":"password",value:l,onChange:_=>u(_.target.value),placeholder:"Confirm your encryption password",required:!0})]}),c.jsxs(z,{type:"button",variant:"outline",onClick:w,className:"w-full",children:[c.jsx(oae,{className:"h-4 w-4 mr-2"}),"Generate Secure Password"]})]})]}),h&&c.jsxs(Xf,{className:"border-red-200 bg-red-50",children:[c.jsx(Rl,{className:"h-4 w-4 text-red-600"}),c.jsx(Qf,{className:"text-red-700",children:h})]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx(z,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1",children:"Cancel"}),c.jsx(z,{type:"submit",disabled:m||v&&(!y.valid||a!==l),className:"flex-1",children:m?c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):v?"Set Up Encryption":"Unlock"})]})]})]})})}function CWe(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState(null),a=b.useCallback(async()=>{try{r(!0),s(null);const{data:y,error:x}=await se.from("client_documents").select(`
          *,
          clients(
            name,
            company
          )
        `).order("updated_at",{ascending:!1});if(x)throw x;const w=(y||[]).map(E=>{var _,N;return{...E,client_name:((_=E.clients)==null?void 0:_.name)||"Unknown Client",client_company:(N=E.clients)==null?void 0:N.company,created_by_name:"User"}});t(w)}catch(y){console.error("Error fetching documents:",y),s(y instanceof Error?y.message:"Failed to fetch documents")}finally{r(!1)}},[]);b.useEffect(()=>{a()},[a]);const o=b.useCallback(async y=>{try{const{data:x,error:w}=await se.from("client_documents").select(`
          *,
          clients(
            name,
            company
          )
        `).eq("client_id",y).order("updated_at",{ascending:!1});if(w)throw w;return(x==null?void 0:x.map(E=>{var _,N;return{...E,client_name:((_=E.clients)==null?void 0:_.name)||"Unknown Client",client_company:(N=E.clients)==null?void 0:N.company,created_by_name:"User"}}))||[]}catch(x){throw console.error("Error fetching client documents:",x),x}},[]),l=async y=>{var x,w;try{const{data:E,error:_}=await se.from("client_documents").select(`
          *,
          clients(
            name,
            company
          )
        `).eq("id",y).single();if(_)throw _;await se.from("client_documents").update({view_count:(E.view_count||0)+1,last_viewed_at:new Date().toISOString()}).eq("id",y);const N={...E,client_name:((x=E.clients)==null?void 0:x.name)||"Unknown Client",client_company:(w=E.clients)==null?void 0:w.company,created_by_name:"User"};if(N.is_sensitive&&N.encrypted_content){const T=pp.getPassword();if(T)try{const C=await EWe(N.encrypted_content,T);return{...N,content:JSON.parse(C),content_html:"[Decrypted Content - Render from JSON]"}}catch(C){console.error("Failed to decrypt document content:",C)}}return N}catch(E){throw console.error("Error fetching document:",E),E}},u=async y=>{try{let x=se.from("client_documents").select(`
          *,
          clients!inner(
            name,
            company
          )
        `);y.client_id&&(x=x.eq("client_id",y.client_id)),y.document_type&&(x=x.eq("document_type",y.document_type)),y.status&&(x=x.eq("status",y.status)),y.is_sensitive!==void 0&&(x=x.eq("is_sensitive",y.is_sensitive)),y.tags&&y.tags.length>0&&(x=x.overlaps("tags",y.tags)),y.query&&(x=x.or(`title.ilike.%${y.query}%,content_html.ilike.%${y.query}%`)),x=x.order("updated_at",{ascending:!1});const{data:w,error:E}=await x;if(E)throw E;return(w==null?void 0:w.map(_=>{var N,T;return{..._,client_name:(N=_.clients)==null?void 0:N.name,client_company:(T=_.clients)==null?void 0:T.company,created_by_name:"User"}}))||[]}catch(x){throw console.error("Error searching documents:",x),x}},d=async y=>{try{const{data:x}=await se.auth.getUser();if(!x.user)throw new Error("User not authenticated");const w=y.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");let E={...y,slug:w,created_by:x.user.id,updated_by:x.user.id};if(y.is_sensitive){const T=pp.getPassword();if(!T)throw new Error("Encryption password required for sensitive documents");const C=await wWe(JSON.stringify(y.content),T);E={...E,encrypted_content:C,content:{},content_html:"[Encrypted Content]",content_markdown:"[Encrypted Content]"}}const{data:_,error:N}=await se.from("client_documents").insert(E).select().single();if(N)throw N;return await a(),_}catch(x){throw console.error("Error adding document:",x),x}};return{documents:e,loading:n,error:i,fetchDocuments:a,getDocumentsByClient:o,getDocument:l,searchDocuments:u,addDocument:d,updateDocument:async y=>{try{const{data:x}=await se.auth.getUser();if(!x.user)throw new Error("User not authenticated");const w={...y,updated_by:x.user.id,updated_at:new Date().toISOString()};y.title&&(w.slug=y.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""));const{data:E,error:_}=await se.from("client_documents").update(w).eq("id",y.id).select().single();if(_)throw _;return await a(),E}catch(x){throw console.error("Error updating document:",x),x}},deleteDocument:async y=>{try{const{error:x}=await se.from("client_documents").delete().eq("id",y);if(x)throw x;await a()}catch(x){throw console.error("Error deleting document:",x),x}},duplicateDocument:async(y,x)=>{try{const w=await l(y);if(!w)throw new Error("Document not found");const{data:E}=await se.auth.getUser();if(!E.user)throw new Error("User not authenticated");const _={client_id:w.client_id,title:x,content:w.content,content_html:w.content_html,content_markdown:w.content_markdown,is_sensitive:w.is_sensitive,document_type:w.document_type,status:"draft",tags:[...w.tags||[]]};return await d(_)}catch(w){throw console.error("Error duplicating document:",w),w}},isEncryptionActive:()=>pp.isActive(),setEncryptionPassword:y=>{pp.setPassword(y)},clearEncryptionSession:()=>{pp.clearSession()}}}function kWe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!1),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(e)try{i(!0),a(null);const{data:u,error:d}=await se.from("document_versions").select("*").eq("document_id",e).order("version_number",{ascending:!1});if(d)throw d;const f=(u==null?void 0:u.map(h=>({...h,created_by_name:"User"})))||[];n(f)}catch(u){console.error("Error fetching versions:",u),a(u instanceof Error?u.message:"Failed to fetch versions")}finally{i(!1)}},[e]);return b.useEffect(()=>{e&&o()},[e,o]),{versions:t,loading:r,error:s,fetchVersions:o,getVersion:async u=>{try{const{data:d,error:f}=await se.from("document_versions").select("*").eq("id",u).single();if(f)throw f;return{...d,created_by_name:"User"}}catch(d){throw console.error("Error fetching version:",d),d}}}}function AWe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!1),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(e)try{i(!0),a(null);const{data:d,error:f}=await se.from("document_permissions").select("*").eq("document_id",e).eq("is_active",!0).order("granted_at",{ascending:!1});if(f)throw f;n(d||[])}catch(d){console.error("Error fetching permissions:",d),a(d instanceof Error?d.message:"Failed to fetch permissions")}finally{i(!1)}},[e]);return b.useEffect(()=>{e&&o()},[e,o]),{permissions:t,loading:r,error:s,fetchPermissions:o,grantPermission:async(d,f,h,p)=>{if(!e)throw new Error("Document ID is required");try{const{data:m}=await se.auth.getUser();if(!m.user)throw new Error("User not authenticated");const{error:g}=await se.from("document_permissions").insert({document_id:e,user_id:d,permission_level:f,role_type:h,granted_by:m.user.id,expires_at:p});if(g)throw g;await o()}catch(m){throw console.error("Error granting permission:",m),m}},revokePermission:async d=>{try{const{error:f}=await se.from("document_permissions").update({is_active:!1}).eq("id",d);if(f)throw f;await o()}catch(f){throw console.error("Error revoking permission:",f),f}}}}function OWe({clientId:e,onBack:t,className:n}){const[r,i]=b.useState(null),[s,a]=b.useState(!1),[o,l]=b.useState("view"),[u,d]=b.useState(!1),[f,h]=b.useState("setup"),[p,m]=b.useState(null),[g,v]=b.useState({client_id:e||"",title:"",content:{type:"doc",content:[]},content_html:"",content_markdown:"",is_sensitive:!1,document_type:"page",status:"draft",tags:[]}),[y,x]=b.useState(""),[w,E]=b.useState(""),{documents:_,loading:N,error:T,fetchDocuments:C,getDocumentsByClient:O,getDocument:A,addDocument:D,updateDocument:k,deleteDocument:P,duplicateDocument:B,isEncryptionActive:L,setEncryptionPassword:j}=CWe(),{versions:R,loading:M}=kWe(r==null?void 0:r.id),{permissions:V,loading:I}=AWe(r==null?void 0:r.id);b.useEffect(()=>{(async()=>{try{e?await O(e):await C()}catch(oe){console.error("Error loading documents:",oe)}})()},[e,O,C]);const ee=async()=>{try{e?await O(e):await C()}catch(G){console.error("Error reloading documents:",G)}},W=()=>{v({client_id:e||"",title:"",content:{type:"doc",content:[]},content_html:"",content_markdown:"",is_sensitive:!1,document_type:"page",status:"draft",tags:[]}),E(""),a(!0)},$=G=>{j(G),d(!1),p&&(p(),m(null))},xe=(G,oe=!1)=>{oe||!L()?(h(oe?"setup":"unlock"),m(()=>G),d(!0)):G()},ke=async G=>{if(G.is_sensitive&&!L())xe(async()=>{const oe=await A(G.id);i(oe)});else{const oe=await A(G.id);i(oe)}},Ae=G=>{i(G),v({client_id:G.client_id,title:G.title,content:G.content,content_html:G.content_html||"",content_markdown:G.content_markdown||"",is_sensitive:G.is_sensitive,document_type:G.document_type,status:G.status,tags:G.tags}),E(G.content_html||""),l("edit")},le=async()=>{try{const G={...g,content_html:w,tags:y?y.split(",").map(oe=>oe.trim()).filter(Boolean):g.tags};if(r&&o==="edit"){await k({...G,id:r.id});const oe=await A(r.id);oe&&i(oe)}else{const oe=await D(G);i(oe),a(!1)}l("view"),await ee()}catch(G){console.error("Error saving document:",G)}},Se=async G=>{try{await P(G),(r==null?void 0:r.id)===G&&(i(null),l("view")),await ee()}catch(oe){console.error("Error deleting document:",oe)}},ne=async G=>{try{const oe=`${G.title} (Copy)`;await B(G.id,oe),await ee()}catch(oe){console.error("Error duplicating document:",oe)}},de=(G,oe)=>{v(be=>({...be,content:G})),E(oe)},pe=()=>{if(y.trim()){const G=y.split(",").map(oe=>oe.trim()).filter(Boolean);v(oe=>({...oe,tags:[...new Set([...oe.tags||[],...G])]})),x("")}},J=G=>{v(oe=>({...oe,tags:(oe.tags||[]).filter(be=>be!==G)}))},qe=e?_.filter(G=>G.client_id===e):_,Oe=e?null:_.reduce((G,oe)=>{const be=`${oe.client_id}-${oe.client_name||"Unknown"}`;return G[be]||(G[be]={clientId:oe.client_id,clientName:oe.client_name||"Unknown Client",clientCompany:oe.client_company,documents:[]}),G[be].documents.push(oe),G},{}),Qe=()=>e?c.jsx(xWe,{documents:qe,loading:N,onDocumentClick:ke,onEditDocument:Ae,onDeleteDocument:Se,onDuplicateDocument:ne,onCreateNew:W,showClientFilter:!1,selectedClientId:e}):N?c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:"Loading documents..."})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-6",children:[1,2,3].map(G=>c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 animate-pulse"}),c.jsx("div",{className:"space-y-2",children:[1,2].map(oe=>c.jsxs("div",{className:"border rounded-lg p-4 animate-pulse",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},oe))})]},G))})})]}):!Oe||Object.keys(Oe).length===0?c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(xt,{className:"h-5 w-5"}),"All Documents"]})}),c.jsx(Q,{children:c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No documents found"}),c.jsx("p",{className:"text-sm mb-4",children:"Start by creating documentation for your clients."})]})})]}):c.jsx("div",{className:"space-y-6",children:Object.values(Oe).sort((G,oe)=>G.clientName.localeCompare(oe.clientName)).map(G=>c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs(ae,{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Es,{className:"h-5 w-5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:G.clientName}),G.clientCompany&&c.jsx("p",{className:"text-sm text-gray-500 font-normal",children:G.clientCompany})]})]}),c.jsxs(Ye,{variant:"outline",children:[G.documents.length," document",G.documents.length!==1?"s":""]})]})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-3",children:G.documents.sort((oe,be)=>new Date(be.updated_at).getTime()-new Date(oe.updated_at).getTime()).map(oe=>c.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>ke(oe),children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("h4",{className:"font-medium text-gray-900 truncate flex items-center gap-2",children:[c.jsx("span",{className:"text-lg",children:oe.document_type==="contract"?"":oe.document_type==="specification"?"":oe.document_type==="note"?"":""}),oe.title,oe.is_sensitive&&c.jsx(ou,{className:"h-4 w-4 text-red-500"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mt-1",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(ht,{className:"h-3 w-3"}),Wd(new Date(oe.updated_at))," ago"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx($i,{className:"h-3 w-3"}),oe.view_count," views"]}),c.jsxs("span",{children:[oe.word_count," words"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx(Ye,{className:ze("text-xs",oe.status==="published"?"bg-green-100 text-green-700 border-green-200":oe.status==="draft"?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-gray-100 text-gray-700 border-gray-200"),children:oe.status}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:be=>{be.stopPropagation(),Ae(oe)},children:c.jsx(Qr,{className:"h-3 w-3"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:be=>{be.stopPropagation(),ne(oe)},children:c.jsx(Nf,{className:"h-3 w-3"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:be=>{be.stopPropagation(),window.confirm("Are you sure you want to delete this document?")&&Se(oe.id)},className:"text-red-600 hover:text-red-700",children:c.jsx(Pr,{className:"h-3 w-3"})})]})]})]}),oe.tags.length>0&&c.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[c.jsx(hT,{className:"h-3 w-3 text-gray-400"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[oe.tags.slice(0,3).map(be=>c.jsx(Ye,{variant:"secondary",className:"text-xs",children:be},be)),oe.tags.length>3&&c.jsxs(Ye,{variant:"secondary",className:"text-xs",children:["+",oe.tags.length-3," more"]})]})]})]},oe.id))})})]},G.clientId))});return c.jsxs("div",{className:ze("space-y-6",n),children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[t&&c.jsx(z,{variant:"ghost",size:"sm",onClick:t,children:c.jsx(YD,{className:"h-4 w-4"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(xt,{className:"h-6 w-6"}),"Client Documentation"]}),c.jsx("p",{className:"text-gray-600",children:e?"Manage documentation for this client":"Manage all client documentation"})]})]})}),T&&c.jsx(X,{className:"border-red-200 bg-red-50",children:c.jsx(Q,{className:"pt-6",children:c.jsx("p",{className:"text-red-600",children:T})})}),r?c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>i(null),children:c.jsx(YD,{className:"h-4 w-4"})}),c.jsxs("div",{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[r.title,r.is_sensitive&&c.jsxs(Ye,{variant:"destructive",className:"text-xs",children:[c.jsx(ou,{className:"h-3 w-3 mr-1"}),"Sensitive"]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mt-1",children:[c.jsxs("span",{children:["Type: ",r.document_type]}),c.jsxs("span",{children:["Status: ",r.status]}),c.jsxs("span",{children:["Words: ",r.word_count]}),c.jsxs("span",{children:["Views: ",r.view_count]})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[o==="view"&&c.jsxs(c.Fragment,{children:[c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>Ae(r),children:[c.jsx(Qr,{className:"h-4 w-4 mr-1"}),"Edit"]}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>l("preview"),children:[c.jsx($i,{className:"h-4 w-4 mr-1"}),"Preview"]})]}),(o==="edit"||o==="preview")&&c.jsxs(c.Fragment,{children:[c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>l("view"),children:[c.jsx($i,{className:"h-4 w-4 mr-1"}),"View"]}),o==="edit"&&c.jsxs(z,{size:"sm",onClick:le,children:[c.jsx(b1,{className:"h-4 w-4 mr-1"}),"Save"]})]})]})]})}),c.jsx(Q,{children:c.jsxs(Sh,{defaultValue:"content",children:[c.jsxs(Xu,{children:[c.jsx(en,{value:"content",children:"Content"}),c.jsxs(en,{value:"versions",children:[c.jsx(sae,{className:"h-4 w-4 mr-1"}),"Versions (",R.length,")"]}),c.jsxs(en,{value:"permissions",children:[c.jsx(Gi,{className:"h-4 w-4 mr-1"}),"Permissions (",V.length,")"]})]}),c.jsx(sn,{value:"content",className:"mt-6",children:o==="edit"?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),c.jsx(Te,{value:g.title,onChange:G=>v(oe=>({...oe,title:G.target.value})),placeholder:"Document title"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Type"}),c.jsxs("select",{value:g.document_type,onChange:G=>v(oe=>({...oe,document_type:G.target.value})),className:"w-full px-3 py-2 border rounded-lg","aria-label":"Document type",children:[c.jsx("option",{value:"page",children:"Page"}),c.jsx("option",{value:"note",children:"Note"}),c.jsx("option",{value:"contract",children:"Contract"}),c.jsx("option",{value:"specification",children:"Specification"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),c.jsxs("select",{value:g.status,onChange:G=>v(oe=>({...oe,status:G.target.value})),className:"w-full px-3 py-2 border rounded-lg","aria-label":"Document status",children:[c.jsx("option",{value:"draft",children:"Draft"}),c.jsx("option",{value:"published",children:"Published"}),c.jsx("option",{value:"archived",children:"Archived"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Security"}),c.jsx(z,{type:"button",variant:g.is_sensitive?"destructive":"outline",onClick:()=>v(G=>({...G,is_sensitive:!G.is_sensitive})),className:"w-full justify-start",children:g.is_sensitive?c.jsxs(c.Fragment,{children:[c.jsx(ou,{className:"h-4 w-4 mr-2"}),"Sensitive Document"]}):c.jsxs(c.Fragment,{children:[c.jsx($8,{className:"h-4 w-4 mr-2"}),"Public Document"]})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tags"}),c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx(Te,{value:y,onChange:G=>x(G.target.value),placeholder:"Add tags (comma separated)",onKeyPress:G=>G.key==="Enter"&&pe()}),c.jsx(z,{type:"button",variant:"outline",onClick:pe,children:c.jsx(hT,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex flex-wrap gap-1",children:(g.tags||[]).map(G=>c.jsxs(Ye,{variant:"secondary",className:"text-xs",children:[G,c.jsx("button",{type:"button",onClick:()=>J(G),className:"ml-1 hover:text-red-600","aria-label":`Remove tag ${G}`,children:c.jsx(Tg,{className:"h-3 w-3"})})]},G))})]}),c.jsx(Z6,{content:g.content,onChange:de,onSave:le,isSensitive:g.is_sensitive,onSensitivityToggle:()=>v(G=>({...G,is_sensitive:!G.is_sensitive})),placeholder:"Start writing your document..."})]}):o==="preview"?c.jsx(EF,{content:w}):c.jsx(EF,{content:r.content_html||""})}),c.jsx(sn,{value:"versions",className:"mt-6",children:c.jsx("div",{className:"space-y-4",children:M?c.jsx("p",{children:"Loading versions..."}):R.length===0?c.jsx("p",{className:"text-gray-500",children:"No versions available"}):R.map(G=>c.jsx(X,{children:c.jsx(Q,{className:"pt-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium",children:["Version ",G.version_number]}),c.jsxs("p",{className:"text-sm text-gray-500",children:[G.change_summary,"  ",G.created_by_name,"  ",new Date(G.created_at).toLocaleDateString()]})]}),c.jsx(z,{variant:"outline",size:"sm",children:"View"})]})})},G.id))})}),c.jsx(sn,{value:"permissions",className:"mt-6",children:c.jsx("div",{className:"space-y-4",children:I?c.jsx("p",{children:"Loading permissions..."}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(WA,{className:"h-5 w-5"}),c.jsx("h3",{className:"font-medium",children:"Document Access Control"})]}),V.length===0?c.jsx("p",{className:"text-gray-500",children:"No special permissions set. Using default access rules."}):c.jsx("div",{className:"space-y-2",children:V.map(G=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:G.permission_level}),c.jsx("span",{className:"text-sm text-gray-500 ml-2",children:G.role_type&&`(${G.role_type})`})]}),c.jsx(Ye,{variant:"outline",children:G.permission_level})]},G.id))})]})})})]})})]}):Qe(),c.jsx(XAe,{open:s,onOpenChange:a,children:c.jsxs(zq,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(Hq,{children:[c.jsx(Vq,{children:"Create New Document"}),c.jsx(qq,{children:"Create a new document for client documentation."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),c.jsx(Te,{value:g.title,onChange:G=>v(oe=>({...oe,title:G.target.value})),placeholder:"Document title"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Type"}),c.jsxs("select",{value:g.document_type,onChange:G=>v(oe=>({...oe,document_type:G.target.value})),className:"w-full px-3 py-2 border rounded-lg","aria-label":"Document type",children:[c.jsx("option",{value:"page",children:"Page"}),c.jsx("option",{value:"note",children:"Note"}),c.jsx("option",{value:"contract",children:"Contract"}),c.jsx("option",{value:"specification",children:"Specification"})]})]})]}),c.jsx(Z6,{content:g.content,onChange:de,isSensitive:g.is_sensitive,onSensitivityToggle:()=>v(G=>({...G,is_sensitive:!G.is_sensitive})),placeholder:"Start writing your document...",showSaveButton:!1,showPreviewButton:!1})]}),c.jsxs(Wq,{children:[c.jsx(Gq,{children:"Cancel"}),c.jsx(Kq,{onClick:le,children:"Create Document"})]})]})}),c.jsx(TWe,{open:u,onOpenChange:G=>{d(G),G||m(null)},mode:f,onPasswordSet:$})]})}function jWe(){const{clients:e,loading:t,error:n,addClient:r,updateClient:i,deleteClient:s,archiveClient:a,activateClient:o}=lr(),[l,u]=b.useState(""),[d,f]=b.useState(!1),[h,p]=b.useState(null),[m,g]=b.useState("all"),[v,y]=b.useState(null),[x,w]=b.useState("clients"),[E,_]=b.useState({name:"",email:"",phone:"",company:"",address:"",hourly_rate:void 0,currency:"SEK",status:"active",notes:""}),N=e.filter(P=>{var j,R;const B=P.name.toLowerCase().includes(l.toLowerCase())||((j=P.company)==null?void 0:j.toLowerCase().includes(l.toLowerCase()))||((R=P.email)==null?void 0:R.toLowerCase().includes(l.toLowerCase())),L=m==="all"||P.status===m;return B&&L}),T=async P=>{P.preventDefault();try{h?(await i({...E,id:h.id}),p(null)):await r(E),_({name:"",email:"",phone:"",company:"",address:"",hourly_rate:void 0,currency:"SEK",status:"active",notes:""}),f(!1)}catch(B){console.error("Error saving client:",B)}},C=P=>{p(P),_({name:P.name,email:P.email||"",phone:P.phone||"",company:P.company||"",address:P.address||"",hourly_rate:P.hourly_rate||void 0,currency:P.currency||"SEK",status:P.status,notes:P.notes||""}),f(!0)},O=async P=>{if(window.confirm("Are you sure you want to delete this client? This action cannot be undone."))try{await s(P)}catch(B){console.error("Error deleting client:",B)}},A=async P=>{try{await a(P)}catch(B){console.error("Error archiving client:",B)}},D=async P=>{try{await o(P)}catch(B){console.error("Error activating client:",B)}},k=P=>{switch(P){case"active":return{icon:vs,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"};case"inactive":return{icon:ht,color:"text-yellow-600",bg:"bg-yellow-50 dark:bg-yellow-900/20"};case"archived":return{icon:Tf,color:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20"};default:return{icon:vs,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"}}};return t?c.jsx("div",{className:"space-y-6",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Clients"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading clients..."})]})})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Clients"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your clients and track relationships"})]}),c.jsxs(z,{onClick:()=>f(!0),className:"flex items-center gap-2",children:[c.jsx(at,{className:"h-4 w-4"}),"Add Client"]})]}),n&&c.jsx(X,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",children:c.jsx(Q,{className:"pt-6",children:c.jsx("p",{className:"text-red-600 dark:text-red-400",children:n})})}),c.jsxs(Sh,{value:x,onValueChange:w,className:"w-full",children:[c.jsxs(Xu,{className:"grid w-full grid-cols-2",children:[c.jsxs(en,{value:"clients",className:"flex items-center gap-2",children:[c.jsx(Gi,{className:"h-4 w-4"}),"Clients"]}),c.jsxs(en,{value:"documentation",className:"flex items-center gap-2",children:[c.jsx(wa,{className:"h-4 w-4"}),"Documentation"]})]}),c.jsxs(sn,{value:"clients",className:"space-y-6",children:[c.jsx(X,{children:c.jsx(Q,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(Te,{placeholder:"Search clients...",value:l,onChange:P=>u(P.target.value),className:"pl-10"})]}),c.jsxs("select",{value:m,onChange:P=>g(P.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter clients by status",children:[c.jsx("option",{value:"all",children:"All Statuses"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"archived",children:"Archived"})]})]})})}),d&&c.jsxs(X,{children:[c.jsx(ie,{children:c.jsx(ae,{children:h?"Edit Client":"Add New Client"})}),c.jsx(Q,{children:c.jsxs("form",{onSubmit:T,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name *"}),c.jsx(Te,{value:E.name,onChange:P=>_({...E,name:P.target.value}),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company"}),c.jsx(Te,{value:E.company,onChange:P=>_({...E,company:P.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),c.jsx(Te,{type:"email",value:E.email,onChange:P=>_({...E,email:P.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),c.jsx(Te,{value:E.phone,onChange:P=>_({...E,phone:P.target.value})})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),c.jsx(Te,{value:E.address,onChange:P=>_({...E,address:P.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hourly Rate (SEK)"}),c.jsx(Te,{type:"number",step:"0.01",value:E.hourly_rate||"",onChange:P=>_({...E,hourly_rate:P.target.value?parseFloat(P.target.value):void 0})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),c.jsxs("select",{value:E.status,onChange:P=>_({...E,status:P.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Client status",children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"inactive",children:"Inactive"}),c.jsx("option",{value:"archived",children:"Archived"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),c.jsx("textarea",{value:E.notes,onChange:P=>_({...E,notes:P.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]",placeholder:"Additional notes about this client..."})]})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(z,{type:"submit",children:h?"Update Client":"Add Client"}),c.jsx(z,{type:"button",variant:"outline",onClick:()=>{f(!1),p(null),_({name:"",email:"",phone:"",company:"",address:"",hourly_rate:void 0,currency:"SEK",status:"active",notes:""})},children:"Cancel"})]})]})})]}),N.length===0?c.jsx(X,{children:c.jsx(Q,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Gi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:l||m!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first client."}),!l&&m==="all"&&c.jsxs(z,{onClick:()=>f(!0),children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Your First Client"]})]})})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(P=>{const B=k(P.status),L=B.icon;return c.jsxs(X,{className:"hover:shadow-lg transition-shadow",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(ae,{className:"text-lg",children:P.name}),P.company&&c.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[c.jsx(sh,{className:"h-3 w-3"}),P.company]})]}),c.jsxs("div",{className:`px-2 py-1 rounded-full flex items-center gap-1 ${B.bg}`,children:[c.jsx(L,{className:`h-3 w-3 ${B.color}`}),c.jsx("span",{className:`text-xs font-medium capitalize ${B.color}`,children:P.status})]})]})}),c.jsxs(Q,{className:"space-y-3",children:[P.email&&c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(fae,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"truncate",children:P.email})]}),P.phone&&c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(bae,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{children:P.phone})]}),P.hourly_rate&&c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{children:[_e(P.hourly_rate),"/hour"]})]}),P.notes&&c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:P.notes}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsxs(z,{size:"sm",variant:"outline",onClick:()=>C(P),className:"flex-1",children:[c.jsx(Qr,{className:"h-3 w-3 mr-1"}),"Edit"]}),c.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{y(P),w("documentation")},className:"flex-1",children:[c.jsx(xt,{className:"h-3 w-3 mr-1"}),"Docs"]}),P.status==="active"?c.jsx(z,{size:"sm",variant:"outline",onClick:()=>A(P.id),children:c.jsx(Vy,{className:"h-3 w-3"})}):c.jsx(z,{size:"sm",variant:"outline",onClick:()=>D(P.id),children:c.jsx(vs,{className:"h-3 w-3"})}),c.jsx(z,{size:"sm",variant:"outline",onClick:()=>O(P.id),className:"text-red-600 hover:text-red-700",children:c.jsx(Pr,{className:"h-3 w-3"})})]})]})]},P.id)})}),c.jsx(X,{children:c.jsx(Q,{className:"pt-6",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(P=>P.status==="active").length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Clients"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(P=>P.status==="inactive").length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Inactive Clients"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-gray-600",children:e.filter(P=>P.status==="archived").length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Archived Clients"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold",children:e.length}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Clients"})]})]})})})]}),c.jsx(sn,{value:"documentation",className:"space-y-6",children:c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(wa,{className:"h-5 w-5"}),"Client Documentation",v&&c.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[" ",v.name]})]}),c.jsx("p",{className:"text-muted-foreground",children:v?`Managing documentation for ${v.name}${v.company?` (${v.company})`:""}`:"Manage all client documentation"})]}),c.jsx(Q,{children:c.jsx(OWe,{clientId:v==null?void 0:v.id,onBack:v?()=>y(null):void 0})})]})})]})]})}function Sc(e){const{user:t}=Fr(),{clients:n}=lr(),{projects:r}=Sr(),{entries:i}=$r(),[s,a]=b.useState([]),[o,l]=b.useState(!0),[u,d]=b.useState(null),f=t==null?void 0:t.id,h=b.useCallback(async()=>{if(!f){a([]),l(!1);return}try{l(!0),d(null);const{data:N,error:T}=await se.from("invoice_items").select("*").eq("user_id",f).order("created_at",{ascending:!1});if(T)throw T;a(N||[])}catch(N){console.error("Error fetching invoice items:",N),d(N instanceof Error?N.message:"Failed to fetch invoice items");const T=localStorage.getItem(`invoice_items_${f}`);T&&a(JSON.parse(T))}finally{l(!1)}},[f]),p=b.useCallback(async N=>{if(!f)throw new Error("User not authenticated");try{let T;N.type==="hourly"?T=(N.quantity||0)*(N.rate||0):T=N.rate||0;const C={user_id:f,client_id:N.client_id||null,project_id:N.project_id||null,description:N.description,hours:N.type==="hourly"?N.quantity:null,hourly_rate:N.type==="hourly"?N.rate:null,fixed_amount:N.type==="fixed"?N.rate:null,total_amount:T,currency:"SEK",invoice_date:N.date||new Date().toISOString().split("T")[0],status:N.status||"draft"},{data:O,error:A}=await se.from("invoice_items").insert([C]).select().single();if(A)throw A;if(O){a(k=>[O,...k]);const D=[O,...s];return localStorage.setItem(`invoice_items_${f}`,JSON.stringify(D)),O}return null}catch(T){console.error("Error adding invoice item:",T);const C=N.type==="hourly"?(N.quantity||0)*(N.rate||0):N.rate||0,A=[{id:`local_${Date.now()}`,user_id:f,client_id:N.client_id||null,project_id:N.project_id||null,description:N.description,hours:N.type==="hourly"?N.quantity:null,hourly_rate:N.type==="hourly"?N.rate:null,fixed_amount:N.type==="fixed"?N.rate:null,total_amount:C,currency:"SEK",invoice_date:N.date||new Date().toISOString().split("T")[0],due_date:null,status:N.status||"draft",notes:N.notes||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...s];throw a(A),localStorage.setItem(`invoice_items_${f}`,JSON.stringify(A)),T}},[f,s]),m=b.useCallback(async N=>{if(!f)throw new Error("User not authenticated");try{const{id:T,...C}=N,O={};if(C.quantity!==void 0||C.rate!==void 0||C.type!==void 0){const k=s.find(P=>P.id===T);if(k){const P=C.type||(k.hours?"hourly":"fixed"),B=C.quantity??(k.hours||1),L=C.rate??(k.hourly_rate||k.fixed_amount||0);P==="hourly"?(O.hours=B,O.hourly_rate=L,O.fixed_amount=null,O.total_amount=B*L):(O.hours=null,O.hourly_rate=null,O.fixed_amount=L,O.total_amount=L)}}C.description!==void 0&&(O.description=C.description),C.client_id!==void 0&&(O.client_id=C.client_id),C.project_id!==void 0&&(O.project_id=C.project_id),C.date!==void 0&&(O.invoice_date=C.date),C.status!==void 0&&(O.status=C.status),C.notes!==void 0&&(O.notes=C.notes);const{data:A,error:D}=await se.from("invoice_items").update({...O,updated_at:new Date().toISOString()}).eq("id",T).eq("user_id",f).select().single();if(D)throw D;if(A){a(P=>P.map(B=>B.id===T?A:B));const k=s.map(P=>P.id===T?A:P);return localStorage.setItem(`invoice_items_${f}`,JSON.stringify(k)),A}return null}catch(T){throw console.error("Error updating invoice item:",T),T}},[f,s]),g=b.useCallback(async N=>{if(!f)throw new Error("User not authenticated");try{const{error:T}=await se.from("invoice_items").delete().eq("id",N).eq("user_id",f);if(T)throw T;a(O=>O.filter(A=>A.id!==N));const C=s.filter(O=>O.id!==N);localStorage.setItem(`invoice_items_${f}`,JSON.stringify(C))}catch(T){throw console.error("Error deleting invoice item:",T),T}},[f,s]),v=b.useCallback(()=>{const N=s.reduce((C,O)=>{switch(C.itemCount++,O.status){case"draft":C.totalDraft+=O.total_amount,C.totalUnbilled+=O.total_amount;break;case"sent":C.totalSent+=O.total_amount;break;case"paid":C.totalPaid+=O.total_amount;break}return C},{totalUnbilled:0,totalDraft:0,totalSent:0,totalPaid:0,itemCount:0,clientCount:0}),T=new Set(s.map(C=>C.client_id));return N.clientCount=T.size,N},[s]),y=b.useCallback(()=>{const N=new Map;s.forEach(C=>{if(!C.client_id)return;const O=n.find(D=>D.id===C.client_id);if(!O)return;N.has(C.client_id)||N.set(C.client_id,{client_id:C.client_id,client_name:O.name,company:O.company||void 0,totalUnbilled:0,totalDraft:0,totalSent:0,totalPaid:0,itemCount:0,projectCount:0,lastActivity:C.created_at});const A=N.get(C.client_id);switch(A.itemCount++,C.created_at>A.lastActivity&&(A.lastActivity=C.created_at),C.status){case"draft":A.totalDraft+=C.total_amount,A.totalUnbilled+=C.total_amount;break;case"sent":A.totalSent+=C.total_amount;break;case"paid":A.totalPaid+=C.total_amount;break}});const T=new Map;return s.forEach(C=>{!C.client_id||!C.project_id||(T.has(C.client_id)||T.set(C.client_id,new Set),T.get(C.client_id).add(C.project_id))}),N.forEach((C,O)=>{var A;C.projectCount=((A=T.get(O))==null?void 0:A.size)||0}),Array.from(N.values()).sort((C,O)=>O.totalUnbilled-C.totalUnbilled)},[s,n]),x=b.useCallback(()=>{const N=new Map;return s.forEach(T=>{if(!T.project_id||!T.client_id)return;const C=r.find(D=>D.id===T.project_id),O=n.find(D=>D.id===T.client_id);if(!C||!O)return;N.has(T.project_id)||N.set(T.project_id,{project_id:T.project_id,project_name:C.name,client_id:T.client_id,client_name:O.name,totalUnbilled:0,totalDraft:0,totalSent:0,totalPaid:0,itemCount:0,totalHours:0,averageRate:0,lastActivity:T.created_at});const A=N.get(T.project_id);switch(A.itemCount++,T.created_at>A.lastActivity&&(A.lastActivity=T.created_at),T.hours&&(A.totalHours+=T.hours),T.status){case"draft":A.totalDraft+=T.total_amount,A.totalUnbilled+=T.total_amount;break;case"sent":A.totalSent+=T.total_amount;break;case"paid":A.totalPaid+=T.total_amount;break}}),N.forEach(T=>{const C=s.filter(D=>D.project_id===T.project_id),O=C.reduce((D,k)=>D+k.total_amount,0),A=C.reduce((D,k)=>D+(k.hours||0),0);T.averageRate=A>0?O/A:0}),Array.from(N.values()).sort((T,C)=>C.totalUnbilled-T.totalUnbilled)},[s,r,n]),w=b.useCallback(async(N,T,C)=>{const O=i.filter(B=>N.includes(B.id));if(O.length===0)return null;const A=O.reduce((B,L)=>B+L.hours,0),D=r.find(B=>B.id===O[0].project_id),k=n.find(B=>B.id===T);if(!D||!k)return null;const P=D.hourly_rate||k.hourly_rate||0;return p({client_id:T,project_id:O[0].project_id,description:C||`${D.name} - ${A} hours`,quantity:A,rate:P,type:"hourly",date:new Date().toISOString().split("T")[0]})},[i,r,n,p]),E=b.useCallback(async N=>{const T=N.map(C=>m({id:C,status:"sent"}));await Promise.all(T)},[m]),_=b.useCallback(async N=>{const T=N.map(C=>m({id:C,status:"paid"}));await Promise.all(T)},[m]);return b.useEffect(()=>{h()},[h]),{invoiceItems:s,loading:o,error:u,addInvoiceItem:p,updateInvoiceItem:m,deleteInvoiceItem:g,getInvoiceSummary:v,getClientSummaries:y,getProjectSummaries:x,createInvoiceFromTimeEntries:w,markAsInvoiced:E,markAsPaid:_,refetch:h}}function IWe({dateRange:e}){const{invoiceItems:t,loading:n}=Sc(),{entries:r,loading:i}=$r(),{clients:s}=lr(),{projects:a}=Sr(),[o,l]=b.useState({totalRevenue:0,totalHours:0,activeClients:0,growthRate:0,averageHourlyRate:0,productivityScore:0});b.useEffect(()=>{if(!t||!r||n||i)return;const h=t.filter(k=>{const P=bs(k.invoice_date);return zl(P,{start:e.from,end:e.to})}),p=r.filter(k=>{const P=bs(k.date);return zl(P,{start:e.from,end:e.to})}),m=h.reduce((k,P)=>k+P.total_amount,0),g=p.reduce((k,P)=>k+P.hours,0),y=new Set([...h.map(k=>{const P=a.find(B=>B.id===k.project_id);return P==null?void 0:P.client_id}).filter(Boolean),...p.map(k=>{const P=a.find(B=>B.id===k.project_id);return P==null?void 0:P.client_id}).filter(Boolean)]).size,x=e.to.getTime()-e.from.getTime(),w=new Date(e.from.getTime()-x),E=new Date(e.to.getTime()-x),N=t.filter(k=>{const P=bs(k.invoice_date);return zl(P,{start:w,end:E})}).reduce((k,P)=>k+P.total_amount,0),T=N>0?(m-N)/N*100:0,C=g>0?m/g:0,A=Math.ceil((e.to.getTime()-e.from.getTime())/(1e3*60*60*24))*8,D=A>0?Math.min(g/A*100,100):0;l({totalRevenue:m,totalHours:g,activeClients:y,growthRate:T,averageHourlyRate:C,productivityScore:D})},[t,r,n,i,e,s,a]);const u=h=>{const p=Math.floor(h),m=Math.round((h-p)*60);return`${p}h ${m}m`};if(n||i)return c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((h,p)=>c.jsxs(X,{className:"animate-pulse",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),c.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 mb-1"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},p))});const f=[{title:"Total Revenue",value:_e(o.totalRevenue),description:`${o.growthRate>=0?"+":""}${o.growthRate.toFixed(1)}% vs previous period`,icon:wr,color:"text-green-600",bgColor:"bg-green-100"},{title:"Total Hours",value:u(o.totalHours),description:"Time tracked this period",icon:ht,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Active Clients",value:o.activeClients.toString(),description:"Clients with activity",icon:Gi,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Avg Hourly Rate",value:_e(o.averageHourlyRate),description:"Revenue per hour",icon:As,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Productivity",value:`${o.productivityScore.toFixed(1)}%`,description:"Of expected work hours",icon:Sf,color:"text-indigo-600",bgColor:"bg-indigo-100"},{title:"Growth Trend",value:`${o.growthRate>=0?"+":""}${o.growthRate.toFixed(1)}%`,description:"Revenue growth rate",icon:on,color:o.growthRate>=0?"text-green-600":"text-red-600",bgColor:o.growthRate>=0?"bg-green-100":"bg-red-100"}];return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:f.map(h=>{const p=h.icon;return c.jsxs(X,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium text-gray-600",children:h.title}),c.jsx("div",{className:`p-2 rounded-full ${h.bgColor}`,children:c.jsx(p,{className:`h-4 w-4 ${h.color}`})})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:h.value}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.description})]})]},h.title)})}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(ah,{className:"h-5 w-5"}),"Revenue Summary"]})}),c.jsxs(Q,{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),c.jsx("span",{className:"font-semibold",children:_e(o.totalRevenue)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Average Hourly Rate"}),c.jsx("span",{className:"font-semibold",children:_e(o.averageHourlyRate)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Growth Rate"}),c.jsxs("span",{className:`font-semibold ${o.growthRate>=0?"text-green-600":"text-red-600"}`,children:[o.growthRate>=0?"+":"",o.growthRate.toFixed(1),"%"]})]})]})]}),c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(Sf,{className:"h-5 w-5"}),"Activity Summary"]})}),c.jsxs(Q,{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total Hours"}),c.jsx("span",{className:"font-semibold",children:u(o.totalHours)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Active Clients"}),c.jsx("span",{className:"font-semibold",children:o.activeClients})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Productivity Score"}),c.jsxs("span",{className:"font-semibold",children:[o.productivityScore.toFixed(1),"%"]})]})]})]})]})]})}function PWe({dateRange:e}){const{invoiceItems:t,loading:n}=Sc(),{clients:r}=lr(),{projects:i}=Sr(),[s,a]=b.useState({totalRevenue:0,paidRevenue:0,pendingRevenue:0,overdueRevenue:0,averageInvoiceValue:0,invoiceCount:0,growthRate:0,collectionRate:0}),[o,l]=b.useState([]);if(b.useEffect(()=>{if(!t||n)return;const d=t.filter(O=>{const A=bs(O.invoice_date);return zl(A,{start:e.from,end:e.to})}),f=d.reduce((O,A)=>O+A.total_amount,0),h=d.filter(O=>O.status==="paid").reduce((O,A)=>O+A.total_amount,0),p=d.filter(O=>O.status==="sent").reduce((O,A)=>O+A.total_amount,0),m=d.filter(O=>{if(!O.due_date)return!1;const A=bs(O.due_date);return O.status==="sent"&&A<new Date}).reduce((O,A)=>O+A.total_amount,0),g=d.length>0?f/d.length:0,v=f>0?h/f*100:0,y=e.to.getTime()-e.from.getTime(),x=new Date(e.from.getTime()-y),w=new Date(e.to.getTime()-y),_=t.filter(O=>{const A=bs(O.invoice_date);return zl(A,{start:x,end:w})}).reduce((O,A)=>O+A.total_amount,0),N=_>0?(f-_)/_*100:0;a({totalRevenue:f,paidRevenue:h,pendingRevenue:p,overdueRevenue:m,averageInvoiceValue:g,invoiceCount:d.length,growthRate:N,collectionRate:v});const T=new Map;d.forEach(O=>{const A=i.find(L=>L.id===O.project_id),D=r.find(L=>L.id===(A==null?void 0:A.client_id)),k=(D==null?void 0:D.id)||"unknown",P=(D==null?void 0:D.name)||"Unknown Client",B=T.get(k)||{revenue:0,invoiceCount:0};T.set(k,{revenue:B.revenue+O.total_amount,invoiceCount:B.invoiceCount+1,name:P})});const C=Array.from(T.entries()).map(([O,A])=>({clientId:O,clientName:A.name,revenue:A.revenue,invoiceCount:A.invoiceCount,percentage:f>0?A.revenue/f*100:0}));C.sort((O,A)=>A.revenue-O.revenue),l(C)},[t,n,e,r,i]),n)return c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((d,f)=>c.jsxs(X,{className:"animate-pulse",children:[c.jsx(ie,{className:"space-y-0 pb-2",children:c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),c.jsxs(Q,{children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]},f))});const u=[{title:"Total Revenue",value:_e(s.totalRevenue),description:`${s.growthRate>=0?"+":""}${s.growthRate.toFixed(1)}% vs previous period`,icon:wr,color:"text-green-600",bgColor:"bg-green-100"},{title:"Collected Revenue",value:_e(s.paidRevenue),description:`${s.collectionRate.toFixed(1)}% collection rate`,icon:As,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Pending Revenue",value:_e(s.pendingRevenue),description:"Awaiting payment",icon:yn,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Average Invoice",value:_e(s.averageInvoiceValue),description:`${s.invoiceCount} invoices`,icon:wr,color:"text-purple-600",bgColor:"bg-purple-100"}];return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:u.map(d=>{const f=d.icon;return c.jsxs(X,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium text-gray-600",children:d.title}),c.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:c.jsx(f,{className:`h-4 w-4 ${d.color}`})})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:d.value}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:d.description})]})]},d.title)})}),s.growthRate!==0&&c.jsx(X,{children:c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[s.growthRate>=0?c.jsx(on,{className:"h-5 w-5 text-green-600"}):c.jsx(qy,{className:"h-5 w-5 text-red-600"}),"Revenue Trend"]}),c.jsxs(dt,{children:[s.growthRate>=0?"Revenue is growing":"Revenue has decreased"," by"," ",Math.abs(s.growthRate).toFixed(1),"% compared to the previous period"]})]})}),s.overdueRevenue>0&&c.jsx(X,{className:"border-red-200 bg-red-50",children:c.jsxs(ie,{children:[c.jsx(ae,{className:"text-red-700",children:"Overdue Revenue"}),c.jsxs(dt,{className:"text-red-600",children:["You have ",_e(s.overdueRevenue)," in overdue invoices that need attention"]})]})}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Revenue by Client"}),c.jsx(dt,{children:"Revenue distribution across your clients for the selected period"})]}),c.jsx(Q,{children:o.length>0?c.jsxs("div",{className:"space-y-4",children:[o.slice(0,10).map(d=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium truncate",children:d.clientName}),c.jsxs("p",{className:"text-sm text-gray-500",children:[d.invoiceCount," invoice",d.invoiceCount!==1?"s":""]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[d.percentage.toFixed(1),"%"]}),c.jsx("span",{className:"font-medium",children:_e(d.revenue)})]})]},d.clientId)),o.length>10&&c.jsxs("p",{className:"text-sm text-gray-500 text-center pt-2 border-t",children:["And ",o.length-10," more clients..."]})]}):c.jsx("div",{className:"text-center py-8 text-gray-500",children:"No revenue data found for the selected period"})})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Period Summary"}),c.jsxs(dt,{children:["Revenue summary from ",jo(e.from,"MMM d, yyyy")," to ",jo(e.to,"MMM d, yyyy")]})]}),c.jsx(Q,{children:c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:_e(s.paidRevenue)}),c.jsx("p",{className:"text-sm text-gray-500",children:"Collected"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_e(s.pendingRevenue)}),c.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:_e(s.overdueRevenue)}),c.jsx("p",{className:"text-sm text-gray-500",children:"Overdue"})]})]})})]})]})}function DWe({dateRange:e}){const{entries:t,loading:n}=$r(),{projects:r}=Sr(),{clients:i}=lr(),[s,a]=b.useState({totalHours:0,billableHours:0,billableRate:0,averageHoursPerDay:0,totalSessions:0,averageSessionLength:0,estimatedRevenue:0,productivity:0}),[o,l]=b.useState([]),[u,d]=b.useState([]);b.useEffect(()=>{if(!t||n)return;const p=t.filter(B=>{const L=bs(B.date);return zl(L,{start:e.from,end:e.to})}),m=p.reduce((B,L)=>B+L.hours,0),g=m,v=g>0?100:0,y=Math.max(1,Math.ceil((e.to.getTime()-e.from.getTime())/(1e3*60*60*24))),x=m/y,w=p.length,E=w>0?m/w:0,_=1e3,N=g*_,C=y*8,O=C>0?m/C*100:0;a({totalHours:m,billableHours:g,billableRate:v,averageHoursPerDay:x,totalSessions:w,averageSessionLength:E,estimatedRevenue:N,productivity:Math.min(O,100)});const A=new Map;p.forEach(B=>{const L=r.find(W=>W.id===B.project_id),j=i.find(W=>W.id===(L==null?void 0:L.client_id)),R=(L==null?void 0:L.id)||"unknown",M=(L==null?void 0:L.name)||"Unknown Project",V=(j==null?void 0:j.name)||"Unknown Client",I=(L==null?void 0:L.hourly_rate)||_,ee=A.get(R)||{hours:0,name:M,clientName:V,rate:I};A.set(R,{...ee,hours:ee.hours+B.hours})});const D=Array.from(A.entries()).map(([B,L])=>({projectId:B,projectName:L.name,clientName:L.clientName,hours:L.hours,percentage:m>0?L.hours/m*100:0,estimatedValue:L.hours*L.rate}));D.sort((B,L)=>L.hours-B.hours),l(D);const k=new Map;p.forEach(B=>{const L=B.date,j=k.get(L)||{hours:0,sessions:0};k.set(L,{hours:j.hours+B.hours,sessions:j.sessions+1})});const P=Array.from(k.entries()).map(([B,L])=>({date:B,hours:L.hours,sessions:L.sessions}));P.sort((B,L)=>B.date.localeCompare(L.date)),d(P)},[t,n,e,r,i]);const f=p=>{const m=Math.floor(p),g=Math.round((p-m)*60);return`${m}h ${g}m`};if(n)return c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((p,m)=>c.jsxs(X,{className:"animate-pulse",children:[c.jsx(ie,{className:"space-y-0 pb-2",children:c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),c.jsxs(Q,{children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]},m))});const h=[{title:"Total Hours",value:f(s.totalHours),description:`${s.totalSessions} work sessions`,icon:ht,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Daily Average",value:f(s.averageHoursPerDay),description:"Per work day",icon:yn,color:"text-green-600",bgColor:"bg-green-100"},{title:"Estimated Revenue",value:_e(s.estimatedRevenue),description:"Based on tracked time",icon:on,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Productivity",value:`${s.productivity.toFixed(1)}%`,description:"Of expected work hours",icon:Sf,color:"text-orange-600",bgColor:"bg-orange-100"}];return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:h.map(p=>{const m=p.icon;return c.jsxs(X,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium text-gray-600",children:p.title}),c.jsx("div",{className:`p-2 rounded-full ${p.bgColor}`,children:c.jsx(m,{className:`h-4 w-4 ${p.color}`})})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:p.value}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.description})]})]},p.title)})}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(Sf,{className:"h-5 w-5"}),"Productivity Overview"]}),c.jsx(dt,{children:"Your work patterns and efficiency metrics"})]}),c.jsx(Q,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-semibold",children:f(s.averageSessionLength)}),c.jsx("p",{className:"text-xs text-gray-500",children:"Avg Session"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-lg font-semibold",children:[s.productivity.toFixed(1),"%"]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Productivity"})]})]})})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Recent Trends"}),c.jsx(dt,{children:"Daily time tracking patterns"})]}),c.jsx(Q,{children:u.length>0?c.jsx("div",{className:"space-y-2",children:u.slice(-7).map(p=>c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:jo(bs(p.date),"MMM d")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:f(p.hours)}),c.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[p.sessions," sessions"]})]})]},p.date))}):c.jsx("div",{className:"text-center py-4 text-gray-500",children:"No time data for selected period"})})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Time by Project"}),c.jsx(dt,{children:"How you've allocated your time across different projects"})]}),c.jsx(Q,{children:o.length>0?c.jsxs("div",{className:"space-y-4",children:[o.slice(0,10).map(p=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium truncate",children:p.projectName}),c.jsx("p",{className:"text-sm text-gray-500",children:p.clientName})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-medium",children:f(p.hours)}),c.jsx("div",{className:"text-xs text-gray-500",children:_e(p.estimatedValue)})]}),c.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[p.percentage.toFixed(1),"%"]})]})]},p.projectId)),o.length>10&&c.jsxs("p",{className:"text-sm text-gray-500 text-center pt-2 border-t",children:["And ",o.length-10," more projects..."]})]}):c.jsx("div",{className:"text-center py-8 text-gray-500",children:"No time entries found for the selected period"})})]})]})}function MWe({dateRange:e}){const{clients:t}=lr(),{projects:n}=Sr(),{invoiceItems:r,loading:i}=Sc(),{entries:s,loading:a}=$r(),[o,l]=b.useState({totalClients:0,activeClients:0,newClients:0,retentionRate:0,averageProjectValue:0}),[u,d]=b.useState([]);b.useEffect(()=>{if(!t||!n||!r||!s||i||a)return;const g=r.filter(D=>{const k=bs(D.invoice_date);return zl(k,{start:e.from,end:e.to})}),v=s.filter(D=>{const k=bs(D.date);return zl(k,{start:e.from,end:e.to})}),y=t.length,w=new Set([...g.map(D=>{const k=n.find(P=>P.id===D.project_id);return k==null?void 0:k.client_id}).filter(Boolean),...v.map(D=>{const k=n.find(P=>P.id===D.project_id);return k==null?void 0:k.client_id}).filter(Boolean)]).size,E=0,_=y>0?w/y*100:0,N=g.reduce((D,k)=>D+k.total_amount,0),T=new Set(g.map(D=>D.project_id)).size,C=T>0?N/T:0;l({totalClients:y,activeClients:w,newClients:E,retentionRate:_,averageProjectValue:C});const O=new Map;t.forEach(D=>{O.set(D.id,{name:D.name,revenue:0,hours:0,projects:new Set,invoices:0,lastActivity:new Date(0)})}),g.forEach(D=>{const k=n.find(P=>P.id===D.project_id);if(k!=null&&k.client_id&&D.project_id&&O.has(k.client_id)){const P=O.get(k.client_id);P.revenue+=D.total_amount,P.projects.add(D.project_id),P.invoices+=1;const B=bs(D.invoice_date);B>P.lastActivity&&(P.lastActivity=B)}}),v.forEach(D=>{const k=n.find(P=>P.id===D.project_id);if(k!=null&&k.client_id&&O.has(k.client_id)){const P=O.get(k.client_id);P.hours+=D.hours,P.projects.add(D.project_id);const B=bs(D.date);B>P.lastActivity&&(P.lastActivity=B)}});const A=Array.from(O.entries()).map(([D,k])=>{const P=k.projects.size,B=P>0?k.revenue/P:0,L=a2e(new Date,k.lastActivity);let j="inactive",R=0;return(k.revenue>0||k.hours>0)&&(L<=30?(j="active",R=90-Math.min(L*2,40)):L<=90?(j="at-risk",R=50-Math.min((L-30)*.5,25)):(j="inactive",R=Math.max(25-(L-90)*.1,0))),{clientId:D,clientName:k.name,revenue:k.revenue,hours:k.hours,projects:P,invoices:k.invoices,avgProjectValue:B,lastActivity:k.lastActivity.toISOString(),status:j,healthScore:Math.round(R)}});A.sort((D,k)=>D.revenue!==k.revenue?k.revenue-D.revenue:k.healthScore-D.healthScore),d(A)},[t,n,r,s,i,a,e]);const f=g=>{const v=Math.floor(g),y=Math.round((g-v)*60);return`${v}h ${y}m`},h=g=>{switch(g){case"active":return"bg-green-500";case"at-risk":return"bg-yellow-500";case"inactive":return"bg-red-500";default:return"bg-gray-500"}},p=g=>g>=90?"w-full":g>=80?"w-5/6":g>=70?"w-4/6":g>=60?"w-3/6":g>=50?"w-2/6":g>=25?"w-1/6":"w-1/12";if(i||a)return c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((g,v)=>c.jsxs(X,{className:"animate-pulse",children:[c.jsx(ie,{className:"space-y-0 pb-2",children:c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),c.jsxs(Q,{children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]},v))});const m=[{title:"Total Clients",value:o.totalClients.toString(),description:`${o.activeClients} active this period`,icon:Gi,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Client Retention",value:`${o.retentionRate.toFixed(1)}%`,description:"Activity retention rate",icon:on,color:"text-green-600",bgColor:"bg-green-100"},{title:"New Clients",value:o.newClients.toString(),description:"Acquired this period",icon:Zn,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Avg Project Value",value:_e(o.averageProjectValue),description:"Per project average",icon:wr,color:"text-orange-600",bgColor:"bg-orange-100"}];return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:m.map(g=>{const v=g.icon;return c.jsxs(X,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium text-gray-600",children:g.title}),c.jsx("div",{className:`p-2 rounded-full ${g.bgColor}`,children:c.jsx(v,{className:`h-4 w-4 ${g.color}`})})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:g.value}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.description})]})]},g.title)})}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[c.jsxs(X,{className:"bg-green-50 border-green-200",children:[c.jsx(ie,{children:c.jsx(ae,{className:"text-green-700",children:"Active Clients"})}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-3xl font-bold text-green-600",children:u.filter(g=>g.status==="active").length}),c.jsx("p",{className:"text-sm text-green-600",children:"Recent activity within 30 days"})]})]}),c.jsxs(X,{className:"bg-yellow-50 border-yellow-200",children:[c.jsx(ie,{children:c.jsxs(ae,{className:"text-yellow-700 flex items-center gap-2",children:[c.jsx(Rl,{className:"h-4 w-4"}),"At-Risk Clients"]})}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:u.filter(g=>g.status==="at-risk").length}),c.jsx("p",{className:"text-sm text-yellow-600",children:"No activity in 30-90 days"})]})]}),c.jsxs(X,{className:"bg-red-50 border-red-200",children:[c.jsx(ie,{children:c.jsx(ae,{className:"text-red-700",children:"Inactive Clients"})}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-3xl font-bold text-red-600",children:u.filter(g=>g.status==="inactive").length}),c.jsx("p",{className:"text-sm text-red-600",children:"No activity in 90+ days"})]})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Client Performance"}),c.jsx(dt,{children:"Detailed performance metrics for each client"})]}),c.jsx(Q,{children:u.length>0?c.jsxs("div",{className:"space-y-4",children:[u.slice(0,15).map(g=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${h(g.status)}`}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium truncate",children:g.clientName}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[c.jsxs("span",{children:[g.projects," projects"]}),c.jsxs("span",{children:[g.invoices," invoices"]}),c.jsx("span",{children:f(g.hours)})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-medium",children:_e(g.revenue)}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Avg: ",_e(g.avgProjectValue)]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-sm font-medium",children:[g.healthScore,"%"]}),c.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full bg-blue-500 transition-all ${p(g.healthScore)}`})})]}),c.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${g.status==="active"?"bg-green-100 text-green-700":g.status==="at-risk"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:g.status})]})]},g.clientId)),u.length>15&&c.jsx("div",{className:"text-center pt-4 border-t",children:c.jsxs(z,{variant:"outline",size:"sm",children:["View All ",u.length," Clients"]})})]}):c.jsx("div",{className:"text-center py-8 text-gray-500",children:"No client data found for the selected period"})})]})]})}function RWe(){const[e,t]=b.useState({from:rN(new Date),to:iy(new Date)}),[n,r]=b.useState("overview"),i=[{label:"This Month",range:{from:rN(new Date),to:iy(new Date)}},{label:"Last Month",range:{from:rN(fv(new Date,30)),to:iy(fv(new Date,30))}},{label:"Last 30 Days",range:{from:fv(new Date,30),to:new Date}},{label:"Last 90 Days",range:{from:fv(new Date,90),to:new Date}},{label:"This Year",range:{from:new Date(new Date().getFullYear(),0,1),to:new Date(new Date().getFullYear(),11,31)}}],s=[{id:"overview",label:"Overview",icon:Ll},{id:"revenue",label:"Revenue",icon:wr},{id:"time",label:"Time & Productivity",icon:ht},{id:"clients",label:"Client Analytics",icon:Gi}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Business Analytics"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights and reports for your consulting business"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx(Yse,{className:"h-4 w-4"}),c.jsxs("span",{children:[jo(e.from,"MMM d")," - ",jo(e.to,"MMM d, yyyy")]})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(yn,{className:"h-5 w-5"}),"Date Range"]}),c.jsx(dt,{children:"Select a date range to analyze your business performance"})]}),c.jsx(Q,{children:c.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(a=>c.jsx(z,{variant:e.from.getTime()===a.range.from.getTime()&&e.to.getTime()===a.range.to.getTime()?"default":"outline",size:"sm",onClick:()=>t(a.range),className:"text-xs",children:a.label},a.label))})})]}),c.jsx("div",{className:"flex space-x-1 rounded-lg bg-gray-100 p-1",children:s.map(a=>{const o=a.icon;return c.jsxs(z,{variant:n===a.id?"default":"ghost",className:"flex-1",onClick:()=>r(a.id),children:[c.jsx(o,{className:"h-4 w-4 mr-2"}),a.label]},a.id)})}),c.jsxs("div",{className:"space-y-6",children:[n==="overview"&&c.jsx(IWe,{dateRange:e}),n==="revenue"&&c.jsx(PWe,{dateRange:e}),n==="time"&&c.jsx(DWe,{dateRange:e}),n==="clients"&&c.jsx(MWe,{dateRange:e})]})]})}function LWe({summary:e,loading:t}){const n=({className:i})=>c.jsx("span",{className:`font-bold ${i}`,children:"SEK"});if(t)return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(i=>c.jsxs(X,{className:"animate-pulse",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium",children:c.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),c.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 mb-1"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},i))});const r=[{title:"Unbilled Work",value:_e(e.totalUnbilled),description:`${e.itemCount} items pending`,icon:ht,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Invoiced",value:_e(e.totalSent),description:"Awaiting payment",icon:ah,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Paid",value:_e(e.totalPaid),description:"Completed revenue",icon:n,color:"text-green-600",bgColor:"bg-green-100"},{title:"Active Clients",value:e.clientCount.toString(),description:"With unbilled work",icon:Gi,color:"text-purple-600",bgColor:"bg-purple-100"}];return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(i=>{const s=i.icon;return c.jsxs(X,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium text-gray-600",children:i.title}),c.jsx("div",{className:`p-2 rounded-full ${i.bgColor}`,children:c.jsx(s,{className:`h-4 w-4 ${i.color}`})})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:i.value}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.description})]})]},i.title)})})}function BWe({clients:e,loading:t,onClientClick:n}){if(t)return c.jsxs(X,{className:"h-full flex flex-col",children:[c.jsx(ie,{children:c.jsx(ae,{className:"text-lg",children:"Client Overview"})}),c.jsx(Q,{className:"flex-1",children:c.jsx("div",{className:"space-y-4 h-full",children:[1,2,3,4,5].map(i=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg animate-pulse",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-1"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]},i))})})]});const r=e.slice(0,8);return c.jsxs(X,{className:"h-full flex flex-col",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between flex-shrink-0",children:[c.jsx(ae,{className:"text-lg",children:"Client Overview"}),c.jsx(z,{variant:"ghost",size:"sm",children:c.jsx(HA,{className:"h-4 w-4"})})]}),c.jsxs(Q,{className:"flex-1 flex flex-col",children:[c.jsx("div",{className:"space-y-3 flex-1 overflow-y-auto",children:r.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500 flex-1 flex flex-col justify-center",children:[c.jsx(Gse,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No client data available"}),c.jsx("p",{className:"text-sm",children:"Add some invoice items to see client overview"})]}):r.map(i=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>n==null?void 0:n(i.client_id),children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h4",{className:"font-medium truncate",children:i.client_name}),i.company&&c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:i.company})]}),c.jsxs("div",{className:"flex gap-3 text-sm text-gray-600",children:[c.jsxs("span",{children:[i.itemCount," items"]}),c.jsxs("span",{children:[i.projectCount," projects"]})]})]}),c.jsxs("div",{className:"text-right",children:[i.totalUnbilled>0&&c.jsxs("div",{className:"flex items-center gap-1 text-orange-600 font-medium mb-1",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:"SEK"}),c.jsx("span",{className:"text-sm",children:_e(i.totalUnbilled)})]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",_e(i.totalPaid+i.totalSent+i.totalUnbilled)]})]})]},i.client_id))}),e.length>8&&c.jsx("div",{className:"mt-3 flex-shrink-0",children:c.jsxs(z,{variant:"outline",className:"w-full",size:"sm",children:["View All Clients (",e.length,")"]})})]})]})}function FWe({items:e,loading:t,onItemClick:n,clients:r,projects:i}){if(t)return c.jsxs(X,{className:"h-full flex flex-col",children:[c.jsx(ie,{children:c.jsx(ae,{className:"text-lg",children:"Recent Items"})}),c.jsx(Q,{className:"flex-1",children:c.jsx("div",{className:"space-y-4 h-full",children:[1,2,3,4,5,6].map(u=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg animate-pulse",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-1"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]},u))})})]});const s=e.slice(0,10),a=u=>{switch(u){case"draft":return"text-orange-600 bg-orange-100";case"sent":return"text-blue-600 bg-blue-100";case"paid":return"text-green-600 bg-green-100";case"overdue":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},o=u=>{const d=r.find(f=>f.id===u);return(d==null?void 0:d.name)||"Unknown Client"},l=u=>i.find(f=>f.id===u)||{name:"Unknown Project",color:"#9CA3AF"};return c.jsxs(X,{className:"h-full flex flex-col",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between flex-shrink-0",children:[c.jsx(ae,{className:"text-lg",children:"Recent Items"}),c.jsx(z,{variant:"ghost",size:"sm",children:c.jsx(HA,{className:"h-4 w-4"})})]}),c.jsxs(Q,{className:"flex-1 flex flex-col",children:[c.jsx("div",{className:"space-y-3 flex-1 overflow-y-auto",children:s.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500 flex-1 flex flex-col justify-center",children:[c.jsx(ht,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No invoice items yet"}),c.jsx("p",{className:"text-sm",children:"Create your first invoice item to track unbilled work"})]}):s.map(u=>{const d=o(u.client_id||""),f=l(u.project_id||"");return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>n==null?void 0:n(u.id),children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 bg-gray-300",style:{backgroundColor:f.color||"#9CA3AF"}}),c.jsx("h4",{className:"font-medium truncate",children:u.description})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[c.jsx("span",{children:d}),c.jsx("span",{children:""}),c.jsx("span",{children:f.name}),c.jsx("span",{children:""}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(yn,{className:"h-3 w-3"}),new Date(u.invoice_date).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[c.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:"SEK"}),c.jsx("span",{children:_e(u.total_amount)})]}),c.jsx("span",{className:`px-2 py-1 rounded text-xs ${a(u.status)}`,children:u.status})]})]},u.id)})}),e.length>10&&c.jsx("div",{className:"mt-3 flex-shrink-0",children:c.jsxs(z,{variant:"outline",className:"w-full",size:"sm",children:["View All Items (",e.length,")"]})})]})]})}function $We({onCreateInvoiceItem:e,onCreateFromTime:t,onMarkAsInvoiced:n,onMarkAsPaid:r,onExportToFortnox:i,onExportPlainText:s}){const a=[{title:"New Invoice Item",description:"Create manual invoice item",icon:at,onClick:e,color:"text-blue-600 bg-blue-100",disabled:!1},{title:"From Time Entries",description:"Convert time to invoice items",icon:ht,onClick:t,color:"text-green-600 bg-green-100",disabled:!1},{title:"Mark as Invoiced",description:"Update status to invoiced",icon:ah,onClick:n,color:"text-orange-600 bg-orange-100",disabled:!1},{title:"Mark as Paid",description:"Update status to paid",icon:wr,onClick:r,color:"text-green-600 bg-green-100",disabled:!1},{title:"Export to Fortnox",description:"Export to Fortnox API",icon:xt,onClick:i,color:"text-purple-600 bg-purple-100",disabled:!1},{title:"Export as Text",description:"Download readable text files",icon:zs,onClick:s,color:"text-teal-600 bg-teal-100",disabled:!1}];return c.jsxs(X,{className:"h-full flex flex-col",children:[c.jsx(ie,{className:"flex-shrink-0",children:c.jsx(ae,{className:"text-lg",children:"Quick Actions"})}),c.jsx(Q,{className:"flex-1 flex flex-col",children:c.jsx("div",{className:"grid grid-cols-1 gap-3 flex-1",children:a.map(o=>{const l=o.icon;return c.jsx(z,{variant:"outline",className:`h-auto p-4 justify-start flex-1 min-h-[70px] ${o.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,onClick:o.disabled?void 0:o.onClick,disabled:o.disabled,children:c.jsxs("div",{className:"flex items-center gap-3 w-full",children:[c.jsx("div",{className:`p-2 rounded-full ${o.color} flex-shrink-0`,children:c.jsx(l,{className:"h-4 w-4"})}),c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("div",{className:"font-medium",children:o.title}),c.jsx("div",{className:"text-sm text-gray-500",children:o.description})]})]})},o.title)})})})]})}function UWe({items:e,loading:t}){if(t)return c.jsxs(X,{className:"h-full flex flex-col",children:[c.jsx(ie,{children:c.jsx(ae,{className:"text-lg",children:"Monthly Revenue"})}),c.jsx(Q,{className:"flex-1",children:c.jsx("div",{className:"w-full h-full bg-gray-100 rounded animate-pulse min-h-[300px]"})})]});const r=(()=>{const a=[],o=new Date;for(let l=5;l>=0;l--){const u=new Date(o.getFullYear(),o.getMonth()-l,1),d=`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}`,f=u.toLocaleDateString("en-US",{month:"short"});a.push({month:f,monthKey:d,invoiced:0,paid:0,pending:0})}return e.forEach(l=>{const u=new Date(l.date),d=`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}`,f=a.find(h=>h.monthKey===d);if(f)switch(l.status){case"invoiced":f.invoiced+=l.amount;break;case"paid":f.paid+=l.amount;break;case"pending":f.pending+=l.amount;break}}),a})(),i=r.some(a=>a.invoiced>0||a.paid>0||a.pending>0),s=({active:a,payload:o,label:l})=>a&&o&&o.length?c.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[c.jsx("p",{className:"font-medium",children:l}),o.map((u,d)=>c.jsxs("p",{className:"text-sm",children:[u.name,": ",_e(u.value)]},d))]}):null;return c.jsxs(X,{className:"h-full flex flex-col",children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(on,{className:"h-5 w-5 text-green-600"}),c.jsx(ae,{className:"text-lg",children:"Monthly Revenue"})]}),c.jsx(z,{variant:"ghost",size:"sm",children:c.jsx(HA,{className:"h-4 w-4"})})]}),c.jsx(Q,{className:"flex-1 flex flex-col",children:i?c.jsx("div",{className:"flex-1 min-h-[300px]",children:c.jsx(Na,{width:"100%",height:"100%",children:c.jsxs(LV,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[c.jsx(sV,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),c.jsx(Ao,{dataKey:"month",axisLine:!1,tickLine:!1,fontSize:12}),c.jsx(Oo,{axisLine:!1,tickLine:!1,fontSize:12,tickFormatter:a=>`${a/1e3}k`}),c.jsx(Ff,{content:c.jsx(s,{})}),c.jsx(rf,{dataKey:"paid",stackId:"a",fill:"#10B981",name:"Paid",radius:[0,0,0,0]}),c.jsx(rf,{dataKey:"invoiced",stackId:"a",fill:"#3B82F6",name:"Invoiced",radius:[0,0,0,0]}),c.jsx(rf,{dataKey:"pending",stackId:"a",fill:"#F59E0B",name:"Pending",radius:[4,4,0,0]})]})})}):c.jsx("div",{className:"flex items-center justify-center flex-1 text-gray-500 min-h-[300px]",children:c.jsxs("div",{className:"text-center",children:[c.jsx(on,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"No revenue data yet"}),c.jsx("p",{className:"text-sm",children:"Data will appear as you add invoice items"})]})})})]})}function zWe({open:e,onOpenChange:t}){const{addInvoiceItem:n}=Sc(),{clients:r}=lr(),{projects:i}=Sr(),{toast:s}=Eh();console.log("Dialog opened, clients:",r,"projects:",i);const[a,o]=b.useState({client_id:"",project_id:"",description:"",quantity:1,rate:0,type:"hourly",date:new Date().toISOString().split("T")[0],status:"draft"}),[l,u]=b.useState(!1),d=r.find(g=>g.id===a.client_id),f=i.filter(g=>g.client_id===a.client_id),h=async g=>{if(g.preventDefault(),!a.client_id||!a.project_id||!a.description){s({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}u(!0);try{await n(a),s({title:"Success",description:"Invoice item created successfully"}),t(!1),o({client_id:"",project_id:"",description:"",quantity:1,rate:0,type:"hourly",date:new Date().toISOString().split("T")[0],status:"draft"})}catch{s({title:"Error",description:"Failed to create invoice item",variant:"destructive"})}finally{u(!1)}},p=g=>{o(v=>{var y;return{...v,client_id:g,project_id:"",rate:((y=r.find(x=>x.id===g))==null?void 0:y.hourly_rate)||0}})},m=g=>{const v=i.find(y=>y.id===g);o(y=>({...y,project_id:g,rate:(v==null?void 0:v.hourly_rate)||(d==null?void 0:d.hourly_rate)||y.rate||0}))};return c.jsx(jn,{open:e,onOpenChange:t,children:c.jsxs(wn,{className:"sm:max-w-[500px]",children:[c.jsx(En,{children:c.jsx(Sn,{children:"Create Invoice Item"})}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"client",children:"Client *"}),c.jsxs("select",{id:"client",title:"Select client",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.client_id,onChange:g=>p(g.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select client"}),r.map(g=>c.jsx("option",{value:g.id,children:g.name},g.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"project",children:"Project *"}),c.jsxs("select",{id:"project",title:"Select project",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.project_id,onChange:g=>m(g.target.value),disabled:!a.client_id,required:!0,children:[c.jsx("option",{value:"",children:"Select project"}),f.map(g=>c.jsx("option",{value:g.id,children:g.name},g.id))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"description",children:"Description *"}),c.jsx(Bi,{id:"description",value:a.description,onChange:g=>o(v=>({...v,description:g.target.value})),placeholder:"Describe the work performed...",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"type",children:"Type"}),c.jsxs("select",{id:"type",title:"Select type",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:a.type,onChange:g=>o(v=>({...v,type:g.target.value})),children:[c.jsx("option",{value:"hourly",children:"Hourly"}),c.jsx("option",{value:"fixed",children:"Fixed Price"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"quantity",children:a.type==="hourly"?"Hours":"Quantity"}),c.jsx(Te,{id:"quantity",type:"number",step:"0.25",min:"0",value:a.quantity,onChange:g=>o(v=>({...v,quantity:parseFloat(g.target.value)||0})),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"rate",children:a.type==="hourly"?"Rate/Hour":"Total Price"}),c.jsx(Te,{id:"rate",type:"number",min:"0",value:a.rate,onChange:g=>o(v=>({...v,rate:parseFloat(g.target.value)||0})),required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"date",children:"Date"}),c.jsx(Te,{id:"date",type:"date",value:a.date,onChange:g=>o(v=>({...v,date:g.target.value})),required:!0})]}),a.quantity&&a.rate&&c.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount:"}),c.jsx("div",{className:"text-lg font-semibold",children:new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK"}).format((a.quantity||0)*(a.rate||0))})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx(z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),c.jsx(z,{type:"submit",disabled:l,children:l?"Creating...":"Create Invoice Item"})]})]})]})})}function HWe({open:e,onOpenChange:t}){const{createInvoiceFromTimeEntries:n}=Sc(),{clients:r}=lr(),{projects:i}=Sr(),{entries:s}=$r(),{toast:a}=Eh(),[o,l]=b.useState([]),[u,d]=b.useState(""),[f,h]=b.useState(""),[p,m]=b.useState(!1),g=s,v=g.reduce((T,C)=>{const O=i.find(k=>k.id===C.project_id),A=r.find(k=>k.id===(O==null?void 0:O.client_id));if(!O||!A)return T;const D=`${A.id}-${O.id}`;return T[D]||(T[D]={client:A,project:O,entries:[]}),T[D].entries.push(C),T},{}),y=g.filter(T=>o.includes(T.id)),x=y.reduce((T,C)=>T+C.hours,0),w=y.reduce((T,C)=>{const O=i.find(k=>k.id===C.project_id),A=r.find(k=>k.id===(O==null?void 0:O.client_id)),D=(O==null?void 0:O.hourly_rate)||(A==null?void 0:A.hourly_rate)||0;return T+C.hours*D},0),E=async T=>{if(T.preventDefault(),o.length===0||!u){a({title:"Error",description:"Please select time entries and a client",variant:"destructive"});return}m(!0);try{await n(o,u,f||`Time entries - ${x} hours`),a({title:"Success",description:"Invoice item created from time entries"}),t(!1),l([]),d(""),h("")}catch{a({title:"Error",description:"Failed to create invoice item",variant:"destructive"})}finally{m(!1)}},_=T=>{l(C=>C.includes(T)?C.filter(O=>O!==T):[...C,T])},N=T=>{const C=T.map(A=>A.id),O=C.every(A=>o.includes(A));l(O?A=>A.filter(D=>!C.includes(D)):A=>[...new Set([...A,...C])])};return b.useEffect(()=>{if(y.length>0){const T=y[0],C=i.find(O=>O.id===T.project_id);C!=null&&C.client_id&&!u&&d(C.client_id)}},[y,i,u]),c.jsx(jn,{open:e,onOpenChange:t,children:c.jsxs(wn,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[c.jsx(En,{children:c.jsx(Sn,{children:"Convert Time Entries to Invoice Item"})}),c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[Object.keys(v).length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx("p",{children:"No unbilled time entries found"}),c.jsx("p",{className:"text-sm",children:"All your time entries have been converted to invoice items"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(Ee,{children:"Select Time Entries to Convert:"}),Object.values(v).map(({client:T,project:C,entries:O})=>{const A=O.reduce((B,L)=>B+L.hours,0),D=O.map(B=>B.id),k=D.every(B=>o.includes(B)),P=D.some(B=>o.includes(B));return c.jsxs("div",{className:"border rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium",children:[T.name," - ",C.name]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[A," hours total"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",title:"Select all entries for this project",checked:k,ref:B=>{B&&(B.indeterminate=P&&!k)},onChange:()=>N(O),className:"h-4 w-4"}),c.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>N(O),children:k?"Deselect All":"Select All"})]})]}),c.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:O.map(B=>c.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",title:`Select time entry for ${new Date(B.date).toLocaleDateString()}`,checked:o.includes(B.id),onChange:()=>_(B.id),className:"h-4 w-4"}),c.jsx("span",{children:new Date(B.date).toLocaleDateString()}),c.jsxs("span",{children:[B.hours,"h"]}),B.comment&&c.jsxs("span",{className:"text-gray-600 truncate max-w-32",children:["- ",B.comment]})]})},B.id))})]},`${T.id}-${C.id}`)})]}),o.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"client",children:"Client"}),c.jsxs("select",{id:"client",title:"Select client",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:u,onChange:T=>d(T.target.value),required:!0,children:[c.jsx("option",{value:"",children:"Select client"}),r.map(T=>c.jsx("option",{value:T.id,children:T.name},T.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"description",children:"Description (Optional)"}),c.jsx(Bi,{id:"description",value:f,onChange:T=>h(T.target.value),placeholder:`Time entries - ${x} hours`})]}),c.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[c.jsx("div",{className:"text-sm text-blue-700",children:c.jsx("strong",{children:"Summary:"})}),c.jsxs("div",{className:"text-sm text-blue-600",children:[o.length," entries  ",x," hours  ",_e(w)]})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx(z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),o.length>0&&c.jsx(z,{type:"submit",disabled:p,children:p?"Creating...":"Create Invoice Item"})]})]})]})})}const Io=b.forwardRef(({className:e,checked:t,onCheckedChange:n,disabled:r,id:i,...s},a)=>c.jsxs("div",{className:"relative inline-flex items-center",children:[c.jsx("input",{ref:a,type:"checkbox",id:i,checked:t,onChange:o=>n==null?void 0:n(o.target.checked),disabled:r,className:"sr-only",...s}),c.jsx("div",{className:ze("h-4 w-4 shrink-0 rounded-sm border border-gray-300 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",t&&"bg-blue-600 text-white border-blue-600",r&&"cursor-not-allowed opacity-50",e),onClick:()=>!r&&(n==null?void 0:n(!t)),children:t&&c.jsx(BA,{className:"h-3 w-3 text-white"})})]}));Io.displayName="Checkbox";class WWe{constructor(){Tc(this,"config",null)}configure(t){this.config={...t,baseUrl:t.baseUrl||"https://api.fortnox.se/3"}}async makeRequest(t,n="GET",r){if(!this.config)throw new Error("Fortnox service not configured. Please set API credentials.");const i=`${this.config.baseUrl}${t}`,s={"Access-Token":this.config.accessToken,"Client-Secret":this.config.clientSecret,"Content-Type":"application/json",Accept:"application/json"};try{const a=await fetch(i,{method:n,headers:s,body:r?JSON.stringify(r):void 0});if(!a.ok){const o=await a.text();throw new Error(`Fortnox API error (${a.status}): ${o}`)}return await a.json()}catch(a){throw console.error("Fortnox API request failed:",a),a}}async testConnection(){try{return await this.makeRequest("/companyinformation"),!0}catch(t){return console.error("Fortnox connection test failed:",t),!1}}async getCustomers(){try{return(await this.makeRequest("/customers")).Customers||[]}catch(t){return console.error("Failed to fetch Fortnox customers:",t),[]}}async createCustomer(t){try{return(await this.makeRequest("/customers","POST",{Customer:t})).Customer||null}catch(n){return console.error("Failed to create Fortnox customer:",n),null}}async findOrCreateCustomer(t,n,r){try{const s=(await this.getCustomers()).find(l=>l.Name===t||l.Name===r);if(s&&s.CustomerNumber)return s.CustomerNumber;const a={Name:r||t,Email:n},o=await this.createCustomer(a);return(o==null?void 0:o.CustomerNumber)||null}catch(i){return console.error("Failed to find or create customer:",i),null}}async createInvoice(t){try{const n=await this.makeRequest("/invoices","POST",{Invoice:t});return n.Invoice?{success:!0,invoiceNumber:n.Invoice.InvoiceNumber,documentNumber:n.Invoice.DocumentNumber}:{success:!1,error:"No invoice data returned from Fortnox"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}convertInvoiceItemsToFortnox(t,n,r){const i=t.map(o=>({Description:o.description,Price:o.hourly_rate||o.fixed_amount||0,Quantity:o.hours||1,Unit:o.hours?"h":"st",VAT:25})),s=new Date().toISOString().split("T")[0],a=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return{CustomerNumber:n,InvoiceDate:s,DueDate:a,Currency:"SEK",Language:"SV",InvoiceRows:i,Remarks:`Exported from consultant time tracker - ${t.length} items for ${r}`}}async exportInvoiceItems(t,n,r,i){try{if(!this.config)return{success:!1,error:"Fortnox service not configured"};if(t.length===0)return{success:!1,error:"No invoice items to export"};const s=await this.findOrCreateCustomer(n,r,i);if(!s)return{success:!1,error:"Failed to find or create customer in Fortnox"};const a=this.convertInvoiceItemsToFortnox(t,s,n);return await this.createInvoice(a)}catch(s){return{success:!1,error:s instanceof Error?s.message:"Export failed"}}}generatePlainTextInvoice(t,n,r,i,s){if(t.length===0)return"No items to export";const a=new Date().toLocaleDateString("sv-SE"),o=new Date(Date.now()+30*24*60*60*1e3).toLocaleDateString("sv-SE"),l=t.reduce((m,g)=>m+g.total_amount,0),d=l*.25,f=l+d,h=m=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",minimumFractionDigits:2}).format(m);let p="";return p+="=".repeat(60)+`
`,p+=`                         FAKTURA
`,p+="=".repeat(60)+`

`,p+=`Fakturanummer: ${s||"XXXX"}
`,p+=`Fakturadatum: ${a}
`,p+=`Frfallodatum: ${o}
`,p+=`Valuta: SEK

`,p+=`KUND:
`,p+="-".repeat(20)+`
`,i&&(p+=`Fretag: ${i}
`),p+=`Namn: ${n}
`,r&&(p+=`E-post: ${r}
`),p+=`
`,p+=`FAKTURARADER:
`,p+="-".repeat(60)+`
`,p+=`${"Beskrivning".padEnd(30)} ${"Tim/Ant".padStart(8)} ${"Pris".padStart(10)} ${"Summa".padStart(10)}
`,p+="-".repeat(60)+`
`,t.forEach(m=>{const g=m.description.length>28?m.description.substring(0,25)+"...":m.description;let v,y;m.hours&&m.hourly_rate?(v=m.hours.toFixed(2),y=h(m.hourly_rate)):(v="1.00",y=h(m.fixed_amount||0));const x=h(m.total_amount);p+=`${g.padEnd(30)} ${v.padStart(8)} ${y.padStart(10)} ${x.padStart(10)}
`}),p+="-".repeat(60)+`
`,p+=`
SUMMERING:
`,p+="-".repeat(30)+`
`,p+=`Summa exkl. moms: ${h(l).padStart(15)}
`,p+=`Moms (25%): ${h(d).padStart(21)}
`,p+=`TOTALT: ${h(f).padStart(23)}

`,p+=`BETALNINGSINFORMATION:
`,p+="-".repeat(30)+`
`,p+=`Betalningsvillkor: 30 dagar
`,p+=`Drjsmlsrnta: 2% per mnad

`,t.some(m=>m.description.length>28||m.notes)&&(p+=`DETALJERADE BESKRIVNINGAR:
`,p+="-".repeat(40)+`
`,t.forEach((m,g)=>{p+=`${g+1}. ${m.description}
`,m.notes&&(p+=`   Anteckningar: ${m.notes}
`),m.hours&&m.hourly_rate&&(p+=`   ${m.hours} timmar  ${h(m.hourly_rate)}
`),p+=`
`})),p+="Exporterad frn Konsult Tid System - "+new Date().toLocaleString("sv-SE")+`
`,p+="=".repeat(60),p}downloadPlainTextInvoice(t,n,r,i,s){const a=this.generatePlainTextInvoice(t,n,r,i,s),o=new Blob([a],{type:"text/plain;charset=utf-8"}),l=URL.createObjectURL(o),u=document.createElement("a");u.href=l,u.download=`faktura_${n.replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l)}}const xu=new WWe;function Nk(e){return!!(e.accessToken&&e.clientSecret)}function lm(){try{const e=localStorage.getItem("fortnox_config");if(!e)return null;const t=JSON.parse(e);return Nk(t)?t:null}catch{return null}}function SF(e){localStorage.setItem("fortnox_config",JSON.stringify(e))}function VWe(){localStorage.removeItem("fortnox_config")}function OJ({open:e,onOpenChange:t,onConfigured:n}){const[r,i]=b.useState({accessToken:"",clientSecret:""}),[s,a]=b.useState(!1),[o,l]=b.useState("idle"),[u,d]=b.useState(""),[f,h]=b.useState(!1);b.useEffect(()=>{if(e){const w=lm();w?(i(w),h(!0),l("success")):(i({accessToken:"",clientSecret:""}),h(!1),l("idle"))}},[e]);const p=(w,E)=>{i(_=>({..._,[w]:E})),l("idle"),d("")},m=async()=>{if(!Nk(r)){d("Please provide both Access Token and Client Secret"),l("error");return}a(!0),d("");try{xu.configure(r),await xu.testConnection()?(l("success"),SF(r),h(!0)):(l("error"),d("Failed to connect to Fortnox. Please check your credentials."))}catch(w){l("error"),d(w instanceof Error?w.message:"Connection test failed")}finally{a(!1)}},g=()=>{o==="success"&&Nk(r)&&(SF(r),n==null||n(),t(!1))},v=()=>{VWe(),i({accessToken:"",clientSecret:""}),h(!1),l("idle"),d("")},y=()=>{switch(o){case"success":return c.jsx(vs,{className:"h-4 w-4 text-green-600"});case"error":return c.jsx(Tf,{className:"h-4 w-4 text-red-600"});default:return c.jsx(w1,{className:"h-4 w-4 text-gray-400"})}},x=()=>{switch(o){case"success":return"Connected successfully";case"error":return"Connection failed";default:return"Not configured"}};return c.jsx(jn,{open:e,onOpenChange:t,children:c.jsxs(wn,{className:"sm:max-w-md",children:[c.jsxs(En,{children:[c.jsx(Sn,{children:"Fortnox Integration"}),c.jsx(Ba,{children:"Configure your Fortnox API credentials to export invoice items directly to Fortnox."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(X,{children:[c.jsx(ie,{className:"pb-3",children:c.jsxs(ae,{className:"text-sm flex items-center gap-2",children:[y(),"Connection Status: ",x()]})}),o==="success"&&c.jsx(Q,{className:"pt-0",children:c.jsx("p",{className:"text-sm text-green-600",children:"Your Fortnox integration is ready to use."})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"accessToken",children:"Access Token"}),c.jsx(Te,{id:"accessToken",type:"password",placeholder:"Enter your Fortnox Access Token",value:r.accessToken||"",onChange:w=>p("accessToken",w.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"clientSecret",children:"Client Secret"}),c.jsx(Te,{id:"clientSecret",type:"password",placeholder:"Enter your Fortnox Client Secret",value:r.clientSecret||"",onChange:w=>p("clientSecret",w.target.value)})]}),c.jsx(Xf,{children:c.jsx(Qf,{className:"text-sm",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{children:"To get your Fortnox API credentials:"}),c.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[c.jsx("li",{children:"Log in to your Fortnox account"}),c.jsx("li",{children:"Go to Settings  Integrations  API"}),c.jsx("li",{children:"Create a new integration or use existing one"}),c.jsx("li",{children:"Copy the Access Token and Client Secret"})]}),c.jsxs("a",{href:"https://developer.fortnox.se/general/authentication/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 text-xs",children:["Learn more ",c.jsx(zA,{className:"h-3 w-3"})]})]})})}),u&&c.jsx(Xf,{variant:"destructive",children:c.jsx(Qf,{children:u})}),c.jsx(z,{onClick:m,disabled:s||!r.accessToken||!r.clientSecret,className:"w-full",variant:"outline",children:s?c.jsxs(c.Fragment,{children:[c.jsx(_f,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing Connection..."]}):"Test Connection"})]})]}),c.jsxs(wh,{className:"flex gap-2",children:[f&&c.jsx(z,{variant:"outline",onClick:v,className:"mr-auto",children:"Clear Config"}),c.jsx(z,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),c.jsx(z,{onClick:g,disabled:o!=="success",children:"Save Configuration"})]})]})})}function qWe({open:e,onOpenChange:t}){const{invoiceItems:n,markAsInvoiced:r}=Sc(),{clients:i}=lr(),{projects:s}=Sr(),[a,o]=b.useState(!1),[l,u]=b.useState(new Set),[d,f]=b.useState(!0),[h,p]=b.useState(!1),[m,g]=b.useState([]),[v,y]=b.useState(!1),x=n.filter(k=>k.status==="draft");b.useEffect(()=>{if(e){const k=lm();y(!!k),k&&xu.configure(k),u(new Set),g([])}},[e]);const w=k=>{u(P=>{const B=new Set(P);return B.has(k)?B.delete(k):B.add(k),B})},E=()=>{l.size===x.length?u(new Set):u(new Set(x.map(k=>k.id)))},_=k=>{const P=i.find(B=>B.id===k);return(P==null?void 0:P.name)||"Unknown Client"},N=k=>i.find(P=>P.id===k),T=k=>{const P=s.find(B=>B.id===k);return(P==null?void 0:P.name)||"Unknown Project"},C=k=>{const P=new Map;return k.forEach(B=>{const L=B.client_id||"no-client";P.has(L)||P.set(L,[]),P.get(L).push(B)}),P},O=async()=>{var k;if(!v){o(!0);return}if(l.size!==0){p(!0),g([]);try{const P=x.filter(R=>l.has(R.id)),B=[];if(d){const R=C(P);for(const[M,V]of R){const I=N(M),ee=(I==null?void 0:I.name)||"Unknown Client",W=await xu.exportInvoiceItems(V,ee,(I==null?void 0:I.email)||void 0,(I==null?void 0:I.company)||void 0);B.push({...W,clientName:ee,itemCount:V.length,items:V.map($=>$.id)})}}else{const R=N(((k=P[0])==null?void 0:k.client_id)||""),M=(R==null?void 0:R.name)||"Mixed Clients",V=await xu.exportInvoiceItems(P,M,(R==null?void 0:R.email)||void 0,(R==null?void 0:R.company)||void 0);B.push({...V,clientName:M,itemCount:P.length,items:P.map(I=>I.id)})}g(B);const j=B.filter(R=>R.success).flatMap(R=>R.items||[]);j.length>0&&await r(j)}catch(P){console.error("Export failed:",P),g([{success:!1,error:P instanceof Error?P.message:"Export failed"}])}finally{p(!1)}}},A=x.filter(k=>l.has(k.id)).reduce((k,P)=>k+P.total_amount,0),D=C(x.filter(k=>l.has(k.id)));return c.jsxs(c.Fragment,{children:[c.jsx(jn,{open:e,onOpenChange:t,children:c.jsxs(wn,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[c.jsxs(En,{children:[c.jsxs(Sn,{className:"flex items-center gap-2",children:[c.jsx(xt,{className:"h-5 w-5"}),"Export to Fortnox"]}),c.jsx(Ba,{children:"Export invoice items to Fortnox as invoices. Only draft items can be exported."})]}),c.jsxs("div",{className:"space-y-4",children:[!v&&c.jsx(Xf,{variant:"destructive",children:c.jsx(Qf,{children:"Fortnox integration is not configured. Please configure your API credentials first."})}),c.jsxs(X,{children:[c.jsx(ie,{className:"pb-3",children:c.jsx(ae,{className:"text-sm",children:"Export Options"})}),c.jsx(Q,{className:"space-y-3",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Io,{id:"groupByClient",checked:d,onCheckedChange:f}),c.jsx("label",{htmlFor:"groupByClient",className:"text-sm",children:"Create separate invoices for each client"})]})})]}),c.jsxs(X,{children:[c.jsx(ie,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(ae,{className:"text-sm",children:["Select Items (",x.length," available)"]}),c.jsx(z,{variant:"outline",size:"sm",onClick:E,children:l.size===x.length?"Deselect All":"Select All"})]})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:x.length===0?c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No draft items available for export"}):x.map(k=>c.jsxs("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[c.jsx(Io,{checked:l.has(k.id),onCheckedChange:()=>w(k.id)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-medium truncate",children:k.description}),c.jsxs("div",{className:"text-xs text-gray-500",children:[_(k.client_id||""),"  ",T(k.project_id||"")]})]}),c.jsx("div",{className:"text-sm font-medium",children:_e(k.total_amount)})]},k.id))})})]}),l.size>0&&c.jsxs(X,{children:[c.jsx(ie,{className:"pb-3",children:c.jsx(ae,{className:"text-sm",children:"Export Summary"})}),c.jsx(Q,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Selected items:"}),c.jsx("span",{children:l.size})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Total amount:"}),c.jsx("span",{className:"font-medium",children:_e(A)})]}),d&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Invoices to create:"}),c.jsx("span",{children:D.size})]})]})})]}),m.length>0&&c.jsxs(X,{children:[c.jsx(ie,{className:"pb-3",children:c.jsx(ae,{className:"text-sm",children:"Export Results"})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-2",children:m.map((k,P)=>c.jsxs("div",{className:`flex items-center gap-2 p-2 rounded text-sm ${k.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[k.success?c.jsx(vs,{className:"h-4 w-4"}):c.jsx(Tf,{className:"h-4 w-4"}),c.jsx("div",{className:"flex-1",children:k.success?c.jsxs(c.Fragment,{children:[c.jsx("div",{children:"Invoice created successfully"}),k.invoiceNumber&&c.jsxs("div",{className:"text-xs",children:["Invoice #: ",k.invoiceNumber]})]}):c.jsxs("div",{children:["Failed: ",k.error]})})]},P))})})]})]}),c.jsxs(wh,{className:"flex gap-2",children:[!v&&c.jsxs(z,{variant:"outline",onClick:()=>o(!0),className:"mr-auto",children:[c.jsx(w1,{className:"h-4 w-4 mr-2"}),"Configure Fortnox"]}),c.jsx(z,{variant:"outline",onClick:()=>t(!1),children:"Close"}),c.jsx(z,{onClick:O,disabled:!v||l.size===0||h,children:h?c.jsxs(c.Fragment,{children:[c.jsx(_f,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):c.jsxs(c.Fragment,{children:[c.jsx(zs,{className:"h-4 w-4 mr-2"}),"Export to Fortnox"]})})]})]})}),c.jsx(OJ,{open:a,onOpenChange:o,onConfigured:()=>{y(!0),o(!1)}})]})}function KWe({open:e,onOpenChange:t}){const{invoiceItems:n,markAsInvoiced:r}=Sc(),{clients:i}=lr(),{projects:s}=Sr(),[a,o]=b.useState(new Set),[l,u]=b.useState(!0),[d,f]=b.useState(""),[h,p]=b.useState(!1),m=n.filter(C=>C.status==="draft");b.useEffect(()=>{e&&(o(new Set),f(""),p(!1))},[e]);const g=C=>{o(O=>{const A=new Set(O);return A.has(C)?A.delete(C):A.add(C),A})},v=()=>{a.size===m.length?o(new Set):o(new Set(m.map(C=>C.id)))},y=C=>{const O=i.find(A=>A.id===C);return(O==null?void 0:O.name)||"Unknown Client"},x=C=>i.find(O=>O.id===C),w=C=>{const O=s.find(A=>A.id===C);return(O==null?void 0:O.name)||"Unknown Project"},E=C=>{const O=new Map;return C.forEach(A=>{const D=A.client_id||"no-client";O.has(D)||O.set(D,[]),O.get(D).push(A)}),O},_=async()=>{var O;if(a.size===0)return;const C=m.filter(A=>a.has(A.id));if(l)E(C).forEach((D,k)=>{const P=x(k),B=(P==null?void 0:P.name)||"Unknown Client";xu.downloadPlainTextInvoice(D,B,(P==null?void 0:P.email)||void 0,(P==null?void 0:P.company)||void 0,d||void 0)});else{const A=x(((O=C[0])==null?void 0:O.client_id)||""),D=(A==null?void 0:A.name)||"Mixed Clients";xu.downloadPlainTextInvoice(C,D,(A==null?void 0:A.email)||void 0,(A==null?void 0:A.company)||void 0,d||void 0)}await r(C.map(A=>A.id)),p(!0)},N=m.filter(C=>a.has(C.id)).reduce((C,O)=>C+O.total_amount,0),T=E(m.filter(C=>a.has(C.id)));return c.jsx(jn,{open:e,onOpenChange:t,children:c.jsxs(wn,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[c.jsxs(En,{children:[c.jsxs(Sn,{className:"flex items-center gap-2",children:[c.jsx(xt,{className:"h-5 w-5"}),"Export as Plain Text"]}),c.jsx(Ba,{children:"Export invoice items as readable text files for manual invoice creation. Only draft items can be exported."})]}),h?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(vs,{className:"h-12 w-12 mx-auto text-green-600 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-2",children:"Export Successful!"}),c.jsxs("p",{className:"text-gray-600",children:["Your invoice",T.size>1?"s have":" has"," been downloaded as text file",T.size>1?"s":"","."]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs(X,{children:[c.jsx(ie,{className:"pb-3",children:c.jsx(ae,{className:"text-sm",children:"Export Options"})}),c.jsxs(Q,{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Io,{id:"groupByClient",checked:l,onCheckedChange:u}),c.jsx("label",{htmlFor:"groupByClient",className:"text-sm",children:"Create separate files for each client"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"invoiceNumber",className:"text-sm",children:"Invoice Number (optional)"}),c.jsx(Te,{id:"invoiceNumber",placeholder:"e.g., INV-2025-001",value:d,onChange:C=>f(C.target.value)}),c.jsx("p",{className:"text-xs text-gray-500",children:"Leave empty to use placeholder (XXXX) in the exported file"})]})]})]}),c.jsxs(X,{children:[c.jsx(ie,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(ae,{className:"text-sm",children:["Select Items (",m.length," available)"]}),c.jsx(z,{variant:"outline",size:"sm",onClick:v,children:a.size===m.length?"Deselect All":"Select All"})]})}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.length===0?c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No draft items available for export"}):m.map(C=>c.jsxs("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[c.jsx(Io,{checked:a.has(C.id),onCheckedChange:()=>g(C.id)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-medium truncate",children:C.description}),c.jsxs("div",{className:"text-xs text-gray-500",children:[y(C.client_id||""),"  ",w(C.project_id||"")]})]}),c.jsx("div",{className:"text-sm font-medium",children:_e(C.total_amount)})]},C.id))})})]}),a.size>0&&c.jsxs(X,{children:[c.jsx(ie,{className:"pb-3",children:c.jsx(ae,{className:"text-sm",children:"Export Summary"})}),c.jsx(Q,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Selected items:"}),c.jsx("span",{children:a.size})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Total amount:"}),c.jsx("span",{className:"font-medium",children:_e(N)})]}),l&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Files to create:"}),c.jsx("span",{children:T.size})]})]})})]})]}),c.jsxs(wh,{className:"flex gap-2",children:[c.jsx(z,{variant:"outline",onClick:()=>t(!1),children:h?"Close":"Cancel"}),!h&&c.jsxs(z,{onClick:_,disabled:a.size===0,children:[c.jsx(zs,{className:"h-4 w-4 mr-2"}),"Export Text Files"]})]})]})})}function GWe(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[i,s]=b.useState(!1),[a,o]=b.useState(!1),{invoiceItems:l,loading:u,getInvoiceSummary:d,getClientSummaries:f}=Sc(),{clients:h,loading:p}=lr(),{projects:m,loading:g}=Sr(),v=u||p||g,y=d(),x=f(),w=()=>{t(!0)},E=()=>{r(!0)},_=()=>{console.log("Mark as invoiced")},N=()=>{console.log("Mark as paid")},T=()=>{s(!0)},C=()=>{o(!0)},O=D=>{console.log("Client clicked:",D)},A=D=>{console.log("Item clicked:",D)};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Invoicing"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Track unbilled work and manage invoice items for clients and projects"})]}),c.jsxs(z,{onClick:w,className:"sm:w-auto w-full",children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"New Invoice Item"]})]}),c.jsx(LWe,{summary:y,loading:v}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 min-h-[600px]",children:[c.jsx("div",{className:"lg:col-span-4 xl:col-span-3",children:c.jsx(BWe,{clients:x,loading:v,onClientClick:O})}),c.jsx("div",{className:"lg:col-span-5 xl:col-span-6",children:c.jsx(FWe,{items:l,loading:v,onItemClick:A,clients:h,projects:m})}),c.jsx("div",{className:"lg:col-span-3 xl:col-span-3",children:c.jsx($We,{onCreateInvoiceItem:w,onCreateFromTime:E,onMarkAsInvoiced:_,onMarkAsPaid:N,onExportToFortnox:T,onExportPlainText:C})})]}),c.jsx("div",{className:"grid grid-cols-1 min-h-[400px]",children:c.jsx(UWe,{items:l,loading:v})}),!v&&l.length===0&&c.jsx(X,{className:"text-center py-12",children:c.jsxs(Q,{children:[c.jsx(ah,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No invoice items yet"}),c.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Start tracking your unbilled work by creating invoice items for your clients and projects. You can create items manually or convert time entries into billable items."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[c.jsxs(z,{onClick:w,children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Create First Invoice Item"]}),c.jsxs(z,{variant:"outline",onClick:E,children:[c.jsx(ht,{className:"h-4 w-4 mr-2"}),"Import from Time Tracking"]})]})]})}),c.jsx(zWe,{open:e,onOpenChange:t}),c.jsx(HWe,{open:n,onOpenChange:r}),c.jsx(qWe,{open:i,onOpenChange:s}),c.jsx(KWe,{open:a,onOpenChange:o})]})}function bE(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState(null),{user:a}=Fr(),o=b.useCallback(async()=>{if(!a){t([]),r(!1);return}try{r(!0);const{data:h,error:p}=await se.from("cv_profiles").select("*").eq("user_id",a.id).order("updated_at",{ascending:!1});if(p)throw p;t(h||[])}catch(h){s(h instanceof Error?h.message:"An error occurred")}finally{r(!1)}},[a]),l=async h=>{if(!a)throw new Error("User not authenticated");try{const{data:p,error:m}=await se.from("cv_profiles").insert([{...h,user_id:a.id}]).select().single();if(m)throw m;return t(g=>[p,...g]),p}catch(p){throw new Error(p instanceof Error?p.message:"Failed to create profile")}},u=async(h,p)=>{try{const{data:m,error:g}=await se.from("cv_profiles").update(p).eq("id",h).select().single();if(g)throw g;return t(v=>v.map(y=>y.id===h?m:y)),m}catch(m){throw new Error(m instanceof Error?m.message:"Failed to update profile")}},d=async h=>{try{const{error:p}=await se.from("cv_profiles").delete().eq("id",h);if(p)throw p;t(m=>m.filter(g=>g.id!==h))}catch(p){throw new Error(p instanceof Error?p.message:"Failed to delete profile")}},f=async(h,p)=>{const m=e.find(E=>E.id===h);if(!m)throw new Error("Profile not found");const{id:g,user_id:v,created_at:y,updated_at:x,...w}=m;return l({...w,title:p,is_active:!1})};return b.useEffect(()=>{o()},[o]),{profiles:e,loading:n,error:i,createProfile:l,updateProfile:u,deleteProfile:d,duplicateProfile:f,refetch:o}}function jJ(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),{user:o}=Fr(),l=b.useCallback(async()=>{if(!o){n([]),i(!1);return}try{i(!0);let p=se.from("job_applications").select(`
          *,
          cv_profiles!inner(
            id,
            title,
            user_id
          )
        `).eq("cv_profiles.user_id",o.id).order("application_date",{ascending:!1});const{data:m,error:g}=await p;if(g)throw g;n(m||[])}catch(p){a(p instanceof Error?p.message:"An error occurred")}finally{i(!1)}},[o,e]),u=async p=>{try{const{data:m,error:g}=await se.from("job_applications").insert([p]).select().single();if(g)throw g;return n(v=>[m,...v]),m}catch(m){throw new Error(m instanceof Error?m.message:"Failed to create application")}},d=async(p,m)=>{try{const{data:g,error:v}=await se.from("job_applications").update(m).eq("id",p).select().single();if(v)throw v;return n(y=>y.map(x=>x.id===p?g:x)),g}catch(g){throw new Error(g instanceof Error?g.message:"Failed to update application")}},f=async p=>{try{const{error:m}=await se.from("job_applications").delete().eq("id",p);if(m)throw m;n(g=>g.filter(v=>v.id!==p))}catch(m){throw new Error(m instanceof Error?m.message:"Failed to delete application")}},h=()=>{const p=t.length,m=t.reduce((y,x)=>(y[x.status]=(y[x.status]||0)+1,y),{}),g=p>0?(m.interview||0)/p*100:0,v=p>0?((m.offered||0)+(m.accepted||0))/p*100:0;return{total:p,byStatus:m,interviewRate:Math.round(g),successRate:Math.round(v),pending:(m.applied||0)+(m.interview||0)}};return b.useEffect(()=>{l()},[l]),{applications:t,loading:r,error:s,createApplication:u,updateApplication:d,deleteApplication:f,getApplicationStats:h,refetch:l}}function YWe(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState(null),{user:a}=Fr(),o=b.useCallback(async()=>{if(!a){t([]),r(!1);return}try{r(!0);const{data:m,error:g}=await se.from("cv_skills").select(`
          *,
          cv_profiles!inner(
            id,
            title,
            user_id
          )
        `).eq("cv_profiles.user_id",a.id).order("skill_level",{ascending:!1}).order("skill_name",{ascending:!0});if(g)throw g;t(m||[])}catch(m){s(m instanceof Error?m.message:"An error occurred")}finally{r(!1)}},[a]),l=()=>e.reduce((m,g)=>{const v=g.cv_profile_id;return m[v]||(m[v]=[]),m[v].push(g),m},{}),u=()=>e.reduce((m,g)=>{const v=g.category||"Uncategorized";return m[v]||(m[v]=[]),m[v].push(g),m},{}),d=(m=10)=>[...e].sort((g,v)=>g.skill_level!==v.skill_level?v.skill_level-g.skill_level:g.is_highlighted!==v.is_highlighted?g.is_highlighted?-1:1:g.skill_name.localeCompare(v.skill_name)).slice(0,m),f=()=>{const m=e.length,g=e.filter(x=>x.is_highlighted).length,v=e.reduce((x,w)=>(x[w.skill_level]=(x[w.skill_level]||0)+1,x),{}),y=m>0?e.reduce((x,w)=>x+w.skill_level,0)/m:0;return{total:m,highlighted:g,byLevel:v,averageLevel:Math.round(y*10)/10,categories:Object.keys(u()).length}},h=async m=>{try{const{error:g}=await se.from("cv_skills").delete().eq("id",m);if(g)throw g;t(v=>v.filter(y=>y.id!==m))}catch(g){throw new Error(g instanceof Error?g.message:"Failed to delete skill")}},p=async(m,g)=>{try{const{data:v,error:y}=await se.from("cv_skills").update(g).eq("id",m).select().single();if(y)throw y;return t(x=>x.map(w=>w.id===m?v:w)),v}catch(v){throw new Error(v instanceof Error?v.message:"Failed to update skill")}};return b.useEffect(()=>{o()},[o]),{skills:e,loading:n,error:i,getSkillsByProfile:l,getSkillsByCategory:u,getTopSkills:d,getSkillStats:f,deleteSkill:h,updateSkill:p,refetch:o}}function XWe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(!e){n([]),i(!1);return}try{i(!0),a(null);const{data:v,error:y}=await se.from("cv_motivation_texts").select("*").eq("cv_profile_id",e).order("sort_order",{ascending:!0}).order("created_at",{ascending:!1});if(y)throw y;n(v||[])}catch(v){a(v instanceof Error?v.message:"Failed to fetch motivation texts"),console.error("Error fetching motivation texts:",v)}finally{i(!1)}},[e]),l=async v=>{try{a(null),v.is_default&&await se.from("cv_motivation_texts").update({is_default:!1}).eq("cv_profile_id",v.cv_profile_id);const{data:y,error:x}=await se.from("cv_motivation_texts").insert([v]).select().single();if(x)throw x;return await o(),y}catch(y){return a(y instanceof Error?y.message:"Failed to create motivation text"),console.error("Error creating motivation text:",y),null}},u=async(v,y)=>{try{a(null),y.is_default&&e&&await se.from("cv_motivation_texts").update({is_default:!1}).eq("cv_profile_id",e).neq("id",v);const{error:x}=await se.from("cv_motivation_texts").update(y).eq("id",v);if(x)throw x;return await o(),!0}catch(x){return a(x instanceof Error?x.message:"Failed to update motivation text"),console.error("Error updating motivation text:",x),!1}},d=async v=>{try{a(null);const{error:y}=await se.from("cv_motivation_texts").delete().eq("id",v);if(y)throw y;return await o(),!0}catch(y){return a(y instanceof Error?y.message:"Failed to delete motivation text"),console.error("Error deleting motivation text:",y),!1}},f=async(v,y)=>{try{a(null);const{data:x,error:w}=await se.from("cv_motivation_texts").select("*").eq("id",v).single();if(w)throw w;const E={cv_profile_id:x.cv_profile_id,title:y||`${x.title} (Copy)`,content:x.content,purpose:x.purpose,is_default:!1,sort_order:x.sort_order+1};return await l(E)}catch(x){return a(x instanceof Error?x.message:"Failed to duplicate motivation text"),console.error("Error duplicating motivation text:",x),null}},h=async v=>await u(v,{is_default:!0}),p=()=>t.find(v=>v.is_default)||t[0]||null,m=v=>t.filter(y=>y.purpose===v),g=()=>{const v=t.map(y=>y.purpose);return Array.from(new Set(v)).filter(Boolean)};return b.useEffect(()=>{o()},[e,o]),{motivationTexts:t,loading:r,error:s,fetchMotivationTexts:o,createMotivationText:l,updateMotivationText:u,deleteMotivationText:d,duplicateMotivationText:f,setAsDefault:h,getDefaultMotivationText:p,getMotivationTextsByPurpose:m,getAllPurposes:g}}function QWe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(!e){n([]),i(!1);return}try{i(!0);const{data:h,error:p}=await se.from("cv_projects_enhanced").select("*").eq("cv_profile_id",e).order("sort_order",{ascending:!0});if(p)throw p;n(h||[])}catch(h){console.error("Error fetching projects:",h),a(h instanceof Error?h.message:"Unknown error")}finally{i(!1)}},[e]);b.useEffect(()=>{o()},[o]);const l=async h=>{try{const{data:p,error:m}=await se.from("cv_projects").insert([{...h,cv_profile_id:e}]).select().single();if(m)throw m;return await o(),p}catch(p){return console.error("Error creating project:",p),a(p instanceof Error?p.message:"Unknown error"),null}},u=async(h,p)=>{try{const{error:m}=await se.from("cv_projects").update(p).eq("id",h);if(m)throw m;return await o(),!0}catch(m){return console.error("Error updating project:",m),a(m instanceof Error?m.message:"Unknown error"),!1}};return{projects:t,loading:r,error:s,fetchProjects:o,createProject:l,updateProject:u,deleteProject:async h=>{try{const{error:p}=await se.from("cv_projects").delete().eq("id",h);if(p)throw p;return await o(),!0}catch(p){return console.error("Error deleting project:",p),a(p instanceof Error?p.message:"Unknown error"),!1}},toggleFeatured:async h=>{const p=t.find(m=>m.id===h);return p?u(h,{is_featured:!p.is_featured}):!1}}}function JWe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(!e){n([]),i(!1);return}try{i(!0);const{data:f,error:h}=await se.from("cv_experiences_enhanced").select("*").eq("cv_profile_id",e).order("start_date",{ascending:!1});if(h)throw h;n(f||[])}catch(f){console.error("Error fetching experiences:",f),a(f instanceof Error?f.message:"Unknown error")}finally{i(!1)}},[e]);return b.useEffect(()=>{o()},[o]),{experiences:t,loading:r,error:s,fetchExperiences:o,createExperience:async f=>{try{const{data:h,error:p}=await se.from("cv_experiences").insert([{...f,cv_profile_id:e}]).select().single();if(p)throw p;return await o(),h}catch(h){return console.error("Error creating experience:",h),a(h instanceof Error?h.message:"Unknown error"),null}},updateExperience:async(f,h)=>{try{const{error:p}=await se.from("cv_experiences").update(h).eq("id",f);if(p)throw p;return await o(),!0}catch(p){return console.error("Error updating experience:",p),a(p instanceof Error?p.message:"Unknown error"),!1}},deleteExperience:async f=>{try{const{error:h}=await se.from("cv_experiences").delete().eq("id",f);if(h)throw h;return await o(),!0}catch(h){return console.error("Error deleting experience:",h),a(h instanceof Error?h.message:"Unknown error"),!1}}}}function ZWe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(!e){n([]),i(!1);return}try{i(!0);const{data:p,error:m}=await se.from("cv_technology_tags").select("*").eq("cv_profile_id",e).order("usage_count",{ascending:!1});if(m)throw m;n(p||[])}catch(p){console.error("Error fetching technology tags:",p),a(p instanceof Error?p.message:"Unknown error")}finally{i(!1)}},[e]);return b.useEffect(()=>{o()},[o]),{tags:t,loading:r,error:s,fetchTags:o,createTag:async p=>{try{const{data:m,error:g}=await se.from("cv_technology_tags").insert([p]).select().single();if(g)throw g;return await o(),m}catch(m){return console.error("Error creating technology tag:",m),a(m instanceof Error?m.message:"Unknown error"),null}},updateTag:async(p,m)=>{try{const{error:g}=await se.from("cv_technology_tags").update(m).eq("id",p);if(g)throw g;return await o(),!0}catch(g){return console.error("Error updating technology tag:",g),a(g instanceof Error?g.message:"Unknown error"),!1}},deleteTag:async p=>{try{const{error:m}=await se.from("cv_technology_tags").delete().eq("id",p);if(m)throw m;return await o(),!0}catch(m){return console.error("Error deleting technology tag:",m),a(m instanceof Error?m.message:"Unknown error"),!1}},getTagsByCategory:p=>t.filter(m=>m.category===p),getAllCategories:()=>[...new Set(t.map(p=>p.category))].filter(Boolean)}}function eVe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(!e){n([]),i(!1);return}try{i(!0);const{data:m,error:g}=await se.from("cv_achievements").select("*").eq("cv_profile_id",e).order("date_achieved",{ascending:!1});if(g)throw g;n(m||[])}catch(m){console.error("Error fetching achievements:",m),a(m instanceof Error?m.message:"Unknown error")}finally{i(!1)}},[e]);b.useEffect(()=>{o()},[o]);const l=async m=>{try{const{data:g,error:v}=await se.from("cv_achievements").insert([m]).select().single();if(v)throw v;return await o(),g}catch(g){return console.error("Error creating achievement:",g),a(g instanceof Error?g.message:"Unknown error"),null}},u=async(m,g)=>{try{const{error:v}=await se.from("cv_achievements").update(g).eq("id",m);if(v)throw v;return await o(),!0}catch(v){return console.error("Error updating achievement:",v),a(v instanceof Error?v.message:"Unknown error"),!1}};return{achievements:t,loading:r,error:s,fetchAchievements:o,createAchievement:l,updateAchievement:u,deleteAchievement:async m=>{try{const{error:g}=await se.from("cv_achievements").delete().eq("id",m);if(g)throw g;return await o(),!0}catch(g){return console.error("Error deleting achievement:",g),a(g instanceof Error?g.message:"Unknown error"),!1}},toggleFeatured:async m=>{const g=t.find(v=>v.id===m);return g?u(m,{is_featured:!g.is_featured}):!1},getAchievementsByType:m=>t.filter(g=>g.achievement_type===m),getFeaturedAchievements:()=>t.filter(m=>m.is_featured)}}function tVe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(!e){n([]),i(!1);return}try{i(!0);const{data:h,error:p}=await se.from("cv_education_comprehensive").select("*").eq("cv_profile_id",e).order("start_date",{ascending:!1});if(p)throw p;n(h||[])}catch(h){console.error("Error fetching education:",h),a(h instanceof Error?h.message:"Unknown error")}finally{i(!1)}},[e]);b.useEffect(()=>{o()},[o]);const l=async h=>{try{const{data:p,error:m}=await se.from("cv_education").insert([{...h,cv_profile_id:e}]).select().single();if(m)throw m;return await o(),p}catch(p){return console.error("Error creating education:",p),a(p instanceof Error?p.message:"Unknown error"),null}},u=async(h,p)=>{try{const{error:m}=await se.from("cv_education").update(p).eq("id",h);if(m)throw m;return await o(),!0}catch(m){return console.error("Error updating education:",m),a(m instanceof Error?m.message:"Unknown error"),!1}};return{education:t,loading:r,error:s,fetchEducation:o,createEducation:l,updateEducation:u,deleteEducation:async h=>{try{const{error:p}=await se.from("cv_education").delete().eq("id",h);if(p)throw p;return await o(),!0}catch(p){return console.error("Error deleting education:",p),a(p instanceof Error?p.message:"Unknown error"),!1}},toggleFeatured:async h=>{const p=t.find(m=>m.id===h);return p?u(h,{is_featured:!p.is_featured}):!1}}}function nVe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(!e){n([]),i(!1);return}try{i(!0);const{data:g,error:v}=await se.from("cv_certifications_status").select("*").eq("cv_profile_id",e).order("issue_date",{ascending:!1});if(v)throw v;n(g||[])}catch(g){console.error("Error fetching certifications:",g),a(g instanceof Error?g.message:"Unknown error")}finally{i(!1)}},[e]);b.useEffect(()=>{o()},[o]);const l=async g=>{try{const{data:v,error:y}=await se.from("cv_certifications").insert([{...g,cv_profile_id:e}]).select().single();if(y)throw y;return await o(),v}catch(v){return console.error("Error creating certification:",v),a(v instanceof Error?v.message:"Unknown error"),null}},u=async(g,v)=>{try{const{error:y}=await se.from("cv_certifications").update(v).eq("id",g);if(y)throw y;return await o(),!0}catch(y){return console.error("Error updating certification:",y),a(y instanceof Error?y.message:"Unknown error"),!1}};return{certifications:t,loading:r,error:s,fetchCertifications:o,createCertification:l,updateCertification:u,deleteCertification:async g=>{try{const{error:v}=await se.from("cv_certifications").delete().eq("id",g);if(v)throw v;return await o(),!0}catch(v){return console.error("Error deleting certification:",v),a(v instanceof Error?v.message:"Unknown error"),!1}},toggleFeatured:async g=>{const v=t.find(y=>y.id===g);return v?u(g,{is_featured:!v.is_featured}):!1},getExpiringSoon:()=>t.filter(g=>g.status==="Expiring Soon"),getExpired:()=>t.filter(g=>g.status==="Expired"),getValidCertifications:()=>t.filter(g=>g.status==="Valid"||g.status==="Permanent")}}function rVe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!0),[s,a]=b.useState(null),o=b.useCallback(async()=>{if(!e){n([]),i(!1);return}try{i(!0);const{data:d,error:f}=await se.from("cv_education_timeline").select("*").eq("cv_profile_id",e).order("start_date",{ascending:!1});if(f)throw f;n(d||[])}catch(d){console.error("Error fetching education timeline:",d),a(d instanceof Error?d.message:"Unknown error")}finally{i(!1)}},[e]);return b.useEffect(()=>{o()},[o]),{timeline:t,loading:r,error:s,fetchTimeline:o,getTimelineByYear:()=>{const d={};return t.forEach(f=>{const h=f.start_date?new Date(f.start_date).getFullYear().toString():"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),d},getTimelineByType:d=>t.filter(f=>f.item_type===d)}}function iVe(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState(null),a=async()=>{try{r(!0);const{data:u,error:d}=await se.from("cv_templates").select("*").eq("is_active",!0).order("template_type",{ascending:!0});if(d)throw d;t(u||[])}catch(u){s(u instanceof Error?u.message:"Failed to fetch templates")}finally{r(!1)}};return b.useEffect(()=>{a()},[]),{templates:e,loading:n,error:i,refetch:a,getTemplatesByType:u=>e.filter(d=>d.template_type===u),getTemplatesByIndustry:u=>e.filter(d=>d.industry_focus===u)}}function sVe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!1),[s,a]=b.useState(null),o=async()=>{if(!e){n([]);return}try{i(!0);const{data:h,error:p}=await se.from("cv_generations").select(`
          *,
          cv_templates(name, template_type)
        `).eq("cv_profile_id",e).order("created_at",{ascending:!1});if(p)throw p;n(h||[])}catch(h){a(h instanceof Error?h.message:"Failed to fetch generations")}finally{i(!1)}},l=async h=>{try{const{data:p,error:m}=await se.from("cv_generations").insert([{cv_profile_id:e,...h}]).select().single();if(m)throw m;return await f("generation",1,{template_id:h.template_id,format:h.output_format}),await o(),p}catch(p){throw a(p instanceof Error?p.message:"Failed to create generation"),p}},u=async(h,p)=>{try{const{error:m}=await se.from("cv_generations").update(p).eq("id",h);if(m)throw m;await o()}catch(m){throw a(m instanceof Error?m.message:"Failed to update generation"),m}},d=async h=>{try{const{error:p}=await se.rpc("increment_download_count",{generation_id:h});if(p)throw p;await f("download",1,{generation_id:h}),await o()}catch(p){a(p instanceof Error?p.message:"Failed to record download")}},f=async(h,p=1,m={})=>{if(e)try{await se.rpc("record_cv_metric",{profile_id:e,metric_type:h,metric_value:p,metadata:m})}catch(g){console.error("Failed to record metric:",g)}};return b.useEffect(()=>{o()},[e]),{generations:t,loading:r,error:s,createGeneration:l,updateGeneration:u,recordDownload:d,recordMetric:f,refetch:o}}function aVe(e){const[t,n]=b.useState([]),[r,i]=b.useState(null),[s,a]=b.useState(!1),o=async(d=30)=>{if(!e){n([]),i(null);return}try{a(!0);const{data:f,error:h}=await se.from("cv_analytics").select("*").eq("cv_profile_id",e).gte("recorded_at",new Date(Date.now()-d*24*60*60*1e3).toISOString()).order("recorded_at",{ascending:!1});if(h)throw h;const{data:p,error:m}=await se.rpc("get_cv_analytics_summary",{profile_id:e,days_back:d});if(m)throw m;n(f||[]),i((p==null?void 0:p[0])||null)}catch(f){console.error("Failed to fetch analytics:",f)}finally{a(!1)}},l=d=>t.filter(f=>f.metric_type===d),u=d=>{const f=new Date(Date.now()-d*24*60*60*1e3);return t.filter(h=>new Date(h.recorded_at)>=f)};return b.useEffect(()=>{o()},[e]),{analytics:t,summary:r,loading:s,fetchAnalytics:o,getMetricsByType:l,getUsageByTimeframe:u}}function oVe({open:e,onOpenChange:t}){const{createProfile:n}=bE(),[r,i]=b.useState(!1),[s,a]=b.useState({title:"",description:"",target_role:"",location:"",phone:"",email:"",linkedin_url:"",github_url:"",website_url:"",summary:"",key_attributes:[]}),[o,l]=b.useState(""),u=(p,m)=>{a(g=>({...g,[p]:m}))},d=()=>{o.trim()&&!s.key_attributes.includes(o.trim())&&(a(p=>({...p,key_attributes:[...p.key_attributes,o.trim()]})),l(""))},f=p=>{a(m=>({...m,key_attributes:m.key_attributes.filter(g=>g!==p)}))},h=async p=>{if(p.preventDefault(),!!s.title.trim()){i(!0);try{await n({...s,is_active:!0}),t(!1),a({title:"",description:"",target_role:"",location:"",phone:"",email:"",linkedin_url:"",github_url:"",website_url:"",summary:"",key_attributes:[]})}catch(m){console.error("Failed to create CV profile:",m)}finally{i(!1)}}};return c.jsx(jn,{open:e,onOpenChange:t,children:c.jsxs(wn,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[c.jsxs(En,{children:[c.jsx(Sn,{children:"Create New CV Profile"}),c.jsx(Ba,{children:"Create a new CV profile tailored for specific roles or industries."})]}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(Ee,{htmlFor:"title",children:"Profile Title *"}),c.jsx(Te,{id:"title",value:s.title,onChange:p=>u("title",p.target.value),placeholder:"e.g., Senior Full Stack Developer",required:!0})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(Ee,{htmlFor:"description",children:"Description"}),c.jsx(Bi,{id:"description",value:s.description,onChange:p=>u("description",p.target.value),placeholder:"Brief description of this CV version",rows:2})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"target_role",children:"Target Role"}),c.jsx(Te,{id:"target_role",value:s.target_role,onChange:p=>u("target_role",p.target.value),placeholder:"e.g., Full Stack Developer"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"location",children:"Location"}),c.jsx(Te,{id:"location",value:s.location,onChange:p=>u("location",p.target.value),placeholder:"e.g., Stockholm, Sweden"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"phone",children:"Phone"}),c.jsx(Te,{id:"phone",value:s.phone,onChange:p=>u("phone",p.target.value),placeholder:"e.g., +46 70 123 4567"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"email",children:"Email"}),c.jsx(Te,{id:"email",type:"email",value:s.email,onChange:p=>u("email",p.target.value),placeholder:"e.g., your.email@example.com"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),c.jsx(Te,{id:"linkedin_url",value:s.linkedin_url,onChange:p=>u("linkedin_url",p.target.value),placeholder:"e.g., https://linkedin.com/in/yourprofile"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"github_url",children:"GitHub URL"}),c.jsx(Te,{id:"github_url",value:s.github_url,onChange:p=>u("github_url",p.target.value),placeholder:"e.g., https://github.com/yourusername"})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"website_url",children:"Website URL"}),c.jsx(Te,{id:"website_url",value:s.website_url,onChange:p=>u("website_url",p.target.value),placeholder:"e.g., https://yourportfolio.com"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(Ee,{htmlFor:"summary",children:"Professional Summary"}),c.jsx(Bi,{id:"summary",value:s.summary,onChange:p=>u("summary",p.target.value),placeholder:"Brief professional summary highlighting your expertise and goals",rows:4})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(Ee,{children:"Key Role Attributes"}),c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsx(Te,{value:o,onChange:p=>l(p.target.value),placeholder:"Add a key attribute",onKeyPress:p=>p.key==="Enter"&&(p.preventDefault(),d())}),c.jsx(z,{type:"button",onClick:d,size:"sm",children:c.jsx(at,{className:"h-4 w-4"})})]}),s.key_attributes.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:s.key_attributes.map((p,m)=>c.jsxs(Ye,{variant:"secondary",className:"flex items-center gap-1",children:[p,c.jsx(Tg,{className:"h-3 w-3 cursor-pointer hover:text-red-500",onClick:()=>f(p)})]},m))})]})]}),c.jsxs(wh,{children:[c.jsx(z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),c.jsx(z,{type:"submit",disabled:r||!s.title.trim(),children:r?"Creating...":"Create Profile"})]})]})]})})}const _k={1:{label:"Grundlggande",description:"Kan utfra enklare uppgifter med viss arbetsledning"},2:{label:"Medelkompetens",description:"Bekvm i frdigheter, kan arbeta sjlvstndigt med viss vgledning"},3:{label:"Hg kompetens",description:"Stark kompetens med flera rs erfarenhet, arbetar sjlvstndigt"},4:{label:"Mycket hg kompetens",description:"Hg generalistkompetens, axlar huvudansvar"},5:{label:"Expert",description:"Behrskar allt inom omrdet, leder andra och hller utbildningar"}},Tk={applied:{label:"Applied",color:"blue"},interview:{label:"Interview",color:"yellow"},rejected:{label:"Rejected",color:"red"},offered:{label:"Offered",color:"green"},accepted:{label:"Accepted",color:"green"},withdrawn:{label:"Withdrawn",color:"gray"}},lVe=["Programming Languages","Frameworks & Libraries","Databases","Cloud Platforms","Development Tools","Project Management","Soft Skills","Languages","Certifications"];function cVe({open:e,onOpenChange:t,defaultCvProfileId:n}){const{createApplication:r}=jJ(),{profiles:i}=bE(),[s,a]=b.useState(!1),[o,l]=b.useState({cv_profile_id:n||"",company_name:"",job_title:"",job_url:"",application_date:new Date().toISOString().split("T")[0],status:"applied",cover_letter:"",job_highlights:"",custom_summary:"",interview_notes:"",follow_up_date:"",salary_range:"",location:"",remote_option:!1}),u=async f=>{if(f.preventDefault(),!(!o.cv_profile_id||!o.company_name||!o.job_title)){a(!0);try{await r({...o,follow_up_date:o.follow_up_date||void 0}),l({cv_profile_id:n||"",company_name:"",job_title:"",job_url:"",application_date:new Date().toISOString().split("T")[0],status:"applied",cover_letter:"",job_highlights:"",custom_summary:"",interview_notes:"",follow_up_date:"",salary_range:"",location:"",remote_option:!1}),t(!1)}catch(h){console.error("Failed to create application:",h)}finally{a(!1)}}},d=(f,h)=>{l(p=>({...p,[f]:h}))};return c.jsx(jn,{open:e,onOpenChange:t,children:c.jsxs(wn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs(En,{children:[c.jsx(Sn,{children:"Add Job Application"}),c.jsx(Ba,{children:"Track a new job application and its details"})]}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"cv_profile_id",children:"CV Profile *"}),c.jsxs("select",{id:"cv_profile_id",value:o.cv_profile_id,onChange:f=>d("cv_profile_id",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Select CV profile",required:!0,children:[c.jsx("option",{value:"",children:"Select a CV profile"}),i.map(f=>c.jsxs("option",{value:f.id,children:[f.title," ",f.target_role&&`(${f.target_role})`]},f.id))]})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"company_name",children:"Company Name *"}),c.jsx(Te,{id:"company_name",value:o.company_name,onChange:f=>d("company_name",f.target.value),placeholder:"e.g. Acme Corporation",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"job_title",children:"Job Title *"}),c.jsx(Te,{id:"job_title",value:o.job_title,onChange:f=>d("job_title",f.target.value),placeholder:"e.g. Senior Developer",required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"job_url",children:"Job Posting URL"}),c.jsx(Te,{id:"job_url",type:"url",value:o.job_url,onChange:f=>d("job_url",f.target.value),placeholder:"https://..."})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"application_date",children:"Application Date *"}),c.jsx(Te,{id:"application_date",type:"date",value:o.application_date,onChange:f=>d("application_date",f.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"status",children:"Status"}),c.jsx("select",{id:"status",value:o.status,onChange:f=>d("status",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Application status",children:Object.entries(Tk).map(([f,{label:h}])=>c.jsx("option",{value:f,children:h},f))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"follow_up_date",children:"Follow-up Date"}),c.jsx(Te,{id:"follow_up_date",type:"date",value:o.follow_up_date,onChange:f=>d("follow_up_date",f.target.value)})]})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"location",children:"Location"}),c.jsx(Te,{id:"location",value:o.location,onChange:f=>d("location",f.target.value),placeholder:"e.g. Stockholm, Sweden"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"salary_range",children:"Salary Range"}),c.jsx(Te,{id:"salary_range",value:o.salary_range,onChange:f=>d("salary_range",f.target.value),placeholder:"e.g. 800,000 - 1,000,000 SEK"})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Io,{id:"remote_option",checked:o.remote_option,onCheckedChange:f=>d("remote_option",f)}),c.jsx(Ee,{htmlFor:"remote_option",children:"Remote work option available"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"job_highlights",children:"Job Highlights"}),c.jsx(Bi,{id:"job_highlights",value:o.job_highlights,onChange:f=>d("job_highlights",f.target.value),placeholder:"Key points about this job opportunity...",rows:3})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"custom_summary",children:"Custom Summary"}),c.jsx(Bi,{id:"custom_summary",value:o.custom_summary,onChange:f=>d("custom_summary",f.target.value),placeholder:"How you tailored your application for this role...",rows:3})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"cover_letter",children:"Cover Letter Notes"}),c.jsx(Bi,{id:"cover_letter",value:o.cover_letter,onChange:f=>d("cover_letter",f.target.value),placeholder:"Notes about your cover letter or key points mentioned...",rows:3})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"interview_notes",children:"Interview Notes"}),c.jsx(Bi,{id:"interview_notes",value:o.interview_notes,onChange:f=>d("interview_notes",f.target.value),placeholder:"Interview details, questions asked, feedback received...",rows:3})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(z,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),c.jsxs(z,{type:"submit",disabled:s,children:[s&&c.jsx(_f,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Application"]})]})]})]})})}function uVe({open:e,onOpenChange:t,defaultCvProfileId:n,onSkillCreated:r}){const{profiles:i}=bE(),[s,a]=b.useState(!1),[o,l]=b.useState({cv_profile_id:n||"",skill_name:"",skill_level:3,category:"",years_of_experience:"",last_used_date:"",is_highlighted:!1}),u=async p=>{const{data:m,error:g}=await se.from("cv_skills").insert([p]).select().single();if(g)throw g;return m},d=async p=>{if(p.preventDefault(),!(!o.cv_profile_id||!o.skill_name)){a(!0);try{await u({cv_profile_id:o.cv_profile_id,skill_name:o.skill_name,skill_level:o.skill_level,category:o.category||void 0,years_of_experience:o.years_of_experience?parseInt(o.years_of_experience):void 0,last_used_date:o.last_used_date||void 0,is_highlighted:o.is_highlighted,sort_order:0}),l({cv_profile_id:n||"",skill_name:"",skill_level:3,category:"",years_of_experience:"",last_used_date:"",is_highlighted:!1}),r==null||r(),t(!1)}catch(m){console.error("Failed to create skill:",m)}finally{a(!1)}}},f=(p,m)=>{l(g=>({...g,[p]:m}))},h=p=>{switch(p){case 1:return"bg-red-100 text-red-700 border-red-200";case 2:return"bg-orange-100 text-orange-700 border-orange-200";case 3:return"bg-yellow-100 text-yellow-700 border-yellow-200";case 4:return"bg-blue-100 text-blue-700 border-blue-200";case 5:return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return c.jsx(jn,{open:e,onOpenChange:t,children:c.jsxs(wn,{className:"max-w-lg",children:[c.jsxs(En,{children:[c.jsx(Sn,{children:"Add Skill"}),c.jsx(Ba,{children:"Add a new skill with Kammarkollegiet competency level (1-5)"})]}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"cv_profile_id",children:"CV Profile *"}),c.jsxs("select",{id:"cv_profile_id",value:o.cv_profile_id,onChange:p=>f("cv_profile_id",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Select CV profile",required:!0,children:[c.jsx("option",{value:"",children:"Select a CV profile"}),i.map(p=>c.jsxs("option",{value:p.id,children:[p.title," ",p.target_role&&`(${p.target_role})`]},p.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"skill_name",children:"Skill Name *"}),c.jsx(Te,{id:"skill_name",value:o.skill_name,onChange:p=>f("skill_name",p.target.value),placeholder:"e.g. React, Project Management, Java",required:!0})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Ee,{children:"Competency Level (Kammarkollegiet Scale) *"}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(_k).map(([p,{label:m,description:g}])=>c.jsxs("label",{className:`flex items-start p-3 border rounded-lg cursor-pointer transition-all hover:bg-gray-50 ${o.skill_level===parseInt(p)?h(parseInt(p))+" ring-2 ring-offset-1":"border-gray-200"}`,children:[c.jsx("input",{type:"radio",name:"skill_level",value:p,checked:o.skill_level===parseInt(p),onChange:v=>f("skill_level",parseInt(v.target.value)),className:"mt-0.5 mr-3"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"font-medium",children:[p,". ",m]}),parseInt(p)>=4&&c.jsx(Zn,{className:"h-4 w-4 text-yellow-500"})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g})]})]},p))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"category",children:"Category"}),c.jsxs("select",{id:"category",value:o.category,onChange:p=>f("category",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Select skill category",children:[c.jsx("option",{value:"",children:"Select a category"}),lVe.map(p=>c.jsx("option",{value:p,children:p},p))]})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"years_of_experience",children:"Years of Experience"}),c.jsx(Te,{id:"years_of_experience",type:"number",min:"0",max:"50",value:o.years_of_experience,onChange:p=>f("years_of_experience",p.target.value),placeholder:"e.g. 5"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"last_used_date",children:"Last Used"}),c.jsx(Te,{id:"last_used_date",type:"date",value:o.last_used_date,onChange:p=>f("last_used_date",p.target.value)})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Io,{id:"is_highlighted",checked:o.is_highlighted,onCheckedChange:p=>f("is_highlighted",p)}),c.jsxs(Ee,{htmlFor:"is_highlighted",className:"flex items-center gap-2",children:[c.jsx(Zn,{className:"h-4 w-4 text-yellow-500"}),"Highlight this skill (show prominently on CV)"]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(z,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),c.jsxs(z,{type:"submit",disabled:s,children:[s&&c.jsx(_f,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Skill"]})]})]})]})})}function NF(e,[t,n]){return Math.min(n,Math.max(t,e))}function dVe(e){const t=e+"CollectionProvider",[n,r]=r0(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:y}=g,x=nt.useRef(null),w=nt.useRef(new Map).current;return c.jsx(i,{scope:v,itemMap:w,collectionRef:x,children:y})};a.displayName=t;const o=e+"CollectionSlot",l=Cf(o),u=nt.forwardRef((g,v)=>{const{scope:y,children:x}=g,w=s(o,y),E=un(v,w.collectionRef);return c.jsx(l,{ref:E,children:x})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Cf(d),p=nt.forwardRef((g,v)=>{const{scope:y,children:x,...w}=g,E=nt.useRef(null),_=un(v,E),N=s(d,y);return nt.useEffect(()=>(N.itemMap.set(E,{ref:E,...w}),()=>void N.itemMap.delete(E))),c.jsx(h,{[f]:"",ref:_,children:x})});p.displayName=d;function m(g){const v=s(e+"CollectionConsumer",g);return nt.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,T)=>w.indexOf(N.ref.current)-w.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},m,r]}var fVe=b.createContext(void 0);function hVe(e){const t=b.useContext(fVe);return e||t||"ltr"}const pVe=["top","right","bottom","left"],nc=Math.min,Ii=Math.max,zb=Math.round,$v=Math.floor,Aa=e=>({x:e,y:e}),mVe={left:"right",right:"left",bottom:"top",top:"bottom"},gVe={start:"end",end:"start"};function Ck(e,t,n){return Ii(e,nc(t,n))}function Po(e,t){return typeof e=="function"?e(t):e}function Do(e){return e.split("-")[0]}function Ph(e){return e.split("-")[1]}function eP(e){return e==="x"?"y":"x"}function tP(e){return e==="y"?"height":"width"}const vVe=new Set(["top","bottom"]);function _a(e){return vVe.has(Do(e))?"y":"x"}function nP(e){return eP(_a(e))}function yVe(e,t,n){n===void 0&&(n=!1);const r=Ph(e),i=nP(e),s=tP(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Hb(a)),[a,Hb(a)]}function xVe(e){const t=Hb(e);return[kk(e),t,kk(t)]}function kk(e){return e.replace(/start|end/g,t=>gVe[t])}const _F=["left","right"],TF=["right","left"],bVe=["top","bottom"],wVe=["bottom","top"];function EVe(e,t,n){switch(e){case"top":case"bottom":return n?t?TF:_F:t?_F:TF;case"left":case"right":return t?bVe:wVe;default:return[]}}function SVe(e,t,n,r){const i=Ph(e);let s=EVe(Do(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(kk)))),s}function Hb(e){return e.replace(/left|right|bottom|top/g,t=>mVe[t])}function NVe(e){return{top:0,right:0,bottom:0,left:0,...e}}function IJ(e){return typeof e!="number"?NVe(e):{top:e,right:e,bottom:e,left:e}}function Wb(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function CF(e,t,n){let{reference:r,floating:i}=e;const s=_a(t),a=nP(t),o=tP(a),l=Do(t),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ph(t)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const _Ve=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=CF(u,r,l),h=r,p={},m=0;for(let g=0;g<o.length;g++){const{name:v,fn:y}=o[g],{x,y:w,data:E,reset:_}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=x??d,f=w??f,p={...p,[v]:{...p[v],...E}},_&&m<=50&&(m++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:f}=CF(u,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function hg(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Po(t,e),m=IJ(p),v=o[h?f==="floating"?"reference":"floating":f],y=Wb(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},_=Wb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:w,strategy:l}):x);return{top:(y.top-_.top+m.top)/E.y,bottom:(_.bottom-y.bottom+m.bottom)/E.y,left:(y.left-_.left+m.left)/E.x,right:(_.right-y.right+m.right)/E.x}}const TVe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:u,padding:d=0}=Po(e,t)||{};if(u==null)return{};const f=IJ(d),h={x:n,y:r},p=nP(i),m=tP(p),g=await a.getDimensions(u),v=p==="y",y=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",E=s.reference[m]+s.reference[p]-h[p]-s.floating[m],_=h[p]-s.reference[p],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let T=N?N[w]:0;(!T||!await(a.isElement==null?void 0:a.isElement(N)))&&(T=o.floating[w]||s.floating[m]);const C=E/2-_/2,O=T/2-g[m]/2-1,A=nc(f[y],O),D=nc(f[x],O),k=A,P=T-g[m]-D,B=T/2-g[m]/2+C,L=Ck(k,B,P),j=!l.arrow&&Ph(i)!=null&&B!==L&&s.reference[m]/2-(B<k?A:D)-g[m]/2<0,R=j?B<k?B-k:B-P:0;return{[p]:h[p]+R,data:{[p]:L,centerOffset:B-L-R,...j&&{alignmentOffset:R}},reset:j}}}),CVe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Po(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Do(i),x=_a(o),w=Do(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=h||(w||!g?[Hb(o)]:xVe(o)),N=m!=="none";!h&&N&&_.push(...SVe(o,g,m,E));const T=[o,..._],C=await hg(t,v),O=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&O.push(C[y]),f){const B=yVe(i,a,E);O.push(C[B[0]],C[B[1]])}if(A=[...A,{placement:i,overflows:O}],!O.every(B=>B<=0)){var D,k;const B=(((D=s.flip)==null?void 0:D.index)||0)+1,L=T[B];if(L&&(!(f==="alignment"?x!==_a(L):!1)||A.every(M=>_a(M.placement)===x?M.overflows[0]>0:!0)))return{data:{index:B,overflows:A},reset:{placement:L}};let j=(k=A.filter(R=>R.overflows[0]<=0).sort((R,M)=>R.overflows[1]-M.overflows[1])[0])==null?void 0:k.placement;if(!j)switch(p){case"bestFit":{var P;const R=(P=A.filter(M=>{if(N){const V=_a(M.placement);return V===x||V==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(V=>V>0).reduce((V,I)=>V+I,0)]).sort((M,V)=>M[1]-V[1])[0])==null?void 0:P[0];R&&(j=R);break}case"initialPlacement":j=o;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function kF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function AF(e){return pVe.some(t=>e[t]>=0)}const kVe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Po(e,t);switch(r){case"referenceHidden":{const s=await hg(t,{...i,elementContext:"reference"}),a=kF(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:AF(a)}}}case"escaped":{const s=await hg(t,{...i,altBoundary:!0}),a=kF(s,n.floating);return{data:{escapedOffsets:a,escaped:AF(a)}}}default:return{}}}}},PJ=new Set(["left","top"]);async function AVe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Do(n),o=Ph(n),l=_a(n)==="y",u=PJ.has(a)?-1:1,d=s&&l?-1:1,f=Po(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const OVe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await AVe(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},jVe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x:y,y:x}=v;return{x:y,y:x}}},...l}=Po(e,t),u={x:n,y:r},d=await hg(t,l),f=_a(Do(i)),h=eP(f);let p=u[h],m=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=p+d[v],w=p-d[y];p=Ck(x,p,w)}if(a){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=m+d[v],w=m-d[y];m=Ck(x,m,w)}const g=o.fn({...t,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:a}}}}}},IVe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Po(e,t),d={x:n,y:r},f=_a(i),h=eP(f);let p=d[h],m=d[f];const g=Po(o,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",E=s.reference[h]-s.floating[w]+v.mainAxis,_=s.reference[h]+s.reference[w]-v.mainAxis;p<E?p=E:p>_&&(p=_)}if(u){var y,x;const w=h==="y"?"width":"height",E=PJ.has(Do(i)),_=s.reference[f]-s.floating[w]+(E&&((y=a.offset)==null?void 0:y[f])||0)+(E?0:v.crossAxis),N=s.reference[f]+s.reference[w]+(E?0:((x=a.offset)==null?void 0:x[f])||0)-(E?v.crossAxis:0);m<_?m=_:m>N&&(m=N)}return{[h]:p,[f]:m}}}},PVe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:l=()=>{},...u}=Po(e,t),d=await hg(t,u),f=Do(i),h=Ph(i),p=_a(i)==="y",{width:m,height:g}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=m-d.left-d.right,E=nc(g-d[v],x),_=nc(m-d[y],w),N=!t.middlewareData.shift;let T=E,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=x),N&&!h){const A=Ii(d.left,0),D=Ii(d.right,0),k=Ii(d.top,0),P=Ii(d.bottom,0);p?C=m-2*(A!==0||D!==0?A+D:Ii(d.left,d.right)):T=g-2*(k!==0||P!==0?k+P:Ii(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:T});const O=await a.getDimensions(o.floating);return m!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function wE(){return typeof window<"u"}function Dh(e){return DJ(e)?(e.nodeName||"").toLowerCase():"#document"}function qi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function za(e){var t;return(t=(DJ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DJ(e){return wE()?e instanceof Node||e instanceof qi(e).Node:!1}function na(e){return wE()?e instanceof Element||e instanceof qi(e).Element:!1}function Ra(e){return wE()?e instanceof HTMLElement||e instanceof qi(e).HTMLElement:!1}function OF(e){return!wE()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qi(e).ShadowRoot}const DVe=new Set(["inline","contents"]);function y0(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ra(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!DVe.has(i)}const MVe=new Set(["table","td","th"]);function RVe(e){return MVe.has(Dh(e))}const LVe=[":popover-open",":modal"];function EE(e){return LVe.some(t=>{try{return e.matches(t)}catch{return!1}})}const BVe=["transform","translate","scale","rotate","perspective"],FVe=["transform","translate","scale","rotate","perspective","filter"],$Ve=["paint","layout","strict","content"];function rP(e){const t=iP(),n=na(e)?ra(e):e;return BVe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||FVe.some(r=>(n.willChange||"").includes(r))||$Ve.some(r=>(n.contain||"").includes(r))}function UVe(e){let t=rc(e);for(;Ra(t)&&!Jf(t);){if(rP(t))return t;if(EE(t))return null;t=rc(t)}return null}function iP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zVe=new Set(["html","body","#document"]);function Jf(e){return zVe.has(Dh(e))}function ra(e){return qi(e).getComputedStyle(e)}function SE(e){return na(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rc(e){if(Dh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||OF(e)&&e.host||za(e);return OF(t)?t.host:t}function MJ(e){const t=rc(e);return Jf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ra(t)&&y0(t)?t:MJ(t)}function pg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=MJ(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=qi(i);if(s){const o=Ak(a);return t.concat(a,a.visualViewport||[],y0(i)?i:[],o&&n?pg(o):[])}return t.concat(i,pg(i,[],n))}function Ak(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RJ(e){const t=ra(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ra(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=zb(n)!==s||zb(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function sP(e){return na(e)?e:e.contextElement}function hf(e){const t=sP(e);if(!Ra(t))return Aa(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=RJ(t);let a=(s?zb(n.width):n.width)/r,o=(s?zb(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const HVe=Aa(0);function LJ(e){const t=qi(e);return!iP()||!t.visualViewport?HVe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WVe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==qi(e)?!1:t}function Uu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=sP(e);let a=Aa(1);t&&(r?na(r)&&(a=hf(r)):a=hf(e));const o=WVe(s,n,r)?LJ(s):Aa(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=qi(s),p=r&&na(r)?qi(r):r;let m=h,g=Ak(m);for(;g&&r&&p!==m;){const v=hf(g),y=g.getBoundingClientRect(),x=ra(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,E=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,f*=v.y,l+=w,u+=E,m=qi(g),g=Ak(m)}}return Wb({width:d,height:f,x:l,y:u})}function NE(e,t){const n=SE(e).scrollLeft;return t?t.left+n:Uu(za(e)).left+n}function BJ(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-NE(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function VVe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=za(r),o=t?EE(t.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Aa(1);const d=Aa(0),f=Ra(r);if((f||!f&&!s)&&((Dh(r)!=="body"||y0(a))&&(l=SE(r)),Ra(r))){const p=Uu(r);u=hf(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=a&&!f&&!s?BJ(a,l):Aa(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function qVe(e){return Array.from(e.getClientRects())}function KVe(e){const t=za(e),n=SE(e),r=e.ownerDocument.body,i=Ii(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ii(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+NE(e);const o=-n.scrollTop;return ra(r).direction==="rtl"&&(a+=Ii(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const jF=25;function GVe(e,t){const n=qi(e),r=za(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const d=iP();(!d||d&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const u=NE(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(r.clientWidth-f.clientWidth-p);m<=jF&&(s-=m)}else u<=jF&&(s+=u);return{width:s,height:a,x:o,y:l}}const YVe=new Set(["absolute","fixed"]);function XVe(e,t){const n=Uu(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Ra(e)?hf(e):Aa(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function IF(e,t,n){let r;if(t==="viewport")r=GVe(e,n);else if(t==="document")r=KVe(za(e));else if(na(t))r=XVe(t,n);else{const i=LJ(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Wb(r)}function FJ(e,t){const n=rc(e);return n===t||!na(n)||Jf(n)?!1:ra(n).position==="fixed"||FJ(n,t)}function QVe(e,t){const n=t.get(e);if(n)return n;let r=pg(e,[],!1).filter(o=>na(o)&&Dh(o)!=="body"),i=null;const s=ra(e).position==="fixed";let a=s?rc(e):e;for(;na(a)&&!Jf(a);){const o=ra(a),l=rP(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&YVe.has(i.position)||y0(a)&&!l&&FJ(e,a))?r=r.filter(d=>d!==a):i=o,a=rc(a)}return t.set(e,r),r}function JVe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?EE(t)?[]:QVe(t,this._c):[].concat(n),r],o=a[0],l=a.reduce((u,d)=>{const f=IF(t,d,i);return u.top=Ii(f.top,u.top),u.right=nc(f.right,u.right),u.bottom=nc(f.bottom,u.bottom),u.left=Ii(f.left,u.left),u},IF(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ZVe(e){const{width:t,height:n}=RJ(e);return{width:t,height:n}}function eqe(e,t,n){const r=Ra(t),i=za(t),s=n==="fixed",a=Uu(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=Aa(0);function u(){l.x=NE(i)}if(r||!r&&!s)if((Dh(t)!=="body"||y0(i))&&(o=SE(t)),r){const p=Uu(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?BJ(i,o):Aa(0),f=a.left+o.scrollLeft-l.x-d.x,h=a.top+o.scrollTop-l.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function e_(e){return ra(e).position==="static"}function PF(e,t){if(!Ra(e)||ra(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return za(e)===n&&(n=n.ownerDocument.body),n}function $J(e,t){const n=qi(e);if(EE(e))return n;if(!Ra(e)){let i=rc(e);for(;i&&!Jf(i);){if(na(i)&&!e_(i))return i;i=rc(i)}return n}let r=PF(e,t);for(;r&&RVe(r)&&e_(r);)r=PF(r,t);return r&&Jf(r)&&e_(r)&&!rP(r)?n:r||UVe(e)||n}const tqe=async function(e){const t=this.getOffsetParent||$J,n=this.getDimensions,r=await n(e.floating);return{reference:eqe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nqe(e){return ra(e).direction==="rtl"}const rqe={convertOffsetParentRelativeRectToViewportRelativeRect:VVe,getDocumentElement:za,getClippingRect:JVe,getOffsetParent:$J,getElementRects:tqe,getClientRects:qVe,getDimensions:ZVe,getScale:hf,isElement:na,isRTL:nqe};function UJ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function iqe(e,t){let n=null,r;const i=za(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||t(),!h||!p)return;const m=$v(f),g=$v(i.clientWidth-(d+h)),v=$v(i.clientHeight-(f+p)),y=$v(d),w={rootMargin:-m+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Ii(0,nc(1,l))||1};let E=!0;function _(N){const T=N[0].intersectionRatio;if(T!==l){if(!E)return a();T?a(!1,T):r=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!UJ(u,e.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(_,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,w)}n.observe(e)}return a(!0),s}function sqe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=sP(e),d=i||s?[...u?pg(u):[],...pg(t)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=u&&o?iqe(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!l&&p.observe(u),p.observe(t));let m,g=l?Uu(e):null;l&&v();function v(){const y=Uu(e);g&&!UJ(g,y)&&n(),g=y,m=requestAnimationFrame(v)}return n(),()=>{var y;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const aqe=OVe,oqe=jVe,lqe=CVe,cqe=PVe,uqe=kVe,DF=TVe,dqe=IVe,fqe=(e,t,n)=>{const r=new Map,i={platform:rqe,...n},s={...i.platform,_c:r};return _Ve(e,t,{...i,platform:s})};var hqe=typeof document<"u",pqe=function(){},gy=hqe?b.useLayoutEffect:pqe;function Vb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vb(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Vb(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function zJ(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function MF(e,t){const n=zJ(e);return Math.round(t*n)/n}function t_(e){const t=b.useRef(e);return gy(()=>{t.current=e}),t}function mqe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=e,[d,f]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(r);Vb(h,r)||p(r);const[m,g]=b.useState(null),[v,y]=b.useState(null),x=b.useCallback(M=>{M!==N.current&&(N.current=M,g(M))},[]),w=b.useCallback(M=>{M!==T.current&&(T.current=M,y(M))},[]),E=s||m,_=a||v,N=b.useRef(null),T=b.useRef(null),C=b.useRef(d),O=l!=null,A=t_(l),D=t_(i),k=t_(u),P=b.useCallback(()=>{if(!N.current||!T.current)return;const M={placement:t,strategy:n,middleware:h};D.current&&(M.platform=D.current),fqe(N.current,T.current,M).then(V=>{const I={...V,isPositioned:k.current!==!1};B.current&&!Vb(C.current,I)&&(C.current=I,oc.flushSync(()=>{f(I)}))})},[h,t,n,D,k]);gy(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const B=b.useRef(!1);gy(()=>(B.current=!0,()=>{B.current=!1}),[]),gy(()=>{if(E&&(N.current=E),_&&(T.current=_),E&&_){if(A.current)return A.current(E,_,P);P()}},[E,_,P,A,O]);const L=b.useMemo(()=>({reference:N,floating:T,setReference:x,setFloating:w}),[x,w]),j=b.useMemo(()=>({reference:E,floating:_}),[E,_]),R=b.useMemo(()=>{const M={position:n,left:0,top:0};if(!j.floating)return M;const V=MF(j.floating,d.x),I=MF(j.floating,d.y);return o?{...M,transform:"translate("+V+"px, "+I+"px)",...zJ(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:I}},[n,o,j.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:P,refs:L,elements:j,floatingStyles:R}),[d,P,L,j,R])}const gqe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?DF({element:r.current,padding:i}).fn(n):{}:r?DF({element:r,padding:i}).fn(n):{}}}},vqe=(e,t)=>({...aqe(e),options:[e,t]}),yqe=(e,t)=>({...oqe(e),options:[e,t]}),xqe=(e,t)=>({...dqe(e),options:[e,t]}),bqe=(e,t)=>({...lqe(e),options:[e,t]}),wqe=(e,t)=>({...cqe(e),options:[e,t]}),Eqe=(e,t)=>({...uqe(e),options:[e,t]}),Sqe=(e,t)=>({...gqe(e),options:[e,t]});var Nqe="Arrow",HJ=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return c.jsx(Wt.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});HJ.displayName=Nqe;var _qe=HJ;function Tqe(e){const[t,n]=b.useState(void 0);return Rr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var aP="Popper",[WJ,VJ]=r0(aP),[Cqe,qJ]=WJ(aP),KJ=e=>{const{__scopePopper:t,children:n}=e,[r,i]=b.useState(null);return c.jsx(Cqe,{scope:t,anchor:r,onAnchorChange:i,children:n})};KJ.displayName=aP;var GJ="PopperAnchor",YJ=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=qJ(GJ,n),a=b.useRef(null),o=un(t,a),l=b.useRef(null);return b.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||a.current,u!==l.current&&s.onAnchorChange(l.current)}),r?null:c.jsx(Wt.div,{...i,ref:o})});YJ.displayName=GJ;var oP="PopperContent",[kqe,Aqe]=WJ(oP),XJ=b.forwardRef((e,t)=>{var le,Se,ne,de,pe,J;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=e,v=qJ(oP,n),[y,x]=b.useState(null),w=un(t,qe=>x(qe)),[E,_]=b.useState(null),N=Tqe(E),T=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,O=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],k=D.length>0,P={padding:A,boundary:D.filter(jqe),altBoundary:k},{refs:B,floatingStyles:L,placement:j,isPositioned:R,middlewareData:M}=mqe({strategy:"fixed",placement:O,whileElementsMounted:(...qe)=>sqe(...qe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[vqe({mainAxis:i+C,alignmentAxis:a}),l&&yqe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xqe():void 0,...P}),l&&bqe({...P}),wqe({...P,apply:({elements:qe,rects:Oe,availableWidth:Qe,availableHeight:G})=>{const{width:oe,height:be}=Oe.reference,Jt=qe.floating.style;Jt.setProperty("--radix-popper-available-width",`${Qe}px`),Jt.setProperty("--radix-popper-available-height",`${G}px`),Jt.setProperty("--radix-popper-anchor-width",`${oe}px`),Jt.setProperty("--radix-popper-anchor-height",`${be}px`)}}),E&&Sqe({element:E,padding:o}),Iqe({arrowWidth:T,arrowHeight:C}),h&&Eqe({strategy:"referenceHidden",...P})]}),[V,I]=ZJ(j),ee=Iu(m);Rr(()=>{R&&(ee==null||ee())},[R,ee]);const W=(le=M.arrow)==null?void 0:le.x,$=(Se=M.arrow)==null?void 0:Se.y,xe=((ne=M.arrow)==null?void 0:ne.centerOffset)!==0,[ke,Ae]=b.useState();return Rr(()=>{y&&Ae(window.getComputedStyle(y).zIndex)},[y]),c.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:R?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(de=M.transformOrigin)==null?void 0:de.x,(pe=M.transformOrigin)==null?void 0:pe.y].join(" "),...((J=M.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(kqe,{scope:n,placedSide:V,onArrowChange:_,arrowX:W,arrowY:$,shouldHideArrow:xe,children:c.jsx(Wt.div,{"data-side":V,"data-align":I,...g,ref:w,style:{...g.style,animation:R?void 0:"none"}})})})});XJ.displayName=oP;var QJ="PopperArrow",Oqe={top:"bottom",right:"left",bottom:"top",left:"right"},JJ=b.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=Aqe(QJ,r),a=Oqe[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(_qe,{...i,ref:n,style:{...i.style,display:"block"}})})});JJ.displayName=QJ;function jqe(e){return e!==null}var Iqe=e=>({name:"transformOrigin",options:e,fn(t){var v,y,x;const{placement:n,rects:r,middlewareData:i}=t,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[u,d]=ZJ(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let m="",g="";return u==="bottom"?(m=a?f:`${h}px`,g=`${-l}px`):u==="top"?(m=a?f:`${h}px`,g=`${r.floating.height+l}px`):u==="right"?(m=`${-l}px`,g=a?f:`${p}px`):u==="left"&&(m=`${r.floating.width+l}px`,g=a?f:`${p}px`),{data:{x:m,y:g}}}});function ZJ(e){const[t,n="center"]=e.split("-");return[t,n]}var Pqe=KJ,Dqe=YJ,Mqe=XJ,Rqe=JJ;function Lqe(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eZ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Bqe="VisuallyHidden",Fqe=b.forwardRef((e,t)=>c.jsx(Wt.span,{...e,ref:t,style:{...eZ,...e.style}}));Fqe.displayName=Bqe;var $qe=[" ","Enter","ArrowUp","ArrowDown"],Uqe=[" ","Enter"],zu="Select",[_E,TE,zqe]=dVe(zu),[Mh,dGe]=r0(zu,[zqe,VJ]),CE=VJ(),[Hqe,Nc]=Mh(zu),[Wqe,Vqe]=Mh(zu),tZ=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:m}=e,g=CE(t),[v,y]=b.useState(null),[x,w]=b.useState(null),[E,_]=b.useState(!1),N=hVe(u),[T,C]=xC({prop:r,defaultProp:i??!1,onChange:s,caller:zu}),[O,A]=xC({prop:a,defaultProp:o,onChange:l,caller:zu}),D=b.useRef(null),k=v?m||!!v.closest("form"):!0,[P,B]=b.useState(new Set),L=Array.from(P).map(j=>j.props.value).join(";");return c.jsx(Pqe,{...g,children:c.jsxs(Hqe,{required:p,scope:t,trigger:v,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:_,contentId:af(),value:O,onValueChange:A,open:T,onOpenChange:C,dir:N,triggerPointerDownPosRef:D,disabled:h,children:[c.jsx(_E.Provider,{scope:t,children:c.jsx(Wqe,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(j=>{B(R=>new Set(R).add(j))},[]),onNativeOptionRemove:b.useCallback(j=>{B(R=>{const M=new Set(R);return M.delete(j),M})},[]),children:n})}),k?c.jsxs(_Z,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:j=>A(j.target.value),disabled:h,form:m,children:[O===void 0?c.jsx("option",{value:""}):null,Array.from(P)]},L):null]})})};tZ.displayName=zu;var nZ="SelectTrigger",rZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=CE(n),a=Nc(nZ,n),o=a.disabled||r,l=un(t,a.onTriggerChange),u=TE(n),d=b.useRef("touch"),[f,h,p]=CZ(g=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===a.value),x=kZ(v,g,y);x!==void 0&&a.onValueChange(x.value)}),m=g=>{o||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return c.jsx(Dqe,{asChild:!0,...s,children:c.jsx(Wt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":TZ(a.value)?"":void 0,...i,ref:l,onClick:Bt(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:Bt(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:Bt(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&$qe.includes(g.key)&&(m(),g.preventDefault())})})})});rZ.displayName=nZ;var iZ="SelectValue",sZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,l=Nc(iZ,n),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=un(t,l.onValueNodeChange);return Rr(()=>{u(d)},[u,d]),c.jsx(Wt.span,{...o,ref:f,style:{pointerEvents:"none"},children:TZ(l.value)?c.jsx(c.Fragment,{children:a}):s})});sZ.displayName=iZ;var qqe="SelectIcon",aZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return c.jsx(Wt.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});aZ.displayName=qqe;var Kqe="SelectPortal",oZ=e=>c.jsx(Cj,{asChild:!0,...e});oZ.displayName=Kqe;var Hu="SelectContent",lZ=b.forwardRef((e,t)=>{const n=Nc(Hu,e.__scopeSelect),[r,i]=b.useState();if(Rr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?oc.createPortal(c.jsx(cZ,{scope:e.__scopeSelect,children:c.jsx(_E.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),s):null}return c.jsx(uZ,{...e,ref:t})});lZ.displayName=Hu;var Ls=10,[cZ,_c]=Mh(Hu),Gqe="SelectContentImpl",Yqe=Cf("SelectContent.RemoveScroll"),uZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v,...y}=e,x=Nc(Hu,n),[w,E]=b.useState(null),[_,N]=b.useState(null),T=un(t,le=>E(le)),[C,O]=b.useState(null),[A,D]=b.useState(null),k=TE(n),[P,B]=b.useState(!1),L=b.useRef(!1);b.useEffect(()=>{if(w)return JV(w)},[w]),HV();const j=b.useCallback(le=>{const[Se,...ne]=k().map(J=>J.ref.current),[de]=ne.slice(-1),pe=document.activeElement;for(const J of le)if(J===pe||(J==null||J.scrollIntoView({block:"nearest"}),J===Se&&_&&(_.scrollTop=0),J===de&&_&&(_.scrollTop=_.scrollHeight),J==null||J.focus(),document.activeElement!==pe))return},[k,_]),R=b.useCallback(()=>j([C,w]),[j,C,w]);b.useEffect(()=>{P&&R()},[P,R]);const{onOpenChange:M,triggerPointerDownPosRef:V}=x;b.useEffect(()=>{if(w){let le={x:0,y:0};const Se=de=>{var pe,J;le={x:Math.abs(Math.round(de.pageX)-(((pe=V.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(de.pageY)-(((J=V.current)==null?void 0:J.y)??0))}},ne=de=>{le.x<=10&&le.y<=10?de.preventDefault():w.contains(de.target)||M(!1),document.removeEventListener("pointermove",Se),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",ne,{capture:!0})}}},[w,M,V]),b.useEffect(()=>{const le=()=>M(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[M]);const[I,ee]=CZ(le=>{const Se=k().filter(pe=>!pe.disabled),ne=Se.find(pe=>pe.ref.current===document.activeElement),de=kZ(Se,le,ne);de&&setTimeout(()=>de.ref.current.focus())}),W=b.useCallback((le,Se,ne)=>{const de=!L.current&&!ne;(x.value!==void 0&&x.value===Se||de)&&(O(le),de&&(L.current=!0))},[x.value]),$=b.useCallback(()=>w==null?void 0:w.focus(),[w]),xe=b.useCallback((le,Se,ne)=>{const de=!L.current&&!ne;(x.value!==void 0&&x.value===Se||de)&&D(le)},[x.value]),ke=r==="popper"?Ok:dZ,Ae=ke===Ok?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return c.jsx(cZ,{scope:n,content:w,viewport:_,onViewportChange:N,itemRefCallback:W,selectedItem:C,onItemLeave:$,itemTextRefCallback:xe,focusSelectedItem:R,selectedItemText:A,position:r,isPositioned:P,searchRef:I,children:c.jsx(kj,{as:Yqe,allowPinchZoom:!0,children:c.jsx(Tj,{asChild:!0,trapped:x.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Bt(i,le=>{var Se;(Se=x.trigger)==null||Se.focus({preventScroll:!0}),le.preventDefault()}),children:c.jsx(_j,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:c.jsx(ke,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:le=>le.preventDefault(),...y,...Ae,onPlaced:()=>B(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Bt(y.onKeyDown,le=>{const Se=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Se&&le.key.length===1&&ee(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let de=k().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(le.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const pe=le.target,J=de.indexOf(pe);de=de.slice(J+1)}setTimeout(()=>j(de)),le.preventDefault()}})})})})})})});uZ.displayName=Gqe;var Xqe="SelectItemAlignedPosition",dZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Nc(Hu,n),a=_c(Hu,n),[o,l]=b.useState(null),[u,d]=b.useState(null),f=un(t,T=>d(T)),h=TE(n),p=b.useRef(!1),m=b.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:x}=a,w=b.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&g&&v&&y){const T=s.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(s.dir!=="rtl"){const pe=A.left-C.left,J=O.left-pe,qe=T.left-J,Oe=T.width+qe,Qe=Math.max(Oe,C.width),G=window.innerWidth-Ls,oe=NF(J,[Ls,Math.max(Ls,G-Qe)]);o.style.minWidth=Oe+"px",o.style.left=oe+"px"}else{const pe=C.right-A.right,J=window.innerWidth-O.right-pe,qe=window.innerWidth-T.right-J,Oe=T.width+qe,Qe=Math.max(Oe,C.width),G=window.innerWidth-Ls,oe=NF(J,[Ls,Math.max(Ls,G-Qe)]);o.style.minWidth=Oe+"px",o.style.right=oe+"px"}const D=h(),k=window.innerHeight-Ls*2,P=g.scrollHeight,B=window.getComputedStyle(u),L=parseInt(B.borderTopWidth,10),j=parseInt(B.paddingTop,10),R=parseInt(B.borderBottomWidth,10),M=parseInt(B.paddingBottom,10),V=L+j+P+M+R,I=Math.min(v.offsetHeight*5,V),ee=window.getComputedStyle(g),W=parseInt(ee.paddingTop,10),$=parseInt(ee.paddingBottom,10),xe=T.top+T.height/2-Ls,ke=k-xe,Ae=v.offsetHeight/2,le=v.offsetTop+Ae,Se=L+j+le,ne=V-Se;if(Se<=xe){const pe=D.length>0&&v===D[D.length-1].ref.current;o.style.bottom="0px";const J=u.clientHeight-g.offsetTop-g.offsetHeight,qe=Math.max(ke,Ae+(pe?$:0)+J+R),Oe=Se+qe;o.style.height=Oe+"px"}else{const pe=D.length>0&&v===D[0].ref.current;o.style.top="0px";const qe=Math.max(xe,L+g.offsetTop+(pe?W:0)+Ae)+ne;o.style.height=qe+"px",g.scrollTop=Se-xe+g.offsetTop}o.style.margin=`${Ls}px 0`,o.style.minHeight=I+"px",o.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,g,v,y,s.dir,r]);Rr(()=>w(),[w]);const[E,_]=b.useState();Rr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=b.useCallback(T=>{T&&m.current===!0&&(w(),x==null||x(),m.current=!1)},[w,x]);return c.jsx(Jqe,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:c.jsx(Wt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});dZ.displayName=Xqe;var Qqe="SelectPopperPosition",Ok=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ls,...s}=e,a=CE(n);return c.jsx(Mqe,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ok.displayName=Qqe;var[Jqe,lP]=Mh(Hu,{}),jk="SelectViewport",fZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=_c(jk,n),a=lP(jk,n),o=un(t,s.onViewportChange),l=b.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(_E.Slot,{scope:n,children:c.jsx(Wt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Bt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const m=window.innerHeight-Ls*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<m){const x=y+p,w=Math.min(m,x),E=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});fZ.displayName=jk;var hZ="SelectGroup",[Zqe,eKe]=Mh(hZ),tKe=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=af();return c.jsx(Zqe,{scope:n,id:i,children:c.jsx(Wt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});tKe.displayName=hZ;var pZ="SelectLabel",mZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=eKe(pZ,n);return c.jsx(Wt.div,{id:i.id,...r,ref:t})});mZ.displayName=pZ;var qb="SelectItem",[nKe,gZ]=Mh(qb),vZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=Nc(qb,n),l=_c(qb,n),u=o.value===r,[d,f]=b.useState(s??""),[h,p]=b.useState(!1),m=un(t,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,i)}),g=af(),v=b.useRef("touch"),y=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(nKe,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:b.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:c.jsx(_E.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:c.jsx(Wt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:m,onFocus:Bt(a.onFocus,()=>p(!0)),onBlur:Bt(a.onBlur,()=>p(!1)),onClick:Bt(a.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Bt(a.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Bt(a.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:Bt(a.onPointerMove,x=>{var w;v.current=x.pointerType,i?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Bt(a.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Bt(a.onKeyDown,x=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&x.key===" "||(Uqe.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});vZ.displayName=qb;var Cp="SelectItemText",yZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=Nc(Cp,n),o=_c(Cp,n),l=gZ(Cp,n),u=Vqe(Cp,n),[d,f]=b.useState(null),h=un(t,y=>f(y),l.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,l.value,l.disabled)}),p=d==null?void 0:d.textContent,m=b.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return Rr(()=>(g(m),()=>v(m)),[g,v,m]),c.jsxs(c.Fragment,{children:[c.jsx(Wt.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?oc.createPortal(s.children,a.valueNode):null]})});yZ.displayName=Cp;var xZ="SelectItemIndicator",bZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return gZ(xZ,n).isSelected?c.jsx(Wt.span,{"aria-hidden":!0,...r,ref:t}):null});bZ.displayName=xZ;var Ik="SelectScrollUpButton",wZ=b.forwardRef((e,t)=>{const n=_c(Ik,e.__scopeSelect),r=lP(Ik,e.__scopeSelect),[i,s]=b.useState(!1),a=un(t,r.onScrollButtonChange);return Rr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?c.jsx(SZ,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});wZ.displayName=Ik;var Pk="SelectScrollDownButton",EZ=b.forwardRef((e,t)=>{const n=_c(Pk,e.__scopeSelect),r=lP(Pk,e.__scopeSelect),[i,s]=b.useState(!1),a=un(t,r.onScrollButtonChange);return Rr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?c.jsx(SZ,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});EZ.displayName=Pk;var SZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=_c("SelectScrollButton",n),a=b.useRef(null),o=TE(n),l=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),Rr(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(Wt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Bt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Bt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Bt(i.onPointerLeave,()=>{l()})})}),rKe="SelectSeparator",NZ=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(Wt.div,{"aria-hidden":!0,...r,ref:t})});NZ.displayName=rKe;var Dk="SelectArrow",iKe=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=CE(n),s=Nc(Dk,n),a=_c(Dk,n);return s.open&&a.position==="popper"?c.jsx(Rqe,{...i,...r,ref:t}):null});iKe.displayName=Dk;var sKe="SelectBubbleInput",_Z=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=b.useRef(null),s=un(r,i),a=Lqe(t);return b.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[a,t]),c.jsx(Wt.select,{...n,style:{...eZ,...n.style},ref:s,defaultValue:t})});_Z.displayName=sKe;function TZ(e){return e===""||e===void 0}function CZ(e){const t=Iu(e),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(a=>{const o=n.current+a;t(o),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[t]),s=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function kZ(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=aKe(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function aKe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var oKe=tZ,AZ=rZ,lKe=sZ,cKe=aZ,uKe=oZ,OZ=lZ,dKe=fZ,jZ=mZ,IZ=vZ,fKe=yZ,hKe=bZ,PZ=wZ,DZ=EZ,MZ=NZ;const Mk=oKe,Rk=lKe,Kb=b.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(AZ,{ref:r,className:ze("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(cKe,{asChild:!0,children:c.jsx(P8,{className:"h-4 w-4 opacity-50"})})]}));Kb.displayName=AZ.displayName;const RZ=b.forwardRef(({className:e,...t},n)=>c.jsx(PZ,{ref:n,className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(Jse,{className:"h-4 w-4"})}));RZ.displayName=PZ.displayName;const LZ=b.forwardRef(({className:e,...t},n)=>c.jsx(DZ,{ref:n,className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(P8,{className:"h-4 w-4"})}));LZ.displayName=DZ.displayName;const Gb=b.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>c.jsx(uKe,{children:c.jsxs(OZ,{ref:i,className:ze("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(RZ,{}),c.jsx(dKe,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(LZ,{})]})}));Gb.displayName=OZ.displayName;const pKe=b.forwardRef(({className:e,...t},n)=>c.jsx(jZ,{ref:n,className:ze("px-2 py-1.5 text-sm font-semibold",e),...t}));pKe.displayName=jZ.displayName;const ls=b.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(IZ,{ref:r,className:ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(hKe,{children:c.jsx(BA,{className:"h-4 w-4"})})}),c.jsx(fKe,{children:t})]}));ls.displayName=IZ.displayName;const mKe=b.forwardRef(({className:e,...t},n)=>c.jsx(MZ,{ref:n,className:ze("-mx-1 my-1 h-px bg-muted",e),...t}));mKe.displayName=MZ.displayName;function gKe({value:e,onChange:t,placeholder:n="Enter your motivation text...",className:r="",contentType:i="plain_text",onContentTypeChange:s,tone:a="professional",onToneChange:o,targetKeywords:l=[],onKeywordsChange:u}){const[d,f]=b.useState("write"),[h,p]=b.useState(0),[m,g]=b.useState(0),[v,y]=b.useState("");b.useEffect(()=>{const A=e.trim().split(/\s+/).filter(D=>D.length>0).length;p(A),g(Math.max(1,Math.round(A/200)))},[e]);const x=b.useCallback((A,D)=>{i==="rich_text"&&document.execCommand(A,!1,D)},[i]),w=b.useCallback((A,D="")=>{if(i!=="markdown")return;const k=document.getElementById("markdown-editor");if(!k)return;const P=k.selectionStart,B=k.selectionEnd,L=e.substring(P,B),j=A+L+D,R=e.substring(0,P)+j+e.substring(B);t(R),setTimeout(()=>{k.selectionStart=P+A.length,k.selectionEnd=P+A.length+L.length,k.focus()},0)},[e,t,i]),E=()=>{v.trim()&&!l.includes(v.trim())&&(u==null||u([...l,v.trim()]),y(""))},_=A=>{u==null||u(l.filter(D=>D!==A))},N=()=>c.jsx(Bi,{value:e,onChange:A=>t(A.target.value),placeholder:n,className:`min-h-[300px] resize-none ${r}`,rows:12}),T=()=>c.jsxs("div",{className:"border rounded-md",children:[c.jsxs("div",{className:"flex items-center gap-2 p-2 border-b bg-gray-50",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>x("bold"),title:"Bold",children:c.jsx(cT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>x("italic"),title:"Italic",children:c.jsx(uT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>x("underline"),title:"Underline",children:c.jsx(Cae,{className:"h-4 w-4"})}),c.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2"}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>x("insertUnorderedList"),title:"Bullet List",children:c.jsx(fT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>x("insertOrderedList"),title:"Numbered List",children:c.jsx(dT,{className:"h-4 w-4"})}),c.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2"}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>x("undo"),title:"Undo",children:c.jsx(F8,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>x("redo"),title:"Redo",children:c.jsx(B8,{className:"h-4 w-4"})})]}),c.jsx("div",{contentEditable:!0,className:`p-4 min-h-[300px] outline-none ${r}`,onInput:A=>t(A.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:e},style:{whiteSpace:"pre-wrap"}})]}),C=()=>c.jsxs("div",{className:"border rounded-md",children:[c.jsxs("div",{className:"flex items-center gap-2 p-2 border-b bg-gray-50",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>w("**","**"),title:"Bold",children:c.jsx(cT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>w("*","*"),title:"Italic",children:c.jsx(uT,{className:"h-4 w-4"})}),c.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2"}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>w("- ",""),title:"Bullet List",children:c.jsx(fT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>w("1. ",""),title:"Numbered List",children:c.jsx(dT,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>w("> ",""),title:"Quote",children:c.jsx(L8,{className:"h-4 w-4"})})]}),c.jsx(Bi,{id:"markdown-editor",value:e,onChange:A=>t(A.target.value),placeholder:n,className:`min-h-[300px] resize-none border-0 rounded-none ${r}`,rows:12})]}),O=()=>{if(i==="markdown"){const A=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^> (.+)$/gm,"<blockquote>$1</blockquote>").replace(/^- (.+)$/gm,"<li>$1</li>").replace(/(<li>.*<\/li>)/s,"<ul>$1</ul>").replace(/\n/g,"<br>");return c.jsx("div",{className:"prose prose-sm max-w-none p-4 min-h-[300px] border rounded-md",dangerouslySetInnerHTML:{__html:A}})}return c.jsx("div",{className:"prose prose-sm max-w-none p-4 min-h-[300px] border rounded-md whitespace-pre-wrap",children:e||c.jsx("span",{className:"text-gray-400",children:"Nothing to preview..."})})};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"content-type",children:"Content Type"}),c.jsxs(Mk,{value:i,onValueChange:A=>s==null?void 0:s(A),children:[c.jsx(Kb,{children:c.jsx(Rk,{placeholder:"Select content type"})}),c.jsxs(Gb,{children:[c.jsx(ls,{value:"plain_text",children:"Plain Text"}),c.jsx(ls,{value:"rich_text",children:"Rich Text"}),c.jsx(ls,{value:"markdown",children:"Markdown"})]})]})]}),c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"tone",children:"Tone"}),c.jsxs(Mk,{value:a,onValueChange:A=>o==null?void 0:o(A),children:[c.jsx(Kb,{children:c.jsx(Rk,{placeholder:"Select tone"})}),c.jsxs(Gb,{children:[c.jsx(ls,{value:"professional",children:"Professional"}),c.jsx(ls,{value:"casual",children:"Casual"}),c.jsx(ls,{value:"enthusiastic",children:"Enthusiastic"}),c.jsx(ls,{value:"technical",children:"Technical"}),c.jsx(ls,{value:"creative",children:"Creative"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(pT,{className:"h-4 w-4"}),h," words"]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ht,{className:"h-4 w-4"}),m," min read"]})]})]}),u&&c.jsxs("div",{children:[c.jsx(Ee,{htmlFor:"keywords",children:"Target Keywords (ATS Optimization)"}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(Te,{value:v,onChange:A=>y(A.target.value),placeholder:"Add keyword...",className:"flex-1",onKeyPress:A=>A.key==="Enter"&&E()}),c.jsxs(z,{onClick:E,size:"sm",children:[c.jsx(As,{className:"h-4 w-4 mr-1"}),"Add"]})]}),l.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:l.map(A=>c.jsxs(Ye,{variant:"secondary",className:"cursor-pointer",onClick:()=>_(A),children:[A," "]},A))})]}),c.jsxs(Sh,{value:d,onValueChange:A=>f(A),children:[c.jsxs(Xu,{children:[c.jsxs(en,{value:"write",children:[c.jsx(pT,{className:"h-4 w-4 mr-2"}),"Write"]}),c.jsxs(en,{value:"preview",children:[c.jsx($i,{className:"h-4 w-4 mr-2"}),"Preview"]})]}),c.jsxs(sn,{value:"write",className:"mt-4",children:[i==="plain_text"&&N(),i==="rich_text"&&T(),i==="markdown"&&C()]}),c.jsx(sn,{value:"preview",className:"mt-4",children:O()})]})]})}const RF=["General","Tech Role","Leadership","Startup","Consulting","Product Management","Frontend Development","Fullstack Development","Accessibility Expert","Project Management"];function BZ({cvProfileId:e,onCreateMotivationText:t,existingPurposes:n,motivationTextToDuplicate:r,triggerButton:i}){const[s,a]=b.useState(!1),[o,l]=b.useState(!1),[u,d]=b.useState(""),[f,h]=b.useState(""),[p,m]=b.useState(""),[g,v]=b.useState(""),[y,x]=b.useState(!1),[w,E]=b.useState("plain_text"),[_,N]=b.useState(null),[T,C]=b.useState("professional"),[O,A]=b.useState([]),[D,k]=b.useState(!1),[P,B]=b.useState("");b.useEffect(()=>{r&&s?(d(`${r.title} (Copy)`),h(r.content),m(r.purpose),x(!1),E(r.content_type||"plain_text"),N(r.rich_content),C(r.tone||"professional"),A(r.target_keywords||[]),k(r.is_ai_generated||!1),B(r.ai_prompt_used||"")):s&&!r&&(d(""),h(""),m(""),v(""),x(!1),E("plain_text"),N(null),C("professional"),A([]),k(!1),B(""))},[r,s]);const L=async R=>{if(R.preventDefault(),!(!u.trim()||!f.trim())){l(!0);try{const M=p==="custom"?g:p,V={cv_profile_id:e,title:u.trim(),content:f.trim(),purpose:M.trim(),is_default:y,content_type:w,rich_content:_,tone:T,target_keywords:O,is_ai_generated:D,ai_prompt_used:P.trim()||null};await t(V)&&(a(!1),d(""),h(""),m(""),v(""),x(!1),E("plain_text"),N(null),C("professional"),A([]),k(!1),B(""))}catch(M){console.error("Failed to create motivation text:",M)}finally{l(!1)}}};f.trim()&&f.trim().split(/\s+/).length;const j=r?c.jsxs(z,{variant:"outline",size:"sm",children:[c.jsx(Nf,{className:"h-4 w-4 mr-2"}),"Duplicate"]}):c.jsxs(z,{children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Motivation Text"]});return c.jsxs(jn,{open:s,onOpenChange:a,children:[c.jsx(xq,{asChild:!0,children:i||j}),c.jsxs(wn,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[c.jsx(En,{children:c.jsxs(Sn,{className:"flex items-center gap-2",children:[c.jsx(xt,{className:"h-5 w-5"}),r?"Duplicate Motivation Text":"Add New Motivation Text"]})}),c.jsxs("form",{onSubmit:L,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"title",children:"Title"}),c.jsx(Te,{id:"title",value:u,onChange:R=>d(R.target.value),placeholder:"e.g. Frontend Developer Role, Leadership Position...",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"purpose",children:"Purpose/Type"}),c.jsxs(Mk,{value:p,onValueChange:m,children:[c.jsx(Kb,{children:c.jsx(Rk,{placeholder:"Select purpose or type"})}),c.jsxs(Gb,{children:[RF.map(R=>c.jsx(ls,{value:R,children:R},R)),n.filter(R=>!RF.includes(R)).map(R=>c.jsx(ls,{value:R,children:R},R)),c.jsx(ls,{value:"custom",children:"Custom..."})]})]})]}),p==="custom"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"customPurpose",children:"Custom Purpose"}),c.jsx(Te,{id:"customPurpose",value:g,onChange:R=>v(R.target.value),placeholder:"Enter custom purpose...",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"content",children:"Motivation Text"}),c.jsx(gKe,{value:f,onChange:(R,M)=>{h(R),N(M)},placeholder:"Write your motivation text here. This could be a cover letter, personal summary, or role-specific motivation...",contentType:w,onContentTypeChange:E,tone:T,onToneChange:C,targetKeywords:O,onKeywordsChange:A})]}),c.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Io,{id:"isAiGenerated",checked:D,onCheckedChange:R=>k(R)}),c.jsxs(Ee,{htmlFor:"isAiGenerated",className:"text-sm flex items-center gap-2",children:[c.jsx(Sae,{className:"h-4 w-4"}),"AI Generated Content"]})]}),D&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"aiPrompt",children:"AI Prompt Used"}),c.jsx(Bi,{id:"aiPrompt",value:P,onChange:R=>B(R.target.value),placeholder:"Describe the prompt you used to generate this content...",rows:3})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Io,{id:"isDefault",checked:y,onCheckedChange:R=>x(R)}),c.jsx(Ee,{htmlFor:"isDefault",className:"text-sm",children:"Set as default motivation text"})]}),c.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[c.jsx(z,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),c.jsx(z,{type:"submit",disabled:o||!u.trim()||!f.trim(),children:o?"Creating...":r?"Create Copy":"Create"})]})]})]})]})}function vKe({motivationText:e,onUpdate:t,onDelete:n,onDuplicate:r,onSetAsDefault:i,existingPurposes:s,cvProfileId:a,onCreateMotivationText:o}){const[l,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(e.title),[m,g]=b.useState(e.content),[v,y]=b.useState(!1),x=async()=>{if(!(!h.trim()||!m.trim())){y(!0);try{await t(e.id,{title:h.trim(),content:m.trim()})&&f(!1)}catch(T){console.error("Failed to update motivation text:",T)}finally{y(!1)}}},w=()=>{p(e.title),g(e.content),f(!1)},E=async()=>{if(window.confirm("Are you sure you want to delete this motivation text?")){y(!0);try{await n(e.id)}catch(T){console.error("Failed to delete motivation text:",T)}finally{y(!1)}}},_=async()=>{y(!0);try{await i(e.id)}catch(T){console.error("Failed to set as default:",T)}finally{y(!1)}},N=e.content.length>150?e.content.substring(0,150)+"...":e.content;return c.jsxs(X,{className:`${e.is_default?"ring-2 ring-blue-500":""}`,children:[c.jsx(ie,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[d?c.jsx("input",{type:"text",value:h,onChange:T=>p(T.target.value),className:"w-full text-lg font-semibold bg-transparent border-b border-gray-300 focus:border-blue-500 focus:outline-none",placeholder:"Enter title","aria-label":"Edit motivation text title",onKeyDown:T=>{T.key==="Enter"&&x(),T.key==="Escape"&&w()}}):c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(xt,{className:"h-5 w-5"}),e.title,e.is_default&&c.jsx(Ye,{variant:"default",className:"bg-blue-500",children:"Default"})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx(Ye,{variant:"outline",children:e.purpose}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.word_count," words"]})]})]}),c.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>u(!l),children:l?c.jsx(D8,{className:"h-4 w-4"}):c.jsx($i,{className:"h-4 w-4"})}),!e.is_default&&c.jsx(z,{variant:"ghost",size:"sm",onClick:_,disabled:v,title:"Set as default",children:c.jsx(Nae,{className:"h-4 w-4"})}),e.is_default&&c.jsx(z,{variant:"ghost",size:"sm",disabled:!0,title:"This is the default",children:c.jsx(Zn,{className:"h-4 w-4 text-yellow-500"})}),c.jsx(BZ,{cvProfileId:a,onCreateMotivationText:o,existingPurposes:s,motivationTextToDuplicate:e,triggerButton:c.jsx(z,{variant:"ghost",size:"sm",title:"Duplicate",children:c.jsx(Nf,{className:"h-4 w-4"})})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>f(!d),disabled:v,children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:E,disabled:v,className:"text-red-600 hover:text-red-700",children:c.jsx(Pr,{className:"h-4 w-4"})})]})]})}),c.jsx(Q,{children:d?c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:m,onChange:T=>g(T.target.value),rows:8,className:"w-full p-3 border rounded-md focus:border-blue-500 focus:outline-none resize-vertical",placeholder:"Enter motivation text..."}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(z,{variant:"outline",size:"sm",onClick:w,disabled:v,children:"Cancel"}),c.jsx(z,{size:"sm",onClick:x,disabled:v||!h.trim()||!m.trim(),children:v?"Saving...":"Save"})]})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:l?e.content:N}),!l&&e.content.length>150&&c.jsx(z,{variant:"link",size:"sm",onClick:()=>u(!0),className:"p-0 h-auto text-blue-600",children:"Read more"})]})})]})}function yKe({experience:e,onEdit:t,onDelete:n,onAddAchievement:r}){const[i,s]=b.useState(!1),a=d=>jo(new Date(d),"MMM yyyy"),o=()=>{const d=new Date(e.start_date),f=e.end_date?new Date(e.end_date):new Date,h=(f.getFullYear()-d.getFullYear())*12+(f.getMonth()-d.getMonth());if(h<12)return`${h} month${h!==1?"s":""}`;{const p=Math.floor(h/12),m=h%12;return`${p} year${p!==1?"s":""}${m>0?` ${m} month${m!==1?"s":""}`:""}`}},l=d=>{switch(d){case"Full-time":return"bg-blue-100 text-blue-800";case"Consulting":return"bg-purple-100 text-purple-800";case"Freelance":return"bg-green-100 text-green-800";case"Contract":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},u=d=>{switch(d){case"Startup":return"";case"SME":return"";case"Enterprise":return"";case"Government":return"";default:return""}};return c.jsxs(X,{className:"hover:shadow-lg transition-shadow duration-200",children:[c.jsx(ie,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(wl,{className:"h-5 w-5 text-gray-500"}),c.jsx(ae,{className:"text-lg",children:e.role_title}),e.is_current&&c.jsx(Ye,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Current"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(sh,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:e.company_name}),e.company_size&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-lg",children:u(e.company_size)}),c.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.company_size})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(yn,{className:"h-4 w-4"}),c.jsxs("span",{children:[a(e.start_date)," - ",e.end_date?a(e.end_date):"Present"]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ht,{className:"h-4 w-4"}),c.jsx("span",{children:o()})]}),e.location&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(M8,{className:"h-4 w-4"}),c.jsx("span",{children:e.location})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.employment_type&&c.jsx(Ye,{className:l(e.employment_type),children:e.employment_type}),e.company_industry&&c.jsx(Ye,{variant:"outline",children:e.company_industry})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>t(e),children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:"text-red-500 hover:text-red-700",children:c.jsx(Pr,{className:"h-4 w-4"})})]})]})}),c.jsxs(Q,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.team_size&&c.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[c.jsx(Gi,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.team_size}),c.jsx("div",{className:"text-xs text-gray-500",children:"Team Size"})]}),e.budget_responsibility&&c.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[c.jsx(wr,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),c.jsxs("div",{className:"text-sm font-medium",children:[e.budget_responsibility.toLocaleString()," ",e.currency]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Budget"})]}),e.achievement_count&&e.achievement_count>0&&c.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[c.jsx(Ks,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.achievement_count}),c.jsx("div",{className:"text-xs text-gray-500",children:"Achievements"})]}),e.technology_names&&e.technology_names.length>0&&c.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[c.jsx(on,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.technology_names.length}),c.jsx("div",{className:"text-xs text-gray-500",children:"Technologies"})]})]}),e.description&&c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:i?e.description:`${e.description.substring(0,200)}${e.description.length>200?"...":""}`}),e.description.length>200&&c.jsx(z,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>s(!i),children:i?"Show less":"Show more"})]}),e.reporting_to&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Reporting Structure"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Reports to: ",e.reporting_to]})]}),e.technology_names&&e.technology_names.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Key Technologies"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.technology_names.map((d,f)=>c.jsx(Ye,{variant:"secondary",className:"text-xs",children:d},f))})]}),(!e.technology_names||e.technology_names.length===0)&&e.skills_used&&e.skills_used.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills Used"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills_used.map((d,f)=>c.jsx(Ye,{variant:"outline",className:"text-xs",children:d},f))})]}),e.achievements_titles&&e.achievements_titles.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Key Achievements"}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>r(e.id),children:[c.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Add Achievement"]})]}),c.jsx("ul",{className:"space-y-1",children:e.achievements_titles.map((d,f)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[c.jsx(Zn,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),c.jsx("span",{children:d})]},f))})]}),(!e.achievements_titles||e.achievements_titles.length===0)&&e.achievements&&e.achievements.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Achievements"}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>r(e.id),children:[c.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Add Achievement"]})]}),c.jsx("ul",{className:"space-y-1",children:e.achievements.map((d,f)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[c.jsx(Zn,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),c.jsx("span",{children:d})]},f))})]}),(!e.achievements_titles||e.achievements_titles.length===0)&&(!e.achievements||e.achievements.length===0)&&c.jsx("div",{className:"text-center py-4",children:c.jsxs(z,{variant:"outline",onClick:()=>r(e.id),children:[c.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Add First Achievement"]})})]})]})}function xKe({project:e,onEdit:t,onDelete:n,onToggleFeatured:r,onAddAchievement:i}){const[s,a]=b.useState(!1),o=f=>jo(new Date(f),"MMM yyyy"),l=f=>{switch(f){case"Development":return"bg-blue-100 text-blue-800";case"Consulting":return"bg-purple-100 text-purple-800";case"Research":return"bg-green-100 text-green-800";case"Training":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},u=f=>{switch(f){case"Completed":return"bg-green-100 text-green-800";case"Ongoing":return"bg-blue-100 text-blue-800";case"Paused":return"bg-yellow-100 text-yellow-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{if(!f)return null;if(f<1)return"Less than 1 month";if(f<12)return`${f} month${f!==1?"s":""}`;const h=Math.floor(f/12),p=f%12;return`${h} year${h!==1?"s":""}${p>0?` ${p} month${p!==1?"s":""}`:""}`};return c.jsxs(X,{className:`hover:shadow-lg transition-shadow duration-200 ${e.is_featured?"ring-2 ring-yellow-400":""}`,children:[c.jsx(ie,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(_g,{className:"h-5 w-5 text-gray-500"}),c.jsx(ae,{className:"text-lg",children:e.project_name}),e.is_featured&&c.jsx(Zn,{className:"h-5 w-5 text-yellow-500 fill-current"}),e.confidential&&c.jsxs(Ye,{variant:"secondary",className:"bg-red-100 text-red-800",children:[c.jsx($i,{className:"h-3 w-3 mr-1"}),"Confidential"]})]}),c.jsxs("div",{className:"space-y-2",children:[e.client_company&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(sh,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:e.client_company}),e.client_industry&&c.jsx(Ye,{variant:"outline",className:"text-xs",children:e.client_industry})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(yn,{className:"h-4 w-4"}),c.jsxs("span",{children:[o(e.start_date)," - ",e.end_date?o(e.end_date):"Ongoing"]})]}),e.duration_months&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ht,{className:"h-4 w-4"}),c.jsx("span",{children:d(e.duration_months)})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Ye,{className:u(e.project_status),children:e.project_status}),e.project_type&&c.jsx(Ye,{className:l(e.project_type),children:e.project_type})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:e.is_featured?"text-yellow-500":"text-gray-400",children:c.jsx(Zn,{className:`h-4 w-4 ${e.is_featured?"fill-current":""}`})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>t(e),children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:"text-red-500 hover:text-red-700",children:c.jsx(Pr,{className:"h-4 w-4"})})]})]})}),c.jsxs(Q,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.team_size&&c.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[c.jsx(Gi,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.team_size}),c.jsx("div",{className:"text-xs text-gray-500",children:"Team Size"})]}),e.budget_range&&c.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[c.jsx(As,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.budget_range}),c.jsx("div",{className:"text-xs text-gray-500",children:"Budget"})]}),e.achievement_count&&e.achievement_count>0&&c.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[c.jsx(Ks,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.achievement_count}),c.jsx("div",{className:"text-xs text-gray-500",children:"Achievements"})]}),e.technology_names&&e.technology_names.length>0&&c.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[c.jsx(on,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.technology_names.length}),c.jsx("div",{className:"text-xs text-gray-500",children:"Technologies"})]})]}),c.jsxs("div",{className:"space-y-3 mb-4",children:[e.description&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Project Description"}),c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:s?e.description:`${e.description.substring(0,200)}${e.description.length>200?"...":""}`}),e.description.length>200&&c.jsx(z,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>a(!s),children:s?"Show less":"Show more"})]}),e.my_role&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"My Role"}),c.jsx("p",{className:"text-sm text-gray-600",children:e.my_role})]})]}),e.technology_names&&e.technology_names.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Technologies Used"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.technology_names.map((f,h)=>c.jsx(Ye,{variant:"secondary",className:"text-xs",children:f},h))})]}),(!e.technology_names||e.technology_names.length===0)&&e.technologies_used&&e.technologies_used.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Technologies Used"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.technologies_used.map((f,h)=>c.jsx(Ye,{variant:"outline",className:"text-xs",children:f},h))})]}),e.methodologies_used&&e.methodologies_used.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Methodologies"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.methodologies_used.map((f,h)=>c.jsx(Ye,{variant:"outline",className:"text-xs bg-indigo-50 text-indigo-700",children:f},h))})]}),e.challenges_overcome&&e.challenges_overcome.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Key Challenges Overcome"}),c.jsx("ul",{className:"space-y-1",children:e.challenges_overcome.map((f,h)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[c.jsx(U8,{className:"h-3 w-3 mt-1 text-orange-500 flex-shrink-0"}),c.jsx("span",{children:f})]},h))})]}),e.achievements_titles&&e.achievements_titles.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Key Achievements"}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>i(e.id),children:[c.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Add Achievement"]})]}),c.jsx("ul",{className:"space-y-1",children:e.achievements_titles.map((f,h)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[c.jsx(Zn,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),c.jsx("span",{children:f})]},h))})]}),(!e.achievements_titles||e.achievements_titles.length===0)&&e.achievements&&e.achievements.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Achievements"}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>i(e.id),children:[c.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Add Achievement"]})]}),c.jsx("ul",{className:"space-y-1",children:e.achievements.map((f,h)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[c.jsx(Zn,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),c.jsx("span",{children:f})]},h))})]}),(e.project_url||e.repository_url)&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Links"}),c.jsxs("div",{className:"flex gap-2",children:[e.project_url&&c.jsx(z,{variant:"outline",size:"sm",asChild:!0,children:c.jsxs("a",{href:e.project_url,target:"_blank",rel:"noopener noreferrer",children:[c.jsx(zA,{className:"h-4 w-4 mr-1"}),"View Project"]})}),e.repository_url&&c.jsx(z,{variant:"outline",size:"sm",asChild:!0,children:c.jsxs("a",{href:e.repository_url,target:"_blank",rel:"noopener noreferrer",children:[c.jsx(Zse,{className:"h-4 w-4 mr-1"}),"Repository"]})})]})]}),(!e.achievements_titles||e.achievements_titles.length===0)&&(!e.achievements||e.achievements.length===0)&&c.jsx("div",{className:"text-center py-4",children:c.jsxs(z,{variant:"outline",onClick:()=>i(e.id),children:[c.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Add First Achievement"]})})]})]})}function bKe({education:e,onEdit:t,onDelete:n,onToggleFeatured:r}){const[i,s]=b.useState(!1),a=d=>jo(new Date(d),"MMM yyyy"),o=d=>{switch(d){case"PhD":return"bg-purple-100 text-purple-800";case"Master":return"bg-blue-100 text-blue-800";case"Bachelor":return"bg-green-100 text-green-800";case"Certificate":return"bg-orange-100 text-orange-800";case"Diploma":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},l=d=>{switch(d){case"University":return"";case"Course":return"";case"Bootcamp":return"";case"Online":return"";case"Workshop":return"";case"Conference":return"";default:return""}},u=()=>{if(!e.duration_months)return null;const d=e.duration_months;if(d<12)return`${Math.round(d)} month${Math.round(d)!==1?"s":""}`;{const f=Math.floor(d/12),h=Math.round(d%12);return`${f} year${f!==1?"s":""}${h>0?` ${h} month${h!==1?"s":""}`:""}`}};return c.jsxs(X,{className:`hover:shadow-lg transition-shadow duration-200 ${e.is_featured?"ring-2 ring-yellow-400":""}`,children:[c.jsx(ie,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Zd,{className:"h-5 w-5 text-gray-500"}),c.jsx(ae,{className:"text-lg",children:e.degree}),e.is_featured&&c.jsx(Zn,{className:"h-5 w-5 text-yellow-500 fill-current"}),e.is_current&&c.jsx(Ye,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Current"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx("span",{className:"text-lg",children:l(e.education_type)}),c.jsx("span",{className:"font-medium",children:e.institution_name}),e.institution_country&&c.jsxs(Ye,{variant:"outline",className:"text-xs",children:[c.jsx(M8,{className:"h-3 w-3 mr-1"}),e.institution_country]})]}),e.field_of_study&&c.jsxs("p",{className:"text-sm text-gray-600",children:["Field of Study: ",c.jsx("span",{className:"font-medium",children:e.field_of_study})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[e.start_date&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(yn,{className:"h-4 w-4"}),c.jsxs("span",{children:[a(e.start_date)," - ",e.end_date&&!e.is_current?a(e.end_date):"Present"]})]}),u()&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ht,{className:"h-4 w-4"}),c.jsx("span",{children:u()})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.education_level&&c.jsx(Ye,{className:o(e.education_level),children:e.education_level}),e.education_type&&c.jsx(Ye,{variant:"outline",children:e.education_type}),e.status&&c.jsx(Ye,{variant:"secondary",children:e.status})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:e.is_featured?"text-yellow-500":"text-gray-400",children:c.jsx(Zn,{className:`h-4 w-4 ${e.is_featured?"fill-current":""}`})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>t(e),children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:"text-red-500 hover:text-red-700",children:c.jsx(Pr,{className:"h-4 w-4"})})]})]})}),c.jsxs(Q,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.grade&&c.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[c.jsx(Ks,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.grade}),c.jsx("div",{className:"text-xs text-gray-500",children:"Grade"})]}),e.credits&&c.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[c.jsx(wa,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.credits}),c.jsx("div",{className:"text-xs text-gray-500",children:"Credits"})]}),e.skills_acquired&&e.skills_acquired.length>0&&c.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[c.jsx(Gi,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.skills_acquired.length}),c.jsx("div",{className:"text-xs text-gray-500",children:"Skills"})]}),e.courses_completed&&e.courses_completed.length>0&&c.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[c.jsx(xt,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.courses_completed.length}),c.jsx("div",{className:"text-xs text-gray-500",children:"Courses"})]})]}),e.description&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:i?e.description:`${e.description.substring(0,200)}${e.description.length>200?"...":""}`}),e.description.length>200&&c.jsx(z,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>s(!i),children:i?"Show less":"Show more"})]}),e.thesis_title&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Thesis"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-medium",children:e.thesis_title}),e.thesis_description&&c.jsx("p",{className:"text-sm text-gray-600",children:e.thesis_description}),e.advisor_name&&c.jsxs("p",{className:"text-xs text-gray-500",children:["Advisor: ",e.advisor_name]})]})]}),e.skills_acquired&&e.skills_acquired.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills Acquired"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills_acquired.map((d,f)=>c.jsx(Ye,{variant:"secondary",className:"text-xs",children:d},f))})]}),e.courses_completed&&e.courses_completed.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Notable Courses"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:e.courses_completed.map((d,f)=>c.jsxs("div",{className:"text-sm text-gray-600 flex items-start gap-2",children:[c.jsx(wa,{className:"h-3 w-3 mt-1 text-blue-500 flex-shrink-0"}),c.jsx("span",{children:d})]},f))})]}),e.honors_awards&&e.honors_awards.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Honors & Awards"}),c.jsx("ul",{className:"space-y-1",children:e.honors_awards.map((d,f)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[c.jsx(Ks,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),c.jsx("span",{children:d})]},f))})]}),e.institution_website&&c.jsx("div",{className:"flex justify-start",children:c.jsx(z,{variant:"outline",size:"sm",asChild:!0,children:c.jsxs("a",{href:e.institution_website,target:"_blank",rel:"noopener noreferrer",children:[c.jsx(eae,{className:"h-4 w-4 mr-1"}),"Institution Website"]})})})]})]})}function wKe({certification:e,onEdit:t,onDelete:n,onToggleFeatured:r}){const[i,s]=b.useState(!1),a=h=>jo(new Date(h),"MMM yyyy"),o=h=>{switch(h){case"Professional":return"bg-blue-100 text-blue-800";case"Technical":return"bg-green-100 text-green-800";case"Academic":return"bg-purple-100 text-purple-800";case"Vendor":return"bg-orange-100 text-orange-800";case"Industry":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},l=h=>{switch(h){case"Expert":return"bg-red-100 text-red-800";case"Advanced":return"bg-orange-100 text-orange-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Beginner":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},u=h=>{switch(h){case"Valid":return c.jsx(vs,{className:"h-4 w-4 text-green-500"});case"Permanent":return c.jsx(WA,{className:"h-4 w-4 text-blue-500"});case"Expiring Soon":return c.jsx(Rl,{className:"h-4 w-4 text-yellow-500"});case"Expired":return c.jsx(Tf,{className:"h-4 w-4 text-red-500"});default:return c.jsx(ht,{className:"h-4 w-4 text-gray-500"})}},d=h=>{switch(h){case"Valid":return"bg-green-100 text-green-800";case"Permanent":return"bg-blue-100 text-blue-800";case"Expiring Soon":return"bg-yellow-100 text-yellow-800";case"Expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=()=>{if(!e.expiry_date)return"No Expiration";if(e.status==="Expired")return`Expired ${a(e.expiry_date)}`;if(e.days_until_expiry!==void 0&&e.days_until_expiry!==null){if(e.days_until_expiry<=30)return`Expires in ${e.days_until_expiry} days`;if(e.days_until_expiry<=90)return`Expires in ${Math.round(e.days_until_expiry/30)} months`}return`Expires ${a(e.expiry_date)}`};return c.jsxs(X,{className:`hover:shadow-lg transition-shadow duration-200 ${e.is_featured?"ring-2 ring-yellow-400":""}`,children:[c.jsx(ie,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ks,{className:"h-5 w-5 text-gray-500"}),c.jsx(ae,{className:"text-lg",children:e.name}),e.is_featured&&c.jsx(Zn,{className:"h-5 w-5 text-yellow-500 fill-current"})]}),c.jsxs("div",{className:"space-y-2",children:[e.issuing_organization&&c.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:c.jsx("span",{className:"font-medium",children:e.issuing_organization})}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[e.issue_date&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(yn,{className:"h-4 w-4"}),c.jsxs("span",{children:["Issued ",a(e.issue_date)]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[u(e.status),c.jsx("span",{children:f()})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Ye,{className:d(e.status),children:e.status||"Unknown"}),e.certification_type&&c.jsx(Ye,{className:o(e.certification_type),children:e.certification_type}),e.difficulty_level&&c.jsx(Ye,{className:l(e.difficulty_level),children:e.difficulty_level}),e.verification_status==="Verified"&&c.jsxs(Ye,{variant:"secondary",className:"bg-green-100 text-green-800",children:[c.jsx(vs,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:e.is_featured?"text-yellow-500":"text-gray-400",children:c.jsx(Zn,{className:`h-4 w-4 ${e.is_featured?"fill-current":""}`})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>t(e),children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:"text-red-500 hover:text-red-700",children:c.jsx(Pr,{className:"h-4 w-4"})})]})]})}),c.jsxs(Q,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.exam_score&&c.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[c.jsx(As,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.exam_score}),c.jsx("div",{className:"text-xs text-gray-500",children:"Score"})]}),e.study_hours&&c.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[c.jsx(ht,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),c.jsxs("div",{className:"text-sm font-medium",children:[e.study_hours,"h"]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Study Time"})]}),e.continuing_education_units&&c.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[c.jsx(on,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),c.jsx("div",{className:"text-sm font-medium",children:e.continuing_education_units}),c.jsx("div",{className:"text-xs text-gray-500",children:"CEUs"})]}),e.cost&&c.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[c.jsx(wr,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),c.jsxs("div",{className:"text-sm font-medium",children:[e.cost.toLocaleString()," ",e.currency]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Cost"})]})]}),e.description&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:i?e.description:`${e.description.substring(0,200)}${e.description.length>200?"...":""}`}),e.description.length>200&&c.jsx(z,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>s(!i),children:i?"Show less":"Show more"})]}),e.skills_validated&&e.skills_validated.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills Validated"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills_validated.map((h,p)=>c.jsx(Ye,{variant:"secondary",className:"text-xs",children:h},p))})]}),e.prerequisites&&e.prerequisites.length>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Prerequisites"}),c.jsx("ul",{className:"space-y-1",children:e.prerequisites.map((h,p)=>c.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[c.jsx(wa,{className:"h-3 w-3 mt-1 text-blue-500 flex-shrink-0"}),c.jsx("span",{children:h})]},p))})]}),(e.credential_id||e.credential_url)&&c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Credential Information"}),c.jsxs("div",{className:"space-y-2",children:[e.credential_id&&c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"ID:"})," ",e.credential_id]}),e.credential_url&&c.jsx(z,{variant:"outline",size:"sm",asChild:!0,children:c.jsxs("a",{href:e.credential_url,target:"_blank",rel:"noopener noreferrer",children:[c.jsx(zA,{className:"h-4 w-4 mr-1"}),"View Credential"]})})]})]}),e.renewal_required&&c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 rounded-lg",children:[c.jsx(Rl,{className:"h-5 w-5 text-yellow-600"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Renewal Required"}),c.jsx("p",{className:"text-xs text-yellow-600",children:"This certification requires periodic renewal"})]})]})}),(e.status==="Expiring Soon"||e.status==="Expired")&&c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${e.status==="Expired"?"bg-red-50":"bg-yellow-50"}`,children:[e.status==="Expired"?c.jsx(Tf,{className:"h-5 w-5 text-red-600"}):c.jsx(Rl,{className:"h-5 w-5 text-yellow-600"}),c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${e.status==="Expired"?"text-red-800":"text-yellow-800"}`,children:e.status==="Expired"?"Certification Expired":"Expiring Soon"}),c.jsx("p",{className:`text-xs ${e.status==="Expired"?"text-red-600":"text-yellow-600"}`,children:e.status==="Expired"?"This certification has expired and may need renewal":"Consider renewing this certification soon"})]})]})})]})]})}const LF={modern:vae,classic:xt,creative:oo,technical:UA,academic:Zd},EKe={tech:UA,consulting:sh,creative:oo,academic:Zd,general:wl},SKe={modern:"Clean, contemporary designs perfect for tech and startup roles",classic:"Traditional, professional layouts for corporate and executive positions",creative:"Vibrant, artistic designs for creative and design roles",technical:"Code-focused layouts emphasizing technical skills and projects",academic:"Research-oriented formats for academic and scientific positions"};function NKe({templates:e,selectedTemplate:t,onSelectTemplate:n,onPreviewTemplate:r,loading:i=!1}){const[s,a]=b.useState("all"),o=[...new Set(e.map(f=>f.template_type))],l=[...new Set(e.map(f=>f.industry_focus))],u=()=>s==="all"?e:o.includes(s)?e.filter(f=>f.template_type===s):l.includes(s)?e.filter(f=>f.industry_focus===s):e,d=({template:f})=>{var g;const h=LF[f.template_type]||xt,p=EKe[f.industry_focus]||wl,m=(t==null?void 0:t.id)===f.id;return c.jsxs(X,{className:`cursor-pointer transition-all hover:shadow-md ${m?"ring-2 ring-blue-500 shadow-md":""}`,onClick:()=>n(f),children:[c.jsxs(ie,{className:"pb-3",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(h,{className:"h-5 w-5 text-blue-600"}),c.jsx(ae,{className:"text-lg",children:f.name})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[f.is_premium&&c.jsx(QD,{className:"h-4 w-4 text-yellow-500"}),m&&c.jsx(Zn,{className:"h-4 w-4 text-blue-500"})]})]}),c.jsx(dt,{className:"line-clamp-2",children:f.description})]}),c.jsxs(Q,{className:"space-y-3",children:[c.jsx("div",{className:"aspect-[3/4] bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:f.preview_image_url?c.jsx("img",{src:f.preview_image_url,alt:`${f.name} preview`,className:"w-full h-full object-cover rounded-lg"}):c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx(xt,{className:"h-12 w-12 mx-auto mb-2"}),c.jsx("p",{className:"text-sm",children:"Preview not available"})]})}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs(Ye,{variant:"secondary",className:"flex items-center gap-1",children:[c.jsx(h,{className:"h-3 w-3"}),f.template_type]}),c.jsxs(Ye,{variant:"outline",className:"flex items-center gap-1",children:[c.jsx(p,{className:"h-3 w-3"}),f.industry_focus]}),f.is_premium&&c.jsxs(Ye,{variant:"default",className:"flex items-center gap-1",children:[c.jsx(QD,{className:"h-3 w-3"}),"Premium"]})]}),c.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Sections:"})," ",((g=f.sections_config.sections)==null?void 0:g.join(", "))||"Standard"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Emphasis:"})," ",f.sections_config.emphasis||"Balanced"]})]}),c.jsxs("div",{className:"flex gap-2",children:[r&&c.jsxs(z,{variant:"outline",size:"sm",onClick:v=>{v.stopPropagation(),r(f)},className:"flex-1",children:[c.jsx($i,{className:"h-4 w-4 mr-1"}),"Preview"]}),c.jsx(z,{variant:m?"default":"outline",size:"sm",onClick:v=>{v.stopPropagation(),n(f)},className:"flex-1",children:m?"Selected":"Select"})]})]})]})};return i?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((f,h)=>c.jsxs(X,{className:"animate-pulse",children:[c.jsxs(ie,{children:[c.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]}),c.jsx(Q,{children:c.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg"})})]},h))}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Sh,{value:s,onValueChange:a,children:[c.jsxs(Xu,{className:"grid w-full grid-cols-3 lg:grid-cols-6",children:[c.jsx(en,{value:"all",children:"All Templates"}),o.map(f=>{const h=LF[f]||xt;return c.jsxs(en,{value:f,className:"flex items-center gap-1",children:[c.jsx(h,{className:"h-4 w-4"}),c.jsx("span",{className:"capitalize",children:f})]},f)})]}),c.jsxs(sn,{value:s,className:"mt-6",children:[o.includes(s)&&c.jsx(X,{className:"mb-6",children:c.jsx(Q,{className:"pt-6",children:c.jsx("p",{className:"text-sm text-gray-600",children:SKe[s]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u().length===0?c.jsxs("div",{className:"col-span-full text-center py-12",children:[c.jsx(xt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Templates Found"}),c.jsx("p",{className:"text-gray-500",children:"No templates available for the selected filter."})]}):u().map(f=>c.jsx(d,{template:f},f.id))})]})]}),t&&c.jsxs(X,{className:"border-blue-200 bg-blue-50",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs(ae,{className:"flex items-center gap-2 text-blue-900",children:[c.jsx(Zn,{className:"h-5 w-5"}),"Selected Template"]})}),c.jsx(Q,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-blue-900",children:t.name}),c.jsx("p",{className:"text-sm text-blue-600",children:t.description})]}),c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n(t),className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[c.jsx(zs,{className:"h-4 w-4 mr-1"}),"Generate CV"]})]})})]})]})}function _Ke(){var uP,dP,fP,hP;const[e,t]=b.useState("overview"),[n,r]=b.useState(!1),[i,s]=b.useState(!1),[a,o]=b.useState(!1),[l,u]=b.useState(""),[d,f]=b.useState("all"),[h,p]=b.useState(""),[m,g]=b.useState("all"),[v,y]=b.useState(null),[x,w]=b.useState(null),[E,_]=b.useState(!1),{profiles:N,loading:T}=bE(),{applications:C,loading:O,getApplicationStats:A}=jJ(),{skills:D,loading:k,getSkillsByCategory:P,getSkillStats:B,deleteSkill:L,refetch:j}=YWe(),R=((uP=N.find(K=>K.is_active))==null?void 0:uP.id)||((dP=N[0])==null?void 0:dP.id)||null,M=v||R,{motivationTexts:V,loading:I,createMotivationText:ee,updateMotivationText:W,deleteMotivationText:$,duplicateMotivationText:xe,setAsDefault:ke,getAllPurposes:Ae}=XWe(M),{projects:le,loading:Se,deleteProject:ne,toggleFeatured:de}=QWe(v),{experiences:pe,loading:J,deleteExperience:qe}=JWe(v),{tags:Oe,loading:Qe,getAllCategories:G}=ZWe(v);eVe(v);const{education:oe,loading:be,deleteEducation:Jt,toggleFeatured:bt}=tVe(v),{certifications:ut,loading:ua,deleteCertification:Si,toggleFeatured:Ha,getExpiringSoon:Ps}=nVe(v),{timeline:q,loading:te}=rVe(v),{templates:we,loading:Pe}=iVe(),{generations:Ke,loading:Vt,createGeneration:Ni,recordDownload:Vr,recordMetric:Wa}=sVe(v),{analytics:da,summary:Tt,loading:oi}=aVe(v),Ie=A(),Rh=N.filter(K=>K.is_active),kE=C.filter(K=>{const Ge=l===""||K.company_name.toLowerCase().includes(l.toLowerCase())||K.job_title.toLowerCase().includes(l.toLowerCase()),Wo=d==="all"||K.status===d;return Ge&&Wo}),AE=D.filter(K=>{const Ge=h===""||K.skill_name.toLowerCase().includes(h.toLowerCase()),Wo=m==="all"||K.category===m;return Ge&&Wo}),$Z=K=>{switch(K){case 1:return"bg-red-50 border-red-200 text-red-900";case 2:return"bg-orange-50 border-orange-200 text-orange-900";case 3:return"bg-yellow-50 border-yellow-200 text-yellow-900";case 4:return"bg-blue-50 border-blue-200 text-blue-900";case 5:return"bg-green-50 border-green-200 text-green-900";default:return"bg-gray-50 border-gray-200 text-gray-900"}},UZ=async K=>{if(confirm("Are you sure you want to delete this skill?"))try{await L(K),j()}catch(Ge){console.error("Failed to delete skill:",Ge)}},zZ=K=>{console.log("Edit skill:",K)},cP=K=>{switch(K){case"applied":return"bg-blue-100 text-blue-700";case"interview":return"bg-yellow-100 text-yellow-700";case"offered":return"bg-green-100 text-green-700";case"accepted":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";case"withdrawn":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CV & Resume Manager"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your professional profiles and track job applications"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsxs(z,{variant:"outline",size:"sm",children:[c.jsx(Vy,{className:"mr-2 h-4 w-4"}),"Versions"]}),c.jsxs(z,{size:"sm",onClick:()=>r(!0),children:[c.jsx(at,{className:"mr-2 h-4 w-4"}),"New CV Profile"]})]})]}),c.jsxs(Sh,{value:e,onValueChange:t,className:"space-y-6",children:[c.jsxs(Xu,{className:"grid w-full grid-cols-8",children:[c.jsxs(en,{value:"overview",className:"flex items-center gap-2",children:[c.jsx(xt,{className:"h-4 w-4"}),"Overview"]}),c.jsxs(en,{value:"profiles",className:"flex items-center gap-2",children:[c.jsx(Es,{className:"h-4 w-4"}),"Profiles"]}),c.jsxs(en,{value:"applications",className:"flex items-center gap-2",children:[c.jsx(wl,{className:"h-4 w-4"}),"Applications"]}),c.jsxs(en,{value:"skills",className:"flex items-center gap-2",children:[c.jsx(Ac,{className:"h-4 w-4"}),"Skills"]}),c.jsxs(en,{value:"analytics",className:"flex items-center gap-2",children:[c.jsx(wa,{className:"h-4 w-4"}),"Analytics"]}),c.jsxs(en,{value:"motivation",className:"flex items-center gap-2",children:[c.jsx(JD,{className:"h-4 w-4"}),"Motivation Texts"]}),c.jsxs(en,{value:"enhanced",className:"flex items-center gap-2",children:[c.jsx(on,{className:"h-4 w-4"}),"Enhanced CV"]}),c.jsxs(en,{value:"education",className:"flex items-center gap-2",children:[c.jsx(Zd,{className:"h-4 w-4"}),"Education"]}),c.jsxs(en,{value:"generation",className:"flex items-center gap-2",children:[c.jsx(oo,{className:"h-4 w-4"}),"CV Generation"]}),c.jsxs(en,{value:"analytics",className:"flex items-center gap-2",children:[c.jsx(Ll,{className:"h-4 w-4"}),"Analytics"]})]}),c.jsxs(sn,{value:"overview",className:"space-y-6",children:[c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs(X,{children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium text-gray-600",children:"CV Profiles"}),c.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:c.jsx(xt,{className:"h-4 w-4 text-blue-600"})})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:N.length}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Rh.length," active profiles"]})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium text-gray-600",children:"Applications"}),c.jsx("div",{className:"p-2 rounded-full bg-green-100",children:c.jsx(wl,{className:"h-4 w-4 text-green-600"})})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:Ie.total}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Ie.pending," in progress"]})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium text-gray-600",children:"Interview Rate"}),c.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:c.jsx(Ac,{className:"h-4 w-4 text-purple-600"})})]}),c.jsxs(Q,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[Ie.interviewRate,"%"]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Success rate"})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),c.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:c.jsx(wa,{className:"h-4 w-4 text-orange-600"})})]}),c.jsxs(Q,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[Ie.successRate,"%"]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Offers received"})]})]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Recent Applications"}),c.jsx(dt,{children:"Your latest job applications"})]}),c.jsx(Q,{children:O?c.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((K,Ge)=>c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},Ge))}):C.length>0?c.jsx("div",{className:"space-y-4",children:C.slice(0,3).map(K=>{var Ge;return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:K.job_title}),c.jsx("p",{className:"text-sm text-gray-500",children:K.company_name})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:`text-xs px-2 py-1 rounded ${cP(K.status)}`,children:((Ge=Tk[K.status])==null?void 0:Ge.label)||K.status}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Wd(new Date(K.application_date),{addSuffix:!0})})]})]},K.id)})}):c.jsx("div",{className:"text-center py-4 text-gray-500",children:c.jsx("p",{children:"No applications yet"})})})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"CV Profiles"}),c.jsx(dt,{children:"Manage your different CV versions"})]}),c.jsx(Q,{children:T?c.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((K,Ge)=>c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},Ge))}):N.length>0?c.jsx("div",{className:"space-y-4",children:N.slice(0,3).map(K=>c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-medium",children:K.title}),K.is_active&&c.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-700",children:"Active"})]}),c.jsx("p",{className:"text-sm text-gray-500",children:K.target_role||"No target role specified"}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Updated ",Wd(new Date(K.updated_at),{addSuffix:!0})]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(z,{variant:"ghost",size:"sm",children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",children:c.jsx(Nf,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",children:c.jsx(zs,{className:"h-4 w-4"})})]})]},K.id))}):c.jsxs("div",{className:"text-center py-4 text-gray-500",children:[c.jsx("p",{children:"No CV profiles yet"}),c.jsx(z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>r(!0),children:"Create your first profile"})]})})]})]})]}),c.jsx(sn,{value:"profiles",className:"space-y-6",children:c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"CV Profiles"}),c.jsx(dt,{children:"Create and manage different versions of your CV for different roles"})]}),c.jsx(Q,{children:T?c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((K,Ge)=>c.jsxs("div",{className:"animate-pulse border rounded-lg p-4",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]},Ge))}):N.length>0?c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:N.map(K=>c.jsxs(X,{className:"hover:shadow-md transition-shadow",children:[c.jsx(ie,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(ae,{className:"text-lg",children:K.title}),K.target_role&&c.jsx(dt,{className:"mt-1",children:K.target_role})]}),K.is_active&&c.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-700",children:"Active"})]})}),c.jsxs(Q,{className:"pt-0",children:[K.description&&c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:K.description}),K.key_attributes&&K.key_attributes.length>0&&c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Key Attributes:"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[K.key_attributes.slice(0,3).map((Ge,Wo)=>c.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:Ge},Wo)),K.key_attributes.length>3&&c.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded",children:["+",K.key_attributes.length-3," more"]})]})]}),c.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500",children:c.jsxs("span",{children:["Updated ",Wd(new Date(K.updated_at),{addSuffix:!0})]})}),c.jsxs("div",{className:"flex gap-2 mt-3",children:[c.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",children:[c.jsx(Qr,{className:"mr-2 h-4 w-4"}),"Edit"]}),c.jsx(z,{variant:"ghost",size:"sm",children:c.jsx(Nf,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",children:c.jsx(zs,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",children:c.jsx(Pr,{className:"h-4 w-4"})})]})]})]},K.id))}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(xt,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No CV profiles yet"}),c.jsx("p",{className:"text-sm mb-4",children:"Create your first CV profile to get started"}),c.jsxs(z,{onClick:()=>r(!0),children:[c.jsx(at,{className:"mr-2 h-4 w-4"}),"Create CV Profile"]})]})})]})}),c.jsxs(sn,{value:"applications",className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[c.jsxs("div",{className:"relative",children:[c.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(Te,{placeholder:"Search applications...",value:l,onChange:K=>u(K.target.value),className:"pl-10 w-full sm:w-64"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Am,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsxs("select",{value:d,onChange:K=>f(K.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Filter by application status",children:[c.jsx("option",{value:"all",children:"All Statuses"}),c.jsx("option",{value:"applied",children:"Applied"}),c.jsx("option",{value:"interview",children:"Interview"}),c.jsx("option",{value:"offered",children:"Offered"}),c.jsx("option",{value:"accepted",children:"Accepted"}),c.jsx("option",{value:"rejected",children:"Rejected"}),c.jsx("option",{value:"withdrawn",children:"Withdrawn"})]})]})]}),c.jsxs(z,{onClick:()=>s(!0),children:[c.jsx(at,{className:"mr-2 h-4 w-4"}),"Add Application"]})]}),c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[c.jsxs("div",{children:[c.jsx(ae,{children:"Job Applications"}),c.jsx(dt,{children:"Track your job applications and their status"})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[kE.length," of ",C.length," applications"]})]})}),c.jsx(Q,{children:O?c.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((K,Ge)=>c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},Ge))}):kE.length>0?c.jsx("div",{className:"space-y-4",children:kE.map(K=>{var Ge;return c.jsxs("div",{className:"flex items-start justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-start sm:items-center gap-2 flex-col sm:flex-row",children:[c.jsx("h3",{className:"font-medium text-lg",children:K.job_title}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${cP(K.status)}`,children:((Ge=Tk[K.status])==null?void 0:Ge.label)||K.status})]}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:K.company_name}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 text-xs text-gray-500",children:[c.jsxs("span",{children:["Applied: ",new Date(K.application_date).toLocaleDateString()]}),c.jsx("span",{className:"hidden sm:block",children:""}),c.jsx("span",{children:Wd(new Date(K.application_date),{addSuffix:!0})}),K.salary_range&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"hidden sm:block",children:""}),c.jsx("span",{className:"text-green-600 font-medium",children:K.salary_range})]})]}),K.job_url&&c.jsx("a",{href:K.job_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline inline-block mt-1",children:"View Job Posting "})]}),(K.interview_notes||K.job_highlights)&&c.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[K.job_highlights&&c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Job Highlights:"}),c.jsx("p",{className:"text-sm text-gray-700",children:K.job_highlights})]}),K.interview_notes&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Interview Notes:"}),c.jsx("p",{className:"text-sm text-gray-700",children:K.interview_notes})]})]})]}),c.jsxs("div",{className:"flex gap-1 ml-4",children:[c.jsx(z,{variant:"ghost",size:"sm",title:"Edit Application",children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",title:"Delete Application",children:c.jsx(Pr,{className:"h-4 w-4"})})]})]},K.id)})}):l||d!=="all"?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(lo,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No applications found matching your criteria"}),c.jsx(z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{u(""),f("all")},children:"Clear Filters"})]}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(wl,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No job applications yet"}),c.jsx("p",{className:"text-sm mt-1",children:"Start tracking your job search progress"}),c.jsxs(z,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>s(!0),children:[c.jsx(at,{className:"mr-2 h-4 w-4"}),"Add Your First Application"]})]})})]})]}),c.jsxs(sn,{value:"skills",className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[c.jsxs("div",{className:"relative",children:[c.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx(Te,{placeholder:"Search skills...",value:h,onChange:K=>p(K.target.value),className:"pl-10 w-full sm:w-64"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Am,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsxs("select",{value:m,onChange:K=>g(K.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Filter by skill category",children:[c.jsx("option",{value:"all",children:"All Categories"}),Object.keys(P()).map(K=>c.jsx("option",{value:K,children:K},K))]})]})]}),c.jsxs(z,{onClick:()=>o(!0),children:[c.jsx(at,{className:"mr-2 h-4 w-4"}),"Add Skill"]})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[c.jsx(X,{children:c.jsx(Q,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold",children:B().total}),c.jsx("p",{className:"text-sm text-gray-600",children:"Total Skills"})]}),c.jsx(Ac,{className:"h-8 w-8 text-blue-500"})]})})}),c.jsx(X,{children:c.jsx(Q,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold",children:B().highlighted}),c.jsx("p",{className:"text-sm text-gray-600",children:"Highlighted"})]}),c.jsx(Zn,{className:"h-8 w-8 text-yellow-500"})]})})}),c.jsx(X,{children:c.jsx(Q,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold",children:B().averageLevel}),c.jsx("p",{className:"text-sm text-gray-600",children:"Avg Level"})]}),c.jsx(wa,{className:"h-8 w-8 text-green-500"})]})})}),c.jsx(X,{children:c.jsx(Q,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold",children:B().categories}),c.jsx("p",{className:"text-sm text-gray-600",children:"Categories"})]}),c.jsx(Vy,{className:"h-8 w-8 text-purple-500"})]})})})]}),c.jsxs(X,{children:[c.jsx(ie,{children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[c.jsxs("div",{children:[c.jsx(ae,{children:"Skills & Competencies"}),c.jsx(dt,{children:"Kammarkollegiet competency scale (1-5)"})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[AE.length," of ",D.length," skills"]})]})}),c.jsx(Q,{children:k?c.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((K,Ge)=>c.jsxs("div",{className:"animate-pulse p-4 border rounded-lg",children:[c.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),c.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},Ge))}):AE.length>0?c.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:AE.map(K=>{var Ge,Wo;return c.jsx("div",{className:`p-4 border rounded-lg transition-all hover:shadow-md ${$Z(K.skill_level)} ${K.is_highlighted?"ring-2 ring-yellow-400 ring-offset-1":""}`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"font-semibold text-lg",children:K.skill_name}),K.is_highlighted&&c.jsx(Zn,{className:"h-4 w-4 text-yellow-600"})]}),c.jsxs("div",{className:"mt-2",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("span",{className:"text-sm font-medium",children:["Niv ",K.skill_level,": ",(Ge=_k[K.skill_level])==null?void 0:Ge.label]})}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(Wo=_k[K.skill_level])==null?void 0:Wo.description})]}),K.category&&c.jsx("div",{className:"mt-2",children:c.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded",children:K.category})}),K.years_of_experience&&c.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[K.years_of_experience," r erfarenhet"]})]}),c.jsxs("div",{className:"flex gap-1 ml-2",children:[c.jsx(z,{variant:"ghost",size:"sm",title:"Edit Skill",onClick:()=>zZ(K),children:c.jsx(Qr,{className:"h-4 w-4"})}),c.jsx(z,{variant:"ghost",size:"sm",title:"Delete Skill",onClick:()=>UZ(K.id),children:c.jsx(Pr,{className:"h-4 w-4"})})]})]})},K.id)})}):h||m!=="all"?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(lo,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No skills found matching your criteria"}),c.jsx(z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{p(""),g("all")},children:"Clear Filters"})]}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Ac,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No skills added yet"}),c.jsx("p",{className:"text-sm mt-1",children:"Start building your competency profile"}),c.jsxs(z,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>o(!0),children:[c.jsx(at,{className:"mr-2 h-4 w-4"}),"Add Your First Skill"]})]})})]})]}),c.jsx(sn,{value:"analytics",className:"space-y-6",children:c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Application Analytics"}),c.jsx(dt,{children:"Insights into your job search performance"})]}),c.jsx(Q,{children:c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(wa,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Analytics coming soon"}),c.jsx("p",{className:"text-sm mb-4",children:"Detailed analytics will be available when you have more data"})]})})]})}),c.jsxs(sn,{value:"motivation",className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Motivation Texts"}),c.jsx("p",{className:"text-gray-600",children:"Manage your motivation texts for different types of applications"})]}),v&&c.jsx(BZ,{cvProfileId:v,onCreateMotivationText:ee,existingPurposes:Ae()})]}),N.length>0&&c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Select CV Profile"}),c.jsx(dt,{children:"Choose which CV profile to manage motivation texts for"})]}),c.jsx(Q,{children:c.jsxs("select",{value:v||"",onChange:K=>y(K.target.value||null),className:"w-full p-2 border rounded-md","aria-label":"Select CV Profile",children:[c.jsx("option",{value:"",children:"Select a CV profile..."}),N.map(K=>c.jsx("option",{value:K.id,children:K.title},K.id))]})})]}),v&&c.jsx("div",{className:"space-y-4",children:I?c.jsx(X,{children:c.jsx(Q,{className:"p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),c.jsx("p",{className:"mt-2",children:"Loading motivation texts..."})]})})}):V.length===0?c.jsx(X,{children:c.jsx(Q,{className:"p-6",children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx(JD,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No motivation texts yet"}),c.jsx("p",{className:"text-sm mb-4",children:"Create your first motivation text to get started"})]})})}):c.jsx("div",{className:"grid gap-4",children:V.map(K=>c.jsx(vKe,{motivationText:K,onUpdate:W,onDelete:$,onDuplicate:xe,onSetAsDefault:ke,existingPurposes:Ae(),cvProfileId:v,onCreateMotivationText:ee},K.id))})})]}),c.jsxs(sn,{value:"enhanced",className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Enhanced CV Management"}),c.jsx("p",{className:"text-gray-600",children:"Advanced project and experience management with technology tracking"})]})}),N.length>0&&c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Select CV Profile"}),c.jsx(dt,{children:"Choose which CV profile to manage enhanced features for"})]}),c.jsx(Q,{children:c.jsxs("select",{value:v||"",onChange:K=>y(K.target.value||null),className:"w-full p-2 border rounded-md","aria-label":"Select CV Profile",children:[c.jsx("option",{value:"",children:"Select a CV profile..."}),N.map(K=>c.jsx("option",{value:K.id,children:K.title},K.id))]})})]}),v&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-semibold",children:"Enhanced Projects"}),c.jsxs(z,{onClick:()=>{},children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Project"]})]}),Se?c.jsx(X,{children:c.jsx(Q,{className:"p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),c.jsx("p",{className:"mt-2",children:"Loading projects..."})]})})}):le.length===0?c.jsx(X,{children:c.jsx(Q,{className:"p-6",children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx(wl,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),c.jsx("p",{className:"text-sm mb-4",children:"Create your first enhanced project to get started"})]})})}):c.jsx("div",{className:"grid gap-6",children:le.map(K=>c.jsx(xKe,{project:K,onEdit:Ge=>{},onDelete:ne,onToggleFeatured:de,onAddAchievement:Ge=>{}},K.id))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-semibold",children:"Enhanced Experiences"}),c.jsxs(z,{onClick:()=>{},children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Experience"]})]}),J?c.jsx(X,{children:c.jsx(Q,{className:"p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),c.jsx("p",{className:"mt-2",children:"Loading experiences..."})]})})}):pe.length===0?c.jsx(X,{children:c.jsx(Q,{className:"p-6",children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx(Ac,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No experiences yet"}),c.jsx("p",{className:"text-sm mb-4",children:"Create your first enhanced experience to get started"})]})})}):c.jsx("div",{className:"grid gap-6",children:pe.map(K=>c.jsx(yKe,{experience:K,onEdit:Ge=>{},onDelete:qe,onAddAchievement:Ge=>{}},K.id))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-semibold",children:"Technology Tags"}),c.jsxs(z,{onClick:()=>{},children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Technology"]})]}),Qe?c.jsx(X,{children:c.jsx(Q,{className:"p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),c.jsx("p",{className:"mt-2",children:"Loading technology tags..."})]})})}):Oe.length===0?c.jsx(X,{children:c.jsx(Q,{className:"p-6",children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx(on,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No technology tags yet"}),c.jsx("p",{className:"text-sm mb-4",children:"Technology tags will be automatically created when you add them to projects and experiences"})]})})}):c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsx(ae,{children:"Technology Overview"}),c.jsx(dt,{children:"Your most used technologies across projects and experiences"})]}),c.jsx(Q,{children:c.jsx("div",{className:"space-y-4",children:G().map(K=>c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:K}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Oe.filter(Ge=>Ge.category===K).slice(0,10).map(Ge=>c.jsxs(Ye,{variant:"secondary",className:"text-xs",style:{backgroundColor:Ge.color+"20",color:Ge.color},children:[Ge.name," (",Ge.usage_count,")"]},Ge.id))})]},K))})})]})]})]})]}),c.jsx(sn,{value:"education",className:"space-y-6",children:v?c.jsxs("div",{className:"space-y-6",children:[c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Zd,{className:"h-5 w-5"}),"Education"]}),c.jsxs(z,{size:"sm",onClick:()=>{},children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Education"]})]}),c.jsx(dt,{children:"Manage educational background and qualifications"})]}),c.jsx(Q,{children:be?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-500",children:"Loading education..."})}):oe.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(wa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No education entries yet"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Add your educational background to get started"})]}):c.jsx("div",{className:"grid gap-4",children:oe.map(K=>c.jsx(bKe,{education:K,onEdit:Ge=>{},onDelete:Ge=>Jt(Ge),onToggleFeatured:Ge=>bt(Ge)},K.id))})})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Ac,{className:"h-5 w-5"}),"Certifications",Ps().length>0&&c.jsxs(Ye,{variant:"destructive",children:[Ps().length," Expiring Soon"]})]}),c.jsxs(z,{size:"sm",onClick:()=>{},children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Add Certification"]})]}),c.jsx(dt,{children:"Track professional certifications and their expiry dates"})]}),c.jsx(Q,{children:ua?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-500",children:"Loading certifications..."})}):ut.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Ac,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No certifications yet"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Add professional certifications to track your credentials"})]}):c.jsx("div",{className:"grid gap-4",children:ut.map(K=>c.jsx(wKe,{certification:K,onEdit:Ge=>{},onDelete:Ge=>Si(Ge),onToggleFeatured:Ge=>Ha(Ge)},K.id))})})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(on,{className:"h-5 w-5"}),"Education Timeline"]}),c.jsx(dt,{children:"Visual timeline of educational achievements and certifications"})]}),c.jsx(Q,{children:te?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-500",children:"Loading timeline..."})}):q.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-gray-500",children:"No timeline data available"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Add education or certifications to see your timeline"})]}):c.jsx("div",{className:"space-y-4",children:q.map((K,Ge)=>c.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b last:border-b-0",children:[c.jsx("div",{className:"flex-shrink-0 w-20 text-sm text-gray-500 font-medium",children:K.start_date?new Date(K.start_date).getFullYear():"N/A"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ye,{variant:K.item_type==="education"?"default":"secondary",children:K.item_type==="education"?"Education":"Certification"}),c.jsx("h4",{className:"font-medium",children:K.title})]}),c.jsx("p",{className:"text-sm text-gray-600",children:K.institution_provider}),K.end_date&&!K.is_ongoing&&c.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Completed: ",new Date(K.end_date).getFullYear()]}),K.is_ongoing&&c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ongoing"})]})]},Ge))})})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Zd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"Select a CV profile to manage education and certifications"})]})}),c.jsx(sn,{value:"generation",className:"space-y-6",children:N.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(oo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No CV Profiles Found"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first CV profile to start generating professional CVs"}),c.jsxs(z,{onClick:()=>r(!0),children:[c.jsx(at,{className:"h-4 w-4 mr-2"}),"Create Your First CV Profile"]})]}):v?c.jsxs("div",{className:"space-y-6",children:[c.jsx(X,{className:"bg-blue-50 border-blue-200",children:c.jsx(Q,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Es,{className:"h-5 w-5 text-blue-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-blue-900",children:(fP=N.find(K=>K.id===v))==null?void 0:fP.title}),c.jsx("p",{className:"text-sm text-blue-600",children:((hP=N.find(K=>K.id===v))==null?void 0:hP.target_role)||"CV Profile Selected"})]})]}),c.jsx(z,{variant:"outline",size:"sm",onClick:()=>y(null),className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:"Change Profile"})]})})}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(oo,{className:"h-5 w-5"}),"CV Templates"]}),c.jsx(dt,{children:"Choose from professional templates designed for different industries and roles"})]}),c.jsx(Q,{children:c.jsx(NKe,{templates:we,selectedTemplate:x,onSelectTemplate:K=>{w(K),Wa("template_view",1,{template_id:K.id}),_(!0)},loading:Pe})})]}),x&&E&&c.jsxs(X,{className:"border-blue-200 bg-blue-50",children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2 text-blue-900",children:[c.jsx(xt,{className:"h-5 w-5"}),"Generate CV with ",x.name]}),c.jsx(dt,{children:"Create a professional CV using the selected template"})]}),c.jsx(Q,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:x.name}),c.jsx("p",{className:"text-sm text-gray-600",children:x.description}),c.jsxs("div",{className:"flex gap-2 mt-2",children:[c.jsx(Ye,{variant:"secondary",children:x.template_type}),c.jsx(Ye,{variant:"outline",children:x.industry_focus})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(z,{variant:"outline",onClick:()=>{w(null),_(!1)},children:"Change Template"}),c.jsxs(z,{onClick:async()=>{if(!v){alert("Please select a CV profile first");return}try{await Ni({template_id:x.id,generation_config:x.sections_config,content_data:{},output_format:"html"})&&(alert("CV generation started! Check the Recent Generations section below."),w(null),_(!1))}catch{alert("Failed to start CV generation. Please try again.")}},children:[c.jsx(zs,{className:"h-4 w-4 mr-2"}),"Generate CV"]})]})]})})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(xt,{className:"h-5 w-5"}),"Recent Generations"]}),c.jsxs(Ye,{variant:"secondary",children:[Ke.length," total"]})]}),c.jsx(dt,{children:"Your recently generated CVs and their download status"})]}),c.jsx(Q,{children:Vt?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-500",children:"Loading generations..."})}):Ke.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No CV generations yet"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Generate your first professional CV using the templates above"})]}):c.jsx("div",{className:"space-y-4",children:Ke.slice(0,5).map(K=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("h4",{className:"font-medium",children:[K.output_format.toUpperCase()," CV - ",new Date(K.created_at).toLocaleDateString()]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",c.jsx(Ye,{variant:K.generation_status==="completed"?"default":"secondary",children:K.generation_status}),K.download_count>0&&c.jsxs("span",{className:"ml-2",children:[" Downloaded ",K.download_count," times"]})]})]}),c.jsx("div",{className:"flex gap-2",children:K.file_url&&c.jsxs(z,{variant:"outline",size:"sm",onClick:()=>Vr(K.id),children:[c.jsx(zs,{className:"h-4 w-4 mr-1"}),"Download"]})})]},K.id))})})]})]}):c.jsx("div",{className:"space-y-6",children:c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(Es,{className:"h-5 w-5"}),"Select CV Profile"]}),c.jsx(dt,{children:"Choose which CV profile to use for generation"})]}),c.jsx(Q,{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(K=>c.jsx(X,{className:"cursor-pointer transition-all hover:shadow-md hover:border-blue-300",onClick:()=>y(K.id),children:c.jsxs(Q,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"font-medium",children:K.title}),K.is_active&&c.jsx(Ye,{variant:"secondary",className:"text-xs",children:"Active"})]}),K.description&&c.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:K.description}),K.target_role&&c.jsxs("p",{className:"text-xs text-gray-500",children:["Target: ",K.target_role]})]})},K.id))})})]})})}),c.jsx(sn,{value:"analytics",className:"space-y-6",children:v?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs(X,{children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium",children:"CV Generations"}),c.jsx(xt,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:oi?"...":(Tt==null?void 0:Tt.total_generations)||0}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total generated CVs"})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium",children:"Downloads"}),c.jsx(zs,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-2xl font-bold",children:oi?"...":(Tt==null?void 0:Tt.total_downloads)||0}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total downloads"})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium",children:"Most Used Template"}),c.jsx(oo,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-lg font-bold truncate",children:oi?"...":(Tt==null?void 0:Tt.most_used_template)||"None"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Preferred template"})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ae,{className:"text-sm font-medium",children:"Popular Format"}),c.jsx(xt,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Q,{children:[c.jsx("div",{className:"text-lg font-bold",children:oi?"...":((Tt==null?void 0:Tt.most_popular_format)||"None").toUpperCase()}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Most downloaded format"})]})]})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(on,{className:"h-5 w-5"}),"Recent Activity"]}),c.jsx(dt,{children:"Your CV generation and download activity over the last 30 days"})]}),c.jsx(Q,{children:oi?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-500",children:"Loading analytics..."})}):da.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Ll,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No activity data yet"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Generate and download CVs to see analytics"})]}):c.jsx("div",{className:"space-y-4",children:da.slice(0,10).map(K=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[K.metric_type==="generation"&&c.jsx(xt,{className:"h-5 w-5 text-blue-500"}),K.metric_type==="download"&&c.jsx(zs,{className:"h-5 w-5 text-green-500"}),K.metric_type==="view"&&c.jsx($i,{className:"h-5 w-5 text-purple-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium capitalize",children:K.metric_type}),c.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(K.recorded_at).toLocaleDateString()," at"," ",new Date(K.recorded_at).toLocaleTimeString()]})]})]}),c.jsxs(Ye,{variant:"outline",children:["Value: ",K.metric_value]})]},K.id))})})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Ll,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"Select a CV profile to view analytics and insights"})]})})]}),c.jsx(oVe,{open:n,onOpenChange:r}),c.jsx(cVe,{open:i,onOpenChange:s}),c.jsx(uVe,{open:a,onOpenChange:o,onSkillCreated:j})]})}const FZ=b.forwardRef(({className:e,orientation:t="horizontal",...n},r)=>c.jsx("div",{ref:r,className:ze("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));FZ.displayName="Separator";const bd=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];function TKe(){const{user:e}=Fr(),{toast:t}=Eh(),[n,r]=b.useState(()=>{const g=new Date;return{year:g.getFullYear(),month:g.getMonth()+1}}),[i,s]=b.useState({billing_percentage:94,absence_percentage:15}),[a,o]=b.useState(!1),[l,u]=b.useState(!1);b.useEffect(()=>{(async()=>{if(e)try{u(!0);const{data:v,error:y}=await se.from("monthly_settings").select("billing_percentage, absence_percentage").eq("user_id",e.id).eq("year",n.year).eq("month",n.month).single();if(v&&!y)console.log(`Loading settings for ${n.month}/${n.year}:`,v),s({billing_percentage:v.billing_percentage,absence_percentage:v.absence_percentage});else{console.log(`No specific settings for ${n.month}/${n.year}, using defaults`);const{data:x,error:w}=await se.from("user_profiles").select("debit_rate_monthly, absence_percentage").eq("id",e.id).single();s(x&&!w?{billing_percentage:x.debit_rate_monthly||94,absence_percentage:x.absence_percentage||15}:{billing_percentage:94,absence_percentage:15})}}catch(v){console.error("Error loading monthly settings:",v),s({billing_percentage:94,absence_percentage:15})}finally{u(!1)}})()},[e,n.year,n.month]);const d=g=>{r(v=>{let y=v.month+(g==="next"?1:-1),x=v.year;return y>12?(y=1,x++):y<1&&(y=12,x--),{year:x,month:y}})},f=async()=>{if(e)try{o(!0),console.log(` Saving settings for ${bd[n.month-1]} ${n.year}:`,{month:n.month,year:n.year,settings:i});const{error:g}=await se.from("monthly_settings").upsert({user_id:e.id,year:n.year,month:n.month,billing_percentage:i.billing_percentage,absence_percentage:i.absence_percentage,updated_at:new Date().toISOString()},{onConflict:"user_id,year,month"});if(g)throw g;console.log(` Successfully saved settings for ${bd[n.month-1]} ${n.year}`),t({title:"Sparade mnadsspecifika instllningar",description:`Instllningar fr ${bd[n.month-1]} ${n.year} har sparats`})}catch(g){console.error("Error saving monthly settings:",g),t({title:"Fel vid sparande",description:g instanceof Error?`Databasfel: ${g.message}. Kontrollera att monthly_settings tabellen existerar.`:"Kunde inte spara mnadsspecifika instllningar.",variant:"destructive"})}finally{o(!1)}},h=8*5*4.33,p=Math.round(h*(1-i.absence_percentage/100)),m=Math.round(p*(i.billing_percentage/100));return c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(yn,{className:"w-5 h-5"}),"Mnadsspecifika instllningar"]}),c.jsx(dt,{children:"Konfigurera debiteringsgrad och frnvaro per mnad fr noggrannare prognoser. Varje mnad kan ha unika instllningar."})]}),c.jsxs(Q,{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:[c.jsx(z,{variant:"ghost",size:"icon",onClick:()=>d("prev"),className:"h-8 w-8",children:c.jsx(FA,{className:"h-4 w-4"})}),c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"font-semibold text-lg",children:[bd[n.month-1]," ",n.year]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Mnadsspecifika instllningar"})]}),c.jsx(z,{variant:"ghost",size:"icon",onClick:()=>d("next"),className:"h-8 w-8",children:c.jsx($A,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"billing_percentage",children:"Debiteringsgrad (%)"}),c.jsx(Te,{id:"billing_percentage",type:"number",min:"0",max:"100",step:"1",value:i.billing_percentage,onChange:g=>s(v=>({...v,billing_percentage:parseFloat(g.target.value)>=0?parseFloat(g.target.value):0}))}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Procent av arbetstimmar som faktiskt debiteras denna mnad"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"absence_percentage",children:"Frnvaroprocent (%)"}),c.jsx(Te,{id:"absence_percentage",type:"number",min:"0",max:"100",step:"1",value:i.absence_percentage,onChange:g=>s(v=>({...v,absence_percentage:parseFloat(g.target.value)>=0?parseFloat(g.target.value):0}))}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Frvntad frnvaro fr denna mnad (semester, sjukdom, etc.)"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-medium",children:["Berkning fr ",bd[n.month-1]]}),c.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2 text-sm",children:[c.jsxs("p",{children:[" Arbetstimmar: ",Math.round(h)," timmar"]}),c.jsxs("p",{children:[" Efter frnvaro (",i.absence_percentage,"%): ",p," timmar"]}),c.jsxs("p",{children:[" Debiterbara timmar (",i.billing_percentage,"%): ",m," timmar"]})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs(z,{onClick:f,disabled:a||l,className:"flex items-center gap-2",children:[c.jsx(b1,{className:"w-4 h-4"}),a?"Sparar...":`Spara fr ${bd[n.month-1]}`]})})]})]})}function CKe(){const{user:e}=Fr(),{toast:t}=Eh(),[n,r]=b.useState(!0),[i,s]=b.useState(!1),[a,o]=b.useState(!1),[l,u]=b.useState({id:"",company_name:"",company_motto:"",hourly_rate:500,currency:"SEK",timezone:"Europe/Stockholm",debit_rate_monthly:0,absence_percentage:15,work_hours_per_day:8,work_days_per_week:5}),d=b.useCallback(async()=>{if(e)try{r(!0);const{data:p,error:m}=await se.from("user_profiles").select("*").eq("id",e==null?void 0:e.id).single();if(m&&m.code!=="PGRST116")throw m;p&&u({id:p.id,company_name:p.company_name||"",company_motto:p.company_motto||"",hourly_rate:p.hourly_rate||500,currency:p.currency||"SEK",timezone:p.timezone||"Europe/Stockholm",debit_rate_monthly:0,absence_percentage:15,work_hours_per_day:8,work_days_per_week:5})}catch(p){console.error("Error loading settings:",p),t({title:"Fel",description:"Kunde inte ladda instllningar",variant:"destructive"})}finally{r(!1)}},[e,t]);b.useEffect(()=>{d()},[d]);const f=async()=>{try{s(!0);const{error:p}=await se.from("user_profiles").upsert({id:e==null?void 0:e.id,company_name:l.company_name,company_motto:l.company_motto,hourly_rate:l.hourly_rate,currency:l.currency,timezone:l.timezone,debit_rate_monthly:l.debit_rate_monthly,absence_percentage:l.absence_percentage,work_hours_per_day:l.work_hours_per_day,work_days_per_week:l.work_days_per_week,updated_at:new Date().toISOString()});if(p)throw p;t({title:"Sparade instllningar",description:"Dina instllningar har uppdaterats"})}catch(p){console.error("Error saving settings:",p),t({title:"Fel",description:"Kunde inte spara instllningar",variant:"destructive"})}finally{s(!1)}},h=(p,m)=>{u(g=>({...g,[p]:m}))};return n?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(_f,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Laddar instllningar..."})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Instllningar"}),c.jsx("p",{className:"text-muted-foreground",children:"Hantera dina konto- och applikationsinstllningar"})]}),c.jsx(z,{onClick:f,disabled:i,children:i?c.jsxs(c.Fragment,{children:[c.jsx(_f,{className:"w-4 h-4 mr-2 animate-spin"}),"Sparar..."]}):c.jsxs(c.Fragment,{children:[c.jsx(b1,{className:"w-4 h-4 mr-2"}),"Spara ndringar"]})})]}),c.jsxs(Sh,{defaultValue:"profile",className:"space-y-6",children:[c.jsxs(Xu,{className:"grid w-full grid-cols-4",children:[c.jsxs(en,{value:"profile",className:"flex items-center gap-2",children:[c.jsx(Es,{className:"w-4 h-4"}),"Profil"]}),c.jsxs(en,{value:"timetracking",className:"flex items-center gap-2",children:[c.jsx(ht,{className:"w-4 h-4"}),"Tidrapportering"]}),c.jsxs(en,{value:"billing",className:"flex items-center gap-2",children:[c.jsx(wr,{className:"w-4 h-4"}),"Fakturering"]}),c.jsxs(en,{value:"preferences",className:"flex items-center gap-2",children:[c.jsx(oo,{className:"w-4 h-4"}),"Preferenser"]})]}),c.jsx(sn,{value:"profile",className:"space-y-6",children:c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(sh,{className:"w-5 h-5"}),"Fretagsinformation"]}),c.jsx(dt,{children:"Grundlggande information om ditt fretag"})]}),c.jsxs(Q,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"company_name",children:"Fretagsnamn"}),c.jsx(Te,{id:"company_name",value:l.company_name,onChange:p=>h("company_name",p.target.value),placeholder:"Mitt Konsultfretag AB"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"currency",children:"Valuta"}),c.jsx(Te,{id:"currency",value:l.currency,onChange:p=>h("currency",p.target.value),placeholder:"SEK"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"company_motto",children:"Fretagsmotto"}),c.jsx(Te,{id:"company_motto",value:l.company_motto,onChange:p=>h("company_motto",p.target.value),placeholder:"Bygger framtiden, ett projekt i taget."})]})]})]})}),c.jsxs(sn,{value:"timetracking",className:"space-y-6",children:[c.jsx(TKe,{}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(ht,{className:"w-5 h-5"}),"Grundinstllningar fr tidrapportering"]}),c.jsx(dt,{children:"Standardinstllningar som anvnds som bas fr mnadsspecifika instllningar"})]}),c.jsxs(Q,{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium",children:"Arbetstider"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"work_hours_per_day",children:"Arbetstimmar per dag"}),c.jsx(Te,{id:"work_hours_per_day",type:"number",min:"1",max:"24",step:"0.5",value:l.work_hours_per_day,onChange:p=>h("work_hours_per_day",parseFloat(p.target.value))}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard arbetstimmar per arbetsdag"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"work_days_per_week",children:"Arbetsdagar per vecka"}),c.jsx(Te,{id:"work_days_per_week",type:"number",min:"1",max:"7",value:l.work_days_per_week,onChange:p=>h("work_days_per_week",parseInt(p.target.value))}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Antal arbetsdagar per vecka"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium",children:"Ekonomiska instllningar"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"debit_rate_monthly",children:"Debiteringsgrad (%)"}),c.jsx(Te,{id:"debit_rate_monthly",type:"number",min:"0",max:"100",step:"1",value:l.debit_rate_monthly,onChange:p=>h("debit_rate_monthly",parseFloat(p.target.value)),placeholder:"94"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Procent av arbetstimmar som faktiskt debiteras (t.ex. 94% av 170h = 160h)"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"absence_percentage",children:"Frnvaroprocent (%)"}),c.jsx(Te,{id:"absence_percentage",type:"number",min:"0",max:"100",step:"1",value:l.absence_percentage,onChange:p=>h("absence_percentage",parseFloat(p.target.value))}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Uppskattad procent av frnvaro (semester, sjukdom, etc.)"})]})]})]}),c.jsx(FZ,{}),c.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Berkningsexempel"}),c.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsxs("p",{children:[" Arbetstimmar per mnad: ",Math.round(l.work_hours_per_day*l.work_days_per_week*4.33)," timmar"]}),c.jsxs("p",{children:[" Effektiva timmar (efter frnvaro): ",Math.round(l.work_hours_per_day*l.work_days_per_week*4.33*(1-l.absence_percentage/100))," timmar"]}),c.jsxs("p",{children:[" Debiterbara timmar (",l.debit_rate_monthly,"%): ",Math.round(l.work_hours_per_day*l.work_days_per_week*4.33*(1-l.absence_percentage/100)*(l.debit_rate_monthly/100))," timmar"]}),l.hourly_rate>0&&c.jsxs("p",{children:[" Uppskattad mnadsomsttning: ",Math.round(l.work_hours_per_day*l.work_days_per_week*4.33*(1-l.absence_percentage/100)*(l.debit_rate_monthly/100)*l.hourly_rate).toLocaleString("sv-SE")," SEK"]})]})]})]})]})]}),c.jsxs(sn,{value:"billing",className:"space-y-6",children:[c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(wr,{className:"w-5 h-5"}),"Faktureringsinstllningar"]}),c.jsx(dt,{children:"Instllningar fr priser och fakturering"})]}),c.jsx(Q,{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"hourly_rate",children:"Timpris (SEK)"}),c.jsx(Te,{id:"hourly_rate",type:"number",min:"0",step:"50",value:l.hourly_rate,onChange:p=>h("hourly_rate",parseFloat(p.target.value))}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Ditt standardtimpris fr konsultarbete"})]})})]}),c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(Eae,{className:"w-5 h-5"}),"Fortnox Integration"]}),c.jsx(dt,{children:"Konfigurera Fortnox API fr att exportera fakturor direkt"})]}),c.jsx(Q,{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h4",{className:"font-medium",children:"Fortnox API"}),lm()?c.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:"Konfigurerad"}):c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Inte konfigurerad"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:lm()?"Du kan nu exportera fakturor direkt till Fortnox.":"Stll in dina API-uppgifter fr att aktivera Fortnox-export."})]}),c.jsx(z,{variant:"outline",onClick:()=>o(!0),children:lm()?"Hantera":"Konfigurera"})]})})]})]}),c.jsx(sn,{value:"preferences",className:"space-y-6",children:c.jsxs(X,{children:[c.jsxs(ie,{children:[c.jsxs(ae,{className:"flex items-center gap-2",children:[c.jsx(oo,{className:"w-5 h-5"}),"Applikationspreferenser"]}),c.jsx(dt,{children:"Anpassa applikationens utseende och beteende"})]}),c.jsx(Q,{className:"space-y-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ee,{htmlFor:"timezone",children:"Tidszon"}),c.jsx(Te,{id:"timezone",value:l.timezone,onChange:p=>h("timezone",p.target.value),placeholder:"Europe/Stockholm"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Din lokala tidszon fr tiddisplay"})]})})]})})]}),c.jsx(OJ,{open:a,onOpenChange:o})]})}function kKe(){const{user:e,loading:t,signOut:n}=Fr(),[r,i]=b.useState(!1);b.useEffect(()=>{const o=localStorage.getItem("darkMode");o&&i(JSON.parse(o))},[]),b.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(r)),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]);const s=async()=>{await n()},a=()=>{i(!r)};return t?c.jsx("div",{className:`min-h-screen flex items-center justify-center ${r?"bg-slate-900":"bg-slate-50"}`,children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:r?"text-white":"text-slate-900",children:"Loading..."})]})}):e?c.jsx(yre,{children:c.jsx(boe,{isDarkMode:r,onToggleDarkMode:a,onSignOut:s,user:e,children:c.jsxs(ure,{children:[c.jsx(Ms,{path:"/",element:c.jsx(vAe,{isDarkMode:r})}),c.jsx(Ms,{path:"/time-tracking",element:c.jsx(SAe,{isDarkMode:r})}),c.jsx(Ms,{path:"/budget",element:c.jsx(DAe,{isDarkMode:r})}),c.jsx(Ms,{path:"/cash-flow",element:c.jsx(MAe,{isDarkMode:r})}),c.jsx(Ms,{path:"/projects",element:c.jsx(RAe,{})}),c.jsx(Ms,{path:"/clients",element:c.jsx(jWe,{})}),c.jsx(Ms,{path:"/analytics",element:c.jsx(RWe,{})}),c.jsx(Ms,{path:"/cv-manager",element:c.jsx(_Ke,{})}),c.jsx(Ms,{path:"/invoicing",element:c.jsx(GWe,{})}),c.jsx(Ms,{path:"/settings",element:c.jsx(CKe,{})})]})})}):c.jsx(Oae,{isDarkMode:r})}X$(document.getElementById("root")).render(c.jsx(b.StrictMode,{children:c.jsx(kKe,{})}));
