var O3=Object.defineProperty;var T3=(e,t,r)=>t in e?O3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Vd=(e,t,r)=>T3(e,typeof t!="symbol"?t+"":t,r);function D3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function I3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var bk={exports:{}},Km={},wk={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=Symbol.for("react.element"),M3=Symbol.for("react.portal"),R3=Symbol.for("react.fragment"),$3=Symbol.for("react.strict_mode"),L3=Symbol.for("react.profiler"),F3=Symbol.for("react.provider"),B3=Symbol.for("react.context"),z3=Symbol.for("react.forward_ref"),U3=Symbol.for("react.suspense"),W3=Symbol.for("react.memo"),V3=Symbol.for("react.lazy"),hS=Symbol.iterator;function H3(e){return e===null||typeof e!="object"?null:(e=hS&&e[hS]||e["@@iterator"],typeof e=="function"?e:null)}var jk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sk=Object.assign,Nk={};function zl(e,t,r){this.props=e,this.context=t,this.refs=Nk,this.updater=r||jk}zl.prototype.isReactComponent={};zl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _k(){}_k.prototype=zl.prototype;function lb(e,t,r){this.props=e,this.context=t,this.refs=Nk,this.updater=r||jk}var cb=lb.prototype=new _k;cb.constructor=lb;Sk(cb,zl.prototype);cb.isPureReactComponent=!0;var mS=Array.isArray,Ck=Object.prototype.hasOwnProperty,ub={current:null},Ek={key:!0,ref:!0,__self:!0,__source:!0};function kk(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ck.call(t,n)&&!Ek.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Qu,type:e,key:i,ref:o,props:a,_owner:ub.current}}function q3(e,t){return{$$typeof:Qu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function db(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qu}function K3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var pS=/\/+/g;function nv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K3(""+e.key):t.toString(36)}function Wf(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qu:case M3:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+nv(o,0):n,mS(a)?(r="",e!=null&&(r=e.replace(pS,"$&/")+"/"),Wf(a,t,r,"",function(d){return d})):a!=null&&(db(a)&&(a=q3(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(pS,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",mS(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+nv(i,l);o+=Wf(i,t,r,c,a)}else if(c=H3(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+nv(i,l++),o+=Wf(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hd(e,t,r){if(e==null)return e;var n=[],a=0;return Wf(e,n,"","",function(i){return t.call(r,i,a++)}),n}function G3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cr={current:null},Vf={transition:null},Y3={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:Vf,ReactCurrentOwner:ub};function Pk(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Hd,forEach:function(e,t,r){Hd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hd(e,function(){t++}),t},toArray:function(e){return Hd(e,function(t){return t})||[]},only:function(e){if(!db(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=zl;_e.Fragment=R3;_e.Profiler=L3;_e.PureComponent=lb;_e.StrictMode=$3;_e.Suspense=U3;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y3;_e.act=Pk;_e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Sk({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ub.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ck.call(t,c)&&!Ek.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Qu,type:e.type,key:a,ref:i,props:n,_owner:o}};_e.createContext=function(e){return e={$$typeof:B3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:F3,_context:e},e.Consumer=e};_e.createElement=kk;_e.createFactory=function(e){var t=kk.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:z3,render:e}};_e.isValidElement=db;_e.lazy=function(e){return{$$typeof:V3,_payload:{_status:-1,_result:e},_init:G3}};_e.memo=function(e,t){return{$$typeof:W3,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Vf.transition;Vf.transition={};try{e()}finally{Vf.transition=t}};_e.unstable_act=Pk;_e.useCallback=function(e,t){return Cr.current.useCallback(e,t)};_e.useContext=function(e){return Cr.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Cr.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Cr.current.useEffect(e,t)};_e.useId=function(){return Cr.current.useId()};_e.useImperativeHandle=function(e,t,r){return Cr.current.useImperativeHandle(e,t,r)};_e.useInsertionEffect=function(e,t){return Cr.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Cr.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Cr.current.useMemo(e,t)};_e.useReducer=function(e,t,r){return Cr.current.useReducer(e,t,r)};_e.useRef=function(e){return Cr.current.useRef(e)};_e.useState=function(e){return Cr.current.useState(e)};_e.useSyncExternalStore=function(e,t,r){return Cr.current.useSyncExternalStore(e,t,r)};_e.useTransition=function(){return Cr.current.useTransition()};_e.version="18.3.1";wk.exports=_e;var y=wk.exports;const Te=Tn(y),Gm=D3({__proto__:null,default:Te},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X3=y,J3=Symbol.for("react.element"),Q3=Symbol.for("react.fragment"),Z3=Object.prototype.hasOwnProperty,eF=X3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tF={key:!0,ref:!0,__self:!0,__source:!0};function Ak(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Z3.call(t,n)&&!tF.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:J3,type:e,key:i,ref:o,props:a,_owner:eF.current}}Km.Fragment=Q3;Km.jsx=Ak;Km.jsxs=Ak;bk.exports=Km;var s=bk.exports,Ok={exports:{}},an={},Tk={exports:{}},Dk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,F){var H=D.length;D.push(F);e:for(;0<H;){var Z=H-1>>>1,W=D[Z];if(0<a(W,F))D[Z]=F,D[H]=W,H=Z;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var F=D[0],H=D.pop();if(H!==F){D[0]=H;e:for(var Z=0,W=D.length,se=W>>>1;Z<se;){var he=2*(Z+1)-1,ge=D[he],le=he+1,J=D[le];if(0>a(ge,H))le<W&&0>a(J,ge)?(D[Z]=J,D[le]=H,Z=le):(D[Z]=ge,D[he]=H,Z=he);else if(le<W&&0>a(J,H))D[Z]=J,D[le]=H,Z=le;else break e}}return F}function a(D,F){var H=D.sortIndex-F.sortIndex;return H!==0?H:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var F=r(d);F!==null;){if(F.callback===null)n(d);else if(F.startTime<=D)n(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(d)}}function j(D){if(g=!1,w(D),!p)if(r(c)!==null)p=!0,T(S);else{var F=r(d);F!==null&&M(j,F.startTime-D)}}function S(D,F){p=!1,g&&(g=!1,x(E),E=-1),m=!0;var H=h;try{for(w(F),f=r(c);f!==null&&(!(f.expirationTime>F)||D&&!A());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var W=Z(f.expirationTime<=F);F=e.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),w(F)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var he=r(d);he!==null&&M(j,he.startTime-F),se=!1}return se}finally{f=null,h=H,m=!1}}var N=!1,_=null,E=-1,k=5,P=-1;function A(){return!(e.unstable_now()-P<k)}function C(){if(_!==null){var D=e.unstable_now();P=D;var F=!0;try{F=_(!0,D)}finally{F?O():(N=!1,_=null)}}else N=!1}var O;if(typeof b=="function")O=function(){b(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,R=I.port2;I.port1.onmessage=C,O=function(){R.postMessage(null)}}else O=function(){v(C,0)};function T(D){_=D,N||(N=!0,O())}function M(D,F){E=v(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,T(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var H=h;h=F;try{return D()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=h;h=D;try{return F()}finally{h=H}},e.unstable_scheduleCallback=function(D,F,H){var Z=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,D={id:u++,callback:F,priorityLevel:D,startTime:H,expirationTime:W,sortIndex:-1},H>Z?(D.sortIndex=H,t(d,D),r(c)===null&&D===r(d)&&(g?(x(E),E=-1):g=!0,M(j,H-Z))):(D.sortIndex=W,t(c,D),p||m||(p=!0,T(S))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var F=h;return function(){var H=h;h=F;try{return D.apply(this,arguments)}finally{h=H}}}})(Dk);Tk.exports=Dk;var rF=Tk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nF=y,tn=rF;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ik=new Set,du={};function po(e,t){ml(e,t),ml(e+"Capture",t)}function ml(e,t){for(du[e]=t,e=0;e<t.length;e++)Ik.add(t[e])}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),My=Object.prototype.hasOwnProperty,aF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gS={},vS={};function iF(e){return My.call(vS,e)?!0:My.call(gS,e)?!1:aF.test(e)?vS[e]=!0:(gS[e]=!0,!1)}function sF(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oF(e,t,r,n){if(t===null||typeof t>"u"||sF(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Er(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tr[e]=new Er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tr[t]=new Er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tr[e]=new Er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tr[e]=new Er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tr[e]=new Er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tr[e]=new Er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tr[e]=new Er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tr[e]=new Er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tr[e]=new Er(e,5,!1,e.toLowerCase(),null,!1,!1)});var fb=/[\-:]([a-z])/g;function hb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fb,hb);tr[t]=new Er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fb,hb);tr[t]=new Er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fb,hb);tr[t]=new Er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tr[e]=new Er(e,1,!1,e.toLowerCase(),null,!1,!1)});tr.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tr[e]=new Er(e,1,!1,e.toLowerCase(),null,!0,!0)});function mb(e,t,r,n){var a=tr.hasOwnProperty(t)?tr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oF(t,r,a,n)&&(r=null),n||a===null?iF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ni=nF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qd=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),Ry=Symbol.for("react.profiler"),Mk=Symbol.for("react.provider"),Rk=Symbol.for("react.context"),gb=Symbol.for("react.forward_ref"),$y=Symbol.for("react.suspense"),Ly=Symbol.for("react.suspense_list"),vb=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),$k=Symbol.for("react.offscreen"),yS=Symbol.iterator;function gc(e){return e===null||typeof e!="object"?null:(e=yS&&e[yS]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,av;function Bc(e){if(av===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);av=t&&t[1]||""}return`
`+av+e}var iv=!1;function sv(e,t){if(!e||iv)return"";iv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{iv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bc(e):""}function lF(e){switch(e.tag){case 5:return Bc(e.type);case 16:return Bc("Lazy");case 13:return Bc("Suspense");case 19:return Bc("SuspenseList");case 0:case 2:case 15:return e=sv(e.type,!1),e;case 11:return e=sv(e.type.render,!1),e;case 1:return e=sv(e.type,!0),e;default:return""}}function Fy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fo:return"Fragment";case Lo:return"Portal";case Ry:return"Profiler";case pb:return"StrictMode";case $y:return"Suspense";case Ly:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Rk:return(e.displayName||"Context")+".Consumer";case Mk:return(e._context.displayName||"Context")+".Provider";case gb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vb:return t=e.displayName||null,t!==null?t:Fy(e.type)||"Memo";case bi:t=e._payload,e=e._init;try{return Fy(e(t))}catch{}}return null}function cF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fy(t);case 8:return t===pb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uF(e){var t=Lk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kd(e){e._valueTracker||(e._valueTracker=uF(e))}function Fk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Lk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function lh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function By(e,t){var r=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bk(e,t){t=t.checked,t!=null&&mb(e,"checked",t,!1)}function zy(e,t){Bk(e,t);var r=Yi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uy(e,t.type,r):t.hasOwnProperty("defaultValue")&&Uy(e,t.type,Yi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Uy(e,t,r){(t!=="number"||lh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zc=Array.isArray;function Qo(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Wy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(zc(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yi(r)}}function zk(e,t){var r=Yi(t.value),n=Yi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gd,Wk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gd=Gd||document.createElement("div"),Gd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dF=["Webkit","ms","Moz","O"];Object.keys(Gc).forEach(function(e){dF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gc[t]=Gc[e]})});function Vk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gc.hasOwnProperty(e)&&Gc[e]?(""+t).trim():t+"px"}function Hk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Vk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var fF=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hy(e,t){if(t){if(fF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function qy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ky=null;function yb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gy=null,Zo=null,el=null;function SS(e){if(e=td(e)){if(typeof Gy!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Zm(t),Gy(e.stateNode,e.type,t))}}function qk(e){Zo?el?el.push(e):el=[e]:Zo=e}function Kk(){if(Zo){var e=Zo,t=el;if(el=Zo=null,SS(e),t)for(e=0;e<t.length;e++)SS(t[e])}}function Gk(e,t){return e(t)}function Yk(){}var ov=!1;function Xk(e,t,r){if(ov)return e(t,r);ov=!0;try{return Gk(e,t,r)}finally{ov=!1,(Zo!==null||el!==null)&&(Yk(),Kk())}}function hu(e,t){var r=e.stateNode;if(r===null)return null;var n=Zm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var Yy=!1;if(Ua)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){Yy=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{Yy=!1}function hF(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Yc=!1,ch=null,uh=!1,Xy=null,mF={onError:function(e){Yc=!0,ch=e}};function pF(e,t,r,n,a,i,o,l,c){Yc=!1,ch=null,hF.apply(mF,arguments)}function gF(e,t,r,n,a,i,o,l,c){if(pF.apply(this,arguments),Yc){if(Yc){var d=ch;Yc=!1,ch=null}else throw Error(X(198));uh||(uh=!0,Xy=d)}}function go(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function NS(e){if(go(e)!==e)throw Error(X(188))}function vF(e){var t=e.alternate;if(!t){if(t=go(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return NS(a),e;if(i===n)return NS(a),t;i=i.sibling}throw Error(X(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function Qk(e){return e=vF(e),e!==null?Zk(e):null}function Zk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zk(e);if(t!==null)return t;e=e.sibling}return null}var eP=tn.unstable_scheduleCallback,_S=tn.unstable_cancelCallback,yF=tn.unstable_shouldYield,xF=tn.unstable_requestPaint,gt=tn.unstable_now,bF=tn.unstable_getCurrentPriorityLevel,xb=tn.unstable_ImmediatePriority,tP=tn.unstable_UserBlockingPriority,dh=tn.unstable_NormalPriority,wF=tn.unstable_LowPriority,rP=tn.unstable_IdlePriority,Ym=null,pa=null;function jF(e){if(pa&&typeof pa.onCommitFiberRoot=="function")try{pa.onCommitFiberRoot(Ym,e,void 0,(e.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:_F,SF=Math.log,NF=Math.LN2;function _F(e){return e>>>=0,e===0?32:31-(SF(e)/NF|0)|0}var Yd=64,Xd=4194304;function Uc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Uc(l):(i&=o,i!==0&&(n=Uc(i)))}else o=r&~a,o!==0?n=Uc(o):i!==0&&(n=Uc(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Yn(t),a=1<<r,n|=e[r],t&=~a;return n}function CF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EF(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Yn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=CF(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Jy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nP(){var e=Yd;return Yd<<=1,!(Yd&4194240)&&(Yd=64),e}function lv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yn(t),e[t]=r}function kF(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Yn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function bb(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Yn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Be=0;function aP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iP,wb,sP,oP,lP,Qy=!1,Jd=[],Ii=null,Mi=null,Ri=null,mu=new Map,pu=new Map,Si=[],PF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CS(e,t){switch(e){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":mu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(t.pointerId)}}function yc(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=td(t),t!==null&&wb(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function AF(e,t,r,n,a){switch(t){case"focusin":return Ii=yc(Ii,e,t,r,n,a),!0;case"dragenter":return Mi=yc(Mi,e,t,r,n,a),!0;case"mouseover":return Ri=yc(Ri,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return mu.set(i,yc(mu.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,pu.set(i,yc(pu.get(i)||null,e,t,r,n,a)),!0}return!1}function cP(e){var t=Ms(e.target);if(t!==null){var r=go(t);if(r!==null){if(t=r.tag,t===13){if(t=Jk(r),t!==null){e.blockedOn=t,lP(e.priority,function(){sP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ky=n,r.target.dispatchEvent(n),Ky=null}else return t=td(r),t!==null&&wb(t),e.blockedOn=r,!1;t.shift()}return!0}function ES(e,t,r){Hf(e)&&r.delete(t)}function OF(){Qy=!1,Ii!==null&&Hf(Ii)&&(Ii=null),Mi!==null&&Hf(Mi)&&(Mi=null),Ri!==null&&Hf(Ri)&&(Ri=null),mu.forEach(ES),pu.forEach(ES)}function xc(e,t){e.blockedOn===t&&(e.blockedOn=null,Qy||(Qy=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,OF)))}function gu(e){function t(a){return xc(a,e)}if(0<Jd.length){xc(Jd[0],e);for(var r=1;r<Jd.length;r++){var n=Jd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ii!==null&&xc(Ii,e),Mi!==null&&xc(Mi,e),Ri!==null&&xc(Ri,e),mu.forEach(t),pu.forEach(t),r=0;r<Si.length;r++)n=Si[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Si.length&&(r=Si[0],r.blockedOn===null);)cP(r),r.blockedOn===null&&Si.shift()}var tl=ni.ReactCurrentBatchConfig,hh=!0;function TF(e,t,r,n){var a=Be,i=tl.transition;tl.transition=null;try{Be=1,jb(e,t,r,n)}finally{Be=a,tl.transition=i}}function DF(e,t,r,n){var a=Be,i=tl.transition;tl.transition=null;try{Be=4,jb(e,t,r,n)}finally{Be=a,tl.transition=i}}function jb(e,t,r,n){if(hh){var a=Zy(e,t,r,n);if(a===null)yv(e,t,n,mh,r),CS(e,n);else if(AF(a,e,t,r,n))n.stopPropagation();else if(CS(e,n),t&4&&-1<PF.indexOf(e)){for(;a!==null;){var i=td(a);if(i!==null&&iP(i),i=Zy(e,t,r,n),i===null&&yv(e,t,n,mh,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else yv(e,t,n,null,r)}}var mh=null;function Zy(e,t,r,n){if(mh=null,e=yb(n),e=Ms(e),e!==null)if(t=go(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jk(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mh=e,null}function uP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bF()){case xb:return 1;case tP:return 4;case dh:case wF:return 16;case rP:return 536870912;default:return 16}default:return 16}}var ki=null,Sb=null,qf=null;function dP(){if(qf)return qf;var e,t=Sb,r=t.length,n,a="value"in ki?ki.value:ki.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return qf=a.slice(e,1<n?1-n:void 0)}function Kf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qd(){return!0}function kS(){return!1}function sn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qd:kS,this.isPropagationStopped=kS,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qd)},persist:function(){},isPersistent:Qd}),t}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nb=sn(Ul),ed=dt({},Ul,{view:0,detail:0}),IF=sn(ed),cv,uv,bc,Xm=dt({},ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_b,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bc&&(bc&&e.type==="mousemove"?(cv=e.screenX-bc.screenX,uv=e.screenY-bc.screenY):uv=cv=0,bc=e),cv)},movementY:function(e){return"movementY"in e?e.movementY:uv}}),PS=sn(Xm),MF=dt({},Xm,{dataTransfer:0}),RF=sn(MF),$F=dt({},ed,{relatedTarget:0}),dv=sn($F),LF=dt({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),FF=sn(LF),BF=dt({},Ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zF=sn(BF),UF=dt({},Ul,{data:0}),AS=sn(UF),WF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HF[e])?!!t[e]:!1}function _b(){return qF}var KF=dt({},ed,{key:function(e){if(e.key){var t=WF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_b,charCode:function(e){return e.type==="keypress"?Kf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GF=sn(KF),YF=dt({},Xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OS=sn(YF),XF=dt({},ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_b}),JF=sn(XF),QF=dt({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZF=sn(QF),e5=dt({},Xm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t5=sn(e5),r5=[9,13,27,32],Cb=Ua&&"CompositionEvent"in window,Xc=null;Ua&&"documentMode"in document&&(Xc=document.documentMode);var n5=Ua&&"TextEvent"in window&&!Xc,fP=Ua&&(!Cb||Xc&&8<Xc&&11>=Xc),TS=" ",DS=!1;function hP(e,t){switch(e){case"keyup":return r5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bo=!1;function a5(e,t){switch(e){case"compositionend":return mP(t);case"keypress":return t.which!==32?null:(DS=!0,TS);case"textInput":return e=t.data,e===TS&&DS?null:e;default:return null}}function i5(e,t){if(Bo)return e==="compositionend"||!Cb&&hP(e,t)?(e=dP(),qf=Sb=ki=null,Bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fP&&t.locale!=="ko"?null:t.data;default:return null}}var s5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s5[e.type]:t==="textarea"}function pP(e,t,r,n){qk(n),t=ph(t,"onChange"),0<t.length&&(r=new Nb("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jc=null,vu=null;function o5(e){CP(e,0)}function Jm(e){var t=Wo(e);if(Fk(t))return e}function l5(e,t){if(e==="change")return t}var gP=!1;if(Ua){var fv;if(Ua){var hv="oninput"in document;if(!hv){var MS=document.createElement("div");MS.setAttribute("oninput","return;"),hv=typeof MS.oninput=="function"}fv=hv}else fv=!1;gP=fv&&(!document.documentMode||9<document.documentMode)}function RS(){Jc&&(Jc.detachEvent("onpropertychange",vP),vu=Jc=null)}function vP(e){if(e.propertyName==="value"&&Jm(vu)){var t=[];pP(t,vu,e,yb(e)),Xk(o5,t)}}function c5(e,t,r){e==="focusin"?(RS(),Jc=t,vu=r,Jc.attachEvent("onpropertychange",vP)):e==="focusout"&&RS()}function u5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jm(vu)}function d5(e,t){if(e==="click")return Jm(t)}function f5(e,t){if(e==="input"||e==="change")return Jm(t)}function h5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jn=typeof Object.is=="function"?Object.is:h5;function yu(e,t){if(Jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!My.call(t,a)||!Jn(e[a],t[a]))return!1}return!0}function $S(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function LS(e,t){var r=$S(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$S(r)}}function yP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xP(){for(var e=window,t=lh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lh(e.document)}return t}function Eb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function m5(e){var t=xP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yP(r.ownerDocument.documentElement,r)){if(n!==null&&Eb(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=LS(r,i);var o=LS(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p5=Ua&&"documentMode"in document&&11>=document.documentMode,zo=null,ex=null,Qc=null,tx=!1;function FS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tx||zo==null||zo!==lh(n)||(n=zo,"selectionStart"in n&&Eb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qc&&yu(Qc,n)||(Qc=n,n=ph(ex,"onSelect"),0<n.length&&(t=new Nb("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zo)))}function Zd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Uo={animationend:Zd("Animation","AnimationEnd"),animationiteration:Zd("Animation","AnimationIteration"),animationstart:Zd("Animation","AnimationStart"),transitionend:Zd("Transition","TransitionEnd")},mv={},bP={};Ua&&(bP=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Qm(e){if(mv[e])return mv[e];if(!Uo[e])return e;var t=Uo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bP)return mv[e]=t[r];return e}var wP=Qm("animationend"),jP=Qm("animationiteration"),SP=Qm("animationstart"),NP=Qm("transitionend"),_P=new Map,BS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(e,t){_P.set(e,t),po(t,[e])}for(var pv=0;pv<BS.length;pv++){var gv=BS[pv],g5=gv.toLowerCase(),v5=gv[0].toUpperCase()+gv.slice(1);rs(g5,"on"+v5)}rs(wP,"onAnimationEnd");rs(jP,"onAnimationIteration");rs(SP,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(NP,"onTransitionEnd");ml("onMouseEnter",["mouseout","mouseover"]);ml("onMouseLeave",["mouseout","mouseover"]);ml("onPointerEnter",["pointerout","pointerover"]);ml("onPointerLeave",["pointerout","pointerover"]);po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));po("onBeforeInput",["compositionend","keypress","textInput","paste"]);po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wc));function zS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gF(n,t,void 0,e),e.currentTarget=null}function CP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;zS(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;zS(a,l,d),i=c}}}if(uh)throw e=Xy,uh=!1,Xy=null,e}function Qe(e,t){var r=t[sx];r===void 0&&(r=t[sx]=new Set);var n=e+"__bubble";r.has(n)||(EP(t,e,2,!1),r.add(n))}function vv(e,t,r){var n=0;t&&(n|=4),EP(r,e,n,t)}var ef="_reactListening"+Math.random().toString(36).slice(2);function xu(e){if(!e[ef]){e[ef]=!0,Ik.forEach(function(r){r!=="selectionchange"&&(y5.has(r)||vv(r,!1,e),vv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ef]||(t[ef]=!0,vv("selectionchange",!1,t))}}function EP(e,t,r,n){switch(uP(t)){case 1:var a=TF;break;case 4:a=DF;break;default:a=jb}r=a.bind(null,t,r,e),a=void 0,!Yy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function yv(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ms(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Xk(function(){var d=i,u=yb(r),f=[];e:{var h=_P.get(e);if(h!==void 0){var m=Nb,p=e;switch(e){case"keypress":if(Kf(r)===0)break e;case"keydown":case"keyup":m=GF;break;case"focusin":p="focus",m=dv;break;case"focusout":p="blur",m=dv;break;case"beforeblur":case"afterblur":m=dv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=PS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=JF;break;case wP:case jP:case SP:m=FF;break;case NP:m=ZF;break;case"scroll":m=IF;break;case"wheel":m=t5;break;case"copy":case"cut":case"paste":m=zF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=OS}var g=(t&4)!==0,v=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var b=d,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=hu(b,x),j!=null&&g.push(bu(b,j,w)))),v)break;b=b.return}0<g.length&&(h=new m(h,p,null,r,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Ky&&(p=r.relatedTarget||r.fromElement)&&(Ms(p)||p[Wa]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=d,p=p?Ms(p):null,p!==null&&(v=go(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=d),m!==p)){if(g=PS,j="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=OS,j="onPointerLeave",x="onPointerEnter",b="pointer"),v=m==null?h:Wo(m),w=p==null?h:Wo(p),h=new g(j,b+"leave",m,r,u),h.target=v,h.relatedTarget=w,j=null,Ms(u)===d&&(g=new g(x,b+"enter",p,r,u),g.target=w,g.relatedTarget=v,j=g),v=j,m&&p)t:{for(g=m,x=p,b=0,w=g;w;w=jo(w))b++;for(w=0,j=x;j;j=jo(j))w++;for(;0<b-w;)g=jo(g),b--;for(;0<w-b;)x=jo(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=jo(g),x=jo(x)}g=null}else g=null;m!==null&&US(f,h,m,g,!1),p!==null&&v!==null&&US(f,v,p,g,!0)}}e:{if(h=d?Wo(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=l5;else if(IS(h))if(gP)S=f5;else{S=u5;var N=c5}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=d5);if(S&&(S=S(e,d))){pP(f,S,r,u);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Uy(h,"number",h.value)}switch(N=d?Wo(d):window,e){case"focusin":(IS(N)||N.contentEditable==="true")&&(zo=N,ex=d,Qc=null);break;case"focusout":Qc=ex=zo=null;break;case"mousedown":tx=!0;break;case"contextmenu":case"mouseup":case"dragend":tx=!1,FS(f,r,u);break;case"selectionchange":if(p5)break;case"keydown":case"keyup":FS(f,r,u)}var _;if(Cb)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Bo?hP(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(fP&&r.locale!=="ko"&&(Bo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Bo&&(_=dP()):(ki=u,Sb="value"in ki?ki.value:ki.textContent,Bo=!0)),N=ph(d,E),0<N.length&&(E=new AS(E,e,null,r,u),f.push({event:E,listeners:N}),_?E.data=_:(_=mP(r),_!==null&&(E.data=_)))),(_=n5?a5(e,r):i5(e,r))&&(d=ph(d,"onBeforeInput"),0<d.length&&(u=new AS("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=_))}CP(f,t)})}function bu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ph(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=hu(e,r),i!=null&&n.unshift(bu(e,i,a)),i=hu(e,t),i!=null&&n.push(bu(e,i,a))),e=e.return}return n}function jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function US(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=hu(r,i),c!=null&&o.unshift(bu(r,c,l))):a||(c=hu(r,i),c!=null&&o.push(bu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var x5=/\r\n?/g,b5=/\u0000|\uFFFD/g;function WS(e){return(typeof e=="string"?e:""+e).replace(x5,`
`).replace(b5,"")}function tf(e,t,r){if(t=WS(t),WS(e)!==t&&r)throw Error(X(425))}function gh(){}var rx=null,nx=null;function ax(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ix=typeof setTimeout=="function"?setTimeout:void 0,w5=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,j5=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(e){return VS.resolve(null).then(e).catch(S5)}:ix;function S5(e){setTimeout(function(){throw e})}function xv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),gu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);gu(t)}function $i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function HS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Wl=Math.random().toString(36).slice(2),ca="__reactFiber$"+Wl,wu="__reactProps$"+Wl,Wa="__reactContainer$"+Wl,sx="__reactEvents$"+Wl,N5="__reactListeners$"+Wl,_5="__reactHandles$"+Wl;function Ms(e){var t=e[ca];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wa]||r[ca]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=HS(e);e!==null;){if(r=e[ca])return r;e=HS(e)}return t}e=r,r=e.parentNode}return null}function td(e){return e=e[ca]||e[Wa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Zm(e){return e[wu]||null}var ox=[],Vo=-1;function ns(e){return{current:e}}function tt(e){0>Vo||(e.current=ox[Vo],ox[Vo]=null,Vo--)}function Ke(e,t){Vo++,ox[Vo]=e.current,e.current=t}var Xi={},mr=ns(Xi),Mr=ns(!1),Js=Xi;function pl(e,t){var r=e.type.contextTypes;if(!r)return Xi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Rr(e){return e=e.childContextTypes,e!=null}function vh(){tt(Mr),tt(mr)}function qS(e,t,r){if(mr.current!==Xi)throw Error(X(168));Ke(mr,t),Ke(Mr,r)}function kP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(X(108,cF(e)||"Unknown",a));return dt({},r,n)}function yh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xi,Js=mr.current,Ke(mr,e),Ke(Mr,Mr.current),!0}function KS(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=kP(e,t,Js),n.__reactInternalMemoizedMergedChildContext=e,tt(Mr),tt(mr),Ke(mr,e)):tt(Mr),Ke(Mr,r)}var Aa=null,ep=!1,bv=!1;function PP(e){Aa===null?Aa=[e]:Aa.push(e)}function C5(e){ep=!0,PP(e)}function as(){if(!bv&&Aa!==null){bv=!0;var e=0,t=Be;try{var r=Aa;for(Be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Aa=null,ep=!1}catch(a){throw Aa!==null&&(Aa=Aa.slice(e+1)),eP(xb,as),a}finally{Be=t,bv=!1}}return null}var Ho=[],qo=0,xh=null,bh=0,gn=[],vn=0,Qs=null,Da=1,Ia="";function Cs(e,t){Ho[qo++]=bh,Ho[qo++]=xh,xh=e,bh=t}function AP(e,t,r){gn[vn++]=Da,gn[vn++]=Ia,gn[vn++]=Qs,Qs=e;var n=Da;e=Ia;var a=32-Yn(n)-1;n&=~(1<<a),r+=1;var i=32-Yn(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Da=1<<32-Yn(t)+a|r<<a|n,Ia=i+e}else Da=1<<i|r<<a|n,Ia=e}function kb(e){e.return!==null&&(Cs(e,1),AP(e,1,0))}function Pb(e){for(;e===xh;)xh=Ho[--qo],Ho[qo]=null,bh=Ho[--qo],Ho[qo]=null;for(;e===Qs;)Qs=gn[--vn],gn[vn]=null,Ia=gn[--vn],gn[vn]=null,Da=gn[--vn],gn[vn]=null}var Yr=null,qr=null,at=!1,Wn=null;function OP(e,t){var r=xn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function GS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yr=e,qr=$i(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yr=e,qr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qs!==null?{id:Da,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yr=e,qr=null,!0):!1;default:return!1}}function lx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cx(e){if(at){var t=qr;if(t){var r=t;if(!GS(e,t)){if(lx(e))throw Error(X(418));t=$i(r.nextSibling);var n=Yr;t&&GS(e,t)?OP(n,r):(e.flags=e.flags&-4097|2,at=!1,Yr=e)}}else{if(lx(e))throw Error(X(418));e.flags=e.flags&-4097|2,at=!1,Yr=e}}}function YS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yr=e}function rf(e){if(e!==Yr)return!1;if(!at)return YS(e),at=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ax(e.type,e.memoizedProps)),t&&(t=qr)){if(lx(e))throw TP(),Error(X(418));for(;t;)OP(e,t),t=$i(t.nextSibling)}if(YS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qr=$i(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qr=null}}else qr=Yr?$i(e.stateNode.nextSibling):null;return!0}function TP(){for(var e=qr;e;)e=$i(e.nextSibling)}function gl(){qr=Yr=null,at=!1}function Ab(e){Wn===null?Wn=[e]:Wn.push(e)}var E5=ni.ReactCurrentBatchConfig;function wc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function nf(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function XS(e){var t=e._init;return t(e._payload)}function DP(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=zi(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,j){return b===null||b.tag!==6?(b=Ev(w,x.mode,j),b.return=x,b):(b=a(b,w),b.return=x,b)}function c(x,b,w,j){var S=w.type;return S===Fo?u(x,b,w.props.children,j,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bi&&XS(S)===b.type)?(j=a(b,w.props),j.ref=wc(x,b,w),j.return=x,j):(j=eh(w.type,w.key,w.props,null,x.mode,j),j.ref=wc(x,b,w),j.return=x,j)}function d(x,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=kv(w,x.mode,j),b.return=x,b):(b=a(b,w.children||[]),b.return=x,b)}function u(x,b,w,j,S){return b===null||b.tag!==7?(b=Hs(w,x.mode,j,S),b.return=x,b):(b=a(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ev(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qd:return w=eh(b.type,b.key,b.props,null,x.mode,w),w.ref=wc(x,null,b),w.return=x,w;case Lo:return b=kv(b,x.mode,w),b.return=x,b;case bi:var j=b._init;return f(x,j(b._payload),w)}if(zc(b)||gc(b))return b=Hs(b,x.mode,w,null),b.return=x,b;nf(x,b)}return null}function h(x,b,w,j){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qd:return w.key===S?c(x,b,w,j):null;case Lo:return w.key===S?d(x,b,w,j):null;case bi:return S=w._init,h(x,b,S(w._payload),j)}if(zc(w)||gc(w))return S!==null?null:u(x,b,w,j,null);nf(x,w)}return null}function m(x,b,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(b,x,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case qd:return x=x.get(j.key===null?w:j.key)||null,c(b,x,j,S);case Lo:return x=x.get(j.key===null?w:j.key)||null,d(b,x,j,S);case bi:var N=j._init;return m(x,b,w,N(j._payload),S)}if(zc(j)||gc(j))return x=x.get(w)||null,u(b,x,j,S,null);nf(b,j)}return null}function p(x,b,w,j){for(var S=null,N=null,_=b,E=b=0,k=null;_!==null&&E<w.length;E++){_.index>E?(k=_,_=null):k=_.sibling;var P=h(x,_,w[E],j);if(P===null){_===null&&(_=k);break}e&&_&&P.alternate===null&&t(x,_),b=i(P,b,E),N===null?S=P:N.sibling=P,N=P,_=k}if(E===w.length)return r(x,_),at&&Cs(x,E),S;if(_===null){for(;E<w.length;E++)_=f(x,w[E],j),_!==null&&(b=i(_,b,E),N===null?S=_:N.sibling=_,N=_);return at&&Cs(x,E),S}for(_=n(x,_);E<w.length;E++)k=m(_,x,E,w[E],j),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?E:k.key),b=i(k,b,E),N===null?S=k:N.sibling=k,N=k);return e&&_.forEach(function(A){return t(x,A)}),at&&Cs(x,E),S}function g(x,b,w,j){var S=gc(w);if(typeof S!="function")throw Error(X(150));if(w=S.call(w),w==null)throw Error(X(151));for(var N=S=null,_=b,E=b=0,k=null,P=w.next();_!==null&&!P.done;E++,P=w.next()){_.index>E?(k=_,_=null):k=_.sibling;var A=h(x,_,P.value,j);if(A===null){_===null&&(_=k);break}e&&_&&A.alternate===null&&t(x,_),b=i(A,b,E),N===null?S=A:N.sibling=A,N=A,_=k}if(P.done)return r(x,_),at&&Cs(x,E),S;if(_===null){for(;!P.done;E++,P=w.next())P=f(x,P.value,j),P!==null&&(b=i(P,b,E),N===null?S=P:N.sibling=P,N=P);return at&&Cs(x,E),S}for(_=n(x,_);!P.done;E++,P=w.next())P=m(_,x,E,P.value,j),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?E:P.key),b=i(P,b,E),N===null?S=P:N.sibling=P,N=P);return e&&_.forEach(function(C){return t(x,C)}),at&&Cs(x,E),S}function v(x,b,w,j){if(typeof w=="object"&&w!==null&&w.type===Fo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qd:e:{for(var S=w.key,N=b;N!==null;){if(N.key===S){if(S=w.type,S===Fo){if(N.tag===7){r(x,N.sibling),b=a(N,w.props.children),b.return=x,x=b;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bi&&XS(S)===N.type){r(x,N.sibling),b=a(N,w.props),b.ref=wc(x,N,w),b.return=x,x=b;break e}r(x,N);break}else t(x,N);N=N.sibling}w.type===Fo?(b=Hs(w.props.children,x.mode,j,w.key),b.return=x,x=b):(j=eh(w.type,w.key,w.props,null,x.mode,j),j.ref=wc(x,b,w),j.return=x,x=j)}return o(x);case Lo:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=a(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=kv(w,x.mode,j),b.return=x,x=b}return o(x);case bi:return N=w._init,v(x,b,N(w._payload),j)}if(zc(w))return p(x,b,w,j);if(gc(w))return g(x,b,w,j);nf(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,w),b.return=x,x=b):(r(x,b),b=Ev(w,x.mode,j),b.return=x,x=b),o(x)):r(x,b)}return v}var vl=DP(!0),IP=DP(!1),wh=ns(null),jh=null,Ko=null,Ob=null;function Tb(){Ob=Ko=jh=null}function Db(e){var t=wh.current;tt(wh),e._currentValue=t}function ux(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rl(e,t){jh=e,Ob=Ko=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dr=!0),e.firstContext=null)}function kn(e){var t=e._currentValue;if(Ob!==e)if(e={context:e,memoizedValue:t,next:null},Ko===null){if(jh===null)throw Error(X(308));Ko=e,jh.dependencies={lanes:0,firstContext:e}}else Ko=Ko.next=e;return t}var Rs=null;function Ib(e){Rs===null?Rs=[e]:Rs.push(e)}function MP(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Ib(t)):(r.next=a.next,a.next=r),t.interleaved=r,Va(e,n)}function Va(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wi=!1;function Mb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $a(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Li(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Va(e,r)}return a=n.interleaved,a===null?(t.next=t,Ib(n)):(t.next=a.next,a.next=t),n.interleaved=t,Va(e,r)}function Gf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bb(e,r)}}function JS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sh(e,t,r,n){var a=e.updateQueue;wi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=dt({},f,h);break e;case 2:wi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);eo|=o,e.lanes=o,e.memoizedState=f}}function QS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(X(191,a));a.call(n)}}}var rd={},ga=ns(rd),ju=ns(rd),Su=ns(rd);function $s(e){if(e===rd)throw Error(X(174));return e}function Rb(e,t){switch(Ke(Su,t),Ke(ju,e),Ke(ga,rd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vy(t,e)}tt(ga),Ke(ga,t)}function yl(){tt(ga),tt(ju),tt(Su)}function $P(e){$s(Su.current);var t=$s(ga.current),r=Vy(t,e.type);t!==r&&(Ke(ju,e),Ke(ga,r))}function $b(e){ju.current===e&&(tt(ga),tt(ju))}var ot=ns(0);function Nh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wv=[];function Lb(){for(var e=0;e<wv.length;e++)wv[e]._workInProgressVersionPrimary=null;wv.length=0}var Yf=ni.ReactCurrentDispatcher,jv=ni.ReactCurrentBatchConfig,Zs=0,ut=null,Ot=null,Ft=null,_h=!1,Zc=!1,Nu=0,k5=0;function ir(){throw Error(X(321))}function Fb(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jn(e[r],t[r]))return!1;return!0}function Bb(e,t,r,n,a,i){if(Zs=i,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yf.current=e===null||e.memoizedState===null?T5:D5,e=r(n,a),Zc){i=0;do{if(Zc=!1,Nu=0,25<=i)throw Error(X(301));i+=1,Ft=Ot=null,t.updateQueue=null,Yf.current=I5,e=r(n,a)}while(Zc)}if(Yf.current=Ch,t=Ot!==null&&Ot.next!==null,Zs=0,Ft=Ot=ut=null,_h=!1,t)throw Error(X(300));return e}function zb(){var e=Nu!==0;return Nu=0,e}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ut.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function Pn(){if(Ot===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=Ft===null?ut.memoizedState:Ft.next;if(t!==null)Ft=t,Ot=e;else{if(e===null)throw Error(X(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ft===null?ut.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function _u(e,t){return typeof t=="function"?t(e):t}function Sv(e){var t=Pn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=Ot,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Zs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ut.lanes|=u,eo|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Jn(n,t.memoizedState)||(Dr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ut.lanes|=i,eo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nv(e){var t=Pn(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Jn(i,t.memoizedState)||(Dr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function LP(){}function FP(e,t){var r=ut,n=Pn(),a=t(),i=!Jn(n.memoizedState,a);if(i&&(n.memoizedState=a,Dr=!0),n=n.queue,Ub(UP.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ft!==null&&Ft.memoizedState.tag&1){if(r.flags|=2048,Cu(9,zP.bind(null,r,n,a,t),void 0,null),Ut===null)throw Error(X(349));Zs&30||BP(r,t,a)}return a}function BP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zP(e,t,r,n){t.value=r,t.getSnapshot=n,WP(t)&&VP(e)}function UP(e,t,r){return r(function(){WP(t)&&VP(e)})}function WP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jn(e,r)}catch{return!0}}function VP(e){var t=Va(e,1);t!==null&&Xn(t,e,1,-1)}function ZS(e){var t=oa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:e},t.queue=e,e=e.dispatch=O5.bind(null,ut,e),[t.memoizedState,e]}function Cu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function HP(){return Pn().memoizedState}function Xf(e,t,r,n){var a=oa();ut.flags|=e,a.memoizedState=Cu(1|t,r,void 0,n===void 0?null:n)}function tp(e,t,r,n){var a=Pn();n=n===void 0?null:n;var i=void 0;if(Ot!==null){var o=Ot.memoizedState;if(i=o.destroy,n!==null&&Fb(n,o.deps)){a.memoizedState=Cu(t,r,i,n);return}}ut.flags|=e,a.memoizedState=Cu(1|t,r,i,n)}function eN(e,t){return Xf(8390656,8,e,t)}function Ub(e,t){return tp(2048,8,e,t)}function qP(e,t){return tp(4,2,e,t)}function KP(e,t){return tp(4,4,e,t)}function GP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YP(e,t,r){return r=r!=null?r.concat([e]):null,tp(4,4,GP.bind(null,t,e),r)}function Wb(){}function XP(e,t){var r=Pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fb(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function JP(e,t){var r=Pn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Fb(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function QP(e,t,r){return Zs&21?(Jn(r,t)||(r=nP(),ut.lanes|=r,eo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dr=!0),e.memoizedState=r)}function P5(e,t){var r=Be;Be=r!==0&&4>r?r:4,e(!0);var n=jv.transition;jv.transition={};try{e(!1),t()}finally{Be=r,jv.transition=n}}function ZP(){return Pn().memoizedState}function A5(e,t,r){var n=Bi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},eA(e))tA(t,r);else if(r=MP(e,t,r,n),r!==null){var a=Nr();Xn(r,e,n,a),rA(r,t,n)}}function O5(e,t,r){var n=Bi(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(eA(e))tA(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Jn(l,o)){var c=t.interleaved;c===null?(a.next=a,Ib(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=MP(e,t,a,n),r!==null&&(a=Nr(),Xn(r,e,n,a),rA(r,t,n))}}function eA(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function tA(e,t){Zc=_h=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rA(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bb(e,r)}}var Ch={readContext:kn,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},T5={readContext:kn,useCallback:function(e,t){return oa().memoizedState=[e,t===void 0?null:t],e},useContext:kn,useEffect:eN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xf(4194308,4,GP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xf(4,2,e,t)},useMemo:function(e,t){var r=oa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=oa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=A5.bind(null,ut,e),[n.memoizedState,e]},useRef:function(e){var t=oa();return e={current:e},t.memoizedState=e},useState:ZS,useDebugValue:Wb,useDeferredValue:function(e){return oa().memoizedState=e},useTransition:function(){var e=ZS(!1),t=e[0];return e=P5.bind(null,e[1]),oa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ut,a=oa();if(at){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Ut===null)throw Error(X(349));Zs&30||BP(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,eN(UP.bind(null,n,i,e),[e]),n.flags|=2048,Cu(9,zP.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=oa(),t=Ut.identifierPrefix;if(at){var r=Ia,n=Da;r=(n&~(1<<32-Yn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Nu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=k5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D5={readContext:kn,useCallback:XP,useContext:kn,useEffect:Ub,useImperativeHandle:YP,useInsertionEffect:qP,useLayoutEffect:KP,useMemo:JP,useReducer:Sv,useRef:HP,useState:function(){return Sv(_u)},useDebugValue:Wb,useDeferredValue:function(e){var t=Pn();return QP(t,Ot.memoizedState,e)},useTransition:function(){var e=Sv(_u)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:LP,useSyncExternalStore:FP,useId:ZP,unstable_isNewReconciler:!1},I5={readContext:kn,useCallback:XP,useContext:kn,useEffect:Ub,useImperativeHandle:YP,useInsertionEffect:qP,useLayoutEffect:KP,useMemo:JP,useReducer:Nv,useRef:HP,useState:function(){return Nv(_u)},useDebugValue:Wb,useDeferredValue:function(e){var t=Pn();return Ot===null?t.memoizedState=e:QP(t,Ot.memoizedState,e)},useTransition:function(){var e=Nv(_u)[0],t=Pn().memoizedState;return[e,t]},useMutableSource:LP,useSyncExternalStore:FP,useId:ZP,unstable_isNewReconciler:!1};function Bn(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function dx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rp={isMounted:function(e){return(e=e._reactInternals)?go(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Nr(),a=Bi(e),i=$a(n,a);i.payload=t,r!=null&&(i.callback=r),t=Li(e,i,a),t!==null&&(Xn(t,e,a,n),Gf(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Nr(),a=Bi(e),i=$a(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Li(e,i,a),t!==null&&(Xn(t,e,a,n),Gf(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Nr(),n=Bi(e),a=$a(r,n);a.tag=2,t!=null&&(a.callback=t),t=Li(e,a,n),t!==null&&(Xn(t,e,n,r),Gf(t,e,n))}};function tN(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!yu(r,n)||!yu(a,i):!0}function nA(e,t,r){var n=!1,a=Xi,i=t.contextType;return typeof i=="object"&&i!==null?i=kn(i):(a=Rr(t)?Js:mr.current,n=t.contextTypes,i=(n=n!=null)?pl(e,a):Xi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function rN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rp.enqueueReplaceState(t,t.state,null)}function fx(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Mb(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=kn(i):(i=Rr(t)?Js:mr.current,a.context=pl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dx(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&rp.enqueueReplaceState(a,a.state,null),Sh(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function xl(e,t){try{var r="",n=t;do r+=lF(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function _v(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M5=typeof WeakMap=="function"?WeakMap:Map;function aA(e,t,r){r=$a(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){kh||(kh=!0,Sx=n),hx(e,t)},r}function iA(e,t,r){r=$a(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){hx(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){hx(e,t),typeof n!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function nN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M5;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Y5.bind(null,e,t,r),t.then(e,e))}function aN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iN(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$a(-1,1),t.tag=2,Li(r,t,1))),r.lanes|=1),e)}var R5=ni.ReactCurrentOwner,Dr=!1;function wr(e,t,r,n){t.child=e===null?IP(t,null,r,n):vl(t,e.child,r,n)}function sN(e,t,r,n,a){r=r.render;var i=t.ref;return rl(t,a),n=Bb(e,t,r,n,i,a),r=zb(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ha(e,t,a)):(at&&r&&kb(t),t.flags|=1,wr(e,t,n,a),t.child)}function oN(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Jb(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,sA(e,t,i,n,a)):(e=eh(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:yu,r(o,n)&&e.ref===t.ref)return Ha(e,t,a)}return t.flags|=1,e=zi(i,n),e.ref=t.ref,e.return=t,t.child=e}function sA(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(yu(i,n)&&e.ref===t.ref)if(Dr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Dr=!0);else return t.lanes=e.lanes,Ha(e,t,a)}return mx(e,t,r,n,a)}function oA(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Yo,zr),zr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(Yo,zr),zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ke(Yo,zr),zr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ke(Yo,zr),zr|=n;return wr(e,t,a,r),t.child}function lA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function mx(e,t,r,n,a){var i=Rr(r)?Js:mr.current;return i=pl(t,i),rl(t,a),r=Bb(e,t,r,n,i,a),n=zb(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ha(e,t,a)):(at&&n&&kb(t),t.flags|=1,wr(e,t,r,a),t.child)}function lN(e,t,r,n,a){if(Rr(r)){var i=!0;yh(t)}else i=!1;if(rl(t,a),t.stateNode===null)Jf(e,t),nA(t,r,n),fx(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=kn(d):(d=Rr(r)?Js:mr.current,d=pl(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&rN(t,o,n,d),wi=!1;var h=t.memoizedState;o.state=h,Sh(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Mr.current||wi?(typeof u=="function"&&(dx(t,r,u,n),c=t.memoizedState),(l=wi||tN(t,r,l,n,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,RP(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Bn(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=kn(c):(c=Rr(r)?Js:mr.current,c=pl(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&rN(t,o,n,c),wi=!1,h=t.memoizedState,o.state=h,Sh(t,n,o,a);var p=t.memoizedState;l!==f||h!==p||Mr.current||wi?(typeof m=="function"&&(dx(t,r,m,n),p=t.memoizedState),(d=wi||tN(t,r,d,n,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return px(e,t,r,n,i,a)}function px(e,t,r,n,a,i){lA(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&KS(t,r,!1),Ha(e,t,i);n=t.stateNode,R5.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=vl(t,e.child,null,i),t.child=vl(t,null,l,i)):wr(e,t,l,i),t.memoizedState=n.state,a&&KS(t,r,!0),t.child}function cA(e){var t=e.stateNode;t.pendingContext?qS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qS(e,t.context,!1),Rb(e,t.containerInfo)}function cN(e,t,r,n,a){return gl(),Ab(a),t.flags|=256,wr(e,t,r,n),t.child}var gx={dehydrated:null,treeContext:null,retryLane:0};function vx(e){return{baseLanes:e,cachePool:null,transitions:null}}function uA(e,t,r){var n=t.pendingProps,a=ot.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ke(ot,a&1),e===null)return cx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ip(o,n,0,null),e=Hs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vx(r),t.memoizedState=gx,e):Vb(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return $5(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=zi(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=zi(l,i):(i=Hs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?vx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=gx,n}return i=e.child,e=i.sibling,n=zi(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Vb(e,t){return t=ip({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function af(e,t,r,n){return n!==null&&Ab(n),vl(t,e.child,null,r),e=Vb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $5(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=_v(Error(X(422))),af(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=ip({mode:"visible",children:n.children},a,0,null),i=Hs(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&vl(t,e.child,null,o),t.child.memoizedState=vx(o),t.memoizedState=gx,i);if(!(t.mode&1))return af(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(X(419)),n=_v(i,n,void 0),af(e,t,o,n)}if(l=(o&e.childLanes)!==0,Dr||l){if(n=Ut,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Va(e,a),Xn(n,e,a,-1))}return Xb(),n=_v(Error(X(421))),af(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=X5.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,qr=$i(a.nextSibling),Yr=t,at=!0,Wn=null,e!==null&&(gn[vn++]=Da,gn[vn++]=Ia,gn[vn++]=Qs,Da=e.id,Ia=e.overflow,Qs=t),t=Vb(t,n.children),t.flags|=4096,t)}function uN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ux(e.return,t,r)}function Cv(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function dA(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(wr(e,t,n.children,r),n=ot.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uN(e,r,t);else if(e.tag===19)uN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ke(ot,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Nh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Cv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Nh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Cv(t,!0,r,null,i);break;case"together":Cv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),eo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=zi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function L5(e,t,r){switch(t.tag){case 3:cA(t),gl();break;case 5:$P(t);break;case 1:Rr(t.type)&&yh(t);break;case 4:Rb(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ke(wh,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ke(ot,ot.current&1),t.flags|=128,null):r&t.child.childLanes?uA(e,t,r):(Ke(ot,ot.current&1),e=Ha(e,t,r),e!==null?e.sibling:null);Ke(ot,ot.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return dA(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ke(ot,ot.current),n)break;return null;case 22:case 23:return t.lanes=0,oA(e,t,r)}return Ha(e,t,r)}var fA,yx,hA,mA;fA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yx=function(){};hA=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,$s(ga.current);var i=null;switch(r){case"input":a=By(e,a),n=By(e,n),i=[];break;case"select":a=dt({},a,{value:void 0}),n=dt({},n,{value:void 0}),i=[];break;case"textarea":a=Wy(e,a),n=Wy(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gh)}Hy(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(du.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(du.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};mA=function(e,t,r,n){r!==n&&(t.flags|=4)};function jc(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function F5(e,t,r){var n=t.pendingProps;switch(Pb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(t),null;case 1:return Rr(t.type)&&vh(),sr(t),null;case 3:return n=t.stateNode,yl(),tt(Mr),tt(mr),Lb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(rf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wn!==null&&(Cx(Wn),Wn=null))),yx(e,t),sr(t),null;case 5:$b(t);var a=$s(Su.current);if(r=t.type,e!==null&&t.stateNode!=null)hA(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return sr(t),null}if(e=$s(ga.current),rf(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ca]=t,n[wu]=i,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(a=0;a<Wc.length;a++)Qe(Wc[a],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":xS(n,i),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",n);break;case"textarea":wS(n,i),Qe("invalid",n)}Hy(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&tf(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&tf(n.textContent,l,e),a=["children",""+l]):du.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",n)}switch(r){case"input":Kd(n),bS(n,i,!0);break;case"textarea":Kd(n),jS(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=gh)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ca]=t,e[wu]=n,fA(e,t,!1,!1),t.stateNode=e;e:{switch(o=qy(r,n),r){case"dialog":Qe("cancel",e),Qe("close",e),a=n;break;case"iframe":case"object":case"embed":Qe("load",e),a=n;break;case"video":case"audio":for(a=0;a<Wc.length;a++)Qe(Wc[a],e);a=n;break;case"source":Qe("error",e),a=n;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),a=n;break;case"details":Qe("toggle",e),a=n;break;case"input":xS(e,n),a=By(e,n),Qe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=dt({},n,{value:void 0}),Qe("invalid",e);break;case"textarea":wS(e,n),a=Wy(e,n),Qe("invalid",e);break;default:a=n}Hy(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Hk(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wk(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fu(e,c):typeof c=="number"&&fu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(du.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",e):c!=null&&mb(e,i,c,o))}switch(r){case"input":Kd(e),bS(e,n,!1);break;case"textarea":Kd(e),jS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Qo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Qo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=gh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sr(t),null;case 6:if(e&&t.stateNode!=null)mA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=$s(Su.current),$s(ga.current),rf(t)){if(n=t.stateNode,r=t.memoizedProps,n[ca]=t,(i=n.nodeValue!==r)&&(e=Yr,e!==null))switch(e.tag){case 3:tf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tf(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ca]=t,t.stateNode=n}return sr(t),null;case 13:if(tt(ot),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(at&&qr!==null&&t.mode&1&&!(t.flags&128))TP(),gl(),t.flags|=98560,i=!1;else if(i=rf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(X(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[ca]=t}else gl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sr(t),i=!1}else Wn!==null&&(Cx(Wn),Wn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ot.current&1?Tt===0&&(Tt=3):Xb())),t.updateQueue!==null&&(t.flags|=4),sr(t),null);case 4:return yl(),yx(e,t),e===null&&xu(t.stateNode.containerInfo),sr(t),null;case 10:return Db(t.type._context),sr(t),null;case 17:return Rr(t.type)&&vh(),sr(t),null;case 19:if(tt(ot),i=t.memoizedState,i===null)return sr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)jc(i,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Nh(e),o!==null){for(t.flags|=128,jc(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ke(ot,ot.current&1|2),t.child}e=e.sibling}i.tail!==null&&gt()>bl&&(t.flags|=128,n=!0,jc(i,!1),t.lanes=4194304)}else{if(!n)if(e=Nh(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!at)return sr(t),null}else 2*gt()-i.renderingStartTime>bl&&r!==1073741824&&(t.flags|=128,n=!0,jc(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=gt(),t.sibling=null,r=ot.current,Ke(ot,n?r&1|2:r&1),t):(sr(t),null);case 22:case 23:return Yb(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zr&1073741824&&(sr(t),t.subtreeFlags&6&&(t.flags|=8192)):sr(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function B5(e,t){switch(Pb(t),t.tag){case 1:return Rr(t.type)&&vh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yl(),tt(Mr),tt(mr),Lb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $b(t),null;case 13:if(tt(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(ot),null;case 4:return yl(),null;case 10:return Db(t.type._context),null;case 22:case 23:return Yb(),null;case 24:return null;default:return null}}var sf=!1,lr=!1,z5=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Go(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ht(e,t,n)}else r.current=null}function xx(e,t,r){try{r()}catch(n){ht(e,t,n)}}var dN=!1;function U5(e,t){if(rx=hh,e=xP(),Eb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nx={focusedElem:e,selectionRange:r},hh=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Bn(t.type,g),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(j){ht(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return p=dN,dN=!1,p}function eu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&xx(t,r,i)}a=a.next}while(a!==n)}}function np(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function bx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pA(e){var t=e.alternate;t!==null&&(e.alternate=null,pA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ca],delete t[wu],delete t[sx],delete t[N5],delete t[_5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gA(e){return e.tag===5||e.tag===3||e.tag===4}function fN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gh));else if(n!==4&&(e=e.child,e!==null))for(wx(e,t,r),e=e.sibling;e!==null;)wx(e,t,r),e=e.sibling}function jx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jx(e,t,r),e=e.sibling;e!==null;)jx(e,t,r),e=e.sibling}var Xt=null,zn=!1;function fi(e,t,r){for(r=r.child;r!==null;)vA(e,t,r),r=r.sibling}function vA(e,t,r){if(pa&&typeof pa.onCommitFiberUnmount=="function")try{pa.onCommitFiberUnmount(Ym,r)}catch{}switch(r.tag){case 5:lr||Go(r,t);case 6:var n=Xt,a=zn;Xt=null,fi(e,t,r),Xt=n,zn=a,Xt!==null&&(zn?(e=Xt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xt.removeChild(r.stateNode));break;case 18:Xt!==null&&(zn?(e=Xt,r=r.stateNode,e.nodeType===8?xv(e.parentNode,r):e.nodeType===1&&xv(e,r),gu(e)):xv(Xt,r.stateNode));break;case 4:n=Xt,a=zn,Xt=r.stateNode.containerInfo,zn=!0,fi(e,t,r),Xt=n,zn=a;break;case 0:case 11:case 14:case 15:if(!lr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xx(r,t,o),a=a.next}while(a!==n)}fi(e,t,r);break;case 1:if(!lr&&(Go(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ht(r,t,l)}fi(e,t,r);break;case 21:fi(e,t,r);break;case 22:r.mode&1?(lr=(n=lr)||r.memoizedState!==null,fi(e,t,r),lr=n):fi(e,t,r);break;default:fi(e,t,r)}}function hN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new z5),t.forEach(function(n){var a=J5.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Rn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xt=l.stateNode,zn=!1;break e;case 3:Xt=l.stateNode.containerInfo,zn=!0;break e;case 4:Xt=l.stateNode.containerInfo,zn=!0;break e}l=l.return}if(Xt===null)throw Error(X(160));vA(i,o,a),Xt=null,zn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ht(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yA(t,e),t=t.sibling}function yA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rn(t,e),sa(e),n&4){try{eu(3,e,e.return),np(3,e)}catch(g){ht(e,e.return,g)}try{eu(5,e,e.return)}catch(g){ht(e,e.return,g)}}break;case 1:Rn(t,e),sa(e),n&512&&r!==null&&Go(r,r.return);break;case 5:if(Rn(t,e),sa(e),n&512&&r!==null&&Go(r,r.return),e.flags&32){var a=e.stateNode;try{fu(a,"")}catch(g){ht(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Bk(a,i),qy(l,o);var d=qy(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?Hk(a,f):u==="dangerouslySetInnerHTML"?Wk(a,f):u==="children"?fu(a,f):mb(a,u,f,d)}switch(l){case"input":zy(a,i);break;case"textarea":zk(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Qo(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qo(a,!!i.multiple,i.defaultValue,!0):Qo(a,!!i.multiple,i.multiple?[]:"",!1))}a[wu]=i}catch(g){ht(e,e.return,g)}}break;case 6:if(Rn(t,e),sa(e),n&4){if(e.stateNode===null)throw Error(X(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){ht(e,e.return,g)}}break;case 3:if(Rn(t,e),sa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gu(t.containerInfo)}catch(g){ht(e,e.return,g)}break;case 4:Rn(t,e),sa(e);break;case 13:Rn(t,e),sa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Kb=gt())),n&4&&hN(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(lr=(d=lr)||u,Rn(t,e),lr=d):Rn(t,e),sa(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ce=e,u=e.child;u!==null;){for(f=ce=u;ce!==null;){switch(h=ce,m=h.child,h.tag){case 0:case 11:case 14:case 15:eu(4,h,h.return);break;case 1:Go(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){ht(n,r,g)}}break;case 5:Go(h,h.return);break;case 22:if(h.memoizedState!==null){pN(f);continue}}m!==null?(m.return=h,ce=m):pN(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Vk("display",o))}catch(g){ht(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){ht(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rn(t,e),sa(e),n&4&&hN(e);break;case 21:break;default:Rn(t,e),sa(e)}}function sa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gA(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(fu(a,""),n.flags&=-33);var i=fN(e);jx(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=fN(e);wx(e,l,o);break;default:throw Error(X(161))}}catch(c){ht(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W5(e,t,r){ce=e,xA(e)}function xA(e,t,r){for(var n=(e.mode&1)!==0;ce!==null;){var a=ce,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||sf;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||lr;l=sf;var d=lr;if(sf=o,(lr=c)&&!d)for(ce=a;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?gN(a):c!==null?(c.return=o,ce=c):gN(a);for(;i!==null;)ce=i,xA(i),i=i.sibling;ce=a,sf=l,lr=d}mN(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ce=i):mN(e)}}function mN(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lr||np(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!lr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Bn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&QS(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}QS(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&gu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}lr||t.flags&512&&bx(t)}catch(h){ht(t,t.return,h)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function pN(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function gN(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{np(4,t)}catch(c){ht(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ht(t,a,c)}}var i=t.return;try{bx(t)}catch(c){ht(t,i,c)}break;case 5:var o=t.return;try{bx(t)}catch(c){ht(t,o,c)}}}catch(c){ht(t,t.return,c)}if(t===e){ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ce=l;break}ce=t.return}}var V5=Math.ceil,Eh=ni.ReactCurrentDispatcher,Hb=ni.ReactCurrentOwner,_n=ni.ReactCurrentBatchConfig,Ie=0,Ut=null,St=null,er=0,zr=0,Yo=ns(0),Tt=0,Eu=null,eo=0,ap=0,qb=0,tu=null,Or=null,Kb=0,bl=1/0,ka=null,kh=!1,Sx=null,Fi=null,of=!1,Pi=null,Ph=0,ru=0,Nx=null,Qf=-1,Zf=0;function Nr(){return Ie&6?gt():Qf!==-1?Qf:Qf=gt()}function Bi(e){return e.mode&1?Ie&2&&er!==0?er&-er:E5.transition!==null?(Zf===0&&(Zf=nP()),Zf):(e=Be,e!==0||(e=window.event,e=e===void 0?16:uP(e.type)),e):1}function Xn(e,t,r,n){if(50<ru)throw ru=0,Nx=null,Error(X(185));Zu(e,r,n),(!(Ie&2)||e!==Ut)&&(e===Ut&&(!(Ie&2)&&(ap|=r),Tt===4&&Ni(e,er)),$r(e,n),r===1&&Ie===0&&!(t.mode&1)&&(bl=gt()+500,ep&&as()))}function $r(e,t){var r=e.callbackNode;EF(e,t);var n=fh(e,e===Ut?er:0);if(n===0)r!==null&&_S(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_S(r),t===1)e.tag===0?C5(vN.bind(null,e)):PP(vN.bind(null,e)),j5(function(){!(Ie&6)&&as()}),r=null;else{switch(aP(n)){case 1:r=xb;break;case 4:r=tP;break;case 16:r=dh;break;case 536870912:r=rP;break;default:r=dh}r=EA(r,bA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bA(e,t){if(Qf=-1,Zf=0,Ie&6)throw Error(X(327));var r=e.callbackNode;if(nl()&&e.callbackNode!==r)return null;var n=fh(e,e===Ut?er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ah(e,n);else{t=n;var a=Ie;Ie|=2;var i=jA();(Ut!==e||er!==t)&&(ka=null,bl=gt()+500,Vs(e,t));do try{K5();break}catch(l){wA(e,l)}while(!0);Tb(),Eh.current=i,Ie=a,St!==null?t=0:(Ut=null,er=0,t=Tt)}if(t!==0){if(t===2&&(a=Jy(e),a!==0&&(n=a,t=_x(e,a))),t===1)throw r=Eu,Vs(e,0),Ni(e,n),$r(e,gt()),r;if(t===6)Ni(e,n);else{if(a=e.current.alternate,!(n&30)&&!H5(a)&&(t=Ah(e,n),t===2&&(i=Jy(e),i!==0&&(n=i,t=_x(e,i))),t===1))throw r=Eu,Vs(e,0),Ni(e,n),$r(e,gt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:Es(e,Or,ka);break;case 3:if(Ni(e,n),(n&130023424)===n&&(t=Kb+500-gt(),10<t)){if(fh(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Nr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ix(Es.bind(null,e,Or,ka),t);break}Es(e,Or,ka);break;case 4:if(Ni(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Yn(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=gt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V5(n/1960))-n,10<n){e.timeoutHandle=ix(Es.bind(null,e,Or,ka),n);break}Es(e,Or,ka);break;case 5:Es(e,Or,ka);break;default:throw Error(X(329))}}}return $r(e,gt()),e.callbackNode===r?bA.bind(null,e):null}function _x(e,t){var r=tu;return e.current.memoizedState.isDehydrated&&(Vs(e,t).flags|=256),e=Ah(e,t),e!==2&&(t=Or,Or=r,t!==null&&Cx(t)),e}function Cx(e){Or===null?Or=e:Or.push.apply(Or,e)}function H5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Jn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t){for(t&=~qb,t&=~ap,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Yn(t),n=1<<r;e[r]=-1,t&=~n}}function vN(e){if(Ie&6)throw Error(X(327));nl();var t=fh(e,0);if(!(t&1))return $r(e,gt()),null;var r=Ah(e,t);if(e.tag!==0&&r===2){var n=Jy(e);n!==0&&(t=n,r=_x(e,n))}if(r===1)throw r=Eu,Vs(e,0),Ni(e,t),$r(e,gt()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Es(e,Or,ka),$r(e,gt()),null}function Gb(e,t){var r=Ie;Ie|=1;try{return e(t)}finally{Ie=r,Ie===0&&(bl=gt()+500,ep&&as())}}function to(e){Pi!==null&&Pi.tag===0&&!(Ie&6)&&nl();var t=Ie;Ie|=1;var r=_n.transition,n=Be;try{if(_n.transition=null,Be=1,e)return e()}finally{Be=n,_n.transition=r,Ie=t,!(Ie&6)&&as()}}function Yb(){zr=Yo.current,tt(Yo)}function Vs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,w5(r)),St!==null)for(r=St.return;r!==null;){var n=r;switch(Pb(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vh();break;case 3:yl(),tt(Mr),tt(mr),Lb();break;case 5:$b(n);break;case 4:yl();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:Db(n.type._context);break;case 22:case 23:Yb()}r=r.return}if(Ut=e,St=e=zi(e.current,null),er=zr=t,Tt=0,Eu=null,qb=ap=eo=0,Or=tu=null,Rs!==null){for(t=0;t<Rs.length;t++)if(r=Rs[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Rs=null}return e}function wA(e,t){do{var r=St;try{if(Tb(),Yf.current=Ch,_h){for(var n=ut.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}_h=!1}if(Zs=0,Ft=Ot=ut=null,Zc=!1,Nu=0,Hb.current=null,r===null||r.return===null){Tt=1,Eu=t,St=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=aN(o);if(m!==null){m.flags&=-257,iN(m,o,l,i,t),m.mode&1&&nN(i,d,t),t=m,c=d;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){nN(i,d,t),Xb();break e}c=Error(X(426))}}else if(at&&l.mode&1){var v=aN(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),iN(v,o,l,i,t),Ab(xl(c,l));break e}}i=c=xl(c,l),Tt!==4&&(Tt=2),tu===null?tu=[i]:tu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=aA(i,c,t);JS(i,x);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fi===null||!Fi.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=iA(i,l,t);JS(i,j);break e}}i=i.return}while(i!==null)}NA(r)}catch(S){t=S,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function jA(){var e=Eh.current;return Eh.current=Ch,e===null?Ch:e}function Xb(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ut===null||!(eo&268435455)&&!(ap&268435455)||Ni(Ut,er)}function Ah(e,t){var r=Ie;Ie|=2;var n=jA();(Ut!==e||er!==t)&&(ka=null,Vs(e,t));do try{q5();break}catch(a){wA(e,a)}while(!0);if(Tb(),Ie=r,Eh.current=n,St!==null)throw Error(X(261));return Ut=null,er=0,Tt}function q5(){for(;St!==null;)SA(St)}function K5(){for(;St!==null&&!yF();)SA(St)}function SA(e){var t=CA(e.alternate,e,zr);e.memoizedProps=e.pendingProps,t===null?NA(e):St=t,Hb.current=null}function NA(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=B5(r,t),r!==null){r.flags&=32767,St=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,St=null;return}}else if(r=F5(r,t,zr),r!==null){St=r;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);Tt===0&&(Tt=5)}function Es(e,t,r){var n=Be,a=_n.transition;try{_n.transition=null,Be=1,G5(e,t,r,n)}finally{_n.transition=a,Be=n}return null}function G5(e,t,r,n){do nl();while(Pi!==null);if(Ie&6)throw Error(X(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kF(e,i),e===Ut&&(St=Ut=null,er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||of||(of=!0,EA(dh,function(){return nl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=_n.transition,_n.transition=null;var o=Be;Be=1;var l=Ie;Ie|=4,Hb.current=null,U5(e,r),yA(r,e),m5(nx),hh=!!rx,nx=rx=null,e.current=r,W5(r),xF(),Ie=l,Be=o,_n.transition=i}else e.current=r;if(of&&(of=!1,Pi=e,Ph=a),i=e.pendingLanes,i===0&&(Fi=null),jF(r.stateNode),$r(e,gt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(kh)throw kh=!1,e=Sx,Sx=null,e;return Ph&1&&e.tag!==0&&nl(),i=e.pendingLanes,i&1?e===Nx?ru++:(ru=0,Nx=e):ru=0,as(),null}function nl(){if(Pi!==null){var e=aP(Ph),t=_n.transition,r=Be;try{if(_n.transition=null,Be=16>e?16:e,Pi===null)var n=!1;else{if(e=Pi,Pi=null,Ph=0,Ie&6)throw Error(X(331));var a=Ie;for(Ie|=4,ce=e.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ce=d;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:eu(8,u,i)}var f=u.child;if(f!==null)f.return=u,ce=f;else for(;ce!==null;){u=ce;var h=u.sibling,m=u.return;if(pA(u),u===d){ce=null;break}if(h!==null){h.return=m,ce=h;break}ce=m}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:eu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ce=x;break e}ce=i.return}}var b=e.current;for(ce=b;ce!==null;){o=ce;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ce=w;else e:for(o=b;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:np(9,l)}}catch(S){ht(l,l.return,S)}if(l===o){ce=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ce=j;break e}ce=l.return}}if(Ie=a,as(),pa&&typeof pa.onPostCommitFiberRoot=="function")try{pa.onPostCommitFiberRoot(Ym,e)}catch{}n=!0}return n}finally{Be=r,_n.transition=t}}return!1}function yN(e,t,r){t=xl(r,t),t=aA(e,t,1),e=Li(e,t,1),t=Nr(),e!==null&&(Zu(e,1,t),$r(e,t))}function ht(e,t,r){if(e.tag===3)yN(e,e,r);else for(;t!==null;){if(t.tag===3){yN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fi===null||!Fi.has(n))){e=xl(r,e),e=iA(t,e,1),t=Li(t,e,1),e=Nr(),t!==null&&(Zu(t,1,e),$r(t,e));break}}t=t.return}}function Y5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Nr(),e.pingedLanes|=e.suspendedLanes&r,Ut===e&&(er&r)===r&&(Tt===4||Tt===3&&(er&130023424)===er&&500>gt()-Kb?Vs(e,0):qb|=r),$r(e,t)}function _A(e,t){t===0&&(e.mode&1?(t=Xd,Xd<<=1,!(Xd&130023424)&&(Xd=4194304)):t=1);var r=Nr();e=Va(e,t),e!==null&&(Zu(e,t,r),$r(e,r))}function X5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_A(e,r)}function J5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),_A(e,r)}var CA;CA=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mr.current)Dr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dr=!1,L5(e,t,r);Dr=!!(e.flags&131072)}else Dr=!1,at&&t.flags&1048576&&AP(t,bh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jf(e,t),e=t.pendingProps;var a=pl(t,mr.current);rl(t,r),a=Bb(null,t,n,e,a,r);var i=zb();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(n)?(i=!0,yh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Mb(t),a.updater=rp,t.stateNode=a,a._reactInternals=t,fx(t,n,e,r),t=px(null,t,n,!0,i,r)):(t.tag=0,at&&i&&kb(t),wr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jf(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Z5(n),e=Bn(n,e),a){case 0:t=mx(null,t,n,e,r);break e;case 1:t=lN(null,t,n,e,r);break e;case 11:t=sN(null,t,n,e,r);break e;case 14:t=oN(null,t,n,Bn(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Bn(n,a),mx(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Bn(n,a),lN(e,t,n,a,r);case 3:e:{if(cA(t),e===null)throw Error(X(387));n=t.pendingProps,i=t.memoizedState,a=i.element,RP(e,t),Sh(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=xl(Error(X(423)),t),t=cN(e,t,n,r,a);break e}else if(n!==a){a=xl(Error(X(424)),t),t=cN(e,t,n,r,a);break e}else for(qr=$i(t.stateNode.containerInfo.firstChild),Yr=t,at=!0,Wn=null,r=IP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gl(),n===a){t=Ha(e,t,r);break e}wr(e,t,n,r)}t=t.child}return t;case 5:return $P(t),e===null&&cx(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,ax(n,a)?o=null:i!==null&&ax(n,i)&&(t.flags|=32),lA(e,t),wr(e,t,o,r),t.child;case 6:return e===null&&cx(t),null;case 13:return uA(e,t,r);case 4:return Rb(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vl(t,null,n,r):wr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Bn(n,a),sN(e,t,n,a,r);case 7:return wr(e,t,t.pendingProps,r),t.child;case 8:return wr(e,t,t.pendingProps.children,r),t.child;case 12:return wr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ke(wh,n._currentValue),n._currentValue=o,i!==null)if(Jn(i.value,o)){if(i.children===a.children&&!Mr.current){t=Ha(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=$a(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ux(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ux(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}wr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,rl(t,r),a=kn(a),n=n(a),t.flags|=1,wr(e,t,n,r),t.child;case 14:return n=t.type,a=Bn(n,t.pendingProps),a=Bn(n.type,a),oN(e,t,n,a,r);case 15:return sA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Bn(n,a),Jf(e,t),t.tag=1,Rr(n)?(e=!0,yh(t)):e=!1,rl(t,r),nA(t,n,a),fx(t,n,a,r),px(null,t,n,!0,e,r);case 19:return dA(e,t,r);case 22:return oA(e,t,r)}throw Error(X(156,t.tag))};function EA(e,t){return eP(e,t)}function Q5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,r,n){return new Q5(e,t,r,n)}function Jb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z5(e){if(typeof e=="function")return Jb(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gb)return 11;if(e===vb)return 14}return 2}function zi(e,t){var r=e.alternate;return r===null?(r=xn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function eh(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Jb(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fo:return Hs(r.children,a,i,t);case pb:o=8,a|=8;break;case Ry:return e=xn(12,r,t,a|2),e.elementType=Ry,e.lanes=i,e;case $y:return e=xn(13,r,t,a),e.elementType=$y,e.lanes=i,e;case Ly:return e=xn(19,r,t,a),e.elementType=Ly,e.lanes=i,e;case $k:return ip(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mk:o=10;break e;case Rk:o=9;break e;case gb:o=11;break e;case vb:o=14;break e;case bi:o=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=xn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Hs(e,t,r,n){return e=xn(7,e,n,t),e.lanes=r,e}function ip(e,t,r,n){return e=xn(22,e,n,t),e.elementType=$k,e.lanes=r,e.stateNode={isHidden:!1},e}function Ev(e,t,r){return e=xn(6,e,null,t),e.lanes=r,e}function kv(e,t,r){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eB(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lv(0),this.expirationTimes=lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Qb(e,t,r,n,a,i,o,l,c){return e=new eB(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mb(i),e}function tB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kA(e){if(!e)return Xi;e=e._reactInternals;e:{if(go(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Rr(r))return kP(e,r,t)}return t}function PA(e,t,r,n,a,i,o,l,c){return e=Qb(r,n,!0,e,a,i,o,l,c),e.context=kA(null),r=e.current,n=Nr(),a=Bi(r),i=$a(n,a),i.callback=t??null,Li(r,i,a),e.current.lanes=a,Zu(e,a,n),$r(e,n),e}function sp(e,t,r,n){var a=t.current,i=Nr(),o=Bi(a);return r=kA(r),t.context===null?t.context=r:t.pendingContext=r,t=$a(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Li(a,t,o),e!==null&&(Xn(e,a,o,i),Gf(e,a,o)),o}function Oh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zb(e,t){xN(e,t),(e=e.alternate)&&xN(e,t)}function rB(){return null}var AA=typeof reportError=="function"?reportError:function(e){console.error(e)};function ew(e){this._internalRoot=e}op.prototype.render=ew.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));sp(e,t,null,null)};op.prototype.unmount=ew.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;to(function(){sp(null,e,null,null)}),t[Wa]=null}};function op(e){this._internalRoot=e}op.prototype.unstable_scheduleHydration=function(e){if(e){var t=oP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Si.length&&t!==0&&t<Si[r].priority;r++);Si.splice(r,0,e),r===0&&cP(e)}};function tw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bN(){}function nB(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Oh(o);i.call(d)}}var o=PA(t,n,e,0,null,!1,!1,"",bN);return e._reactRootContainer=o,e[Wa]=o.current,xu(e.nodeType===8?e.parentNode:e),to(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Oh(c);l.call(d)}}var c=Qb(e,0,!1,null,null,!1,!1,"",bN);return e._reactRootContainer=c,e[Wa]=c.current,xu(e.nodeType===8?e.parentNode:e),to(function(){sp(t,c,r,n)}),c}function cp(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Oh(o);l.call(c)}}sp(t,o,e,a)}else o=nB(r,t,e,a,n);return Oh(o)}iP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Uc(t.pendingLanes);r!==0&&(bb(t,r|1),$r(t,gt()),!(Ie&6)&&(bl=gt()+500,as()))}break;case 13:to(function(){var n=Va(e,1);if(n!==null){var a=Nr();Xn(n,e,1,a)}}),Zb(e,1)}};wb=function(e){if(e.tag===13){var t=Va(e,134217728);if(t!==null){var r=Nr();Xn(t,e,134217728,r)}Zb(e,134217728)}};sP=function(e){if(e.tag===13){var t=Bi(e),r=Va(e,t);if(r!==null){var n=Nr();Xn(r,e,t,n)}Zb(e,t)}};oP=function(){return Be};lP=function(e,t){var r=Be;try{return Be=e,t()}finally{Be=r}};Gy=function(e,t,r){switch(t){case"input":if(zy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Zm(n);if(!a)throw Error(X(90));Fk(n),zy(n,a)}}}break;case"textarea":zk(e,r);break;case"select":t=r.value,t!=null&&Qo(e,!!r.multiple,t,!1)}};Gk=Gb;Yk=to;var aB={usingClientEntryPoint:!1,Events:[td,Wo,Zm,qk,Kk,Gb]},Sc={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iB={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qk(e),e===null?null:e.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||rB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{Ym=lf.inject(iB),pa=lf}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aB;an.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tw(t))throw Error(X(200));return tB(e,t,null,r)};an.createRoot=function(e,t){if(!tw(e))throw Error(X(299));var r=!1,n="",a=AA;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Qb(e,1,!1,null,null,r,!1,n,a),e[Wa]=t.current,xu(e.nodeType===8?e.parentNode:e),new ew(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Qk(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return to(e)};an.hydrate=function(e,t,r){if(!lp(t))throw Error(X(200));return cp(null,e,t,!0,r)};an.hydrateRoot=function(e,t,r){if(!tw(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=AA;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=PA(t,null,e,1,r??null,a,!1,i,o),e[Wa]=t.current,xu(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new op(t)};an.render=function(e,t,r){if(!lp(t))throw Error(X(200));return cp(null,e,t,!1,r)};an.unmountComponentAtNode=function(e){if(!lp(e))throw Error(X(40));return e._reactRootContainer?(to(function(){cp(null,null,e,!1,function(){e._reactRootContainer=null,e[Wa]=null})}),!0):!1};an.unstable_batchedUpdates=Gb;an.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!lp(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return cp(e,t,r,!1,n)};an.version="18.3.1-next-f1338f8080-20240426";function OA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OA)}catch(e){console.error(e)}}OA(),Ok.exports=an;var is=Ok.exports;const TA=Tn(is);var DA,wN=is;DA=wN.createRoot,wN.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}var Ai;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ai||(Ai={}));const jN="popstate";function sB(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Ex("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Th(a)}return lB(t,r,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function IA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oB(){return Math.random().toString(36).substr(2,8)}function SN(e,t){return{usr:e.state,key:e.key,idx:t}}function Ex(e,t,r,n){return r===void 0&&(r=null),ku({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vl(t):t,{state:r,key:t&&t.key||n||oB()})}function Th(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lB(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Ai.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(ku({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Ai.Pop;let v=u(),x=v==null?null:v-d;d=v,c&&c({action:l,location:g.location,delta:x})}function h(v,x){l=Ai.Push;let b=Ex(g.location,v,x);d=u()+1;let w=SN(b,d),j=g.createHref(b);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function m(v,x){l=Ai.Replace;let b=Ex(g.location,v,x);d=u();let w=SN(b,d),j=g.createHref(b);o.replaceState(w,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function p(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:Th(v);return b=b.replace(/ $/,"%20"),pt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(jN,f),c=v,()=>{a.removeEventListener(jN,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let x=p(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var NN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(NN||(NN={}));function cB(e,t,r){return r===void 0&&(r="/"),uB(e,t,r)}function uB(e,t,r,n){let a=typeof t=="string"?Vl(t):t,i=wl(a.pathname||"/",r);if(i==null)return null;let o=MA(e);dB(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=jB(i);l=bB(o[c],d)}return l}function MA(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ui([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),MA(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:yB(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of RA(i.path))a(i,o,c)}),t}function RA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=RA(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function dB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fB=/^:[\w-]+$/,hB=3,mB=2,pB=1,gB=10,vB=-2,_N=e=>e==="*";function yB(e,t){let r=e.split("/"),n=r.length;return r.some(_N)&&(n+=vB),t&&(n+=mB),r.filter(a=>!_N(a)).reduce((a,i)=>a+(fB.test(i)?hB:i===""?pB:gB),n)}function xB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function bB(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=kx({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ui([i,f.pathname]),pathnameBase:CB(Ui([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ui([i,f.pathnameBase]))}return o}function kx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let g=l[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?d[h]=void 0:d[h]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function wB(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),IA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function jB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return IA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function SB(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Vl(e):e;return{pathname:r?r.startsWith("/")?r:NB(r,t):t,search:EB(n),hash:kB(a)}}function NB(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Pv(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _B(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $A(e,t){let r=_B(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function LA(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Vl(e):(a=ku({},e),pt(!a.pathname||!a.pathname.includes("?"),Pv("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),Pv("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),Pv("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=SB(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ui=e=>e.join("/").replace(/\/\/+/g,"/"),CB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function PB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const FA=["post","put","patch","delete"];new Set(FA);const AB=["get",...FA];new Set(AB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pu.apply(this,arguments)}const up=y.createContext(null),BA=y.createContext(null),ss=y.createContext(null),dp=y.createContext(null),os=y.createContext({outlet:null,matches:[],isDataRoute:!1}),zA=y.createContext(null);function OB(e,t){let{relative:r}=t===void 0?{}:t;nd()||pt(!1);let{basename:n,navigator:a}=y.useContext(ss),{hash:i,pathname:o,search:l}=fp(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ui([n,o])),a.createHref({pathname:c,search:l,hash:i})}function nd(){return y.useContext(dp)!=null}function ad(){return nd()||pt(!1),y.useContext(dp).location}function UA(e){y.useContext(ss).static||y.useLayoutEffect(e)}function TB(){let{isDataRoute:e}=y.useContext(os);return e?KB():DB()}function DB(){nd()||pt(!1);let e=y.useContext(up),{basename:t,future:r,navigator:n}=y.useContext(ss),{matches:a}=y.useContext(os),{pathname:i}=ad(),o=JSON.stringify($A(a,r.v7_relativeSplatPath)),l=y.useRef(!1);return UA(()=>{l.current=!0}),y.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=LA(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ui([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}const IB=y.createContext(null);function MB(e){let t=y.useContext(os).outlet;return t&&y.createElement(IB.Provider,{value:e},t)}function fp(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(ss),{matches:a}=y.useContext(os),{pathname:i}=ad(),o=JSON.stringify($A(a,n.v7_relativeSplatPath));return y.useMemo(()=>LA(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function RB(e,t){return $B(e,t)}function $B(e,t,r,n){nd()||pt(!1);let{navigator:a}=y.useContext(ss),{matches:i}=y.useContext(os),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ad(),u;if(t){var f;let v=typeof t=="string"?Vl(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||pt(!1),u=v}else u=d;let h=u.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=cB(e,{pathname:m}),g=UB(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ui([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ui([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&g?y.createElement(dp.Provider,{value:{location:Pu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ai.Pop}},g):g}function LB(){let e=qB(),t=PB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const FB=y.createElement(LB,null);class BB extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(os.Provider,{value:this.props.routeContext},y.createElement(zA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zB(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(up);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(os.Provider,{value:t},n)}function UB(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||pt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let m,p=!1,g=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||FB,c&&(d<0&&h===0?(GB("route-fallback"),p=!0,v=null):d===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),b=()=>{let w;return m?w=g:p?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,y.createElement(zB,{match:f,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(BB,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var WA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(WA||{}),VA=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(VA||{});function WB(e){let t=y.useContext(up);return t||pt(!1),t}function VB(e){let t=y.useContext(BA);return t||pt(!1),t}function HB(e){let t=y.useContext(os);return t||pt(!1),t}function HA(e){let t=HB(),r=t.matches[t.matches.length-1];return r.route.id||pt(!1),r.route.id}function qB(){var e;let t=y.useContext(zA),r=VB(),n=HA();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function KB(){let{router:e}=WB(WA.UseNavigateStable),t=HA(VA.UseNavigateStable),r=y.useRef(!1);return UA(()=>{r.current=!0}),y.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Pu({fromRouteId:t},i)))},[e,t])}const CN={};function GB(e,t,r){CN[e]||(CN[e]=!0)}function YB(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function XB(e){return MB(e.context)}function $n(e){pt(!1)}function JB(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ai.Pop,navigator:i,static:o=!1,future:l}=e;nd()&&pt(!1);let c=t.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:i,static:o,future:Pu({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Vl(n));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=y.useMemo(()=>{let v=wl(u,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:a}},[c,u,f,h,m,p,a]);return g==null?null:y.createElement(ss.Provider,{value:d},y.createElement(dp.Provider,{children:r,value:g}))}function QB(e){let{children:t,location:r}=e;return RB(Px(t),r)}new Promise(()=>{});function Px(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,Px(n.props.children,i));return}n.type!==$n&&pt(!1),!n.props.index||!n.props.children||pt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Px(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}function qA(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ZB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function e6(e,t){return e.button===0&&(!t||t==="_self")&&!ZB(e)}const t6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],r6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],n6="6";try{window.__reactRouterVersion=n6}catch{}const a6=y.createContext({isTransitioning:!1}),i6="startTransition",EN=Gm[i6];function s6(e){let{basename:t,children:r,future:n,window:a}=e,i=y.useRef();i.current==null&&(i.current=sB({window:a,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=y.useCallback(f=>{d&&EN?EN(()=>c(f)):c(f)},[c,d]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.useEffect(()=>YB(n),[n]),y.createElement(JB,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const o6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c6=y.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=qA(t,t6),{basename:m}=y.useContext(ss),p,g=!1;if(typeof d=="string"&&l6.test(d)&&(p=d,o6))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),S=wl(j.pathname,m);j.origin===w.origin&&S!=null?d=S+j.search+j.hash:g=!0}catch{}let v=OB(d,{relative:a}),x=f6(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||x(w)}return y.createElement("a",Dh({},h,{href:p||v,onClick:g||i?n:b,ref:r,target:c}))}),u6=y.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,f=qA(t,r6),h=fp(c,{relative:f.relative}),m=ad(),p=y.useContext(BA),{navigator:g,basename:v}=y.useContext(ss),x=p!=null&&h6(h)&&d===!0,b=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=m.pathname,j=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(w=w.toLowerCase(),j=j?j.toLowerCase():null,b=b.toLowerCase()),j&&v&&(j=wl(j,v)||j);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=w===b||!o&&w.startsWith(b)&&w.charAt(S)==="/",_=j!=null&&(j===b||!o&&j.startsWith(b)&&j.charAt(b.length)==="/"),E={isActive:N,isPending:_,isTransitioning:x},k=N?n:void 0,P;typeof i=="function"?P=i(E):P=[i,N?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(E):l;return y.createElement(c6,Dh({},f,{"aria-current":k,className:P,ref:r,style:A,to:c,viewTransition:d}),typeof u=="function"?u(E):u)});var Ax;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ax||(Ax={}));var kN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(kN||(kN={}));function d6(e){let t=y.useContext(up);return t||pt(!1),t}function f6(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=TB(),d=ad(),u=fp(e,{relative:o});return y.useCallback(f=>{if(e6(f,r)){f.preventDefault();let h=n!==void 0?n:Th(d)===Th(u);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function h6(e,t){t===void 0&&(t={});let r=y.useContext(a6);r==null&&pt(!1);let{basename:n}=d6(Ax.useViewTransitionState),a=fp(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=wl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=wl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return kx(a.pathname,o)!=null||kx(a.pathname,i)!=null}const m6="modulepreload",p6=function(e){return"/"+e},PN={},id=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=p6(c),c in PN)return;PN[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":m6,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},g6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>id(async()=>{const{default:n}=await Promise.resolve().then(()=>Hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class rw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class v6 extends rw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class AN extends rw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ON extends rw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ox;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ox||(Ox={}));var y6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class x6{constructor(t,{headers:r={},customFetch:n,region:a=Ox.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=g6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return y6(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new v6(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new AN(f);if(!f.ok)throw new ON(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof ON||a instanceof AN?a.context:void 0}}})}}var Tr={},nw={},hp={},sd={},mp={},pp={},b6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jl=b6();const w6=jl.fetch,KA=jl.fetch.bind(jl),GA=jl.Headers,j6=jl.Request,S6=jl.Response,Hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:GA,Request:j6,Response:S6,default:KA,fetch:w6},Symbol.toStringTag,{value:"Module"})),N6=I3(Hl);var gp={};Object.defineProperty(gp,"__esModule",{value:!0});let _6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gp.default=_6;var YA=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pp,"__esModule",{value:!0});const C6=YA(N6),E6=YA(gp);let k6=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=C6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,d;let u=null,f=null,h=null,m=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const v=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(f=[],u=null,m=200,p="OK")}catch{i.status===404&&v===""?(m=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new E6.default(u)}return{error:u,data:f,count:h,status:m,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};pp.default=k6;var P6=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mp,"__esModule",{value:!0});const A6=P6(pp);let O6=class extends A6.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};mp.default=O6;var T6=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sd,"__esModule",{value:!0});const D6=T6(mp);let I6=class extends D6.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};sd.default=I6;var M6=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hp,"__esModule",{value:!0});const Nc=M6(sd);let R6=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Nc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Nc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Nc.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Nc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Nc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};hp.default=R6;var XA=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nw,"__esModule",{value:!0});const $6=XA(hp),L6=XA(sd);let F6=class JA{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new $6.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new JA(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new L6.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};nw.default=F6;var ql=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.PostgrestError=Tr.PostgrestBuilder=Tr.PostgrestTransformBuilder=Tr.PostgrestFilterBuilder=Tr.PostgrestQueryBuilder=Tr.PostgrestClient=void 0;const QA=ql(nw);Tr.PostgrestClient=QA.default;const ZA=ql(hp);Tr.PostgrestQueryBuilder=ZA.default;const eO=ql(sd);Tr.PostgrestFilterBuilder=eO.default;const tO=ql(mp);Tr.PostgrestTransformBuilder=tO.default;const rO=ql(pp);Tr.PostgrestBuilder=rO.default;const nO=ql(gp);Tr.PostgrestError=nO.default;var B6=Tr.default={PostgrestClient:QA.default,PostgrestQueryBuilder:ZA.default,PostgrestFilterBuilder:eO.default,PostgrestTransformBuilder:tO.default,PostgrestBuilder:rO.default,PostgrestError:nO.default};const{PostgrestClient:z6,PostgrestQueryBuilder:nge,PostgrestFilterBuilder:age,PostgrestTransformBuilder:ige,PostgrestBuilder:sge,PostgrestError:oge}=B6;class U6{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const W6="2.15.1",V6=`realtime-js/${W6}`,H6="1.0.0",Tx=1e4,q6=1e3,K6=100;var nu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(nu||(nu={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var Un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Un||(Un={}));var Dx;(function(e){e.websocket="websocket"})(Dx||(Dx={}));var Is;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Is||(Is={}));class G6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class aO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(He||(He={}));const TN=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Y6(o,e,t,a),i),{})},Y6=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?iO(i,o):Ix(o)},iO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Z6(t,r)}switch(e){case He.bool:return X6(t);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return J6(t);case He.json:case He.jsonb:return Q6(t);case He.timestamp:return ez(t);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Ix(t);default:return Ix(t)}},Ix=e=>e,X6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},J6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Q6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Z6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>iO(t,l))}return e},ez=e=>typeof e=="string"?e.replace(" ","T"):e,sO=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Av{constructor(t,r,n={},a=Tx){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var DN;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(DN||(DN={}));class au{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=au.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=au.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=au.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const h=u.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),p=u.filter(v=>m.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(l[d]=p),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(m=>m.presence_ref),h=u.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IN;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IN||(IN={}));var iu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(iu||(iu={}));var Pa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pa||(Pa={}));class aw{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Av(this,Un.join,this.params,this.timeout),this.rejoinTimer=new aO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new au(this),this.broadcastEndpointURL=sO(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[iu.PRESENCE]&&this.bindings[iu.PRESENCE].length>0,u={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Pa.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Pa.CLOSED)),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(Pa.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(m=p==null?void 0:p.length)!==null&&m!==void 0?m:0,v=[];for(let x=0;x<g;x++){const b=p[x],{filter:{event:w,schema:j,table:S,filter:N}}=b,_=h&&h[x];if(_&&_.event===w&&_.schema===j&&_.table===S&&_.filter===N)v.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(Pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Pa.SUBSCRIBED);return}}).receive("error",h=>{this.state=kt.errored,t==null||t(Pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===kt.joined&&t===iu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Av(this,Un.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Av(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>K6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Un;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var p,g,v;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var p,g,v,x,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,S=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(b=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:v,commit_timestamp:x,type:b,errors:w}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&aw.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Un.close,{},t)}_onError(t){this._on(Un.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=TN(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=TN(t.columns,t.old_record)),r}}const MN=()=>{},cf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tz=[1e3,2e3,5e3,1e4],rz=1e4,nz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class az{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tx,this.transport=null,this.heartbeatIntervalMs=cf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=MN,this.ref=0,this.reconnectTimer=null,this.logger=MN,this.conn=null,this.sendBuffer=[],this.serializer=new G6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>id(async()=>{const{default:l}=await Promise.resolve().then(()=>Hl);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Dx.websocket}`,this.httpEndpoint=sO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=U6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H6}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case nu.connecting:return Is.Connecting;case nu.open:return Is.Open;case nu.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new aw(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(q6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},cf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Un.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([nz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:V6};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Un.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new aO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Tx,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:cf.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:u=>tz[u-1]||rz,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(u,f)=>f(JSON.stringify(u)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class iw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iz extends iw{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mx extends iw{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var sz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const oO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>id(async()=>{const{default:n}=await Promise.resolve().then(()=>Hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},oz=()=>sz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield id(()=>Promise.resolve().then(()=>Hl),void 0)).Response:Response}),Rx=e=>{if(Array.isArray(e))return e.map(r=>Rx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Rx(n)}),t},lz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var vo=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const Ov=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cz=(e,t,r)=>vo(void 0,void 0,void 0,function*(){const n=yield oz();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new iz(Ov(a),i,o))}).catch(a=>{t(new Mx(Ov(a),a))}):t(new Mx(Ov(e),e))}),uz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(lz(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function od(e,t,r,n,a,i){return vo(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,uz(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>cz(c,l,n))})})}function Ih(e,t,r,n){return vo(this,void 0,void 0,function*(){return od(e,"GET",t,r,n)})}function la(e,t,r,n,a){return vo(this,void 0,void 0,function*(){return od(e,"POST",t,n,a,r)})}function $x(e,t,r,n,a){return vo(this,void 0,void 0,function*(){return od(e,"PUT",t,n,a,r)})}function dz(e,t,r,n){return vo(this,void 0,void 0,function*(){return od(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lO(e,t,r,n,a){return vo(this,void 0,void 0,function*(){return od(e,"DELETE",t,n,a,r)})}var xr=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const fz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},RN={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hz{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=oO(a)}uploadOrUpdate(t,r,n,a){return xr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},RN),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(t=="PUT"?$x:la)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(Pt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return xr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:RN.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield $x(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(Pt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return xr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield la(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new iw("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}update(t,r,n){return xr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return xr(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return xr(this,void 0,void 0,function*(){try{return{data:{path:(yield la(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return xr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield la(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return xr(this,void 0,void 0,function*(){try{const a=yield la(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}download(t,r){return xr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ih(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pt(l))return{data:null,error:l};throw l}})}info(t){return xr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ih(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rx(n),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}exists(t){return xr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield dz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pt(n)&&n instanceof Mx){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return xr(this,void 0,void 0,function*(){try{return{data:yield lO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}list(t,r,n){return xr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},fz),r),{prefix:t||""});return{data:yield la(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Pt(a))return{data:null,error:a};throw a}})}listV2(t,r){return xr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield la(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const mz="2.11.0",pz={"X-Client-Info":`storage-js/${mz}`};var So=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class gz{constructor(t,r={},n,a){const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},pz),r),this.fetch=oO(n)}listBuckets(){return So(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pt(t))return{data:null,error:t};throw t}})}getBucket(t){return So(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return So(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return So(this,void 0,void 0,function*(){try{return{data:yield $x(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return So(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return So(this,void 0,void 0,function*(){try{return{data:yield lO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}}class vz extends gz{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new hz(this.url,this.headers,t,this.fetch)}}const yz="2.56.0";let Vc="";typeof Deno<"u"?Vc="deno":typeof document<"u"?Vc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vc="react-native":Vc="node";const xz={"X-Client-Info":`supabase-js-${Vc}/${yz}`},bz={headers:xz},wz={schema:"public"},jz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sz={};var Nz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};const _z=e=>{let t;return e?t=e:typeof fetch>"u"?t=KA:t=fetch,(...r)=>t(...r)},Cz=()=>typeof Headers>"u"?GA:Headers,Ez=(e,t,r)=>{const n=_z(r),a=Cz();return(i,o)=>Nz(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var kz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};function Pz(e){return e.endsWith("/")?e:e+"/"}function Az(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>kz(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const cO="2.71.1",Ro=30*1e3,Lx=3,Tv=Lx*Ro,Oz="http://localhost:9999",Tz="supabase.auth.token",Dz={"X-Client-Info":`gotrue-js/${cO}`},Fx="X-Supabase-Api-Version",uO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Iz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mz=10*60*1e3;class sw extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function we(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Rz extends sw{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $z(e){return we(e)&&e.name==="AuthApiError"}class dO extends sw{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ls extends sw{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class yi extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lz(e){return we(e)&&e.name==="AuthSessionMissingError"}class uf extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class df extends ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ff extends ls{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fz(e){return we(e)&&e.name==="AuthImplicitGrantRedirectError"}class $N extends ls{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bx extends ls{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Dv(e){return we(e)&&e.name==="AuthRetryableFetchError"}class LN extends ls{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zx extends ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FN=` 	
\r=`.split(""),Bz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<FN.length;t+=1)e[FN[t].charCodeAt(0)]=-2;for(let t=0;t<Mh.length;t+=1)e[Mh[t].charCodeAt(0)]=t;return e})();function BN(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mh[n]),t.queuedBits-=6}}function fO(e,t,r){const n=Bz[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zN(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Wz(o,n,r)};for(let o=0;o<e.length;o+=1)fO(e.charCodeAt(o),a,i);return t.join("")}function zz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Uz(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}zz(n,t)}}function Wz(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Vz(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)fO(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Hz(e){const t=[];return Uz(e,r=>t.push(r)),new Uint8Array(t)}function qz(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>BN(a,r,n)),BN(null,r,n),t.join("")}function Kz(e){return Math.round(Date.now()/1e3)+e}function Gz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ln=()=>typeof window<"u"&&typeof document<"u",ws={tested:!1,writable:!1},hO=()=>{if(!Ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ws.tested)return ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ws.tested=!0,ws.writable=!0}catch{ws.tested=!0,ws.writable=!1}return ws.writable};function Yz(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const mO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>id(async()=>{const{default:n}=await Promise.resolve().then(()=>Hl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Xz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$o=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},js=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hi=async(e,t)=>{await e.removeItem(t)};class vp{constructor(){this.promise=new vp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}vp.promiseConstructor=Promise;function Iv(e){const t=e.split(".");if(t.length!==3)throw new zx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Iz.test(t[n]))throw new zx("JWT not in base64url format");return{header:JSON.parse(zN(t[0])),payload:JSON.parse(zN(t[1])),signature:Vz(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qz(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function Zz(e){return("0"+e.toString(16)).substr(-2)}function eU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Zz).join("")}async function tU(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function rU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await tU(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function No(e,t,r=!1){const n=eU();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await $o(e,`${t}-code-verifier`,a);const i=await rU(n);return[i,n===i?"plain":"s256"]}const nU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aU(e){const t=e.headers.get(Fx);if(!t||!t.match(nU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function iU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _o(e){if(!oU.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function UN(e){return JSON.parse(JSON.stringify(e))}var lU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ks=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cU=[502,503,504];async function WN(e){var t;if(!Xz(e))throw new Bx(ks(e),0);if(cU.includes(e.status))throw new Bx(ks(e),e.status);let r;try{r=await e.json()}catch(i){throw new dO(ks(i),i)}let n;const a=aU(e);if(a&&a.getTime()>=uO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new LN(ks(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new yi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new LN(ks(r),e.status,r.weak_password.reasons);throw new Rz(ks(r),e.status||500,n)}const uU=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ne(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Fx]||(i[Fx]=uO["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await dU(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function dU(e,t,r,n,a,i){const o=uU(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Bx(ks(c),0)}if(l.ok||await WN(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await WN(c)}}function Ea(e){var t;let r=null;pU(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Kz(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function VN(e){const t=Ea(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _i(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fU(e){return{data:e,error:null}}function hU(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=lU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function mU(e){return e}function pU(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rv=["global","local","others"];var gU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class vU{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=mO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Rv[0]){if(Rv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rv.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_i})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=gU(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:hU,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(we(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_i})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:mU});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);d[`${v}Page`]=g}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(we(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){_o(t);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_i})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_o(t);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_i})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_o(t);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_i})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_o(t.userId);try{const{data:r,error:n}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_o(t.userId),_o(t.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}}function HN(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function yU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Co={debug:!!(globalThis&&hO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xU extends pO{}async function bU(e,t,r){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xU(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Co.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}yU();const wU={url:Oz,storageKey:Tz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qN(e,t,r){return await r()}const Eo={};class Au{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Au.nextInstanceID,Au.nextInstanceID+=1,this.instanceID>0&&Ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},wU),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new vU({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=mO(a.fetch),this.lock=a.lock||qN,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ln()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=bU:this.lock=qN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:hO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=HN(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=HN(this.memoryStorage)),Ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Yz(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ln()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fz(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return we(r)?{error:r}:{error:new dO("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ea}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(we(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await No(this.storage,this.storageKey)),i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Ea})}else if("phone"in t){const{phone:u,password:f,options:h}=t;i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ea})}else throw new df("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(we(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:VN})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:VN})}else throw new df("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new uf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,f,h,m;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:v,wallet:x,statement:b,options:w}=t;let j;if(Ln())if(typeof x=="object")j=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)p=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:v,error:x}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:qz(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ea});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new uf}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(we(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await js(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ea});if(await hi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new uf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(we(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ea}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new uf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await No(this.storage,this.storageKey));const{error:f}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new df("You must provide either an email or phone number.")}catch(l){if(we(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ea});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await No(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fU})}catch(i){if(we(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new yi;const{error:a}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(we(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new df("You must provide either an email or phone number and a type")}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await js(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Mv()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_i}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yi}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:_i})})}catch(r){if(we(r))return Lz(r)&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new yi;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await No(this.storage,this.storageKey));const{data:d,error:u}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:_i});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yi;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Iv(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(we(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new yi;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(we(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ln())throw new ff("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ff(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $N("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ff("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $N("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new ff("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let h=u+f;c&&(h=parseInt(c));const m=h-u;m*1e3<=Ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(we(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!($z(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Gz(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await No(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(we(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(we(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Qz(async a=>(a>0&&await Jz(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ea})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Dv(i)&&Date.now()+o-n<Ro})}catch(n){if(this._debug(r,"error",n),we(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await js(this.storage,this.storageKey);if(a&&this.userStorage){let o=await js(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await $o(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Mv()}else if(a&&!a.user&&!a.user){const o=await js(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await hi(this.storage,this.storageKey+"-user"),await $o(this.storage,this.storageKey,a)):a.user=Mv()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tv;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Tv}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Dv(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new yi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new vp;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new yi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),we(i)){const o={session:null,error:i};return Dv(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await $o(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=UN(a);await $o(this.storage,this.storageKey,i)}else{const a=UN(r);await $o(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await hi(this.storage,this.storageKey),await hi(this.storage,this.storageKey+"-code-verifier"),await hi(this.storage,this.storageKey+"-user"),this.userStorage&&await hi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ro);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ro}ms, refresh threshold is ${Lx} ticks`),a<=Lx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await No(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(we(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(we(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Iv(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Mz>a)return n;const{data:i,error:o}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Iv(n);r!=null&&r.allowExpired||iU(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=sU(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,Hz(`${l}.${c}`)))throw new zx("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}}Au.nextInstanceID=0;const jU=Au;class SU extends jU{constructor(t){super(t)}}var NU=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})};class _U{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Pz(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:wz,realtime:Sz,auth:Object.assign(Object.assign({},jz),{storageKey:d}),global:bz},f=Az(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Ez(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new z6(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new vz(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new x6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return NU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SU({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new az(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CU=(e,t,r)=>new _U(e,t,r);function EU(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}EU()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kU="https://eloldmdciulxzwsnlvci.supabase.co",PU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsb2xkbWRjaXVseHp3c25sdmNpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMDkxMDYsImV4cCI6MjA2MDU4NTEwNn0.gh9vAFWK_kmkpYYC5NOgi4rs4lSQY7KhMs6UqPuX5nI",G=CU(kU,PU);function gr(){const[e,t]=y.useState(null),[r,n]=y.useState(null),[a,i]=y.useState(!0);return y.useEffect(()=>{G.auth.getSession().then(({data:{session:p}})=>{n(p),t((p==null?void 0:p.user)??null),i(!1)});const{data:{subscription:m}}=G.auth.onAuthStateChange((p,g)=>{n(g),t((g==null?void 0:g.user)??null),i(!1)});return()=>m.unsubscribe()},[]),{user:e,session:r,loading:a,signUp:async(m,p)=>{const{data:g,error:v}=await G.auth.signUp({email:m,password:p});return{data:g,error:v}},signIn:async(m,p)=>{const{data:g,error:v}=await G.auth.signInWithPassword({email:m,password:p});return{data:g,error:v}},signOut:async()=>{const{error:m}=await G.auth.signOut();return{error:m}},resetPassword:async m=>{try{const{error:p}=await G.auth.resetPasswordForEmail(m,{redirectTo:`${window.location.origin}/reset-password`});if(p)throw p;return{error:null}}catch(p){return{error:p}}},updatePassword:async m=>{try{const{error:p}=await G.auth.updateUser({password:m});if(p)throw p;return{error:null}}catch(p){return{error:p}}},getUserProfile:async()=>{if(!e)return null;try{const{data:m,error:p}=await G.from("user_profiles").select("*").eq("id",e.id).single();if(p&&p.code!=="PGRST116")throw p;return m}catch(m){return console.error("Error fetching user profile:",m),null}},updateUserProfile:async m=>{if(!e)return{error:new Error("No user logged in")};try{const{data:p,error:g}=await G.from("user_profiles").upsert({id:e.id,...m}).select().single();if(g)throw g;return{data:p,error:null}}catch(p){return{data:null,error:p}}}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Q=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>y.createElement("svg",{ref:u,...AU,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${OU(e)}`,l].join(" "),...d},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Q("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Q("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Q("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=Q("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=Q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=Q("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=Q("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=Q("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Q("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=Q("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Q("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=Q("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=Q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=Q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=Q("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=Q("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=Q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=Q("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Q("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=Q("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=Q("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Q("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=Q("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=Q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=Q("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=Q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=Q("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=Q("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Q("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Q("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Q("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Q("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function c8({isDarkMode:e}){const[t,r]=y.useState(!1),[n,a]=y.useState(""),[i,o]=y.useState(""),[l,c]=y.useState(!1),[d,u]=y.useState(null),{signIn:f,signUp:h}=gr(),m=async p=>{p.preventDefault(),c(!0),u(null);try{const{error:g}=t?await h(n,i):await f(n,i);g&&u(g.message)}catch{u("An unexpected error occurred")}finally{c(!1)}};return s.jsx("div",{className:`min-h-screen flex items-center justify-center transition-colors duration-200 ${e?"bg-slate-900":"bg-slate-50"}`,children:s.jsxs("div",{className:`max-w-md w-full mx-4 p-8 rounded-xl shadow-lg border transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${e?"bg-blue-900":"bg-blue-100"}`,children:s.jsx(Me,{className:`w-8 h-8 ${e?"text-blue-400":"text-blue-600"}`})}),s.jsx("h1",{className:`text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:"Consultant Dashboard"}),s.jsx("p",{className:`text-sm mt-2 ${e?"text-slate-400":"text-slate-600"}`,children:t?"Create your account":"Sign in to your account"})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Email"}),s.jsx("input",{type:"email",value:n,onChange:p=>a(p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`,placeholder:"Enter your email",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Password"}),s.jsx("input",{type:"password",value:i,onChange:p=>o(p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`,placeholder:"Enter your password",required:!0,minLength:6})]}),d&&s.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:d}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2.5 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:l?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsxs(s.Fragment,{children:[t?s.jsx(o8,{className:"w-4 h-4"}):s.jsx(UU,{className:"w-4 h-4"}),t?"Sign Up":"Sign In"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{onClick:()=>r(!t),className:`text-sm transition-colors duration-200 ${e?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:t?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}function SO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=SO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=SO(e))&&(n&&(n+=" "),n+=t);return n}const hw="-",u8=e=>{const t=f8(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(hw);return l[0]===""&&l.length!==1&&l.shift(),NO(l,t)||d8(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},NO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?NO(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(hw);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},t_=/^\[(.+)\]$/,d8=e=>{if(t_.test(e)){const t=t_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},f8=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)Ux(r[a],n,a,t);return n},Ux=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:r_(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(h8(a)){Ux(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{Ux(o,r_(t,i),r,n)})})},r_=(e,t)=>{let r=e;return t.split(hw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},h8=e=>e.isThemeGetter,m8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},Wx="!",Vx=":",p8=Vx.length,g8=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,l=0,c=0,d;for(let p=0;p<a.length;p++){let g=a[p];if(o===0&&l===0){if(g===Vx){i.push(a.slice(c,p)),c=p+p8;continue}if(g==="/"){d=p;continue}}g==="["?o++:g==="]"?o--:g==="("?l++:g===")"&&l--}const u=i.length===0?a:a.substring(c),f=v8(u),h=f!==u,m=d&&d>c?d-c:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}};if(t){const a=t+Vx,i=n;n=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},v8=e=>e.endsWith(Wx)?e.substring(0,e.length-1):e.startsWith(Wx)?e.substring(1):e,y8=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},x8=e=>({cache:m8(e.cacheSize),parseClassName:g8(e),sortModifiers:y8(e),...u8(e)}),b8=/\s+/,w8=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],l=e.trim().split(b8);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=r(u);if(f){c=u+(c.length>0?" "+c:c);continue}let v=!!g,x=n(v?p.substring(0,g):p);if(!x){if(!v){c=u+(c.length>0?" "+c:c);continue}if(x=n(p),!x){c=u+(c.length>0?" "+c:c);continue}v=!1}const b=i(h).join(":"),w=m?b+Wx:b,j=w+x;if(o.includes(j))continue;o.push(j);const S=a(x,v);for(let N=0;N<S.length;++N){const _=S[N];o.push(w+_)}c=u+(c.length>0?" "+c:c)}return c};function j8(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_O(t))&&(n&&(n+=" "),n+=r);return n}const _O=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_O(e[n]))&&(r&&(r+=" "),r+=t);return r};function S8(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=x8(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=w8(c,r);return a(c,u),u}return function(){return i(j8.apply(null,arguments))}}const Ct=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},CO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,EO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,N8=/^\d+\/\d+$/,_8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,k8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ko=e=>N8.test(e),je=e=>!!e&&!Number.isNaN(Number(e)),mi=e=>!!e&&Number.isInteger(Number(e)),$v=e=>e.endsWith("%")&&je(e.slice(0,-1)),Ca=e=>_8.test(e),A8=()=>!0,O8=e=>C8.test(e)&&!E8.test(e),kO=()=>!1,T8=e=>k8.test(e),D8=e=>P8.test(e),I8=e=>!de(e)&&!fe(e),M8=e=>Yl(e,OO,kO),de=e=>CO.test(e),Ns=e=>Yl(e,TO,O8),Lv=e=>Yl(e,B8,je),n_=e=>Yl(e,PO,kO),R8=e=>Yl(e,AO,D8),hf=e=>Yl(e,DO,T8),fe=e=>EO.test(e),_c=e=>Xl(e,TO),$8=e=>Xl(e,z8),a_=e=>Xl(e,PO),L8=e=>Xl(e,OO),F8=e=>Xl(e,AO),mf=e=>Xl(e,DO,!0),Yl=(e,t,r)=>{const n=CO.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Xl=(e,t,r=!1)=>{const n=EO.exec(e);return n?n[1]?t(n[1]):r:!1},PO=e=>e==="position"||e==="percentage",AO=e=>e==="image"||e==="url",OO=e=>e==="length"||e==="size"||e==="bg-size",TO=e=>e==="length",B8=e=>e==="number",z8=e=>e==="family-name",DO=e=>e==="shadow",U8=()=>{const e=Ct("color"),t=Ct("font"),r=Ct("text"),n=Ct("font-weight"),a=Ct("tracking"),i=Ct("leading"),o=Ct("breakpoint"),l=Ct("container"),c=Ct("spacing"),d=Ct("radius"),u=Ct("shadow"),f=Ct("inset-shadow"),h=Ct("text-shadow"),m=Ct("drop-shadow"),p=Ct("blur"),g=Ct("perspective"),v=Ct("aspect"),x=Ct("ease"),b=Ct("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...j(),fe,de],N=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],E=()=>[fe,de,c],k=()=>[ko,"full","auto",...E()],P=()=>[mi,"none","subgrid",fe,de],A=()=>["auto",{span:["full",mi,fe,de]},mi,fe,de],C=()=>[mi,"auto",fe,de],O=()=>["auto","min","max","fr",fe,de],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],R=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...E()],M=()=>[ko,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],D=()=>[e,fe,de],F=()=>[...j(),a_,n_,{position:[fe,de]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",L8,M8,{size:[fe,de]}],W=()=>[$v,_c,Ns],se=()=>["","none","full",d,fe,de],he=()=>["",je,_c,Ns],ge=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[je,$v,a_,n_],be=()=>["","none",p,fe,de],Y=()=>["none",je,fe,de],te=()=>["none",je,fe,de],ae=()=>[je,fe,de],V=()=>[ko,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ca],breakpoint:[Ca],color:[A8],container:[Ca],"drop-shadow":[Ca],ease:["in","out","in-out"],font:[I8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ca],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ca],shadow:[Ca],spacing:["px",je],text:[Ca],"text-shadow":[Ca],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ko,de,fe,v]}],container:["container"],columns:[{columns:[je,de,fe,l]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[mi,"auto",fe,de]}],basis:[{basis:[ko,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,ko,"auto","initial","none",de]}],grow:[{grow:["",je,fe,de]}],shrink:[{shrink:["",je,fe,de]}],order:[{order:[mi,"first","last","none",fe,de]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...R(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...R(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[l,"screen",...M()]}],"min-w":[{"min-w":[l,"screen","none",...M()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",r,_c,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,fe,Lv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$v,de]}],"font-family":[{font:[$8,de,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,fe,de]}],"line-clamp":[{"line-clamp":[je,"none",fe,Lv]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",fe,de]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",fe,de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",fe,Ns]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[je,"auto",fe,de]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe,de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe,de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mi,fe,de],radial:["",fe,de],conic:[mi,fe,de]},F8,R8]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,fe,de]}],"outline-w":[{outline:["",je,_c,Ns]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",u,mf,hf]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",f,mf,hf]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[je,Ns]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",h,mf,hf]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[je,fe,de]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[fe,de]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",fe,de]}],filter:[{filter:["","none",fe,de]}],blur:[{blur:be()}],brightness:[{brightness:[je,fe,de]}],contrast:[{contrast:[je,fe,de]}],"drop-shadow":[{"drop-shadow":["","none",m,mf,hf]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",je,fe,de]}],"hue-rotate":[{"hue-rotate":[je,fe,de]}],invert:[{invert:["",je,fe,de]}],saturate:[{saturate:[je,fe,de]}],sepia:[{sepia:["",je,fe,de]}],"backdrop-filter":[{"backdrop-filter":["","none",fe,de]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[je,fe,de]}],"backdrop-contrast":[{"backdrop-contrast":[je,fe,de]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,fe,de]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,fe,de]}],"backdrop-invert":[{"backdrop-invert":["",je,fe,de]}],"backdrop-opacity":[{"backdrop-opacity":[je,fe,de]}],"backdrop-saturate":[{"backdrop-saturate":[je,fe,de]}],"backdrop-sepia":[{"backdrop-sepia":["",je,fe,de]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",fe,de]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",fe,de]}],ease:[{ease:["linear","initial",x,fe,de]}],delay:[{delay:[je,fe,de]}],animate:[{animate:["none",b,fe,de]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,fe,de]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:ae()}],"skew-x":[{"skew-x":ae()}],"skew-y":[{"skew-y":ae()}],transform:[{transform:[fe,de,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:V()}],"translate-x":[{"translate-x":V()}],"translate-y":[{"translate-y":V()}],"translate-z":[{"translate-z":V()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe,de]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe,de]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[je,_c,Ns,Lv]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},W8=S8(U8);function Se(...e){return W8(Pe(e))}function i_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function IO(...e){return t=>{let r=!1;const n=e.map(a=>{const i=i_(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():i_(e[a],null)}}}}function vt(...e){return y.useCallback(IO(...e),e)}function Cl(e){const t=H8(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(K8);if(c){const d=c.props.children,u=l.map(f=>f===c?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(d)?y.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var V8=Cl("Slot");function H8(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Y8(a),l=G8(i,a.props);return a.type!==y.Fragment&&(l.ref=n?IO(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var q8=Symbol("radix.slottable");function K8(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===q8}function G8(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Y8(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const s_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,o_=Pe,mw=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return o_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const h=s_(u)||s_(f);return a[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...d,f,h]:d},[]);return o_(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},X8=mw("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?V8:"button";return s.jsx(o,{className:Se(X8({variant:t,size:r,className:e})),ref:i,...a})});$.displayName="Button";const J8=[{name:"Dashboard",href:"/",icon:zU},{name:"Time Tracking",href:"/time-tracking",icon:Me},{name:"Budget",href:"/budget",icon:rr},{name:"Cash Flow",href:"/cash-flow",icon:ct},{name:"Projects",href:"/projects",icon:ld},{name:"Analytics",href:"/analytics",icon:Wi},{name:"Clients",href:"/clients",icon:ta},{name:"Invoicing",href:"/invoicing",icon:lt},{name:"CV Manager",href:"/cv-manager",icon:cs},{name:"Settings",href:"/settings",icon:yp}];function Q8({collapsed:e,onToggle:t,isDarkMode:r}){return s.jsxs("div",{className:Se("flex flex-col h-full border-r transition-all duration-300",e?"w-16":"w-64","bg-card border-border"),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[!e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:s.jsx(Wi,{className:"w-5 h-5 text-primary-foreground"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-semibold text-sm",children:"ConsultantHub"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),s.jsx($,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:e?s.jsx(uw,{className:"h-4 w-4"}):s.jsx(cw,{className:"h-4 w-4"})})]}),s.jsx("nav",{className:"flex-1 p-2",children:s.jsx("ul",{className:"space-y-1",children:J8.map(n=>{const a=n.icon;return s.jsx("li",{children:s.jsxs(u6,{to:n.href,className:({isActive:i})=>Se("flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors","hover:bg-accent hover:text-accent-foreground",i?"bg-primary text-primary-foreground":"text-muted-foreground",e?"justify-center":""),title:e?n.name:void 0,children:[s.jsx(a,{className:"h-4 w-4 flex-shrink-0"}),!e&&s.jsx("span",{children:n.name})]})},n.name)})})}),s.jsx("div",{className:"p-4 border-t border-border",children:!e&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsx("p",{children:"© 2025 ConsultantHub"}),s.jsx("p",{children:"v1.0.0"})]})})]})}const oe=y.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));oe.displayName="Input";function Z8({isDarkMode:e,onToggleDarkMode:t,onSignOut:r,user:n}){var a;return s.jsxs("header",{className:Se("flex items-center justify-between px-6 py-4 border-b","bg-background border-border"),children:[s.jsx("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(oe,{placeholder:"Search...",className:"pl-10"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs($,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(TU,{className:"h-4 w-4"}),s.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),s.jsx($,{variant:"ghost",size:"icon",onClick:t,children:e?s.jsx(a8,{className:"h-4 w-4"}):s.jsx(GU,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-3 ml-4 pl-4 border-l border-border",children:[s.jsxs("div",{className:"text-right hidden sm:block",children:[s.jsx("p",{className:"text-sm font-medium",children:((a=n==null?void 0:n.email)==null?void 0:a.split("@")[0])||"User"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(n==null?void 0:n.email)||"user@example.com"})]}),s.jsx($,{variant:"ghost",size:"icon",className:"rounded-full",children:s.jsx(cs,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(WU,{className:"h-4 w-4"})})]})]})]})}function eW({isDarkMode:e,onToggleDarkMode:t,onSignOut:r,user:n,children:a}){const[i,o]=y.useState(!1);return s.jsxs("div",{className:Se("h-screen flex",e?"dark":""),children:[s.jsx(Q8,{collapsed:i,onToggle:()=>o(!i),isDarkMode:e}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Z8,{isDarkMode:e,onToggleDarkMode:t,onSignOut:r,user:n}),s.jsx("main",{className:"flex-1 overflow-auto p-6 bg-muted/30",children:a||s.jsx(XB,{})})]})]})}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Hx(e,t)}function MO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Hx(e,t)}function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ve.apply(null,arguments)}function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function tW(e,t){if(Ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rW(e){var t=tW(e,"string");return Ou(t)=="symbol"?t:t+""}function nW(e,t,r){return(t=rW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var u_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),d_=function(){return Math.random().toString(36).substring(7).split("").join(".")},f_={INIT:"@@redux/INIT"+d_(),REPLACE:"@@redux/REPLACE"+d_()};function aW(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function RO(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pr(1));return r(RO)(e,t)}if(typeof e!="function")throw new Error(Pr(2));var a=e,i=t,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw new Error(Pr(3));return i}function f(g){if(typeof g!="function")throw new Error(Pr(4));if(c)throw new Error(Pr(5));var v=!0;return d(),l.push(g),function(){if(v){if(c)throw new Error(Pr(6));v=!1,d();var b=l.indexOf(g);l.splice(b,1),o=null}}}function h(g){if(!aW(g))throw new Error(Pr(7));if(typeof g.type>"u")throw new Error(Pr(8));if(c)throw new Error(Pr(9));try{c=!0,i=a(i,g)}finally{c=!1}for(var v=o=l,x=0;x<v.length;x++){var b=v[x];b()}return g}function m(g){if(typeof g!="function")throw new Error(Pr(10));a=g,h({type:f_.REPLACE})}function p(){var g,v=f;return g={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Pr(11));function w(){b.next&&b.next(u())}w();var j=v(w);return{unsubscribe:j}}},g[u_]=function(){return this},g}return h({type:f_.INIT}),n={dispatch:h,subscribe:f,getState:u,replaceReducer:m},n[u_]=p,n}function h_(e,t){return function(){return t(e.apply(this,arguments))}}function m_(e,t){if(typeof e=="function")return h_(e,t);if(typeof e!="object"||e===null)throw new Error(Pr(16));var r={};for(var n in e){var a=e[n];typeof a=="function"&&(r[n]=h_(a,t))}return r}function $O(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function iW(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),i=function(){throw new Error(Pr(15))},o={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=$O.apply(void 0,l)(a.dispatch),c_(c_({},a),{},{dispatch:i})}}}var LO=Te.createContext(null);function sW(e){e()}var FO=sW,oW=function(t){return FO=t},lW=function(){return FO};function cW(){var e=lW(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,o=r={callback:a,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var p_={notify:function(){},get:function(){return[]}};function BO(e,t){var r,n=p_;function a(f){return c(),n.subscribe(f)}function i(){n.notify()}function o(){u.onStateChange&&u.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=cW())}function d(){r&&(r(),r=void 0,n.clear(),n=p_)}var u={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return n}};return u}var zO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?y.useLayoutEffect:y.useEffect;function uW(e){var t=e.store,r=e.context,n=e.children,a=y.useMemo(function(){var l=BO(t);return{store:t,subscription:l}},[t]),i=y.useMemo(function(){return t.getState()},[t]);zO(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var o=r||LO;return Te.createElement(o.Provider,{value:a},n)}function Bh(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UO={exports:{}},ze={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht=typeof Symbol=="function"&&Symbol.for,pw=Ht?Symbol.for("react.element"):60103,gw=Ht?Symbol.for("react.portal"):60106,bp=Ht?Symbol.for("react.fragment"):60107,wp=Ht?Symbol.for("react.strict_mode"):60108,jp=Ht?Symbol.for("react.profiler"):60114,Sp=Ht?Symbol.for("react.provider"):60109,Np=Ht?Symbol.for("react.context"):60110,vw=Ht?Symbol.for("react.async_mode"):60111,_p=Ht?Symbol.for("react.concurrent_mode"):60111,Cp=Ht?Symbol.for("react.forward_ref"):60112,Ep=Ht?Symbol.for("react.suspense"):60113,dW=Ht?Symbol.for("react.suspense_list"):60120,kp=Ht?Symbol.for("react.memo"):60115,Pp=Ht?Symbol.for("react.lazy"):60116,fW=Ht?Symbol.for("react.block"):60121,hW=Ht?Symbol.for("react.fundamental"):60117,mW=Ht?Symbol.for("react.responder"):60118,pW=Ht?Symbol.for("react.scope"):60119;function on(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pw:switch(e=e.type,e){case vw:case _p:case bp:case jp:case wp:case Ep:return e;default:switch(e=e&&e.$$typeof,e){case Np:case Cp:case Pp:case kp:case Sp:return e;default:return t}}case gw:return t}}}function WO(e){return on(e)===_p}ze.AsyncMode=vw;ze.ConcurrentMode=_p;ze.ContextConsumer=Np;ze.ContextProvider=Sp;ze.Element=pw;ze.ForwardRef=Cp;ze.Fragment=bp;ze.Lazy=Pp;ze.Memo=kp;ze.Portal=gw;ze.Profiler=jp;ze.StrictMode=wp;ze.Suspense=Ep;ze.isAsyncMode=function(e){return WO(e)||on(e)===vw};ze.isConcurrentMode=WO;ze.isContextConsumer=function(e){return on(e)===Np};ze.isContextProvider=function(e){return on(e)===Sp};ze.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pw};ze.isForwardRef=function(e){return on(e)===Cp};ze.isFragment=function(e){return on(e)===bp};ze.isLazy=function(e){return on(e)===Pp};ze.isMemo=function(e){return on(e)===kp};ze.isPortal=function(e){return on(e)===gw};ze.isProfiler=function(e){return on(e)===jp};ze.isStrictMode=function(e){return on(e)===wp};ze.isSuspense=function(e){return on(e)===Ep};ze.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bp||e===_p||e===jp||e===wp||e===Ep||e===dW||typeof e=="object"&&e!==null&&(e.$$typeof===Pp||e.$$typeof===kp||e.$$typeof===Sp||e.$$typeof===Np||e.$$typeof===Cp||e.$$typeof===hW||e.$$typeof===mW||e.$$typeof===pW||e.$$typeof===fW)};ze.typeOf=on;UO.exports=ze;var gW=UO.exports,yw=gW,vW={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yW={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xw={};xw[yw.ForwardRef]=xW;xw[yw.Memo]=VO;function g_(e){return yw.isMemo(e)?VO:xw[e.$$typeof]||vW}var bW=Object.defineProperty,wW=Object.getOwnPropertyNames,v_=Object.getOwnPropertySymbols,jW=Object.getOwnPropertyDescriptor,SW=Object.getPrototypeOf,y_=Object.prototype;function HO(e,t,r){if(typeof t!="string"){if(y_){var n=SW(t);n&&n!==y_&&HO(e,n,r)}var a=wW(t);v_&&(a=a.concat(v_(t)));for(var i=g_(e),o=g_(t),l=0;l<a.length;++l){var c=a[l];if(!yW[c]&&!(r&&r[c])&&!(o&&o[c])&&!(i&&i[c])){var d=jW(t,c);try{bW(e,c,d)}catch{}}}}return e}var NW=HO;const x_=Tn(NW);var qO={exports:{}},We={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=60103,Op=60106,cd=60107,ud=60108,dd=60114,fd=60109,hd=60110,md=60112,pd=60113,bw=60120,gd=60115,vd=60116,KO=60121,GO=60122,YO=60117,XO=60129,JO=60131;if(typeof Symbol=="function"&&Symbol.for){var Gt=Symbol.for;Ap=Gt("react.element"),Op=Gt("react.portal"),cd=Gt("react.fragment"),ud=Gt("react.strict_mode"),dd=Gt("react.profiler"),fd=Gt("react.provider"),hd=Gt("react.context"),md=Gt("react.forward_ref"),pd=Gt("react.suspense"),bw=Gt("react.suspense_list"),gd=Gt("react.memo"),vd=Gt("react.lazy"),KO=Gt("react.block"),GO=Gt("react.server.block"),YO=Gt("react.fundamental"),XO=Gt("react.debug_trace_mode"),JO=Gt("react.legacy_hidden")}function ra(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ap:switch(e=e.type,e){case cd:case dd:case ud:case pd:case bw:return e;default:switch(e=e&&e.$$typeof,e){case hd:case md:case vd:case gd:case fd:return e;default:return t}}case Op:return t}}}var _W=fd,CW=Ap,EW=md,kW=cd,PW=vd,AW=gd,OW=Op,TW=dd,DW=ud,IW=pd;We.ContextConsumer=hd;We.ContextProvider=_W;We.Element=CW;We.ForwardRef=EW;We.Fragment=kW;We.Lazy=PW;We.Memo=AW;We.Portal=OW;We.Profiler=TW;We.StrictMode=DW;We.Suspense=IW;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(e){return ra(e)===hd};We.isContextProvider=function(e){return ra(e)===fd};We.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ap};We.isForwardRef=function(e){return ra(e)===md};We.isFragment=function(e){return ra(e)===cd};We.isLazy=function(e){return ra(e)===vd};We.isMemo=function(e){return ra(e)===gd};We.isPortal=function(e){return ra(e)===Op};We.isProfiler=function(e){return ra(e)===dd};We.isStrictMode=function(e){return ra(e)===ud};We.isSuspense=function(e){return ra(e)===pd};We.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cd||e===dd||e===XO||e===ud||e===pd||e===bw||e===JO||typeof e=="object"&&e!==null&&(e.$$typeof===vd||e.$$typeof===gd||e.$$typeof===fd||e.$$typeof===hd||e.$$typeof===md||e.$$typeof===YO||e.$$typeof===KO||e[0]===GO)};We.typeOf=ra;qO.exports=We;var MW=qO.exports,RW=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],$W=["reactReduxForwardedRef"],LW=[],FW=[null,null];function BW(e,t){var r=e[1];return[t.payload,r+1]}function b_(e,t,r){zO(function(){return e.apply(void 0,t)},r)}function zW(e,t,r,n,a,i,o){e.current=n,t.current=a,r.current=!1,i.current&&(i.current=null,o())}function UW(e,t,r,n,a,i,o,l,c,d){if(e){var u=!1,f=null,h=function(){if(!u){var g=t.getState(),v,x;try{v=n(g,a.current)}catch(b){x=b,f=b}x||(f=null),v===i.current?o.current||c():(i.current=v,l.current=v,o.current=!0,d({type:"STORE_UPDATED",payload:{error:x}}))}};r.onStateChange=h,r.trySubscribe(),h();var m=function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return m}}var WW=function(){return[null,0]};function VW(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,i=r.methodName,o=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,d=r.shouldHandleStateChanges,u=d===void 0?!0:d,f=r.storeKey,h=f===void 0?"store":f;r.withRef;var m=r.forwardRef,p=m===void 0?!1:m,g=r.context,v=g===void 0?LO:g,x=Bh(r,RW),b=v;return function(j){var S=j.displayName||j.name||"Component",N=a(S),_=ve({},x,{getDisplayName:a,methodName:o,renderCountProp:c,shouldHandleStateChanges:u,storeKey:h,displayName:N,wrappedComponentName:S,WrappedComponent:j}),E=x.pure;function k(I){return e(I.dispatch,_)}var P=E?y.useMemo:function(I){return I()};function A(I){var R=y.useMemo(function(){var cn=I.reactReduxForwardedRef,mc=Bh(I,$W);return[I.context,cn,mc]},[I]),T=R[0],M=R[1],D=R[2],F=y.useMemo(function(){return T&&T.Consumer&&MW.isContextConsumer(Te.createElement(T.Consumer,null))?T:b},[T,b]),H=y.useContext(F),Z=!!I.store&&!!I.store.getState&&!!I.store.dispatch;H&&H.store;var W=Z?I.store:H.store,se=y.useMemo(function(){return k(W)},[W]),he=y.useMemo(function(){if(!u)return FW;var cn=BO(W,Z?null:H.subscription),mc=cn.notifyNestedSubs.bind(cn);return[cn,mc]},[W,Z,H]),ge=he[0],le=he[1],J=y.useMemo(function(){return Z?H:ve({},H,{subscription:ge})},[Z,H,ge]),be=y.useReducer(BW,LW,WW),Y=be[0],te=Y[0],ae=be[1];if(te&&te.error)throw te.error;var V=y.useRef(),ke=y.useRef(D),xe=y.useRef(),nt=y.useRef(!1),Je=P(function(){return xe.current&&D===ke.current?xe.current:se(W.getState(),D)},[W,te,D]);b_(zW,[ke,V,nt,D,Je,xe,le]),b_(UW,[u,W,ge,se,ke,V,nt,xe,le,ae],[W,ge,se]);var jt=y.useMemo(function(){return Te.createElement(j,ve({},Je,{ref:M}))},[M,j,Je]),ui=y.useMemo(function(){return u?Te.createElement(F.Provider,{value:J},jt):jt},[F,jt,J]);return ui}var C=E?Te.memo(A):A;if(C.WrappedComponent=j,C.displayName=A.displayName=N,p){var O=Te.forwardRef(function(R,T){return Te.createElement(C,ve({},R,{reactReduxForwardedRef:T}))});return O.displayName=N,O.WrappedComponent=j,x_(O,j)}return x_(C,j)}}function w_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Fv(e,t){if(w_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!w_(e[r[a]],t[r[a]]))return!1;return!0}function HW(e,t){var r={},n=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var a in e)n(a);return r}function ww(e){return function(r,n){var a=e(r,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function j_(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function QO(e,t){return function(n,a){a.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=j_(e);var d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=j_(d),d=i(l,c)),d},i}}function qW(e){return typeof e=="function"?QO(e):void 0}function KW(e){return e?void 0:ww(function(t){return{dispatch:t}})}function GW(e){return e&&typeof e=="object"?ww(function(t){return HW(e,t)}):void 0}const YW=[qW,KW,GW];function XW(e){return typeof e=="function"?QO(e):void 0}function JW(e){return e?void 0:ww(function(){return{}})}const QW=[XW,JW];function ZW(e,t,r){return ve({},r,e,t)}function e7(e){return function(r,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,o=!1,l;return function(d,u,f){var h=e(d,u,f);return o?(!a||!i(h,l))&&(l=h):(o=!0,l=h),l}}}function t7(e){return typeof e=="function"?e7(e):void 0}function r7(e){return e?void 0:function(){return ZW}}const n7=[t7,r7];var a7=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function i7(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function s7(e,t,r,n,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,d,u,f,h,m;function p(w,j){return d=w,u=j,f=e(d,u),h=t(n,u),m=r(f,h,u),c=!0,m}function g(){return f=e(d,u),t.dependsOnOwnProps&&(h=t(n,u)),m=r(f,h,u),m}function v(){return e.dependsOnOwnProps&&(f=e(d,u)),t.dependsOnOwnProps&&(h=t(n,u)),m=r(f,h,u),m}function x(){var w=e(d,u),j=!l(w,f);return f=w,j&&(m=r(f,h,u)),m}function b(w,j){var S=!o(j,u),N=!i(w,d,j,u);return d=w,u=j,S&&N?g():S?v():N?x():m}return function(j,S){return c?b(j,S):p(j,S)}}function o7(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,i=Bh(t,a7),o=r(e,i),l=n(e,i),c=a(e,i),d=i.pure?s7:i7;return d(o,l,c,e,i)}var l7=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Bv(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function c7(e,t){return e===t}function u7(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?VW:r,a=t.mapStateToPropsFactories,i=a===void 0?QW:a,o=t.mapDispatchToPropsFactories,l=o===void 0?YW:o,c=t.mergePropsFactories,d=c===void 0?n7:c,u=t.selectorFactory,f=u===void 0?o7:u;return function(m,p,g,v){v===void 0&&(v={});var x=v,b=x.pure,w=b===void 0?!0:b,j=x.areStatesEqual,S=j===void 0?c7:j,N=x.areOwnPropsEqual,_=N===void 0?Fv:N,E=x.areStatePropsEqual,k=E===void 0?Fv:E,P=x.areMergedPropsEqual,A=P===void 0?Fv:P,C=Bh(x,l7),O=Bv(m,i,"mapStateToProps"),I=Bv(p,l,"mapDispatchToProps"),R=Bv(g,d,"mergeProps");return n(f,ve({methodName:"connect",getDisplayName:function(M){return"Connect("+M+")"},shouldHandleStateChanges:!!m,initMapStateToProps:O,initMapDispatchToProps:I,initMergeProps:R,pure:w,areStatesEqual:S,areOwnPropsEqual:_,areStatePropsEqual:k,areMergedPropsEqual:A},C))}}const ZO=u7();oW(is.unstable_batchedUpdates);function d7(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function eT(e,t){var r=y.useState(function(){return{inputs:t,result:e()}})[0],n=y.useRef(!0),a=y.useRef(r),i=n.current||!!(t&&a.current.inputs&&d7(t,a.current.inputs)),o=i?a.current:{inputs:t,result:e()};return y.useEffect(function(){n.current=!1,a.current=o},[o]),o.result}function f7(e,t){return eT(function(){return e},t)}var De=eT,pe=f7,h7="Invariant failed";function tT(e,t){throw new Error(h7)}var Gn=function(t){var r=t.top,n=t.right,a=t.bottom,i=t.left,o=n-i,l=a-r,c={top:r,right:n,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return c},jw=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},S_=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},m7=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},zv={top:0,right:0,bottom:0,left:0},Sw=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?zv:n,i=t.border,o=i===void 0?zv:i,l=t.padding,c=l===void 0?zv:l,d=Gn(jw(r,a)),u=Gn(S_(r,o)),f=Gn(S_(u,c));return{marginBox:d,borderBox:Gn(r),paddingBox:u,contentBox:f,margin:a,border:o,padding:c}},dn=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&tT(),a},p7=function(){return{x:window.pageXOffset,y:window.pageYOffset}},zh=function(t,r){var n=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=m7(n,r);return Sw({borderBox:l,border:a,margin:i,padding:o})},Uh=function(t,r){return r===void 0&&(r=p7()),zh(t,r)},rT=function(t,r){var n={top:dn(r.marginTop),right:dn(r.marginRight),bottom:dn(r.marginBottom),left:dn(r.marginLeft)},a={top:dn(r.paddingTop),right:dn(r.paddingRight),bottom:dn(r.paddingBottom),left:dn(r.paddingLeft)},i={top:dn(r.borderTopWidth),right:dn(r.borderRightWidth),bottom:dn(r.borderBottomWidth),left:dn(r.borderLeftWidth)};return Sw({borderBox:t,margin:n,padding:a,border:i})},nT=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return rT(r,n)},N_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function g7(e,t){return!!(e===t||N_(e)&&N_(t))}function v7(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!g7(e[r],t[r]))return!1;return!0}function Wt(e,t){t===void 0&&(t=v7);var r,n=[],a,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&t(l,n)||(a=e.apply(this,l),i=!0,r=this,n=l),a}return o}var Tu=function(t){var r=[],n=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function aT(e,t){}aT.bind(null,"warn");aT.bind(null,"error");function Vi(){}function y7(e,t){return ve({},e,{},t)}function jn(e,t,r){var n=t.map(function(a){var i=y7(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var x7="Invariant failed";function Wh(e){this.message=e}Wh.prototype.toString=function(){return this.message};function ee(e,t){throw new Wh(x7)}var b7=function(e){MO(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=Vi,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var d=l.error;d instanceof Wh&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=jn(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof Wh){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Te.Component),w7=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Vh=function(t){return t+1},j7=function(t){return`
  You have lifted an item in position `+Vh(t.source.index)+`
`},iT=function(t,r){var n=t.droppableId===r.droppableId,a=Vh(t.index),i=Vh(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},sT=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},S7=function(t){var r=t.destination;if(r)return iT(t.source,r);var n=t.combine;return n?sT(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},__=function(t){return`
  The item has returned to its starting position
  of `+Vh(t.index)+`
`},N7=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+__(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+iT(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+sT(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+__(t.source)+`
  `},th={dragHandleUsageInstructions:w7,onDragStart:j7,onDragUpdate:S7,onDragEnd:N7},Vt={x:0,y:0},Zt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Kr=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Hi=function(t,r){return t.x===r.x&&t.y===r.y},Jl=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},ro=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},Du=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},C_=function(t,r){return Math.min.apply(Math,r.map(function(n){return Du(t,n)}))},oT=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},_7=function(e,t){var r=Gn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},yd=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},E_=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},C7={top:0,right:0,bottom:0,left:0},E7=function(t,r){return r?yd(t,r.scroll.diff.displacement):t},k7=function(t,r,n){if(n&&n.increasedBy){var a;return ve({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},P7=function(t,r){return r&&r.shouldClipSubject?_7(r.pageMarginBox,t):Gn(t)},El=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,i=E7(t.marginBox,a),o=k7(i,n,r),l=P7(o,a);return{page:t,withPlaceholder:r,active:l}},Nw=function(e,t){e.frame||ee();var r=e.frame,n=Kr(t,r.scroll.initial),a=Jl(n),i=ve({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),o=El({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=ve({},e,{frame:i,subject:o});return l};function Hh(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function _w(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function us(e,t){if(e.find)return e.find(t);var r=_w(e,t);if(r!==-1)return e[r]}function lT(e){return Array.prototype.slice.call(e)}var cT=Wt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),uT=Wt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Tp=Wt(function(e){return Hh(e)}),A7=Wt(function(e){return Hh(e)}),Ql=Wt(function(e,t){var r=A7(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function Cw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Dp(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ip=Wt(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),O7=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Cw(i);if(!o)return null;function l(g){var v={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return ve({},i,{at:v})}var c=i.displaced.all,d=c.length?c[0]:null;if(t)return d?l(d):null;var u=Ip(r,a);if(!d){if(!u.length)return null;var f=u[u.length-1];return l(f.descriptor.id)}var h=_w(u,function(g){return g.descriptor.id===d});h===-1&&ee();var m=h-1;if(m<0)return null;var p=u[m];return l(p.descriptor.id)},Zl=function(e,t){return e.descriptor.droppableId===t.descriptor.id},dT={point:Vt,value:0},Iu={invisible:{},visible:{},all:[]},T7={displaced:Iu,displacedBy:dT,at:null},Cn=function(e,t){return function(r){return e<=r&&r<=t}},fT=function(e){var t=Cn(e.top,e.bottom),r=Cn(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),l=i&&o;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right,u=c&&d;if(u)return!0;var f=c&&o||d&&i;return f}},D7=function(e){var t=Cn(e.top,e.bottom),r=Cn(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}},Ew={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},hT={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},I7=function(e){return function(t){var r=Cn(t.top,t.bottom),n=Cn(t.left,t.right);return function(a){return e===Ew?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},M7=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Vt;return yd(t,n)},R7=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},$7=function(t,r,n){return n(r)(t)},kw=function(t){var r=t.target,n=t.destination,a=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=i?M7(r,n):r;return R7(l,n,o)&&$7(l,a,o)},L7=function(t){return kw(ve({},t,{isVisibleThroughFrameFn:fT}))},mT=function(t){return kw(ve({},t,{isVisibleThroughFrameFn:D7}))},F7=function(t){return kw(ve({},t,{isVisibleThroughFrameFn:I7(t.destination.axis)}))},B7=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function z7(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Gn(jw(r,n))}function Mu(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,d){var u=z7(d,n),f=d.descriptor.id;c.all.push(f);var h=L7({target:u,destination:r,viewport:a,withDroppableDisplacement:!0});if(!h)return c.invisible[d.descriptor.id]=!0,c;var m=B7(f,o,i),p={draggableId:f,shouldAnimate:m};return c.visible[f]=p,c},{all:[],visible:{},invisible:{}})}function U7(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function k_(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,i=U7(t,{inHomeList:r});return{displaced:Iu,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function qh(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,d=Zl(t,n);if(l==null)return k_({insideDestination:r,inHomeList:d,displacedBy:i,destination:n});var u=us(r,function(g){return g.descriptor.index===l});if(!u)return k_({insideDestination:r,inHomeList:d,displacedBy:i,destination:n});var f=Ip(t,r),h=r.indexOf(u),m=f.slice(h),p=Mu({afterDragging:m,destination:n,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:c});return{displaced:p,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Ji(e,t){return!!t.effected[e]}var W7=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var o=a.draggableId,l=n[o],c=l.descriptor.index,d=Ji(o,i);return d?t?c:c-1:t?c+1:c},V7=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,o=t?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,d=r?c:c+1;return o<l||o>d?null:o},H7=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,d=e.afterCritical,u=l.at;if(u||ee(),u.type==="REORDER"){var f=V7({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:o});return f==null?null:qh({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var h=W7({isMovingForward:t,destination:i,displaced:l.displaced,draggables:a,combine:u.combine,afterCritical:d});return h==null?null:qh({draggable:n,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},q7=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return Ji(n,r)?i?Vt:Jl(a.point):i?a.point:Vt},K7=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=Dp(r);a||ee();var i=a.draggableId,o=n[i].page.borderBox.center,l=q7({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return Zt(o,l)},pT=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},G7=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Pw=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},P_=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return ro(r.line,n.marginBox[r.end]+pT(r,a),Pw(r,n.marginBox,a))},A_=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return ro(r.line,n.marginBox[r.start]-G7(r,a),Pw(r,n.marginBox,a))},Y7=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return ro(r.line,n.contentBox[r.start]+pT(r,a),Pw(r,n.contentBox,a))},X7=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,o=Ql(a.descriptor.id,n),l=r.page,c=a.axis;if(!o.length)return Y7({axis:c,moveInto:a.page,isMoving:l});var d=t.displaced,u=t.displacedBy,f=d.all[0];if(f){var h=n[f];if(Ji(f,i))return A_({axis:c,moveRelativeTo:h.page,isMoving:l});var m=zh(h.page,u.point);return A_({axis:c,moveRelativeTo:m,isMoving:l})}var p=o[o.length-1];if(p.descriptor.id===r.descriptor.id)return l.borderBox.center;if(Ji(p.descriptor.id,i)){var g=zh(p.page,Jl(i.displacedBy.point));return P_({axis:c,moveRelativeTo:g,isMoving:l})}return P_({axis:c,moveRelativeTo:p.page,isMoving:l})},qx=function(e,t){var r=e.frame;return r?Zt(t,r.scroll.diff.displacement):t},J7=function(t){var r=t.impact,n=t.draggable,a=t.droppable,i=t.draggables,o=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!a||!c?l:c.type==="REORDER"?X7({impact:r,draggable:n,draggables:i,droppable:a,afterCritical:o}):K7({impact:r,draggables:i,afterCritical:o})},Mp=function(e){var t=J7(e),r=e.droppable,n=r?qx(r,t):t;return n},gT=function(e,t){var r=Kr(t,e.scroll.initial),n=Jl(r),a=Gn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function O_(e,t){return e.map(function(r){return t[r]})}function Q7(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Z7=function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,o=gT(r,Zt(r.scroll.current,i)),l=n.frame?Nw(n,Zt(n.frame.scroll.current,i)):n,c=t.displaced,d=Mu({afterDragging:O_(c.all,a),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),u=Mu({afterDragging:O_(c.all,a),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},h={},m=[c,d,u];c.all.forEach(function(g){var v=Q7(g,m);if(v){h[g]=v;return}f[g]=!0});var p=ve({},t,{displaced:{all:c.all,invisible:f,visible:h}});return p},e9=function(e,t){return Zt(e.scroll.diff.displacement,t)},Aw=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=e9(n,t),i=Kr(a,r.page.borderBox.center);return Zt(r.client.borderBox.center,i)},vT=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=Kr(n,t.page.borderBox.center),d=yd(t.page.borderBox,c),u={target:d,destination:r,withDroppableDisplacement:i,viewport:a};return l?F7(u):mT(u)},t9=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,d=e.afterCritical;if(!n.isEnabled)return null;var u=Ql(n.descriptor.id,a),f=Zl(r,n),h=O7({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:i})||H7({isMovingForward:t,isInHomeList:f,draggable:r,draggables:a,destination:n,insideDestination:u,previousImpact:i,viewport:o,afterCritical:d});if(!h)return null;var m=Mp({impact:h,draggable:r,droppable:n,draggables:a,afterCritical:d}),p=vT({draggable:r,destination:n,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var g=Aw({pageBorderBoxCenter:m,draggable:r,viewport:o});return{clientSelection:g,impact:h,scrollJumpRequest:null}}var v=Kr(m,l),x=Z7({impact:h,viewport:o,destination:n,draggables:a,maxScrollChange:v});return{clientSelection:c,impact:x,scrollJumpRequest:v}},br=function(t){var r=t.subject.active;return r||ee(),r},r9=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,c=Cn(o[l.start],o[l.end]),d=Tp(a).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return fT(i.frame)(br(f))}).filter(function(f){var h=br(f);return t?o[l.crossAxisEnd]<h[l.crossAxisEnd]:h[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(f){var h=br(f),m=Cn(h[l.start],h[l.end]);return c(h[l.start])||c(h[l.end])||m(o[l.start])||m(o[l.end])}).sort(function(f,h){var m=br(f)[l.crossAxisStart],p=br(h)[l.crossAxisStart];return t?m-p:p-m}).filter(function(f,h,m){return br(f)[l.crossAxisStart]===br(m[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var u=d.filter(function(f){var h=Cn(br(f)[l.start],br(f)[l.end]);return h(r[l.line])});return u.length===1?u[0]:u.length>1?u.sort(function(f,h){return br(f)[l.start]-br(h)[l.start]})[0]:d.sort(function(f,h){var m=C_(r,E_(br(f))),p=C_(r,E_(br(h)));return m!==p?m-p:br(f)[l.start]-br(h)[l.start]})[0]},T_=function(t,r){var n=t.page.borderBox.center;return Ji(t.descriptor.id,r)?Kr(n,r.displacedBy.point):n},n9=function(t,r){var n=t.page.borderBox;return Ji(t.descriptor.id,r)?yd(n,Jl(r.displacedBy.point)):n},a9=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,o=a.filter(function(l){return mT({target:n9(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var d=Du(t,qx(n,T_(l,i))),u=Du(t,qx(n,T_(c,i)));return d<u?-1:u<d?1:l.descriptor.index-c.descriptor.index});return o[0]||null},xd=Wt(function(t,r){var n=r[t.line];return{value:n,point:ro(t.line,n)}}),i9=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return ro(a.line,r[a.line]);var i=t.subject.page.contentBox[a.size],o=Ql(t.descriptor.id,n),l=o.reduce(function(u,f){return u+f.client.marginBox[a.size]},0),c=l+r[a.line],d=c-i;return d<=0?null:ro(a.line,d)},yT=function(t,r){return ve({},t,{scroll:ve({},t.scroll,{max:r})})},xT=function(t,r,n){var a=t.frame;Zl(r,t)&&ee(),t.subject.withPlaceholder&&ee();var i=xd(t.axis,r.displaceBy).point,o=i9(t,i,n),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var c=El({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return ve({},t,{subject:c})}var d=o?Zt(a.scroll.max,o):a.scroll.max,u=yT(a,d),f=El({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:u});return ve({},t,{subject:f,frame:u})},s9=function(t){var r=t.subject.withPlaceholder;r||ee();var n=t.frame;if(!n){var a=El({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ve({},t,{subject:a})}var i=r.oldFrameMaxScroll;i||ee();var o=yT(n,i),l=El({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return ve({},t,{subject:l,frame:o})},o9=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var d={displaced:Iu,displacedBy:dT,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=Mp({impact:d,draggable:a,droppable:o,draggables:i,afterCritical:c}),f=Zl(a,o)?o:xT(o,a,i),h=vT({draggable:a,destination:f,newPageBorderBoxCenter:u,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?d:null}var m=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],p=function(){var v=r.descriptor.index;return r.descriptor.id===a.descriptor.id||m?v:v+1}(),g=xd(o.axis,a.displaceBy);return qh({draggable:a,insideDestination:n,destination:o,viewport:l,displacedBy:g,last:Iu,index:p})},l9=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,d=r9({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:o,viewport:l});if(!d)return null;var u=Ql(d.descriptor.id,i),f=a9({pageBorderBoxCenter:r,viewport:l,destination:d,insideDestination:u,afterCritical:c}),h=o9({previousPageBorderBoxCenter:r,destination:d,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:u,viewport:l,afterCritical:c});if(!h)return null;var m=Mp({impact:h,draggable:n,droppable:d,draggables:i,afterCritical:c}),p=Aw({pageBorderBoxCenter:m,draggable:n,viewport:l});return{clientSelection:p,impact:h,scrollJumpRequest:null}},Jr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},c9=function(t,r){var n=Jr(t);return n?r[n]:null},u9=function(e){var t=e.state,r=e.type,n=c9(t.impact,t.dimensions.droppables),a=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,l=o.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!a)return null;var d=r==="MOVE_DOWN"||r==="MOVE_RIGHT",u=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,m=h.draggables,p=h.droppables;return c?t9({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,destination:o,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):l9({isMovingForward:d,previousPageBorderBoxCenter:f,draggable:u,isOver:o,draggables:m,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Ps(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function bT(e){var t=Cn(e.top,e.bottom),r=Cn(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function d9(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function f9(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,i=n.map(function(o){var l=o.axis,c=ro(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Du(a,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function h9(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=Tp(n).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!d9(t,o))return!1;if(bT(o)(t.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],d=t[l.crossAxisStart],u=t[l.crossAxisEnd],f=Cn(o[l.crossAxisStart],o[l.crossAxisEnd]),h=f(d),m=f(u);return!h&&!m?!0:h?d<c:u>c});return a.length?a.length===1?a[0].descriptor.id:f9({pageBorderBox:t,draggable:r,candidates:a}):null}var wT=function(t,r){return Gn(yd(t,r))},m9=function(e,t){var r=e.frame;return r?wT(t,r.scroll.diff.value):t};function jT(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function p9(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var g9=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=n.axis,d=xd(n.axis,r.displaceBy),u=d.value,f=t[c.start],h=t[c.end],m=Ip(r,a),p=us(m,function(v){var x=v.descriptor.id,b=v.page.borderBox.center[c.line],w=Ji(x,l),j=jT({displaced:i,id:x});return w?j?h<=b:f<b-u:j?h<=b+u:f<b}),g=p9({draggable:r,closest:p,inHomeList:Zl(r,n)});return qh({draggable:r,insideDestination:a,destination:n,viewport:o,last:i,displacedBy:d,index:g})},v9=4,y9=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=xd(a.axis,t.displaceBy),d=c.value,u=r[l.start],f=r[l.end],h=Ip(t,i),m=us(h,function(g){var v=g.descriptor.id,x=g.page.borderBox,b=x[l.size],w=b/v9,j=Ji(v,o),S=jT({displaced:n.displaced,id:v});return j?S?f>x[l.start]+w&&f<x[l.end]-w:u>x[l.start]-d+w&&u<x[l.end]-d-w:S?f>x[l.start]+d+w&&f<x[l.end]+d-w:u>x[l.start]+w&&u<x[l.end]-w});if(!m)return null;var p={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:a.descriptor.id}}};return p},ST=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=wT(r.page.borderBox,t),d=h9({pageBorderBox:c,draggable:r,droppables:a});if(!d)return T7;var u=a[d],f=Ql(u.descriptor.id,n),h=m9(u,c);return y9({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:i,destination:u,insideDestination:f,afterCritical:l})||g9({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:u,insideDestination:f,last:i.displaced,viewport:o,afterCritical:l})},Ow=function(e,t){var r;return ve({},e,(r={},r[t.descriptor.id]=t,r))},x9=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,i=Jr(r),o=Jr(n);if(!i||i===o)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var c=s9(l);return Ow(a,c)},b9=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,o=x9({previousImpact:a,impact:i,droppables:n}),l=Jr(i);if(!l)return o;var c=n[l];if(Zl(t,c)||c.subject.withPlaceholder)return o;var d=xT(c,t,r);return Ow(o,d)},su=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=a||t.viewport,c=n||t.dimensions,d=r||t.current.client.selection,u=Kr(d,t.initial.client.selection),f={offset:u,selection:d,borderBoxCenter:Zt(t.initial.client.borderBoxCenter,u)},h={selection:Zt(f.selection,l.scroll.current),borderBoxCenter:Zt(f.borderBoxCenter,l.scroll.current),offset:Zt(f.offset,l.scroll.diff.value)},m={client:f,page:h};if(t.phase==="COLLECTING")return ve({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:m});var p=c.draggables[t.critical.draggable.id],g=i||ST({pageOffset:h.offset,draggable:p,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),v=b9({draggable:p,impact:g,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),x=ve({},t,{current:m,dimensions:{draggables:c.draggables,droppables:v},impact:g,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return x};function w9(e,t){return e.map(function(r){return t[r]})}var NT=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=w9(o.all,n),c=Mu({afterDragging:l,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:o});return ve({},t,{displaced:c})},_T=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,l=Mp({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:o});return Aw({pageBorderBoxCenter:l,draggable:r,viewport:i})},CT=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&ee();var a=t.impact,i=n||t.viewport,o=r||t.dimensions,l=o.draggables,c=o.droppables,d=l[t.critical.draggable.id],u=Jr(a);u||ee();var f=c[u],h=NT({impact:a,viewport:i,destination:f,draggables:l}),m=_T({impact:h,draggable:d,droppable:f,draggables:l,viewport:i,afterCritical:t.afterCritical});return su({impact:h,clientSelection:m,state:t,dimensions:o,viewport:i})},j9=function(e){return{index:e.index,droppableId:e.droppableId}},ET=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,i=xd(r.axis,t.displaceBy),o=Ql(r.descriptor.id,n),l=o.indexOf(t);l===-1&&ee();var c=o.slice(l+1),d=c.reduce(function(m,p){return m[p.descriptor.id]=!0,m},{}),u={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:d},f=Mu({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:i,at:{type:"REORDER",destination:j9(t.descriptor)}};return{impact:h,afterCritical:u}},S9=function(e,t){return{draggables:e.draggables,droppables:Ow(e.droppables,t)}},N9=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=zh(t.client,r),i=Uh(a,n),o=ve({},t,{placeholder:ve({},t.placeholder,{client:a}),client:a,page:i});return o},_9=function(e){var t=e.frame;return t||ee(),t},C9=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,l=r[o],c=_9(l),d=c.scroll.diff.value,u=Zt(a,d),f=N9({draggable:i,offset:u,initialWindowScroll:n.scroll.initial});return f})},E9=function(e){var t=e.state,r=e.published,n=r.modified.map(function(w){var j=t.dimensions.droppables[w.droppableId],S=Nw(j,w.scroll);return S}),a=ve({},t.dimensions.droppables,{},cT(n)),i=uT(C9({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),o=ve({},t.dimensions.draggables,{},i);r.removals.forEach(function(w){delete o[w]});var l={droppables:a,draggables:o},c=Jr(t.impact),d=c?l.droppables[c]:null,u=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],h=ET({draggable:u,home:f,draggables:o,viewport:t.viewport}),m=h.impact,p=h.afterCritical,g=d&&d.isCombineEnabled?t.impact:m,v=ST({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:p}),x=ve({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:v,onLiftImpact:m,dimensions:l,afterCritical:p,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return x;var b=ve({phase:"DROP_PENDING"},x,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return b},Kx=function(t){return t.movementMode==="SNAP"},Uv=function(t,r,n){var a=S9(t.dimensions,r);return!Kx(t)||n?su({state:t,dimensions:a}):CT({state:t,dimensions:a})};function Wv(e){return e.isDragging&&e.movementMode==="SNAP"?ve({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var D_={phase:"IDLE",completed:null,shouldFlush:!1},k9=function(e,t){if(e===void 0&&(e=D_),t.type==="FLUSH")return ve({},D_,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&ee();var r=t.payload,n=r.critical,a=r.clientSelection,i=r.viewport,o=r.dimensions,l=r.movementMode,c=o.draggables[n.draggable.id],d=o.droppables[n.droppable.id],u={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Vt},f={client:u,page:{selection:Zt(u.selection,i.scroll.initial),borderBoxCenter:Zt(u.selection,i.scroll.initial),offset:Zt(u.selection,i.scroll.diff.value)}},h=Tp(o.droppables).every(function(ae){return!ae.isFixedOnPage}),m=ET({draggable:c,home:d,draggables:o.draggables,viewport:i}),p=m.impact,g=m.afterCritical,v={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:f,current:f,isWindowScrollAllowed:h,impact:p,afterCritical:g,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return v}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ee();var x=ve({phase:"COLLECTING"},e,{phase:"COLLECTING"});return x}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||ee(),E9({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ps(e)||ee();var b=t.payload.client;return Hi(b,e.current.client.selection)?e:su({state:e,clientSelection:b,impact:Kx(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Wv(e);Ps(e)||ee();var w=t.payload,j=w.id,S=w.newScroll,N=e.dimensions.droppables[j];if(!N)return e;var _=Nw(N,S);return Uv(e,_,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ps(e)||ee();var E=t.payload,k=E.id,P=E.isEnabled,A=e.dimensions.droppables[k];A||ee(),A.isEnabled===P&&ee();var C=ve({},A,{isEnabled:P});return Uv(e,C,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ps(e)||ee();var O=t.payload,I=O.id,R=O.isCombineEnabled,T=e.dimensions.droppables[I];T||ee(),T.isCombineEnabled===R&&ee();var M=ve({},T,{isCombineEnabled:R});return Uv(e,M,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ps(e)||ee(),e.isWindowScrollAllowed||ee();var D=t.payload.newScroll;if(Hi(e.viewport.scroll.current,D))return Wv(e);var F=gT(e.viewport,D);return Kx(e)?CT({state:e,viewport:F}):su({state:e,viewport:F})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ps(e))return e;var H=t.payload.maxScroll;if(Hi(H,e.viewport.scroll.max))return e;var Z=ve({},e.viewport,{scroll:ve({},e.viewport.scroll,{max:H})});return ve({phase:"DRAGGING"},e,{viewport:Z})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&ee();var W=u9({state:e,type:t.type});return W?su({state:e,impact:W.impact,clientSelection:W.clientSelection,scrollJumpRequest:W.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var se=t.payload.reason;e.phase!=="COLLECTING"&&ee();var he=ve({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:se});return he}if(t.type==="DROP_ANIMATE"){var ge=t.payload,le=ge.completed,J=ge.dropDuration,be=ge.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||ee();var Y={phase:"DROP_ANIMATING",completed:le,dropDuration:J,newHomeClientOffset:be,dimensions:e.dimensions};return Y}if(t.type==="DROP_COMPLETE"){var te=t.payload.completed;return{phase:"IDLE",completed:te,shouldFlush:!1}}return e},P9=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},A9=function(t){return{type:"LIFT",payload:t}},O9=function(t){return{type:"INITIAL_PUBLISH",payload:t}},T9=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},D9=function(){return{type:"COLLECTION_STARTING",payload:null}},I9=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},M9=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},R9=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},kT=function(t){return{type:"MOVE",payload:t}},$9=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},L9=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},F9=function(){return{type:"MOVE_UP",payload:null}},B9=function(){return{type:"MOVE_DOWN",payload:null}},z9=function(){return{type:"MOVE_RIGHT",payload:null}},U9=function(){return{type:"MOVE_LEFT",payload:null}},Tw=function(){return{type:"FLUSH",payload:null}},W9=function(t){return{type:"DROP_ANIMATE",payload:t}},Dw=function(t){return{type:"DROP_COMPLETE",payload:t}},PT=function(t){return{type:"DROP",payload:t}},V9=function(t){return{type:"DROP_PENDING",payload:t}},AT=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},H9=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var o=i.payload,l=o.id,c=o.clientSelection,d=o.movementMode,u=r();u.phase==="DROP_ANIMATING"&&n(Dw({completed:u.completed})),r().phase!=="IDLE"&&ee(),n(Tw()),n(P9({draggableId:l,movementMode:d}));var f={shouldPublishImmediately:d==="SNAP"},h={draggableId:l,scrollOptions:f},m=e.startPublishing(h),p=m.critical,g=m.dimensions,v=m.viewport;n(O9({critical:p,dimensions:g,clientSelection:c,movementMode:d,viewport:v}))}}}},q9=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Iw={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ru={opacity:{drop:0,combining:.7},scale:{drop:.75}},Mw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},_s=Mw.outOfTheWay+"s "+Iw.outOfTheWay,ou={fluid:"opacity "+_s,snap:"transform "+_s+", opacity "+_s,drop:function(t){var r=t+"s "+Iw.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+_s,placeholder:"height "+_s+", width "+_s+", margin "+_s},I_=function(t){return Hi(t,Vt)?null:"translate("+t.x+"px, "+t.y+"px)"},Gx={moveTo:I_,drop:function(t,r){var n=I_(t);return n?r?n+" scale("+Ru.scale.drop+")":n:null}},Yx=Mw.minDropTime,OT=Mw.maxDropTime,K9=OT-Yx,M_=1500,G9=.6,Y9=function(e){var t=e.current,r=e.destination,n=e.reason,a=Du(t,r);if(a<=0)return Yx;if(a>=M_)return OT;var i=a/M_,o=Yx+K9*i,l=n==="CANCEL"?o*G9:o;return Number(l.toFixed(2))},X9=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,o=n.draggables,l=n.droppables,c=Jr(t),d=c?l[c]:null,u=l[r.descriptor.droppableId],f=_T({impact:t,draggable:r,draggables:o,afterCritical:i,droppable:d||u,viewport:a}),h=Kr(f,r.client.borderBox.center);return h},J9=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=NT({draggables:t,impact:o,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=ve({},n,{displaced:Iu});return{impact:c,didDropInsideDroppable:!0}},Q9=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=t(),o=a.payload.reason;if(i.phase==="COLLECTING"){r(V9({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&ee(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ee();var c=i.critical,d=i.dimensions,u=d.draggables[i.critical.draggable.id],f=J9({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),h=f.impact,m=f.didDropInsideDroppable,p=m?Cw(h):null,g=m?Dp(h):null,v={index:c.draggable.index,droppableId:c.droppable.id},x={draggableId:u.descriptor.id,type:u.descriptor.type,source:v,reason:o,mode:i.movementMode,destination:p,combine:g},b=X9({impact:h,draggable:u,dimensions:d,viewport:i.viewport,afterCritical:i.afterCritical}),w={critical:i.critical,afterCritical:i.afterCritical,result:x,impact:h},j=!Hi(i.current.client.offset,b)||!!x.combine;if(!j){r(Dw({completed:w}));return}var S=Y9({current:i.current.client.offset,destination:b,reason:o}),N={newHomeClientOffset:b,dropDuration:S,completed:w};r(W9(N))}}}},TT=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Z9(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function eV(e){var t=e.onWindowScroll;function r(){t(TT())}var n=Tu(r),a=Z9(n),i=Vi;function o(){return i!==Vi}function l(){o()&&ee(),i=jn(window,[a])}function c(){o()||ee(),n.cancel(),i(),i=Vi}return{start:l,stop:c,isActive:o}}var tV=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},rV=function(e){var t=eV({onWindowScroll:function(n){e.dispatch($9({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&tV(n)&&t.stop(),r(n)}}},nV=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return a.wasCalled=function(){return t},a},aV=function(){var e=[],t=function(i){var o=_w(e,function(d){return d.timerId===i});o===-1&&ee();var l=e.splice(o,1),c=l[0];c.callback()},r=function(i){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:i};e.push(l)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},iV=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},sV=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},oV=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},Cc=function(t,r){r()},pf=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Vv=function(t,r,n,a){if(!t){n(a(r));return}var i=nV(n),o={announce:i};t(r,o),i.wasCalled()||n(a(r))},lV=function(e,t){var r=aV(),n=null,a=function(h,m){n&&ee(),Cc("onBeforeCapture",function(){var p=e().onBeforeCapture;if(p){var g={draggableId:h,mode:m};p(g)}})},i=function(h,m){n&&ee(),Cc("onBeforeDragStart",function(){var p=e().onBeforeDragStart;p&&p(pf(h,m))})},o=function(h,m){n&&ee();var p=pf(h,m);n={mode:m,lastCritical:h,lastLocation:p.source,lastCombine:null},r.add(function(){Cc("onDragStart",function(){return Vv(e().onDragStart,p,t,th.onDragStart)})})},l=function(h,m){var p=Cw(m),g=Dp(m);n||ee();var v=!oV(h,n.lastCritical);v&&(n.lastCritical=h);var x=!iV(n.lastLocation,p);x&&(n.lastLocation=p);var b=!sV(n.lastCombine,g);if(b&&(n.lastCombine=g),!(!v&&!x&&!b)){var w=ve({},pf(h,n.mode),{combine:g,destination:p});r.add(function(){Cc("onDragUpdate",function(){return Vv(e().onDragUpdate,w,t,th.onDragUpdate)})})}},c=function(){n||ee(),r.flush()},d=function(h){n||ee(),n=null,Cc("onDragEnd",function(){return Vv(e().onDragEnd,h,t,th.onDragEnd)})},u=function(){if(n){var h=ve({},pf(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(h)}};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:u}},cV=function(e,t){var r=lV(e,t);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;r.beforeStart(o,i.payload.movementMode),a(i),r.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},uV=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&ee(),e.dispatch(Dw({completed:n.completed}))}}},dV=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(AT())}};r=requestAnimationFrame(function(){r=null,t=jn(window,[o])})}}}},fV=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},hV=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},mV=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},pV=function(e){return function(t){return function(r){return function(n){if(mV(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&ee(),e.start(a);return}r(n),e.scroll(t.getState())}}}},gV=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(PT({reason:n.reason})))}}}},vV=$O,yV=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,o=e.autoScroller;return RO(k9,vV(iW(q9(n),fV(t),H9(t),Q9,uV,dV,gV,pV(o),rV,hV(r),cV(a,i))))},Hv=function(){return{additions:{},removals:{},modified:{}}};function xV(e){var t=e.registry,r=e.callbacks,n=Hv(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var u=n,f=u.additions,h=u.removals,m=u.modified,p=Object.keys(f).map(function(x){return t.draggable.getById(x).getDimension(Vt)}).sort(function(x,b){return x.descriptor.index-b.descriptor.index}),g=Object.keys(m).map(function(x){var b=t.droppable.getById(x),w=b.callbacks.getScrollWhileDragging();return{droppableId:x,scroll:w}}),v={additions:p,removals:Object.keys(h),modified:g};n=Hv(),r.publish(v)}))},o=function(u){var f=u.descriptor.id;n.additions[f]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},l=function(u){var f=u.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,n=Hv())};return{add:o,remove:l,stop:c}}var DT=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,i=Kr({x:r,y:t},{x:a,y:n}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},IT=function(){var e=document.documentElement;return e||ee(),e},MT=function(){var e=IT(),t=DT({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},bV=function(){var e=TT(),t=MT(),r=e.y,n=e.x,a=IT(),i=a.clientWidth,o=a.clientHeight,l=n+i,c=r+o,d=Gn({top:r,left:n,right:l,bottom:c}),u={frame:d,scroll:{initial:e,current:e,max:t,diff:{value:Vt,displacement:Vt}}};return u},wV=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=bV(),i=a.scroll.current,o=t.droppable,l=n.droppable.getAllByType(o.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(i)}),d={draggables:uT(c),droppables:cT(l)},u={dimensions:d,critical:t,viewport:a};return u};function R_(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var jV=function(e,t){var r=null,n=xV({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(m,p){e.droppable.exists(m)||ee(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:p})},i=function(m,p){r&&(e.droppable.exists(m)||ee(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:p}))},o=function(m,p){r&&(e.droppable.exists(m)||ee(),t.updateDroppableScroll({id:m,newScroll:p}))},l=function(m,p){r&&e.droppable.getById(m).callbacks.scroll(p)},c=function(){if(r){n.stop();var m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(function(p){return p.callbacks.dragStopped()}),r.unsubscribe(),r=null}},d=function(m){r||ee();var p=r.critical.draggable;m.type==="ADDITION"&&R_(e,p,m.value)&&n.add(m.value),m.type==="REMOVAL"&&R_(e,p,m.value)&&n.remove(m.value)},u=function(m){r&&ee();var p=e.draggable.getById(m.draggableId),g=e.droppable.getById(p.descriptor.droppableId),v={draggable:p.descriptor,droppable:g.descriptor},x=e.subscribe(d);return r={critical:v,unsubscribe:x},wV({critical:v,registry:e,scrollOptions:m.scrollOptions})},f={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:u,stopPublishing:c};return f},RT=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},SV=function(e){window.scrollBy(e.x,e.y)},NV=Wt(function(e){return Tp(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),_V=function(t,r){var n=us(NV(r),function(a){return a.frame||ee(),bT(a.frame.pageMarginBox)(t)});return n},CV=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var i=_V(t,n);return i},qi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},EV=function(e,t){var r=e[t.size]*qi.startFromPercentage,n=e[t.size]*qi.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},$T=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var i=n-t,o=i/a;return o},Rw=1,kV=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return qi.maxPixelScroll;if(e===t.startScrollingFrom)return Rw;var r=$T({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=qi.maxPixelScroll*qi.ease(n);return Math.ceil(a)},$_=qi.durationDampening.accelerateAt,L_=qi.durationDampening.stopDampeningAt,PV=function(e,t){var r=t,n=L_,a=Date.now(),i=a-r;if(i>=L_)return e;if(i<$_)return Rw;var o=$T({startOfRange:$_,endOfRange:n,current:i}),l=e*qi.ease(o);return Math.ceil(l)},F_=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=kV(t,r);return i===0?0:a?Math.max(PV(i,n),Rw):i},B_=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=EV(t,a),l=r[a.end]<r[a.start];return l?F_({distanceToEdge:r[a.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i}):-1*F_({distanceToEdge:r[a.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i})},AV=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},OV=oT(function(e){return e===0?0:e}),LT=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},l=B_({container:r,distanceToEdges:o,dragStartTime:t,axis:Ew,shouldUseTimeDampening:i}),c=B_({container:r,distanceToEdges:o,dragStartTime:t,axis:hT,shouldUseTimeDampening:i}),d=OV({x:c,y:l});if(Hi(d,Vt))return null;var u=AV({container:r,subject:n,proposedScroll:d});return u?Hi(u,Vt)?null:u:null},TV=oT(function(e){return e===0?0:e>0?1:-1}),$w=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,i=Zt(r,a),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Hi(o,Vt)?null:o}}(),FT=function(t){var r=t.max,n=t.current,a=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=TV(a),l=$w({max:i,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},Lw=function(t,r){return FT({current:t.scroll.current,max:t.scroll.max,change:r})},DV=function(t,r){if(!Lw(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return $w({current:a,max:n,change:r})},Fw=function(t,r){var n=t.frame;return n?FT({current:n.scroll.current,max:n.scroll.max,change:r}):!1},IV=function(t,r){var n=t.frame;return!n||!Fw(t,r)?null:$w({current:n.scroll.current,max:n.scroll.max,change:r})},MV=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=LT({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return o&&Lw(t,o)?o:null},RV=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=LT({dragStartTime:a,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&Fw(t,l)?l:null},z_=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var d=t.viewport,u=MV({dragStartTime:r,viewport:d,subject:c,center:o,shouldUseTimeDampening:n});if(u){a(u);return}}var f=CV({center:o,destination:Jr(t.impact),droppables:t.dimensions.droppables});if(f){var h=RV({dragStartTime:r,droppable:f,subject:c,center:o,shouldUseTimeDampening:n});h&&i(f.descriptor.id,h)}},$V=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Tu(t),a=Tu(r),i=null,o=function(u){i||ee();var f=i,h=f.shouldUseTimeDampening,m=f.dragStartTime;z_({state:u,scrollWindow:n,scrollDroppable:a,dragStartTime:m,shouldUseTimeDampening:h})},l=function(u){i&&ee();var f=Date.now(),h=!1,m=function(){h=!0};z_({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),i={dragStartTime:f,shouldUseTimeDampening:h},h&&o(u)},c=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:l,stop:c,scroll:o}},LV=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(d,u){var f=Zt(d.current.client.selection,u);t({client:f})},i=function(d,u){if(!Fw(d,u))return u;var f=IV(d,u);if(!f)return r(d.descriptor.id,u),null;var h=Kr(u,f);r(d.descriptor.id,h);var m=Kr(u,h);return m},o=function(d,u,f){if(!d||!Lw(u,f))return f;var h=DV(u,f);if(!h)return n(f),null;var m=Kr(f,h);n(m);var p=Kr(f,m);return p},l=function(d){var u=d.scrollJumpRequest;if(u){var f=Jr(d.impact);f||ee();var h=i(d.dimensions.droppables[f],u);if(h){var m=d.viewport,p=o(d.isWindowScrollAllowed,m,h);p&&a(d,p)}}};return l},FV=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=$V({scrollWindow:r,scrollDroppable:t}),i=LV({move:n,scrollWindow:r,scrollDroppable:t}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},l={scroll:o,start:a.start,stop:a.stop};return l},kl="data-rbd",Pl=function(){var e=kl+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Xx=function(){var e=kl+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),BV=function(){var e=kl+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),U_={contextId:kl+"-scroll-container-context-id"},zV=function(t){return function(r){return"["+r+'="'+t+'"]'}},Ec=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},UV="pointer-events: none;",WV=function(e){var t=zV(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Pl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:UV,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+ou.outOfTheWay+`;
    `;return{selector:t(Xx.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:t(BV.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,a,i];return{always:Ec(o,"always"),resting:Ec(o,"resting"),dragging:Ec(o,"dragging"),dropAnimating:Ec(o,"dropAnimating"),userCancel:Ec(o,"userCancel")}},Qr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?y.useLayoutEffect:y.useEffect,qv=function(){var t=document.querySelector("head");return t||ee(),t},W_=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function VV(e,t){var r=De(function(){return WV(e)},[e]),n=y.useRef(null),a=y.useRef(null),i=pe(Wt(function(f){var h=a.current;h||ee(),h.textContent=f}),[]),o=pe(function(f){var h=n.current;h||ee(),h.textContent=f},[]);Qr(function(){!n.current&&!a.current||ee();var f=W_(t),h=W_(t);return n.current=f,a.current=h,f.setAttribute(kl+"-always",e),h.setAttribute(kl+"-dynamic",e),qv().appendChild(f),qv().appendChild(h),o(r.always),i(r.resting),function(){var m=function(g){var v=g.current;v||ee(),qv().removeChild(v),g.current=null};m(n),m(a)}},[t,o,i,r.always,r.resting,e]);var l=pe(function(){return i(r.dragging)},[i,r.dragging]),c=pe(function(f){if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=pe(function(){a.current&&i(r.resting)},[i,r.resting]),u=De(function(){return{dragging:l,dropping:c,resting:d}},[l,c,d]);return u}var BT=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Rp(e){return e instanceof BT(e).HTMLElement}function HV(e,t){var r="["+Pl.contextId+'="'+e+'"]',n=lT(document.querySelectorAll(r));if(!n.length)return null;var a=us(n,function(i){return i.getAttribute(Pl.draggableId)===t});return!a||!Rp(a)?null:a}function qV(e){var t=y.useRef({}),r=y.useRef(null),n=y.useRef(null),a=y.useRef(!1),i=pe(function(h,m){var p={id:h,focus:m};return t.current[h]=p,function(){var v=t.current,x=v[h];x!==p&&delete v[h]}},[]),o=pe(function(h){var m=HV(e,h);m&&m!==document.activeElement&&m.focus()},[e]),l=pe(function(h,m){r.current===h&&(r.current=m)},[]),c=pe(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&o(h)}))},[o]),d=pe(function(h){r.current=null;var m=document.activeElement;m&&m.getAttribute(Pl.draggableId)===h&&(r.current=h)},[]);Qr(function(){return a.current=!0,function(){a.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var u=De(function(){return{register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,d,c,l]);return u}function KV(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function n(f){t.length&&t.forEach(function(h){return h(f)})}function a(f){return e.draggables[f]||null}function i(f){var h=a(f);return h||ee(),h}var o={register:function(h){e.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,m){var p=e.draggables[m.descriptor.id];p&&p.uniqueId===h.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var m=h.descriptor.id,p=a(m);p&&h.uniqueId===p.uniqueId&&(delete e.draggables[m],n({type:"REMOVAL",value:h}))},getById:i,findById:a,exists:function(h){return!!a(h)},getAllByType:function(h){return Hh(e.draggables).filter(function(m){return m.descriptor.type===h})}};function l(f){return e.droppables[f]||null}function c(f){var h=l(f);return h||ee(),h}var d={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var m=l(h.descriptor.id);m&&h.uniqueId===m.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:function(h){return!!l(h)},getAllByType:function(h){return Hh(e.droppables).filter(function(m){return m.descriptor.type===h})}};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function GV(){var e=De(KV,[]);return y.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Bw=Te.createContext(null),Kh=function(){var e=document.body;return e||ee(),e},YV={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},XV=function(t){return"rbd-announcement-"+t};function JV(e){var t=De(function(){return XV(e)},[e]),r=y.useRef(null);y.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),ve(i.style,YV),Kh().appendChild(i),function(){setTimeout(function(){var c=Kh();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=pe(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return n}var QV=0,ZV={separator:"::"};function zw(e,t){return t===void 0&&(t=ZV),De(function(){return""+e+t.separator+QV++},[t.separator,e])}function eH(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function tH(e){var t=e.contextId,r=e.text,n=zw("hidden-text",{separator:"-"}),a=De(function(){return eH({contextId:t,uniqueId:n})},[n,t]);return y.useEffect(function(){var o=document.createElement("div");return o.id=a,o.textContent=r,o.style.display="none",Kh().appendChild(o),function(){var c=Kh();c.contains(o)&&c.removeChild(o)}},[a,r]),a}var $p=Te.createContext(null);function zT(e){var t=y.useRef(e);return y.useEffect(function(){t.current=e}),t}function rH(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&ee();var l={abandon:o};return e=l,l}function a(){e||ee(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:i}}var nH=9,aH=13,Uw=27,UT=32,iH=33,sH=34,oH=35,lH=36,cH=37,uH=38,dH=39,fH=40,gf,hH=(gf={},gf[aH]=!0,gf[nH]=!0,gf),WT=function(e){hH[e.keyCode]&&e.preventDefault()},Lp=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=us(t,function(n){return"on"+n in document});return r||e}(),VT=0,V_=5;function mH(e,t){return Math.abs(t.x-e.x)>=V_||Math.abs(t.y-e.y)>=V_}var H_={type:"IDLE"};function pH(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,d=o.clientY;if(l===VT){var u={x:c,y:d},f=n();if(f.type==="DRAGGING"){o.preventDefault(),f.actions.move(u);return}f.type!=="PENDING"&&ee();var h=f.point;if(mH(h,u)){o.preventDefault();var m=f.actions.fluidLift(u);a({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){t();return}if(o.keyCode===Uw){o.preventDefault(),t();return}WT(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&ee(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:Lp,fn:t}]}function gH(e){var t=y.useRef(H_),r=y.useRef(Vi),n=De(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===VT&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var m=e.tryGetLock(h,o,{sourceEvent:f});if(m){f.preventDefault();var p={x:f.clientX,y:f.clientY};r.current(),d(m,p)}}}}}},[e]),a=De(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var m=e.findOptionsForDraggable(h);m&&(m.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),i=pe(function(){var f={passive:!1,capture:!0};r.current=jn(window,[a,n],f)},[a,n]),o=pe(function(){var u=t.current;u.type!=="IDLE"&&(t.current=H_,r.current(),i())},[i]),l=pe(function(){var u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=pe(function(){var f={capture:!0,passive:!1},h=pH({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(p){t.current=p}});r.current=jn(window,h,f)},[l,o]),d=pe(function(f,h){t.current.type!=="IDLE"&&ee(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);Qr(function(){return i(),function(){r.current()}},[i])}var Po;function vH(){}var yH=(Po={},Po[sH]=!0,Po[iH]=!0,Po[lH]=!0,Po[oH]=!0,Po);function xH(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===Uw){i.preventDefault(),r();return}if(i.keyCode===UT){i.preventDefault(),n();return}if(i.keyCode===fH){i.preventDefault(),e.moveDown();return}if(i.keyCode===uH){i.preventDefault(),e.moveUp();return}if(i.keyCode===dH){i.preventDefault(),e.moveRight();return}if(i.keyCode===cH){i.preventDefault(),e.moveLeft();return}if(yH[i.keyCode]){i.preventDefault();return}WT(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Lp,fn:r}]}function bH(e){var t=y.useRef(vH),r=De(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==UT)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,d=l.snapLift();t.current();function u(){c||ee(),c=!1,t.current(),n()}t.current=jn(window,xH(d,u),{capture:!0,passive:!1})}}},[e]),n=pe(function(){var i={passive:!1,capture:!0};t.current=jn(window,[r],i)},[r]);Qr(function(){return n(),function(){t.current()}},[n])}var Kv={type:"IDLE"},wH=120,jH=.15;function SH(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===Uw&&a.preventDefault(),t()}},{eventName:Lp,fn:t}]}function NH(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,d=l.clientY,u={x:c,y:d};i.preventDefault(),o.actions.move(u)}},{eventName:"touchend",fn:function(i){var o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=n();o.type==="IDLE"&&ee();var l=i.touches[0];if(l){var c=l.force>=jH;if(c){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&t();return}if(d){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Lp,fn:t}]}function _H(e){var t=y.useRef(Kv),r=y.useRef(Vi),n=pe(function(){return t.current},[]),a=pe(function(m){t.current=m},[]),i=De(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var p=e.findClosestDraggableId(m);if(p){var g=e.tryGetLock(p,l,{sourceEvent:m});if(g){var v=m.touches[0],x=v.clientX,b=v.clientY,w={x,y:b};r.current(),f(g,w)}}}}}},[e]),o=pe(function(){var m={capture:!0,passive:!1};r.current=jn(window,[i],m)},[i]),l=pe(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),a(Kv),r.current(),o())},[o,a]),c=pe(function(){var h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),d=pe(function(){var m={capture:!0,passive:!1},p={cancel:c,completed:l,getPhase:n},g=jn(window,NH(p),m),v=jn(window,SH(p),m);r.current=function(){g(),v()}},[c,n,l]),u=pe(function(){var m=n();m.type!=="PENDING"&&ee();var p=m.actions.fluidLift(m.point);a({type:"DRAGGING",actions:p,hasMoved:!1})},[n,a]),f=pe(function(m,p){n().type!=="IDLE"&&ee();var g=setTimeout(u,wH);a({type:"PENDING",point:p,actions:m,longPressTimerId:g}),d()},[d,n,a,u]);Qr(function(){return o(),function(){r.current();var p=n();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),a(Kv))}},[n,o,a]),Qr(function(){var m=jn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var CH={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function HT(e,t){if(t==null)return!1;var r=!!CH[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:HT(e,t.parentElement)}function EH(e,t){var r=t.target;return Rp(r)?HT(e,r):!1}var kH=function(e){return Gn(e.getBoundingClientRect()).center};function PH(e){return e instanceof BT(e).Element}var AH=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=us(t,function(n){return n in Element.prototype});return r||e}();function qT(e,t){return e==null?null:e[AH](t)?e:qT(e.parentElement,t)}function OH(e,t){return e.closest?e.closest(t):qT(e,t)}function TH(e){return"["+Pl.contextId+'="'+e+'"]'}function DH(e,t){var r=t.target;if(!PH(r))return null;var n=TH(e),a=OH(r,n);return!a||!Rp(a)?null:a}function IH(e,t){var r=DH(e,t);return r?r.getAttribute(Pl.draggableId):null}function MH(e,t){var r="["+Xx.contextId+'="'+e+'"]',n=lT(document.querySelectorAll(r)),a=us(n,function(i){return i.getAttribute(Xx.id)===t});return!a||!Rp(a)?null:a}function RH(e){e.preventDefault()}function vf(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function KT(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!RT(r.getState(),a))}function $H(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=KT({lockAPI:t,store:n,registry:a,draggableId:i});if(!c)return null;var d=a.draggable.getById(i),u=MH(r,d.descriptor.id);if(!u||l&&!d.options.canDragInteractiveElements&&EH(u,l))return null;var f=t.claim(o||Vi),h="PRE_DRAG";function m(){return d.options.shouldRespectForcePress}function p(){return t.isActive(f)}function g(N,_){vf({expected:N,phase:h,isLockActive:p,shouldWarn:!0})&&n.dispatch(_())}var v=g.bind(null,"DRAGGING");function x(N){function _(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(_(),h!=="PRE_DRAG"&&ee()),n.dispatch(A9(N.liftActionArgs)),h="DRAGGING";function E(k,P){if(P===void 0&&(P={shouldBlockNextClick:!1}),N.cleanup(),P.shouldBlockNextClick){var A=jn(window,[{eventName:"click",fn:RH,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}_(),n.dispatch(PT({reason:k}))}return ve({isActive:function(){return vf({expected:"DRAGGING",phase:h,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(P){return E("DROP",P)},cancel:function(P){return E("CANCEL",P)}},N.actions)}function b(N){var _=Tu(function(k){v(function(){return kT({client:k})})}),E=x({liftActionArgs:{id:i,clientSelection:N,movementMode:"FLUID"},cleanup:function(){return _.cancel()},actions:{move:_}});return ve({},E,{move:_})}function w(){var N={moveUp:function(){return v(F9)},moveRight:function(){return v(z9)},moveDown:function(){return v(B9)},moveLeft:function(){return v(U9)}};return x({liftActionArgs:{id:i,clientSelection:kH(u),movementMode:"SNAP"},cleanup:Vi,actions:N})}function j(){var N=vf({expected:"PRE_DRAG",phase:h,isLockActive:p,shouldWarn:!0});N&&t.release()}var S={isActive:function(){return vf({expected:"PRE_DRAG",phase:h,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:b,snapLift:w,abort:j};return S}var LH=[gH,bH,_H];function FH(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?LH:[],a||[]),l=y.useState(function(){return rH()})[0],c=pe(function(b,w){b.isDragging&&!w.isDragging&&l.tryAbandon()},[l]);Qr(function(){var b=r.getState(),w=r.subscribe(function(){var j=r.getState();c(b,j),b=j});return w},[l,r,c]),Qr(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=pe(function(x){return KT({lockAPI:l,registry:n,store:r,draggableId:x})},[l,n,r]),u=pe(function(x,b,w){return $H({lockAPI:l,registry:n,contextId:t,store:r,draggableId:x,forceSensorStop:b,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[t,l,n,r]),f=pe(function(x){return IH(t,x)},[t]),h=pe(function(x){var b=n.draggable.findById(x);return b?b.options:null},[n.draggable]),m=pe(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Tw()))},[l,r]),p=pe(l.isClaimed,[l]),g=De(function(){return{canGetLock:d,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:p}},[d,u,f,h,m,p]),v=0;v<o.length;v++)o[v](g)}var BH=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function kc(e){return e.current||ee(),e.current}function zH(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,o=y.useRef(null),l=zT(e),c=pe(function(){return BH(l.current)},[l]),d=JV(t),u=tH({contextId:t,text:i}),f=VV(t,a),h=pe(function(k){kc(o).dispatch(k)},[]),m=De(function(){return m_({publishWhileDragging:T9,updateDroppableScroll:I9,updateDroppableIsEnabled:M9,updateDroppableIsCombineEnabled:R9,collectionStarting:D9},h)},[h]),p=GV(),g=De(function(){return jV(p,m)},[p,m]),v=De(function(){return FV(ve({scrollWindow:SV,scrollDroppable:g.scrollDroppable},m_({move:kT},h)))},[g.scrollDroppable,h]),x=qV(t),b=De(function(){return yV({announce:d,autoScroller:v,dimensionMarshal:g,focusMarshal:x,getResponders:c,styleMarshal:f})},[d,v,g,x,c,f]);o.current=b;var w=pe(function(){var k=kc(o),P=k.getState();P.phase!=="IDLE"&&k.dispatch(Tw())},[]),j=pe(function(){var k=kc(o).getState();return k.isDragging||k.phase==="DROP_ANIMATING"},[]),S=De(function(){return{isDragging:j,tryAbort:w}},[j,w]);r(S);var N=pe(function(k){return RT(kc(o).getState(),k)},[]),_=pe(function(){return Ps(kc(o).getState())},[]),E=De(function(){return{marshal:g,focus:x,contextId:t,canLift:N,isMovementAllowed:_,dragHandleUsageInstructionsId:u,registry:p}},[t,g,u,x,N,_,p]);return FH({contextId:t,store:b,registry:p,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),y.useEffect(function(){return w},[w]),Te.createElement($p.Provider,{value:E},Te.createElement(uW,{context:Bw,store:b},e.children))}var UH=0;function WH(){return De(function(){return""+UH++},[])}function VH(e){var t=WH(),r=e.dragHandleUsageInstructions||th.dragHandleUsageInstructions;return Te.createElement(b7,null,function(n){return Te.createElement(zH,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var GT=function(t){return function(r){return t===r}},HH=GT("scroll"),qH=GT("auto"),q_=function(t,r){return r(t.overflowX)||r(t.overflowY)},KH=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return q_(n,HH)||q_(n,qH)},GH=function(){return!1},YH=function e(t){return t==null?null:t===document.body?GH()?t:null:t===document.documentElement?null:KH(t)?t:e(t.parentElement)},Jx=function(e){return{x:e.scrollLeft,y:e.scrollTop}},XH=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},JH=function(e){var t=YH(e),r=XH(e);return{closestScrollable:t,isFixedOnPage:r}},QH=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,d=function(){if(!c)return null;var m=c.scrollSize,p=c.client,g=DT({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:p,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:g,diff:{value:Vt,displacement:Vt}}}}(),u=i==="vertical"?Ew:hT,f=El({page:l,withPlaceholder:null,axis:u,frame:d}),h={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:u,isEnabled:r,client:o,page:l,frame:d,subject:f};return h},ZH=function(t,r){var n=nT(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,o=a+r.scrollHeight,l=i+r.scrollWidth,c={top:a,right:l,bottom:o,left:i},d=jw(c,n.border),u=Sw({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return u},eq=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,d=n.closestScrollable,u=ZH(t,d),f=Uh(u,a),h=function(){if(!d)return null;var p=nT(d),g={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:p,page:Uh(p,a),scroll:Jx(d),scrollSize:g,shouldClipSubject:c}}(),m=QH({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:f,closest:h});return m},tq={passive:!1},rq={passive:!0},K_=function(e){return e.shouldPublishImmediately?tq:rq};function Gh(e){var t=y.useContext(e);return t||ee(),t}var yf=function(t){return t&&t.env.closestScrollable||null};function nq(e){var t=y.useRef(null),r=Gh($p),n=zw("droppable"),a=r.registry,i=r.marshal,o=zT(e),l=De(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=y.useRef(l),d=De(function(){return Wt(function(j,S){t.current||ee();var N={x:j,y:S};i.updateDroppableScroll(l.id,N)})},[l.id,i]),u=pe(function(){var j=t.current;return!j||!j.env.closestScrollable?Vt:Jx(j.env.closestScrollable)},[]),f=pe(function(){var j=u();d(j.x,j.y)},[u,d]),h=De(function(){return Tu(f)},[f]),m=pe(function(){var j=t.current,S=yf(j);j&&S||ee();var N=j.scrollOptions;if(N.shouldPublishImmediately){f();return}h()},[h,f]),p=pe(function(j,S){t.current&&ee();var N=o.current,_=N.getDroppableRef();_||ee();var E=JH(_),k={ref:_,descriptor:l,env:E,scrollOptions:S};t.current=k;var P=eq({ref:_,descriptor:l,env:E,windowScroll:j,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),A=E.closestScrollable;return A&&(A.setAttribute(U_.contextId,r.contextId),A.addEventListener("scroll",m,K_(k.scrollOptions))),P},[r.contextId,l,m,o]),g=pe(function(){var j=t.current,S=yf(j);return j&&S||ee(),Jx(S)},[]),v=pe(function(){var j=t.current;j||ee();var S=yf(j);t.current=null,S&&(h.cancel(),S.removeAttribute(U_.contextId),S.removeEventListener("scroll",m,K_(j.scrollOptions)))},[m,h]),x=pe(function(j){var S=t.current;S||ee();var N=yf(S);N||ee(),N.scrollTop+=j.y,N.scrollLeft+=j.x},[]),b=De(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:g,dragStopped:v,scroll:x}},[v,p,g,x]),w=De(function(){return{uniqueId:n,descriptor:l,callbacks:b}},[b,l,n]);Qr(function(){return c.current=w.descriptor,a.droppable.register(w),function(){t.current&&v(),a.droppable.unregister(w)}},[b,l,v,w,i,a.droppable]),Qr(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Qr(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Gv(){}var G_={width:0,height:0,margin:C7},aq=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?G_:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},iq=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,i=aq({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?ou.placeholder:null}};function sq(e){var t=y.useRef(null),r=pe(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=y.useState(e.animate==="open"),c=l[0],d=l[1];y.useEffect(function(){return c?n!=="open"?(r(),d(!1),Gv):t.current?Gv:(t.current=setTimeout(function(){t.current=null,d(!1)}),r):Gv},[n,c,r]);var u=pe(function(h){h.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),f=iq({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Te.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:u,ref:e.innerRef})}var oq=Te.memo(sq),Ww=Te.createContext(null),lq=function(e){MO(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(Te.PureComponent),Y_={dragging:5e3,dropAnimating:4500},cq=function(t,r){return r?ou.drop(r.duration):t?ou.snap:ou.fluid},uq=function(t,r){return t?r?Ru.opacity.drop:Ru.opacity.combining:null},dq=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function fq(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,i=e.dropping,o=!!a,l=dq(e),c=!!i,d=c?Gx.drop(n,o):Gx.moveTo(n),u={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:cq(l,i),transform:d,opacity:uq(o,c),zIndex:c?Y_.dropAnimating:Y_.dragging,pointerEvents:"none"};return u}function hq(e){return{transform:Gx.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function mq(e){return e.type==="DRAGGING"?fq(e):hq(e)}function pq(e,t,r){r===void 0&&(r=Vt);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=rT(a,n),o=Uh(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},d={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return d}function gq(e){var t=zw("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=De(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),d=pe(function(m){var p=a();return p||ee(),pq(r,p,m)},[r,a]),u=De(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:d}},[r,d,c,t]),f=y.useRef(u),h=y.useRef(!0);Qr(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),Qr(function(){if(h.current){h.current=!1;return}var m=f.current;f.current=u,n.draggable.update(u,m)},[u,n.draggable])}function vq(e){e.preventDefault()}function yq(e){var t=y.useRef(null),r=pe(function(k){t.current=k},[]),n=pe(function(){return t.current},[]),a=Gh($p),i=a.contextId,o=a.dragHandleUsageInstructionsId,l=a.registry,c=Gh(Ww),d=c.type,u=c.droppableId,f=De(function(){return{id:e.draggableId,index:e.index,type:d,droppableId:u}},[e.draggableId,e.index,d,u]),h=e.children,m=e.draggableId,p=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,x=e.isClone,b=e.mapped,w=e.dropAnimationFinished;if(!x){var j=De(function(){return{descriptor:f,registry:l,getDraggableRef:n,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:p}},[f,l,n,v,g,p]);gq(j)}var S=De(function(){return p?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:vq}:null},[i,o,m,p]),N=pe(function(k){b.type==="DRAGGING"&&b.dropping&&k.propertyName==="transform"&&w()},[w,b]),_=De(function(){var k=mq(b),P=b.type==="DRAGGING"&&b.dropping?N:null,A={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":m,style:k,onTransitionEnd:P},dragHandleProps:S};return A},[i,S,m,b,N,r]),E=De(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(_,b.snapshot,E)}var YT=function(e,t){return e===t},XT=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},xq=function(t){return t.combine?t.combine.draggableId:null},bq=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function wq(){var e=Wt(function(a,i){return{x:a,y:i}}),t=Wt(function(a,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=Wt(function(a,i,o,l,c,d,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(i,l,c,d,null)}}}),n=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],d=Jr(i.impact),u=bq(i.impact),f=i.forceShouldAnimate;return r(e(l.x,l.y),i.movementMode,c,o.isClone,d,u,f)}if(i.phase==="DROP_ANIMATING"){var h=i.completed;if(h.result.draggableId!==o.draggableId)return null;var m=o.isClone,p=i.dimensions.draggables[o.draggableId],g=h.result,v=g.mode,x=XT(g),b=xq(g),w=i.dropDuration,j={duration:w,curve:Iw.drop,moveTo:i.newHomeClientOffset,opacity:b?Ru.opacity.drop:null,scale:b?Ru.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:p,dropping:j,draggingOver:x,combineWith:b,mode:v,forceShouldAnimate:null,snapshot:t(v,m,x,b,j)}}}return null};return n}function JT(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var jq={mapped:{type:"SECONDARY",offset:Vt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:JT(null)}};function Sq(){var e=Wt(function(o,l){return{x:o,y:l}}),t=Wt(JT),r=Wt(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(Vt,l,!0):null},a=function(l,c,d,u){var f=d.displaced.visible[l],h=!!(u.inVirtualList&&u.effected[l]),m=Dp(d),p=m&&m.draggableId===l?c:null;if(!f){if(!h)return n(p);if(d.displaced.invisible[l])return null;var g=Jl(u.displacedBy.point),v=e(g.x,g.y);return r(v,p,!0)}if(h)return n(p);var x=d.displacedBy.point,b=e(x.x,x.y);return r(b,p,f.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return i}var Nq=function(){var t=wq(),r=Sq(),n=function(i,o){return t(i,o)||r(i,o)||jq};return n},_q={dropAnimationFinished:AT},Cq=ZO(Nq,_q,null,{context:Bw,pure:!0,areStatePropsEqual:YT})(yq);function QT(e){var t=Gh(Ww),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Te.createElement(Cq,e)}function Eq(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Te.createElement(QT,ve({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function kq(e){var t=y.useContext($p);t||ee();var r=t.contextId,n=t.isMovementAllowed,a=y.useRef(null),i=y.useRef(null),o=e.children,l=e.droppableId,c=e.type,d=e.mode,u=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,p=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,x=e.getContainerForClone,b=pe(function(){return a.current},[]),w=pe(function(A){a.current=A},[]);pe(function(){return i.current},[]);var j=pe(function(A){i.current=A},[]),S=pe(function(){n()&&v({maxScroll:MT()})},[n,v]);nq({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:b});var N=Te.createElement(lq,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(A){var C=A.onClose,O=A.data,I=A.animate;return Te.createElement(oq,{placeholder:O,onClose:C,innerRef:j,animate:I,contextId:r,onTransitionEnd:S})}),_=De(function(){return{innerRef:w,placeholder:N,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,N,w]),E=g?g.dragging.draggableId:null,k=De(function(){return{droppableId:l,type:c,isUsingCloneFor:E}},[l,E,c]);function P(){if(!g)return null;var A=g.dragging,C=g.render,O=Te.createElement(QT,{draggableId:A.draggableId,index:A.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(I,R){return C(I,R,A)});return TA.createPortal(O,x())}return Te.createElement(Ww.Provider,{value:k},o(_,p),P())}var Yv=function(t,r){return t===r.droppable.type},X_=function(t,r){return r.draggables[t.draggable.id]},Pq=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=ve({},t,{shouldAnimatePlaceholder:!1}),n=Wt(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),a=Wt(function(o,l,c,d,u,f){var h=u.descriptor.id,m=u.descriptor.droppableId===o;if(m){var p=f?{render:f,dragging:n(u.descriptor)}:null,g={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:p}}if(!l)return r;if(!d)return t;var v={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}}),i=function(l,c){var d=c.droppableId,u=c.type,f=!c.isDropDisabled,h=c.renderClone;if(l.isDragging){var m=l.critical;if(!Yv(u,m))return r;var p=X_(m,l.dimensions),g=Jr(l.impact)===d;return a(d,f,g,g,p,h)}if(l.phase==="DROP_ANIMATING"){var v=l.completed;if(!Yv(u,v.critical))return r;var x=X_(v.critical,l.dimensions);return a(d,f,XT(v.result)===d,Jr(v.impact)===d,x,h)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var b=l.completed;if(!Yv(u,b.critical))return r;var w=Jr(b.impact)===d,j=!!(b.impact.at&&b.impact.at.type==="COMBINE"),S=b.critical.droppable.id===d;return w?j?t:r:S?t:r}return r};return i},Aq={updateViewportMaxScroll:L9};function Oq(){return document.body||ee(),document.body}var Tq={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Oq},ZT=ZO(Pq,Aq,null,{context:Bw,pure:!0,areStatePropsEqual:YT})(kq);ZT.defaultProps=Tq;const z=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));z.displayName="Card";const q=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));q.displayName="CardHeader";const K=y.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));K.displayName="CardTitle";const Ae=y.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));Ae.displayName="CardDescription";const U=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("p-6 pt-0",e),...t}));U.displayName="CardContent";const Dq=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",e),...t}));Dq.displayName="CardFooter";function Iq(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=[{widget_type:"company-motto",title:"Company Motto",position_x:0,position_y:0,width:3,height:1,config:{motto:"Building the future, one project at a time."}},{widget_type:"monthly-expenses",title:"Monthly Expenses",position_x:0,position_y:1,width:1,height:1},{widget_type:"time-logged",title:"Time Logged",position_x:1,position_y:1,width:1,height:1},{widget_type:"quick-stats",title:"Quick Stats",position_x:2,position_y:1,width:1,height:1},{widget_type:"revenue-chart",title:"Revenue Chart",position_x:0,position_y:2,width:2,height:1},{widget_type:"recent-activities",title:"Recent Activities",position_x:2,position_y:2,width:1,height:1},{widget_type:"projects-overview",title:"Projects Overview",position_x:0,position_y:3,width:2,height:1},{widget_type:"cash-flow",title:"Cash Flow",position_x:2,position_y:3,width:1,height:1},{widget_type:"cash-flow-projections",title:"Cash Flow Projections",position_x:0,position_y:4,width:2,height:1}],c=v=>({id:v.id,type:v.widget_type,title:v.title,size:{w:v.width,h:v.height},position:{x:v.position_x,y:v.position_y,w:v.width,h:v.height},config:v.config}),d=async()=>{if(!e){a(!1);return}try{a(!0),o(null);const{data:v,error:x}=await G.from("dashboard_widgets").select("*").eq("user_id",e).eq("is_visible",!0).order("position_y",{ascending:!0}).order("position_x",{ascending:!0});if(x)throw x;if(!v||v.length===0){await u();return}const b=v.map(c);r(b)}catch(v){console.error("Error fetching widgets:",v),o(v instanceof Error?v.message:"Failed to load widgets"),f()}finally{a(!1)}},u=async()=>{if(e)try{const v=l.map(j=>({...j,user_id:e})),{data:x,error:b}=await G.from("dashboard_widgets").insert(v).select();if(b)throw b;const w=x.map(c);r(w)}catch(v){console.error("Error creating default widgets:",v),f()}},f=()=>{const v=localStorage.getItem(`widgets_${e}`);if(v)try{r(JSON.parse(v))}catch(x){console.error("Error loading widgets from localStorage:",x);const b=l.map((w,j)=>({id:(j+1).toString(),type:w.widget_type,title:w.title,size:{w:w.width,h:w.height},position:{x:w.position_x,y:w.position_y,w:w.width,h:w.height},config:w.config}));r(b)}},h=async v=>{if(r(v),e){localStorage.setItem(`widgets_${e}`,JSON.stringify(v));try{const x=v.map(b=>({id:b.id,position_x:b.position.x,position_y:b.position.y,width:b.size.w,height:b.size.h,title:b.title,config:b.config}));for(const b of x)await G.from("dashboard_widgets").update(b).eq("id",b.id).eq("user_id",e)}catch(x){console.error("Error saving widgets to Supabase:",x),o("Failed to save widget positions")}}},m=async v=>{if(e)try{const x={user_id:e,widget_type:v.type,title:v.title,position_x:v.position.x,position_y:v.position.y,width:v.size.w,height:v.size.h,config:v.config||{}},{data:b,error:w}=await G.from("dashboard_widgets").insert([x]).select().single();if(w)throw w;const j=c(b),S=[...t,j];r(S),localStorage.setItem(`widgets_${e}`,JSON.stringify(S))}catch(x){console.error("Error adding widget:",x),o("Failed to add widget");const b=[...t,v];r(b),localStorage.setItem(`widgets_${e}`,JSON.stringify(b))}},p=async v=>{if(e)try{const{error:x}=await G.from("dashboard_widgets").delete().eq("id",v).eq("user_id",e);if(x)throw x;const b=t.filter(w=>w.id!==v);r(b),localStorage.setItem(`widgets_${e}`,JSON.stringify(b))}catch(x){console.error("Error removing widget:",x),o("Failed to remove widget");const b=t.filter(w=>w.id!==v);r(b),localStorage.setItem(`widgets_${e}`,JSON.stringify(b))}},g=async(v,x)=>{if(e)try{const b={};x.title&&(b.title=x.title),x.config&&(b.config=x.config),x.position&&(b.position_x=x.position.x,b.position_y=x.position.y),x.size&&(b.width=x.size.w,b.height=x.size.h);const{error:w}=await G.from("dashboard_widgets").update(b).eq("id",v).eq("user_id",e);if(w)throw w;const j=t.map(S=>S.id===v?{...S,...x}:S);r(j),localStorage.setItem(`widgets_${e}`,JSON.stringify(j))}catch(b){console.error("Error updating widget:",b),o("Failed to update widget");const w=t.map(j=>j.id===v?{...j,...x}:j);r(w),localStorage.setItem(`widgets_${e}`,JSON.stringify(w))}};return y.useEffect(()=>{d()},[e]),{widgets:t,loading:n,error:i,updateWidgets:h,addWidget:m,removeWidget:p,updateWidget:g,refetch:d}}function Mq({widget:e,isDarkMode:t}){var u;const[r,n]=y.useState(!1),[a,i]=y.useState(((u=e.config)==null?void 0:u.motto)||"Building the future, one project at a time."),[o,l]=y.useState(a),c=()=>{i(o),n(!1)},d=()=>{l(a),n(!1)};return s.jsx(z,{className:"h-full",children:s.jsx(U,{className:"p-6 flex items-center justify-center h-full",children:s.jsx("div",{className:"text-center w-full",children:r?s.jsxs("div",{className:"space-y-4",children:[s.jsx(oe,{value:o,onChange:f=>l(f.target.value),className:"text-center text-lg font-medium",placeholder:"Enter your company motto..."}),s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsxs($,{size:"sm",onClick:c,children:[s.jsx(lw,{className:"h-4 w-4 mr-1"}),"Save"]}),s.jsxs($,{size:"sm",variant:"outline",onClick:d,children:[s.jsx(xp,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center leading-tight",children:a}),s.jsxs($,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"opacity-60 hover:opacity-100",children:[s.jsx(YU,{className:"h-4 w-4 mr-1"}),"Edit Motto"]})]})})})})}const ne=e=>typeof e!="number"||isNaN(e)?"0 kr":new Intl.NumberFormat("sv-SE",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e)+" kr";function Rq({widget:e,isDarkMode:t}){return s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-2",children:s.jsxs(K,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4"}),"Monthly Expenses"]})}),s.jsx(U,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-2xl font-bold",children:ne(4850)}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(ct,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:"text-red-500",children:[Math.abs(15.476190476190476).toFixed(1),"%"]}),s.jsx("span",{className:"text-muted-foreground",children:"vs last month"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last month: ",ne(4200)]})]})})]})}function vr(){const{user:e}=gr(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null);y.useEffect(()=>{e?l():(r([]),a(!1))},[e]);const l=async()=>{try{a(!0);const{data:f,error:h}=await G.from("time_entries").select(`
          *,
          project:projects(*)
        `).eq("user_id",e.id).order("date",{ascending:!1});if(h)throw h;r(f||[])}catch(f){o(f instanceof Error?f.message:"An error occurred")}finally{a(!1)}};return{entries:t,loading:n,error:i,createTimeEntry:async f=>{try{const{data:h,error:m}=await G.from("time_entries").insert({...f,user_id:e.id}).select(`
          *,
          project:projects(*)
        `).single();if(m)throw m;return r(p=>[h,...p]),{data:h,error:null}}catch(h){const m=h instanceof Error?h.message:"Failed to create time entry";return o(m),{data:null,error:m}}},updateTimeEntry:async(f,h)=>{try{const{data:m,error:p}=await G.from("time_entries").update(h).eq("id",f).eq("user_id",e.id).select(`
          *,
          project:projects(*)
        `).single();if(p)throw p;return r(g=>g.map(v=>v.id===f?m:v)),{data:m,error:null}}catch(m){const p=m instanceof Error?m.message:"Failed to update time entry";return o(p),{data:null,error:p}}},deleteTimeEntry:async f=>{try{const{error:h}=await G.from("time_entries").delete().eq("id",f).eq("user_id",e.id);if(h)throw h;return r(m=>m.filter(p=>p.id!==f)),{error:null}}catch(h){const m=h instanceof Error?h.message:"Failed to delete time entry";return o(m),{error:m}}},refetch:l}}function $q(){const{entries:e}=vr(),{user:t}=gr(),[r,n]=y.useState({billing_percentage:94,absence_percentage:15});y.useEffect(()=>{(async()=>{if(t)try{const b=new Date,w=b.getFullYear(),j=b.getMonth()+1,{data:S,error:N}=await G.from("monthly_settings").select("billing_percentage, absence_percentage").eq("user_id",t.id).eq("year",w).eq("month",j).single();if(S&&!N)n({billing_percentage:S.billing_percentage,absence_percentage:S.absence_percentage});else{const{data:_,error:E}=await G.from("user_profiles").select("debit_rate_monthly, absence_percentage").eq("id",t.id).single();_&&!E&&n({billing_percentage:_.debit_rate_monthly||94,absence_percentage:_.absence_percentage||15})}}catch(b){console.error("Error loading user settings:",b)}})()},[t]);const a=new Date,i=a.getMonth(),o=a.getFullYear(),c=e.filter(x=>{const b=new Date(x.date+"T00:00:00");return b.getMonth()===i&&b.getFullYear()===o}).reduce((x,b)=>x+b.hours,0),d=new Date(o,i+1,0).getDate(),m=Array.from({length:d},(x,b)=>{const w=new Date(o,i,b+1);return w.getDay()!==0&&w.getDay()!==6}).filter(Boolean).length*8*(1-r.absence_percentage/100)*(r.billing_percentage/100),p=m>0?c/m*100:0,g=Math.max(0,m-c),v=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];return s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-2",children:s.jsxs(K,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Me,{className:"h-4 w-4"}),"Loggad tid - ",v[i]]})}),s.jsx(U,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[c.toFixed(1),"h"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Framsteg mot mål"}),s.jsxs("span",{className:"text-muted-foreground",children:[p.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(p,100)}%`}})})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Dn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:g>0?`${g.toFixed(0)}h kvar till mål`:"Målet nått!"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{className:"h-3 w-3"}),s.jsxs("span",{children:["Mål: ",m.toFixed(0),"h debiterbara timmar"]})]}),s.jsxs("div",{children:["Debiteringsgrad: ",r.billing_percentage,"% | Frånvaro: ",r.absence_percentage,"%"]})]})]})})]})}function Lq(){const{entries:e}=vr(),{user:t}=gr(),[r,n]=y.useState({billing_percentage:94,absence_percentage:15});y.useEffect(()=>{(async()=>{if(t)try{const m=new Date,p=m.getFullYear(),g=m.getMonth()+1,{data:v,error:x}=await G.from("monthly_settings").select("billing_percentage, absence_percentage").eq("user_id",t.id).eq("year",p).eq("month",g).single();if(v&&!x)n({billing_percentage:v.billing_percentage,absence_percentage:v.absence_percentage});else{const{data:b,error:w}=await G.from("user_profiles").select("debit_rate_monthly, absence_percentage").eq("id",t.id).single();b&&!w&&n({billing_percentage:b.debit_rate_monthly||94,absence_percentage:b.absence_percentage||15})}}catch(m){console.error("Error loading user settings:",m)}})()},[t]);const a=new Date().toISOString().split("T")[0],i=e.filter(h=>h.date===a),o=i.reduce((h,m)=>h+m.hours,0),l=21,c=l*8*(1-r.absence_percentage/100)*(r.billing_percentage/100)/l,d=c>0?o/c*100:0,u=Math.max(0,c-o),f=()=>d>=100?"text-green-600":d>=75?"text-blue-600":d>=50?"text-yellow-600":"text-gray-600";return s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-2",children:s.jsxs(K,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Me,{className:"h-4 w-4"}),"Dagens timmar"]})}),s.jsx(U,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`text-3xl font-bold ${f()}`,children:[o.toFixed(1),"h"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dagsmål"}),s.jsxs("span",{className:"text-muted-foreground",children:[d.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d>=100?"bg-green-500":d>=75?"bg-blue-500":d>=50?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.min(d,100)}%`}})})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Dn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:u>0?`${u.toFixed(1)}h kvar till mål`:d>=100?"Dagsmål uppnått!":"På rätt spår"})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{className:"h-3 w-3"}),s.jsxs("span",{children:["Mål: ",c.toFixed(1),"h debiterbara/dag"]})]}),s.jsxs("div",{children:[i.length," ",i.length===1?"registrering":"registreringar"," idag"]})]})]})})]})}var Fp={},eD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(eD);var Vw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Vw);var Hw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Hw);var Bp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,o="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const d=r[i];l?d==="\\"&&i+1<a?(i++,o+=r[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,n.push(o),o=""):o+=d:d==="["?(c=!0,o&&(n.push(o),o="")):d==="."?o&&(n.push(o),o=""):o+=d,i++}return o&&n.push(o),n}e.toPath=t})(Bp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eD,r=Vw,n=Hw,a=Bp;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,a.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=i})(Fp);var Fq=Fp.get;const Qi=Tn(Fq);var tD={exports:{}},Ve={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=Symbol.for("react.transitional.element"),Kw=Symbol.for("react.portal"),zp=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),Vp=Symbol.for("react.consumer"),Hp=Symbol.for("react.context"),qp=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),Xp=Symbol.for("react.lazy"),Bq=Symbol.for("react.view_transition"),zq=Symbol.for("react.client.reference");function In(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qw:switch(e=e.type,e){case zp:case Wp:case Up:case Kp:case Gp:case Bq:return e;default:switch(e=e&&e.$$typeof,e){case Hp:case qp:case Xp:case Yp:return e;case Vp:return e;default:return t}}case Kw:return t}}}Ve.ContextConsumer=Vp;Ve.ContextProvider=Hp;Ve.Element=qw;Ve.ForwardRef=qp;Ve.Fragment=zp;Ve.Lazy=Xp;Ve.Memo=Yp;Ve.Portal=Kw;Ve.Profiler=Wp;Ve.StrictMode=Up;Ve.Suspense=Kp;Ve.SuspenseList=Gp;Ve.isContextConsumer=function(e){return In(e)===Vp};Ve.isContextProvider=function(e){return In(e)===Hp};Ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qw};Ve.isForwardRef=function(e){return In(e)===qp};Ve.isFragment=function(e){return In(e)===zp};Ve.isLazy=function(e){return In(e)===Xp};Ve.isMemo=function(e){return In(e)===Yp};Ve.isPortal=function(e){return In(e)===Kw};Ve.isProfiler=function(e){return In(e)===Wp};Ve.isStrictMode=function(e){return In(e)===Up};Ve.isSuspense=function(e){return In(e)===Kp};Ve.isSuspenseList=function(e){return In(e)===Gp};Ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zp||e===Wp||e===Up||e===Kp||e===Gp||typeof e=="object"&&e!==null&&(e.$$typeof===Xp||e.$$typeof===Yp||e.$$typeof===Hp||e.$$typeof===Vp||e.$$typeof===qp||e.$$typeof===zq||e.getModuleId!==void 0)};Ve.typeOf=In;tD.exports=Ve;var Uq=tD.exports,zt=e=>e===0?0:e>0?1:-1,Lr=e=>typeof e=="number"&&e!=+e,Ls=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ie=e=>(typeof e=="number"||e instanceof Number)&&!Lr(e),xa=e=>ie(e)||typeof e=="string",Wq=0,$u=e=>{var t=++Wq;return"".concat(e||"").concat(t)},_r=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&typeof t!="string")return n;var i;if(Ls(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Lr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},rD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},J_=(e,t)=>ie(e)&&ie(t)?r=>e+r*(t-e):()=>t;function Qt(e,t,r){return ie(e)&&ie(t)?e+r*(t-e):t}function nD(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Qi(n,t))===r)}var Ye=e=>e===null||typeof e>"u",bd=e=>Ye(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Vq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Gw(e){if(typeof e!="string")return!1;var t=Vq;return t.includes(e)}var Hq=["viewBox","children"],Q_=["points","pathLength"],Xv={svg:Hq,polygon:Q_,polyline:Q_},Yw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Gw(a)&&(n[a]=i=>r[a](r,i))}),n},qq=(e,t,r)=>n=>(e(t,r,n),null),Jp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Gw(a)&&typeof i=="function"&&(n||(n={}),n[a]=qq(i,t,r))}),n},Kq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function aD(e){if(typeof e!="string")return!1;var t=Kq;return t.includes(e)}function na(e){var t=Object.entries(e).filter(r=>{var[n]=r;return aD(n)});return Object.fromEntries(t)}var Z_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",eC=null,Jv=null,iD=e=>{if(e===eC&&Array.isArray(Jv))return Jv;var t=[];return y.Children.forEach(e,r=>{Ye(r)||(Uq.isFragment(r)?t=t.concat(iD(r.props.children)):t.push(r))}),Jv=t,eC=e,t};function wd(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>Z_(a)):n=[Z_(t)],iD(e).forEach(a=>{var i=Qi(a,"type.displayName")||Qi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var Qp=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Gq=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(Xv==null?void 0:Xv[n]))!==null&&a!==void 0?a:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||aD(t)),c=!!r&&Gw(t);return o||l||c},Ge=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var o;Gq((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},Yq=["children","width","height","viewBox","className","style","title","desc"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qx.apply(null,arguments)}function Xq(e,t){if(e==null)return{};var r,n,a=Jq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sD=y.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=Xq(e,Yq),f=i||{width:n,height:a,x:0,y:0},h=Pe("recharts-surface",o);return y.createElement("svg",Qx({},Ge(u,!0,"svg"),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,d),r)}),Qq=["children","className"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(null,arguments)}function Zq(e,t){if(e==null)return{};var r,n,a=eK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yt=y.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Zq(e,Qq),i=Pe("recharts-layer",n);return y.createElement("g",Zx({className:i},Ge(a,!0),{ref:t}),r)}),tK=y.createContext(null);function qe(e){return function(){return e}}const oD=Math.cos,Yh=Math.sin,aa=Math.sqrt,Xh=Math.PI,Zp=2*Xh,e0=Math.PI,t0=2*e0,As=1e-6,rK=t0-As;function lD(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return lD;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class aK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?lD:nK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=a-r,u=o-t,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>As)if(!(Math.abs(f*c-d*u)>As)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-l,g=c*c+d*d,v=m*m+p*p,x=Math.sqrt(g),b=Math.sqrt(h),w=i*Math.tan((e0-Math.acos((g+h-v)/(2*x*b)))/2),j=w/b,S=w/x;Math.abs(j-1)>As&&this._append`L${t+j*u},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>u*p)},${this._x1=t+S*c},${this._y1=r+S*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=t+l,u=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>As||Math.abs(this._y1-u)>As)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%t0+t0),h>rK?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>As&&this._append`A${n},${n},0,${+(h>=e0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Xw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new aK(t)}function Jw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cD(e){this._context=e}cD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function eg(e){return new cD(e)}function uD(e){return e[0]}function dD(e){return e[1]}function fD(e,t){var r=qe(!0),n=null,a=eg,i=null,o=Xw(l);e=typeof e=="function"?e:e===void 0?uD:qe(e),t=typeof t=="function"?t:t===void 0?dD:qe(t);function l(c){var d,u=(c=Jw(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,d,c),+t(f,d,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qe(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function xf(e,t,r){var n=null,a=qe(!0),i=null,o=eg,l=null,c=Xw(d);e=typeof e=="function"?e:e===void 0?uD:qe(+e),t=typeof t=="function"?t:qe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?dD:qe(+r);function d(f){var h,m,p,g=(f=Jw(f)).length,v,x=!1,b,w=new Array(g),j=new Array(g);for(i==null&&(l=o(b=c())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],j[p]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(v,h,f),j[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):j[h]))}if(b)return l=null,b+""||null}function u(){return fD().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qe(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qe(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:qe(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class hD{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function iK(e){return new hD(e,!0)}function sK(e){return new hD(e,!1)}const Qw={draw(e,t){const r=aa(t/Xh);e.moveTo(r,0),e.arc(0,0,r,0,Zp)}},oK={draw(e,t){const r=aa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},mD=aa(1/3),lK=mD*2,cK={draw(e,t){const r=aa(t/lK),n=r*mD;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uK={draw(e,t){const r=aa(t),n=-r/2;e.rect(n,n,r,r)}},dK=.8908130915292852,pD=Yh(Xh/10)/Yh(7*Xh/10),fK=Yh(Zp/10)*pD,hK=-oD(Zp/10)*pD,mK={draw(e,t){const r=aa(t*dK),n=fK*r,a=hK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Zp*i/5,l=oD(o),c=Yh(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Qv=aa(3),pK={draw(e,t){const r=-aa(t/(Qv*3));e.moveTo(0,r*2),e.lineTo(-Qv*r,-r),e.lineTo(Qv*r,-r),e.closePath()}},fn=-.5,hn=aa(3)/2,r0=1/aa(12),gK=(r0/2+1)*3,vK={draw(e,t){const r=aa(t/gK),n=r/2,a=r*r0,i=n,o=r*r0+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(fn*n-hn*a,hn*n+fn*a),e.lineTo(fn*i-hn*o,hn*i+fn*o),e.lineTo(fn*l-hn*c,hn*l+fn*c),e.lineTo(fn*n+hn*a,fn*a-hn*n),e.lineTo(fn*i+hn*o,fn*o-hn*i),e.lineTo(fn*l+hn*c,fn*c-hn*l),e.closePath()}};function yK(e,t){let r=null,n=Xw(a);e=typeof e=="function"?e:qe(e||Qw),t=typeof t=="function"?t:qe(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:qe(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:qe(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Jh(){}function Qh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function gD(e){this._context=e}gD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xK(e){return new gD(e)}function vD(e){this._context=e}vD.prototype={areaStart:Jh,areaEnd:Jh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bK(e){return new vD(e)}function yD(e){this._context=e}yD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wK(e){return new yD(e)}function xD(e){this._context=e}xD.prototype={areaStart:Jh,areaEnd:Jh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jK(e){return new xD(e)}function tC(e){return e<0?-1:1}function rC(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(tC(i)+tC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function nC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zv(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Zh(e){this._context=e}Zh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zv(this,this._t0,nC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zv(this,nC(this,r=rC(this,e,t)),r);break;default:Zv(this,this._t0,r=rC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function bD(e){this._context=new wD(e)}(bD.prototype=Object.create(Zh.prototype)).point=function(e,t){Zh.prototype.point.call(this,t,e)};function wD(e){this._context=e}wD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function SK(e){return new Zh(e)}function NK(e){return new bD(e)}function jD(e){this._context=e}jD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=aC(e),a=aC(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aC(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function _K(e){return new jD(e)}function tg(e,t){this._context=e,this._t=t}tg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function CK(e){return new tg(e,.5)}function EK(e){return new tg(e,0)}function kK(e){return new tg(e,1)}function Al(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function n0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function PK(e,t){return e[t]}function AK(e){const t=[];return t.key=e,t}function OK(){var e=qe([]),t=n0,r=Al,n=PK;function a(i){var o=Array.from(e.apply(this,arguments),AK),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(f,o[l].key,d,i)]).data=f;for(l=0,u=Jw(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qe(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:qe(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?n0:typeof i=="function"?i:qe(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Al,a):r},a}function TK(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Al(e,t)}}function DK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Al(e,t)}}function IK(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[n][1]||0,h=u[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[n][1]||0,x=g[n-1][1]||0;m+=v-x}c+=f,d+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Al(e,t)}}var MK=["type","size","sizeType"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){RK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RK(e,t,r){return(t=$K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FK(e,t){if(e==null)return{};var r,n,a=BK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SD={symbolCircle:Qw,symbolCross:oK,symbolDiamond:cK,symbolSquare:uK,symbolStar:mK,symbolTriangle:pK,symbolWye:vK},zK=Math.PI/180,UK=e=>{var t="symbol".concat(bd(e));return SD[t]||Qw},WK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*zK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},VK=(e,t)=>{SD["symbol".concat(bd(e))]=t},ND=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=FK(e,MK),i=sC(sC({},a),{},{type:t,size:r,sizeType:n}),o=()=>{var f=UK(t),h=yK().type(f).size(WK(r,n,t));return h()},{className:l,cx:c,cy:d}=i,u=Ge(i,!0);return c===+c&&d===+d&&r===+r?y.createElement("path",a0({},u,{className:Pe("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};ND.registerSymbol=VK;var _D={},CD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(CD);var Zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Zw);var ED={},rg={},kD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(kD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kD;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(rg);var PD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(PD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rg,r=PD;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(ED);var AD={},OD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fp;function r(n){return function(a){return t.get(a,n)}}e.property=r})(OD);var TD={},ey={},ty={},ej={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(ej);var tj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(tj);var ng={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(ng);var oC;function HK(){return oC||(oC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rj(),r=ej,n=tj,a=ng;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):o(f,h,function p(g,v,x,b,w,j){const S=m(g,v,x,b,w,j);return S!==void 0?!!S:o(g,v,p,j)},new Map)}function o(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,p);case"function":return Object.keys(h).length>0?o(f,{...h},m,p):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function l(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return d(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return u(f,h,m,p);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let v=0;v<g.length;v++){const x=g[v];if(!n.isPrimitive(f)&&!(x in f)||h[x]===void 0&&f[x]!==void 0||h[x]===null&&f[x]!==null||!m(f[x],h[x],x,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,v]of h.entries()){const x=f.get(g);if(m(x,v,g,f,h,p)===!1)return!1}return!0}function d(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let v=0;v<h.length;v++){const x=h[v];let b=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const j=f[w];let S=!1;if(m(j,x,v,f,h,p)&&(S=!0),S){g.add(w),b=!0;break}}if(!b)return!1}return!0}function u(f,h,m,p){return h.size===0?!0:f instanceof Set?d([...f],[...h],m,p):!1}e.isMatchWith=i,e.isSetMatch=u}(ty)),ty}var lC;function rj(){return lC||(lC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HK();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(ey)),ey}var DD={},nj={},aj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(aj);var ag={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ag);var ig={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",S="[object Int8Array]",N="[object Int16Array]",_="[object Int32Array]",E="[object BigInt64Array]",k="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=g,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=k,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=_,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=x})(ig);var ID={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(ID);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aj,r=ag,n=ig,a=tj,i=ID;function o(u,f){return l(u,void 0,u,new Map,f)}function l(u,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(u,f,h,m);if(g!==void 0)return g;if(a.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const v=new Array(u.length);m.set(u,v);for(let x=0;x<u.length;x++)v[x]=l(u[x],x,h,m,p);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;m.set(u,v);for(const[x,b]of u)v.set(x,l(b,x,h,m,p));return v}if(u instanceof Set){const v=new Set;m.set(u,v);for(const x of u)v.add(l(x,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,v);for(let x=0;x<u.length;x++)v[x]=l(u[x],x,h,m,p);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,v),c(v,u,h,m,p),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return m.set(u,v),c(v,u,h,m,p),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return m.set(u,v),c(v,u,h,m,p),v}if(u instanceof Error){const v=new u.constructor;return m.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,c(v,u,h,m,p),v}if(typeof u=="object"&&d(u)){const v=Object.create(Object.getPrototypeOf(u));return m.set(u,v),c(v,u,h,m,p),v}return u}function c(u,f,h=u,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<g.length;v++){const x=g[v],b=Object.getOwnPropertyDescriptor(u,x);(b==null||b.writable)&&(u[x]=l(f[x],x,h,m,p))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(nj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nj;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(DD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rj(),r=DD;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(TD);var MD={},RD={},$D={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nj,r=ig;function n(a,i){return t.cloneDeepWith(a,(o,l,c,d)=>{const u=i==null?void 0:i(o,l,c,d);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})($D);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$D;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(RD);var LD={},ij={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ij);var FD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ag;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(FD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vw,r=ij,n=FD,a=Bp;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(LD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rj(),r=Hw,n=RD,a=Fp,i=LD;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=a.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(MD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zw,r=OD,n=TD,a=MD;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(AD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CD,r=Zw,n=ED,a=AD;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(l)):[]}e.uniqBy=i})(_D);var qK=_D.uniqBy;const cC=Tn(qK);function KK(e,t,r){return t===!0?cC(e,r):typeof t=="function"?cC(e,t):e}var BD={exports:{}},zD={},UD={exports:{}},WD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=y;function GK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var YK=typeof Object.is=="function"?Object.is:GK,XK=Ol.useState,JK=Ol.useEffect,QK=Ol.useLayoutEffect,ZK=Ol.useDebugValue;function eG(e,t){var r=t(),n=XK({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return QK(function(){a.value=r,a.getSnapshot=t,ry(a)&&i({inst:a})},[e,r,t]),JK(function(){return ry(a)&&i({inst:a}),e(function(){ry(a)&&i({inst:a})})},[e]),ZK(r),r}function ry(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!YK(e,r)}catch{return!0}}function tG(e,t){return t()}var rG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tG:eG;WD.useSyncExternalStore=Ol.useSyncExternalStore!==void 0?Ol.useSyncExternalStore:rG;UD.exports=WD;var nG=UD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg=y,aG=nG;function iG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sG=typeof Object.is=="function"?Object.is:iG,oG=aG.useSyncExternalStore,lG=sg.useRef,cG=sg.useEffect,uG=sg.useMemo,dG=sg.useDebugValue;zD.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=lG(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=uG(function(){function c(m){if(!d){if(d=!0,u=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return f=p}return f=m}if(p=f,sG(u,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(u=m,p):(u=m,f=g)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=oG(e,i[0],i[1]);return cG(function(){o.hasValue=!0,o.value=l},[l]),dG(l),l};BD.exports=zD;var fG=BD.exports,sj=y.createContext(null),hG=e=>e,bt=()=>{var e=y.useContext(sj);return e?e.store.dispatch:hG},rh=()=>{},mG=()=>rh,pG=(e,t)=>e===t;function me(e){var t=y.useContext(sj);return fG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:mG,t?t.store.getState:rh,t?t.store.getState:rh,t?e:rh,pG)}function gG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function vG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function yG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var uC=e=>Array.isArray(e)?e:[e];function xG(e){const t=Array.isArray(e[0])?e[0]:e;return yG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bG(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var wG=class{constructor(e){this.value=e}deref(){return this.value}},jG=typeof WeakRef<"u"?WeakRef:wG,SG=0,dC=1;function bf(){return{s:SG,v:void 0,o:null,p:null}}function VD(e,t={}){let r=bf();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const v=g.get(p);v===void 0?(l=bf(),g.set(p,l)):l=v}else{let g=l.p;g===null&&(l.p=g=new Map);const v=g.get(p);v===void 0?(l=bf(),g.set(p,l)):l=v}}const d=l;let u;if(l.s===dC)u=l.v;else if(u=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,u)&&(u=h,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new jG(u):u}return d.s=dC,d.v=u,u}return o.clearCache=()=>{r=bf(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function NG(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,c={},d=a.pop();typeof d=="object"&&(c=d,d=a.pop()),gG(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=VD,argsMemoizeOptions:p=[]}=u,g=uC(h),v=uC(p),x=xG(a),b=f(function(){return i++,d.apply(null,arguments)},...g),w=m(function(){o++;const S=bG(x,arguments);return l=b.apply(null,S),l},...v);return Object.assign(w,{resultFunc:d,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var B=NG(VD),_G=Object.assign((e,t=B)=>{vG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>_G}),HD={},qD={},KD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(KD);var GD={},oj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(oj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oj,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(GD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KD,r=GD,n=Bp;function a(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const d=(m,p)=>{let g=m;for(let v=0;v<p.length&&g!=null;++v)g=g[p[v]];return g},u=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:d(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?d(p,m):typeof p=="object"?p[m]:p,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>u(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const v=t.compareValues(m.criteria[g],p.criteria[g],l[g]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(qD);var YD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):a.push(u)}};return o(r,0),a}e.flatten=t})(YD);var lj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ij,r=rg,n=ej,a=ng;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],o):!1}e.isIterateeCall=i})(lj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qD,r=YD,n=lj;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(HD);var CG=HD.sortBy;const og=Tn(CG);var XD=e=>e.legend.settings,EG=e=>e.legend.size,kG=e=>e.legend.payload;B([kG,XD],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?og(n,r):n});var wf=1;function PG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>wf||Math.abs(o.left-t.left)>wf||Math.abs(o.top-t.top)>wf||Math.abs(o.width-t.width)>wf)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var AG=typeof Symbol=="function"&&Symbol.observable||"@@observable",fC=AG,ny=()=>Math.random().toString(36).substring(7).split("").join("."),OG={INIT:`@@redux/INIT${ny()}`,REPLACE:`@@redux/REPLACE${ny()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ny()}`},em=OG;function cj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function JD(e,t,r){if(typeof e!="function")throw new Error(Yt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Yt(1));return r(JD)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((v,x)=>{o.set(x,v)}))}function u(){if(c)throw new Error(Yt(3));return a}function f(v){if(typeof v!="function")throw new Error(Yt(4));if(c)throw new Error(Yt(5));let x=!0;d();const b=l++;return o.set(b,v),function(){if(x){if(c)throw new Error(Yt(6));x=!1,d(),o.delete(b),i=null}}}function h(v){if(!cj(v))throw new Error(Yt(7));if(typeof v.type>"u")throw new Error(Yt(8));if(typeof v.type!="string")throw new Error(Yt(17));if(c)throw new Error(Yt(9));try{c=!0,a=n(a,v)}finally{c=!1}return(i=o).forEach(b=>{b()}),v}function m(v){if(typeof v!="function")throw new Error(Yt(10));n=v,h({type:em.REPLACE})}function p(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Yt(11));function b(){const j=x;j.next&&j.next(u())}return b(),{unsubscribe:v(b)}},[fC](){return this}}}return h({type:em.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:m,[fC]:p}}function TG(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:em.INIT})>"u")throw new Error(Yt(12));if(typeof r(void 0,{type:em.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yt(13))})}function QD(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{TG(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let c=!1;const d={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],m=o[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Yt(14));d[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(o).length,c?d:o}}function tm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function DG(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Yt(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=tm(...l)(a.dispatch),{...a,dispatch:i}}}function ZD(e){return cj(e)&&"type"in e&&typeof e.type=="string"}var eI=Symbol.for("immer-nothing"),hC=Symbol.for("immer-draftable"),rn=Symbol.for("immer-state");function Hn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tl=Object.getPrototypeOf;function no(e){return!!e&&!!e[rn]}function qa(e){var t;return e?tI(e)||Array.isArray(e)||!!e[hC]||!!((t=e.constructor)!=null&&t[hC])||cg(e)||ug(e):!1}var IG=Object.prototype.constructor.toString();function tI(e){if(!e||typeof e!="object")return!1;const t=Tl(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===IG}function rm(e,t){lg(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function lg(e){const t=e[rn];return t?t.type_:Array.isArray(e)?1:cg(e)?2:ug(e)?3:0}function i0(e,t){return lg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rI(e,t,r){const n=lg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function MG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cg(e){return e instanceof Map}function ug(e){return e instanceof Set}function Os(e){return e.copy_||e.base_}function s0(e,t){if(cg(e))return new Map(e);if(ug(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=tI(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[rn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Tl(e),n)}else{const n=Tl(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function uj(e,t=!1){return dg(e)||no(e)||!qa(e)||(lg(e)>1&&(e.set=e.add=e.clear=e.delete=RG),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>uj(n,!0))),e}function RG(){Hn(2)}function dg(e){return Object.isFrozen(e)}var $G={};function ao(e){const t=$G[e];return t||Hn(0,e),t}var Lu;function nI(){return Lu}function LG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mC(e,t){t&&(ao("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function o0(e){l0(e),e.drafts_.forEach(FG),e.drafts_=null}function l0(e){e===Lu&&(Lu=e.parent_)}function pC(e){return Lu=LG(Lu,e)}function FG(e){const t=e[rn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[rn].modified_&&(o0(t),Hn(4)),qa(e)&&(e=nm(t,e),t.parent_||am(t,e)),t.patches_&&ao("Patches").generateReplacementPatches_(r[rn].base_,e,t.patches_,t.inversePatches_)):e=nm(t,r,[]),o0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eI?e:void 0}function nm(e,t,r){if(dg(t))return t;const n=t[rn];if(!n)return rm(t,(a,i)=>vC(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return am(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,o=!1;n.type_===3&&(i=new Set(a),a.clear(),o=!0),rm(i,(l,c)=>vC(e,n,a,l,c,r,o)),am(e,a,!1),r&&e.patches_&&ao("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function vC(e,t,r,n,a,i,o){if(no(a)){const l=i&&t&&t.type_!==3&&!i0(t.assigned_,n)?i.concat(n):void 0,c=nm(e,a,l);if(rI(r,n,c),no(c))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(qa(a)&&!dg(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;nm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&am(e,a)}}function am(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uj(t,r)}function BG(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:nI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=dj;r&&(a=[n],i=Fu);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var dj={get(e,t){if(t===rn)return e;const r=Os(e);if(!i0(r,t))return zG(e,r,t);const n=r[t];return e.finalized_||!qa(n)?n:n===ay(e.base_,t)?(iy(e),e.copy_[t]=u0(n,e)):n},has(e,t){return t in Os(e)},ownKeys(e){return Reflect.ownKeys(Os(e))},set(e,t,r){const n=aI(Os(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=ay(Os(e),t),i=a==null?void 0:a[rn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(MG(r,a)&&(r!==void 0||i0(e.base_,t)))return!0;iy(e),c0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ay(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,iy(e),c0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Os(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Hn(11)},getPrototypeOf(e){return Tl(e.base_)},setPrototypeOf(){Hn(12)}},Fu={};rm(dj,(e,t)=>{Fu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Fu.deleteProperty=function(e,t){return Fu.set.call(this,e,t,void 0)};Fu.set=function(e,t,r){return dj.set.call(this,e[0],t,r,e[0])};function ay(e,t){const r=e[rn];return(r?Os(r):e)[t]}function zG(e,t,r){var a;const n=aI(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function aI(e,t){if(!(t in e))return;let r=Tl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Tl(r)}}function c0(e){e.modified_||(e.modified_=!0,e.parent_&&c0(e.parent_))}function iy(e){e.copy_||(e.copy_=s0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var UG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&Hn(6),n!==void 0&&typeof n!="function"&&Hn(7);let a;if(qa(t)){const i=pC(this),o=u0(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?o0(i):l0(i)}return mC(i,n),gC(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===eI&&(a=void 0),this.autoFreeze_&&uj(a,!0),n){const i=[],o=[];ao("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Hn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){qa(e)||Hn(8),no(e)&&(e=La(e));const t=pC(this),r=u0(e,void 0);return r[rn].isManual_=!0,l0(t),r}finishDraft(e,t){const r=e&&e[rn];(!r||!r.isManual_)&&Hn(9);const{scope_:n}=r;return mC(n,t),gC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ao("Patches").applyPatches_;return no(e)?n(e,t):this.produce(e,a=>n(a,t))}};function u0(e,t){const r=cg(e)?ao("MapSet").proxyMap_(e,t):ug(e)?ao("MapSet").proxySet_(e,t):BG(e,t);return(t?t.scope_:nI()).drafts_.push(r),r}function La(e){return no(e)||Hn(10,e),iI(e)}function iI(e){if(!qa(e)||dg(e))return e;const t=e[rn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=s0(e,t.scope_.immer_.useStrictShallowCopy_)}else r=s0(e,!0);return rm(r,(n,a)=>{rI(r,n,iI(a))}),t&&(t.finalized_=!1),r}var nn=new UG,sI=nn.produce;nn.produceWithPatches.bind(nn);nn.setAutoFreeze.bind(nn);nn.setUseStrictShallowCopy.bind(nn);nn.applyPatches.bind(nn);nn.createDraft.bind(nn);nn.finishDraft.bind(nn);function oI(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var WG=oI(),VG=oI,HG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tm:tm.apply(null,arguments)};function An(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Zr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>ZD(n)&&n.type===e,r}var lI=class Hc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hc.prototype)}static get[Symbol.species](){return Hc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hc(...t[0].concat(this)):new Hc(...t.concat(this))}};function yC(e){return qa(e)?sI(e,()=>{}):e}function jf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function qG(e){return typeof e=="boolean"}var KG=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new lI;return r&&(qG(r)?o.push(WG):o.push(VG(r.extraArgument))),o},GG="RTK_autoBatch",xC=e=>t=>{setTimeout(t,e)},YG=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xC(10):e.type==="callback"?e.queueNotification:xC(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),h=n.subscribe(f);return l.add(u),()=>{h(),l.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[GG]),i=!a,i&&(o||(o=!0,c(d))),n.dispatch(u)}finally{a=!0}}})},XG=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new lI(e);return n&&a.push(YG(typeof n=="object"?n:void 0)),a};function JG(e){const t=KG(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(cj(r))l=QD(r);else throw new Error(Zr(1));let c;typeof n=="function"?c=n(t):c=t();let d=tm;a&&(d=HG({trace:!1,...typeof a=="object"&&a}));const u=DG(...c),f=XG(u);let h=typeof o=="function"?o(f):f();const m=d(...h);return JD(l,i,m)}function cI(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Zr(28));if(l in t)throw new Error(Zr(29));return t[l]=o,a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function QG(e){return typeof e=="function"}function ZG(e,t){let[r,n,a]=cI(t),i;if(QG(e))i=()=>yC(e());else{const l=yC(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[a]),d.reduce((u,f)=>{if(f)if(no(u)){const m=f(u,c);return m===void 0?u:m}else{if(qa(u))return sI(u,h=>f(h,c));{const h=f(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},l)}return o.getInitialState=i,o}var eY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tY=(e=21)=>{let t="",r=e;for(;r--;)t+=eY[Math.random()*64|0];return t},rY=Symbol.for("rtk-slice-createasyncthunk");function nY(e,t){return`${e}/${t}`}function aY({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[rY];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(Zr(11));const l=(typeof a.reducers=="function"?a.reducers(sY()):a.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(j,S){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(Zr(12));if(N in d.sliceCaseReducersByType)throw new Error(Zr(13));return d.sliceCaseReducersByType[N]=S,u},addMatcher(j,S){return d.sliceMatchers.push({matcher:j,reducer:S}),u},exposeAction(j,S){return d.actionCreators[j]=S,u},exposeCaseReducer(j,S){return d.sliceCaseReducersByName[j]=S,u}};c.forEach(j=>{const S=l[j],N={reducerName:j,type:nY(i,j),createNotation:typeof a.reducers=="function"};lY(S)?uY(N,S,u,t):oY(N,S,u)});function f(){const[j={},S=[],N=void 0]=typeof a.extraReducers=="function"?cI(a.extraReducers):[a.extraReducers],_={...j,...d.sliceCaseReducersByType};return ZG(a.initialState,E=>{for(let k in _)E.addCase(k,_[k]);for(let k of d.sliceMatchers)E.addMatcher(k.matcher,k.reducer);for(let k of S)E.addMatcher(k.matcher,k.reducer);N&&E.addDefaultCase(N)})}const h=j=>j,m=new Map,p=new WeakMap;let g;function v(j,S){return g||(g=f()),g(j,S)}function x(){return g||(g=f()),g.getInitialState()}function b(j,S=!1){function N(E){let k=E[j];return typeof k>"u"&&S&&(k=jf(p,N,x)),k}function _(E=h){const k=jf(m,S,()=>new WeakMap);return jf(k,E,()=>{const P={};for(const[A,C]of Object.entries(a.selectors??{}))P[A]=iY(C,E,()=>jf(p,E,x),S);return P})}return{reducerPath:j,getSelectors:_,get selectors(){return _(N)},selectSlice:N}}const w={name:i,reducer:v,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...b(o),injectInto(j,{reducerPath:S,...N}={}){const _=S??o;return j.inject({reducerPath:_,reducer:v},N),{...w,...b(_,!0)}}};return w}}function iY(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var ln=aY();function sY(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function oY({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!cY(n))throw new Error(Zr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?An(e,o):An(e))}function lY(e){return e._reducerDefinitionType==="asyncThunk"}function cY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uY({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Zr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,f=a(e,i,u);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:o||Sf,pending:l||Sf,rejected:c||Sf,settled:d||Sf})}function Sf(){}var dY="task",uI="listener",dI="completed",fj="cancelled",fY=`task-${fj}`,hY=`task-${dI}`,d0=`${uI}-${fj}`,mY=`${uI}-${dI}`,fg=class{constructor(e){Vd(this,"name","TaskAbortError");Vd(this,"message");this.code=e,this.message=`${dY} ${fj} (reason: ${e})`}},hj=(e,t)=>{if(typeof e!="function")throw new TypeError(Zr(32))},im=()=>{},fI=(e,t=im)=>(e.catch(t),e),hI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),qs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ks=e=>{if(e.aborted){const{reason:t}=e;throw new fg(t)}};function mI(e,t){let r=im;return new Promise((n,a)=>{const i=()=>a(new fg(e.reason));if(e.aborted){i();return}r=hI(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=im})}var pY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof fg?"cancelled":"rejected",error:r}}finally{t==null||t()}},sm=e=>t=>fI(mI(e,t).then(r=>(Ks(e),r))),pI=e=>{const t=sm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:sl}=Object,bC={},hg="listenerMiddleware",gY=(e,t)=>{const r=n=>hI(e,()=>qs(n,e.reason));return(n,a)=>{hj(n);const i=new AbortController;r(i);const o=pY(async()=>{Ks(e),Ks(i.signal);const l=await n({pause:sm(i.signal),delay:pI(i.signal),signal:i.signal});return Ks(i.signal),l},()=>qs(i,hY));return a!=null&&a.autoJoin&&t.push(o.catch(im)),{result:sm(e)(o),cancel(){qs(i,fY)}}}},vY=(e,t)=>{const r=async(n,a)=>{Ks(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{u(),d()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await mI(t,Promise.race(l));return Ks(t),c}finally{i()}};return(n,a)=>fI(r(n,a))},gI=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=An(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Zr(21));return hj(i),{predicate:a,type:t,effect:i}},vI=sl(e=>{const{type:t,predicate:r,effect:n}=gI(e);return{id:tY(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}},{withTypes:()=>vI}),wC=(e,t)=>{const{type:r,effect:n,predicate:a}=gI(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},f0=e=>{e.pending.forEach(t=>{qs(t,d0)})},yY=e=>()=>{e.forEach(f0),e.clear()},jC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},yI=sl(An(`${hg}/add`),{withTypes:()=>yI}),xY=An(`${hg}/removeAll`),xI=sl(An(`${hg}/remove`),{withTypes:()=>xI}),bY=(...e)=>{console.error(`${hg}/error`,...e)},jd=(e={})=>{const t=new Map,{extra:r,onError:n=bY}=e;hj(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&f0(u)}),i=u=>{const f=wC(t,u)??vI(u);return a(f)};sl(i,{withTypes:()=>i});const o=u=>{const f=wC(t,u);return f&&(f.unsubscribe(),u.cancelActive&&f0(f)),!!f};sl(o,{withTypes:()=>o});const l=async(u,f,h,m)=>{const p=new AbortController,g=vY(i,p.signal),v=[];try{u.pending.add(p),await Promise.resolve(u.effect(f,sl({},h,{getOriginalState:m,condition:(x,b)=>g(x,b).then(Boolean),take:g,delay:pI(p.signal),pause:sm(p.signal),extra:r,signal:p.signal,fork:gY(p.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((x,b,w)=>{x!==p&&(qs(x,d0),w.delete(x))})},cancel:()=>{qs(p,d0),u.pending.delete(p)},throwIfCancelled:()=>{Ks(p.signal)}})))}catch(x){x instanceof fg||jC(n,x,{raisedBy:"effect"})}finally{await Promise.all(v),qs(p,mY),u.pending.delete(p)}},c=yY(t);return{middleware:u=>f=>h=>{if(!ZD(h))return f(h);if(yI.match(h))return i(h.payload);if(xY.match(h)){c();return}if(xI.match(h))return o(h.payload);let m=u.getState();const p=()=>{if(m===bC)throw new Error(Zr(23));return m};let g;try{if(g=f(h),t.size>0){const v=u.getState(),x=Array.from(t.values());for(const b of x){let w=!1;try{w=b.predicate(h,v,m)}catch(j){w=!1,jC(n,j,{raisedBy:"predicate"})}w&&l(b,h,u,p)}}}finally{m=bC}return g},startListening:i,stopListening:o,clearListeners:c}};function Zr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bI=ln({name:"chartLayout",initialState:wY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:jY,setLayout:SY,setChartSize:NY,setScale:_Y}=bI.actions,CY=bI.reducer;function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return(t=kY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var om=Math.PI/180,AY=e=>e*180/Math.PI,Nt=(e,t,r,n)=>({x:e+Math.cos(-om*n)*r,y:t+Math.sin(-om*n)*r}),wI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},OY=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},TY=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=OY({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:AY(c),angleInRadian:c}},DY=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},IY=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},MY=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=TY({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:c,endAngle:d}=DY(t),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?NC(NC({},t),{},{radius:a,angle:IY(u,t)}):null};function jI(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){RY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RY(e,t,r){return(t=$Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fe(e,t,r){return Ye(e)||Ye(t)?r:xa(t)?Qi(e,t,r):typeof t=="function"?t(e):r}var FY=(e,t,r,n,a)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(zt(u-d)!==zt(f-u)){var m=[];if(zt(f-u)===zt(a[1]-a[0])){h=f;var p=u+a[1]-a[0];m[0]=Math.min(p,(p+d)/2),m[1]=Math.max(p,(p+d)/2)}else{h=d;var g=f+a[1]-a[0];m[0]=Math.min(u,(g+u)/2),m[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:o}=r[c]);break}}else{var x=Math.min(d,f),b=Math.max(d,f);if(e>(x+u)/2&&e<=(b+u)/2){({index:o}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},BY=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&ie(e[i]))return yn(yn({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&ie(e[o]))return yn(yn({},e),{},{[o]:e[o]+(a||0)})}return e},Na=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",SI=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},NI=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var p=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=a==="category"&&o.bandwidth?o.bandwidth()/p:0;if(g=m==="angleAxis"&&i&&i.length>=2?zt(i[0]-i[1])*2*g:g,f||h){var v=(f||h||[]).map((x,b)=>{var w=n?n.indexOf(x):x;return{coordinate:o(w)+g,value:x,offset:g,index:b}});return v.filter(x=>!Lr(x.coordinate))}return c&&d?d.map((x,b)=>({coordinate:o(x)+g,value:x,index:b,offset:g})):o.ticks&&u!=null?o.ticks(u).map((x,b)=>({coordinate:o(x)+g,value:x,offset:g,index:b})):o.domain().map((x,b)=>({coordinate:o(x)+g,value:n?n[x]:x,index:b,offset:g}))},CC=1e-4,zY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-CC,i=Math.max(n[0],n[1])+CC,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},UY=(e,t)=>{if(!t||t.length!==2||!ie(t[0])||!ie(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(a[0]=r),(!ie(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},WY=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=Lr(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},VY=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Lr(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},HY={sign:WY,expand:TK,none:Al,silhouette:DK,wiggle:IK,positive:VY},qY=(e,t,r)=>{var n=HY[r],a=OK().keys(t).value((i,o)=>+Fe(i,o,0)).order(n0).offset(n);return a(e)};function _I(e){return e==null?void 0:String(e)}function lm(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ye(a[t.dataKey])){var l=nD(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Fe(a,Ye(o)?t.dataKey:o);return Ye(c)?null:t.scale(c)}var EC=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Fe(i,t.dataKey,t.scale.domain()[o]);return Ye(l)?null:t.scale(l)-a/2+n},KY=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},GY=e=>{var t=e.flat(2).filter(ie);return[Math.min(...t),Math.max(...t)]},YY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],XY=(e,t,r)=>{if(e!=null)return YY(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=jI(d,t,r),f=GY(u);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},kC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,io=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=og(t,u=>u.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],d=a[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function AC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return yn(yn({},t),{},{dataKey:r,payload:n,value:a,name:i})}function ds(e,t){if(e)return String(e);if(typeof t=="string")return t}function JY(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?MY({x:e,y:t},n):null}var QY=(e,t,r,n)=>{var a=t.find(d=>d&&d.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:o}=n;return yn(yn(yn({},n),Nt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:c}=n;return yn(yn(yn({},n),Nt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},ZY=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ai=e=>e.layout.width,ii=e=>e.layout.height,eX=e=>e.layout.scale,CI=e=>e.layout.margin,mj=B(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),pj=B(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),EI="data-recharts-item-index",kI="data-recharts-item-data-key",mg=60;function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){tX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t,r){return(t=rX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aX=e=>e.brush.height,Dt=B([ai,ii,CI,aX,mj,pj,XD,EG],(e,t,r,n,a,i,o,l)=>{var c=i.reduce((p,g)=>{var{orientation:v}=g;if(!g.mirror&&!g.hide){var x=typeof g.width=="number"?g.width:mg;return pi(pi({},p),{},{[v]:p[v]+x})}return p},{left:r.left||0,right:r.right||0}),d=a.reduce((p,g)=>{var{orientation:v}=g;return!g.mirror&&!g.hide?pi(pi({},p),{},{[v]:Qi(p,"".concat(v))+g.height}):p},{top:r.top||0,bottom:r.bottom||0}),u=pi(pi({},d),c),f=u.bottom;u.bottom+=n,u=BY(u,o,l);var h=e-u.left-u.right,m=t-u.top-u.bottom;return pi(pi({brushBottom:f},u),{},{width:Math.max(h,0),height:Math.max(m,0)})}),iX=B(Dt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),PI=B(ai,ii,(e,t)=>({x:0,y:0,width:e,height:t})),sX=y.createContext(null),yr=()=>y.useContext(sX)!=null,pg=e=>e.brush,gg=B([pg,Dt,CI],(e,t,r)=>({height:e.height,x:ie(e.x)?e.x:t.left,y:ie(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ie(e.width)?e.width:t.width})),gj=()=>{var e,t=yr(),r=me(iX),n=me(gg),a=(e=me(pg))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},oX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},AI=()=>{var e;return(e=me(Dt))!==null&&e!==void 0?e:oX},OI=()=>me(ai),TI=()=>me(ii),Ce=e=>e.layout.layoutType,Sd=()=>me(Ce),lX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},DI=ln({name:"legend",initialState:lX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=La(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:lge,setLegendSettings:cge,addLegendPayload:II,removeLegendPayload:MI}=DI.actions,cX=DI.reducer;function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(null,arguments)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){uX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uX(e,t,r){return(t=dX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hX(e){return Array.isArray(e)&&xa(e[0])&&xa(e[1])?e.join(" ~ "):e}var mX=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var S={padding:0,margin:0},N=(l?og(i,l):i).map((_,E)=>{if(_.type==="none")return null;var k=_.formatter||o||hX,{value:P,name:A}=_,C=P,O=A;if(k){var I=k(P,A,_,E,i);if(Array.isArray(I))[C,O]=I;else if(I!=null)C=I;else return null}var R=sy({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:R},xa(O)?y.createElement("span",{className:"recharts-tooltip-item-name"},O):null,xa(O)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},C),y.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:S},N)}return null},p=sy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=sy({margin:0},a),v=!Ye(u),x=v?u:"",b=Pe("recharts-default-tooltip",c),w=Pe("recharts-tooltip-label",d);v&&f&&i!==void 0&&i!==null&&(x=f(u,i));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",h0({className:b,style:p},j),y.createElement("p",{className:w,style:g},y.isValidElement(x)?x:"".concat(x)),m())},Pc="recharts-tooltip-wrapper",pX={visibility:"hidden"};function gX(e){var{coordinate:t,translateX:r,translateY:n}=e;return Pe(Pc,{["".concat(Pc,"-right")]:ie(r)&&t&&ie(t.x)&&r>=t.x,["".concat(Pc,"-left")]:ie(r)&&t&&ie(t.x)&&r<t.x,["".concat(Pc,"-bottom")]:ie(n)&&t&&ie(t.y)&&n>=t.y,["".concat(Pc,"-top")]:ie(n)&&t&&ie(t.y)&&n<t.y})}function DC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&ie(i[n]))return i[n];var u=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?u:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=u,p=h;return m<p?Math.max(f,h):Math.max(u,h)}if(d==null)return 0;var g=f+l,v=h+d;return g>v?Math.max(u,h):Math.max(f,h)}function vX(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function yX(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,f;return o.height>0&&o.width>0&&r?(u=DC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=DC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=vX({translateX:u,translateY:f,useTranslate3d:l})):d=pX,{cssProperties:d,cssClasses:gX({translateX:u,translateY:f,coordinate:r})}}function IC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(r),!0).forEach(function(n){m0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m0(e,t,r){return(t=xX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wX extends y.PureComponent{constructor(){super(...arguments),m0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),m0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:v,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=yX({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),j=x?{}:Nf(Nf({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=Nf(Nf({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:v},i)}}var jX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fs={isSsr:jX()},RI=()=>me(e=>e.rootProps.accessibilityLayer);function nr(e){return Number.isFinite(e)}function Dl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(null,arguments)}function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){SX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $C={curveBasisClosed:bK,curveBasisOpen:wK,curveBasis:xK,curveBumpX:iK,curveBumpY:sK,curveLinearClosed:jK,curveLinear:eg,curveMonotoneX:SK,curveMonotoneY:NK,curveNatural:_K,curveStep:CK,curveStepAfter:kK,curveStepBefore:EK},_f=e=>nr(e.x)&&nr(e.y),Ac=e=>e.x,Oc=e=>e.y,CX=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(bd(e));return(r==="curveMonotone"||r==="curveBump")&&t?$C["".concat(r).concat(t==="vertical"?"Y":"X")]:$C[r]||eg},EX=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=CX(t,a),l=i?r.filter(_f):r,c;if(Array.isArray(n)){var d=i?n.filter(f=>_f(f)):n,u=l.map((f,h)=>RC(RC({},f),{},{base:d[h]}));return a==="vertical"?c=xf().y(Oc).x1(Ac).x0(f=>f.base.x):c=xf().x(Ac).y1(Oc).y0(f=>f.base.y),c.defined(_f).curve(o),c(u)}return a==="vertical"&&ie(n)?c=xf().y(Oc).x1(Ac).x0(n):ie(n)?c=xf().x(Ac).y1(Oc).y0(n):c=fD().x(Ac).y(Oc),c.defined(_f).curve(o),c(l)},ol=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?EX(e):n;return y.createElement("path",p0({},na(e),Yw(e),{className:Pe("recharts-curve",t),d:i===null?void 0:i,ref:a}))},kX=["x","y","top","left","width","height","className"];function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(null,arguments)}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){AX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DX(e,t){if(e==null)return{};var r,n,a=IX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MX=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),RX=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=DX(e,kX),d=PX({x:t,y:r,top:n,left:a,width:i,height:o},c);return!ie(t)||!ie(r)||!ie(i)||!ie(o)||!ie(n)||!ie(a)?null:y.createElement("path",g0({},Ge(d,!0),{className:Pe("recharts-cross",l),d:MX(t,r,i,o,n,a)}))};function $X(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kr(e,t){var r=LX({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var $I={},LI={},FI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(FI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI,r=aj,n=ag,a=ig,i=ng;function o(d,u,f){return l(d,u,void 0,void 0,void 0,void 0,f)}function l(d,u,f,h,m,p,g){const v=g(d,u,f,h,m,p);if(v!==void 0)return v;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return c(d,u,p,g)}return c(d,u,p,g)}function c(d,u,f,h){if(Object.is(d,u))return!0;let m=n.getTag(d),p=n.getTag(u);if(m===a.argumentsTag&&(m=a.objectTag),p===a.argumentsTag&&(p=a.objectTag),m!==p)return!1;switch(m){case a.stringTag:return d.toString()===u.toString();case a.numberTag:{const x=d.valueOf(),b=u.valueOf();return i.eq(x,b)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(d.valueOf(),u.valueOf());case a.regexpTag:return d.source===u.source&&d.flags===u.flags;case a.functionTag:return d===u}f=f??new Map;const g=f.get(d),v=f.get(u);if(g!=null&&v!=null)return g===u;f.set(d,u),f.set(u,d);try{switch(m){case a.mapTag:{if(d.size!==u.size)return!1;for(const[x,b]of d.entries())if(!u.has(x)||!l(b,u.get(x),x,d,u,f,h))return!1;return!0}case a.setTag:{if(d.size!==u.size)return!1;const x=Array.from(d.values()),b=Array.from(u.values());for(let w=0;w<x.length;w++){const j=x[w],S=b.findIndex(N=>l(j,N,void 0,d,u,f,h));if(S===-1)return!1;b.splice(S,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let x=0;x<d.length;x++)if(!l(d[x],u[x],x,d,u,f,h))return!1;return!0}case a.arrayBufferTag:return d.byteLength!==u.byteLength?!1:c(new Uint8Array(d),new Uint8Array(u),f,h);case a.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(u),f,h);case a.errorTag:return d.name===u.name&&d.message===u.message;case a.objectTag:{if(!(c(d.constructor,u.constructor,f,h)||t.isPlainObject(d)&&t.isPlainObject(u)))return!1;const b=[...Object.keys(d),...r.getSymbols(d)],w=[...Object.keys(u),...r.getSymbols(u)];if(b.length!==w.length)return!1;for(let j=0;j<b.length;j++){const S=b[j],N=d[S];if(!Object.hasOwn(u,S))return!1;const _=u[S];if(!l(N,_,S,d,u,f,h))return!1}return!0}default:return!1}}finally{f.delete(d),f.delete(u)}}e.isEqualWith=o})(LI);var BI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(BI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LI,r=BI;function n(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=n})($I);var UX=$I.isEqual;const WX=Tn(UX);var cm=1e-4,zI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],UI=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),BC=(e,t)=>r=>{var n=zI(e,t);return UI(n,r)},VX=(e,t)=>r=>{var n=zI(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return UI(a,r)},zC=function(){for(var t,r,n,a,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else o.length===4&&([t,n,r,a]=o);var d=BC(t,r),u=BC(n,a),f=VX(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var g=p>1?1:p,v=g,x=0;x<8;++x){var b=d(v)-g,w=f(v);if(Math.abs(b-g)<cm||w<cm)return u(v);v=h(v-b/w)}return u(v)};return m.isStepper=!1,m},HX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*n,f=c+(d-u)*a/1e3,h=c*a/1e3+o;return Math.abs(h-l)<cm&&Math.abs(f)<cm?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},WI=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zC(e);case"spring":return HX();default:if(e.split("(")[0]==="cubic-bezier")return zC(e)}return typeof e=="function"?e:null};function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){qX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qX(e,t,r){return(t=KX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YX=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),XX=(e,t,r)=>e.map(n=>"".concat(YX(n)," ").concat(t,"ms ").concat(r)).join(","),JX=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Bu=(e,t)=>Object.keys(t).reduce((r,n)=>WC(WC({},r),{},{[n]:e(n,t[n])}),{});function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=eJ(e,"string");return typeof t=="symbol"?t:t+""}function eJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var um=(e,t,r)=>e+(t-e)*r,v0=e=>{var{from:t,to:r}=e;return t!==r},VI=(e,t,r)=>{var n=Bu((a,i)=>{if(v0(i)){var[o,l]=e(i.from,i.to,i.velocity);return Jt(Jt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Bu((a,i)=>v0(i)?Jt(Jt({},i),{},{velocity:um(i.velocity,n[a].velocity,r),from:um(i.from,n[a].from,r)}):i,t):VI(e,n,r-1)};function tJ(e,t,r,n,a,i){var o,l=n.reduce((h,m)=>Jt(Jt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Bu((h,m)=>m.from,l),d=()=>!Object.values(l).filter(v0).length,u=null,f=h=>{o||(o=h);var m=h-o,p=m/r.dt;l=VI(r,l,p),a(Jt(Jt(Jt({},e),t),c())),o=h,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function rJ(e,t,r,n,a,i,o){var l=null,c=a.reduce((f,h)=>Jt(Jt({},f),{},{[h]:[e[h],t[h]]}),{}),d,u=f=>{d||(d=f);var h=(f-d)/n,m=Bu((g,v)=>um(...v,r(h)),c);if(i(Jt(Jt(Jt({},e),t),m)),h<1)l=o.setTimeout(u);else{var p=Bu((g,v)=>um(...v,r(1)),c);i(Jt(Jt(Jt({},e),t),p))}};return()=>(l=o.setTimeout(u),()=>{l()})}const HI=(e,t,r,n,a,i)=>{var o=JX(e,t);return r.isStepper===!0?tJ(e,t,r,o,a,i):rJ(e,t,r,n,o,a,i)};function nJ(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,d),c);return}i(c),a=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class aJ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function iJ(){return nJ(new aJ)}var sJ=y.createContext(iJ);function qI(e,t){var r=y.useContext(sJ);return y.useMemo(()=>t??r(e),[e,t,r])}var oJ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y0.apply(null,arguments)}function lJ(e,t){if(e==null)return{};var r,n,a=cJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){Fs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fs(e,t,r){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vj extends y.PureComponent{constructor(t,r){super(t,r),Fs(this,"mounted",!1),Fs(this,"manager",void 0),Fs(this,"stopJSAnimation",null),Fs(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:i,to:o,children:l,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:i,to:o,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var d={style:a?{[a]:o}:o};this.state&&c&&(a&&c[a]!==o||!a&&c!==o)&&this.setState(d);return}if(!(WX(t.to,o)&&t.canBegin&&t.isActive)){var u=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||i?l:t.to;if(this.state&&c){var h={style:a?{[a]:f}:f};(a&&c[a]!==f||!a&&c!==f)&&this.setState(h)}this.runAnimation(gi(gi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c}=t,d=HI(r,n,WI(i),a,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([c,o,u,a,l])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:i,easing:o,onAnimationStart:l,onAnimationEnd:c,children:d}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(t);return}var u=a?{[a]:i}:i,f=XX(Object.keys(u),n,o);this.manager.start([l,r,gi(gi({},u),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:o,isActive:l,from:c,to:d,canBegin:u,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:p}=t,g=lJ(t,oJ),v=y.Children.count(r),x=this.state.style;if(typeof r=="function")return r(x);if(!l||v===0||a<=0)return r;var b=w=>{var{style:j={},className:S}=w.props,N=y.cloneElement(w,gi(gi({},g),{},{style:gi(gi({},j),x),className:S}));return N};return v===1?b(y.Children.only(r)):y.createElement("div",null,y.Children.map(r,w=>b(w)))}}Fs(vj,"displayName","Animate");Fs(vj,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function dm(e){var t,r=qI((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return y.createElement(vj,y0({},e,{animationManager:r}))}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(null,arguments)}var qC=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=a[f]>i?i:a[f];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);d="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},fJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KI=e=>{var t=kr(e,fJ),r=y.useRef(null),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&a(x)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var v=Pe("recharts-rectangle",u);return g?y.createElement(dm,{canBegin:n>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:h,animationEasing:f,isActive:g},x=>{var{width:b,height:w,x:j,y:S}=x;return y.createElement(dm,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:p,easing:f},y.createElement("path",fm({},Ge(t,!0),{className:v,d:qC(j,S,b,w,d),ref:r})))}):y.createElement("path",fm({},Ge(t,!0),{className:v,d:qC(i,o,l,c,d)}))};function GI(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Nt(t,r,n,a),l=Nt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(null,arguments)}var hJ=(e,t)=>{var r=zt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Cf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/om,f=c?a:a+i*u,h=Nt(t,r,d,f),m=Nt(t,r,n,f),p=c?a-i*u:a,g=Nt(t,r,d*Math.cos(u*om),p);return{center:h,circleTangency:m,lineTangency:g,theta:u}},YI=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=hJ(i,o),c=i+l,d=Nt(t,r,a,i),u=Nt(t,r,a,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=Nt(t,r,n,i),m=Nt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},mJ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=zt(d-c),{circleTangency:f,lineTangency:h,theta:m}=Cf({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:g,theta:v}=Cf({cx:t,cy:r,radius:a,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),x=l?Math.abs(c-d):Math.abs(c-d)-m-v;if(x<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):YI({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:d});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:S}=Cf({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:N,lineTangency:_,theta:E}=Cf({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),k=l?Math.abs(c-d):Math.abs(c-d)-S-E;if(k<0&&i===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},pJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XI=e=>{var t=kr(e,pJ),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(i<a||d===u)return null;var h=Pe("recharts-sector",f),m=i-a,p=_r(o,m,0,!0),g;return p>0&&Math.abs(d-u)<360?g=mJ({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):g=YI({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u}),y.createElement("path",x0({},Ge(t,!0),{className:h,d:g}))};function gJ(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,h=Nt(l,c,d,f),m=Nt(l,c,u,f);n=h.x,a=h.y,i=m.x,o=m.y}else return GI(t);return[{x:n,y:a},{x:i,y:o}]}var JI={},QI={},ZI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oj;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ZI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZI;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(QI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lj,r=QI;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=a,a+=o;return c}e.range=n})(JI);var vJ=JI.range;const eM=Tn(vJ);function Ki(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yj(e){let t,r,n;e.length!==2?(t=Ki,r=(l,c)=>Ki(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ki||e===yJ?e:xJ,r=e,n=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function xJ(){return 0}function tM(e){return e===null?NaN:+e}function*bJ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wJ=yj(Ki),Nd=wJ.right;yj(tM).center;class KC extends Map{constructor(t,r=NJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(GC(this,t))}has(t){return super.has(GC(this,t))}set(t,r){return super.set(jJ(this,t),r)}delete(t){return super.delete(SJ(this,t))}}function GC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function SJ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function NJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _J(e=Ki){if(e===Ki)return rM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const CJ=Math.sqrt(50),EJ=Math.sqrt(10),kJ=Math.sqrt(2);function hm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=CJ?10:i>=EJ?5:i>=kJ?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?hm(e,t,r*2):[l,c,d]}function b0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?hm(t,e,r):hm(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function w0(e,t,r){return t=+t,e=+e,r=+r,hm(e,t,r)[2]}function j0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?w0(t,e,r):w0(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function YC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function XC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nM(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?rM:_J(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*f/c+h)),p=Math.min(n,Math.floor(t+(c-d)*f/c+h));nM(e,t,m,p,a)}const i=e[t];let o=r,l=n;for(Tc(e,r,t),a(e[n],i)>0&&Tc(e,r,n);o<l;){for(Tc(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Tc(e,r,l):(++l,Tc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Tc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function PJ(e,t,r){if(e=Float64Array.from(bJ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return XC(e);if(t>=1)return YC(e);var n,a=(n-1)*t,i=Math.floor(a),o=YC(nM(e,i).subarray(0,i+1)),l=XC(e.subarray(i+1));return o+(l-o)*(a-i)}}function AJ(e,t,r=tM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function OJ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Mn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function si(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const S0=Symbol("implicit");function xj(){var e=new KC,t=[],r=[],n=S0;function a(i){let o=e.get(i);if(o===void 0){if(n!==S0)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new KC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xj(t,r).unknown(n)},Mn.apply(a,arguments),a}function bj(){var e=xj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;i=(g-p)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),p+=(g-p-i*(h-c))*u,o=i*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=OJ(h).map(function(x){return p+i*x});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return bj(t(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Mn.apply(f(),arguments)}function aM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aM(t())},e}function TJ(){return aM(bj.apply(null,arguments).paddingInner(1))}function wj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function _d(){}var zu=.7,mm=1/zu,ll="\\s*([+-]?\\d+)\\s*",Uu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DJ=/^#([0-9a-f]{3,8})$/,IJ=new RegExp(`^rgb\\(${ll},${ll},${ll}\\)$`),MJ=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),RJ=new RegExp(`^rgba\\(${ll},${ll},${ll},${Uu}\\)$`),$J=new RegExp(`^rgba\\(${va},${va},${va},${Uu}\\)$`),LJ=new RegExp(`^hsl\\(${Uu},${va},${va}\\)$`),FJ=new RegExp(`^hsla\\(${Uu},${va},${va},${Uu}\\)$`),JC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wj(_d,Wu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QC,formatHex:QC,formatHex8:BJ,formatHsl:zJ,formatRgb:ZC,toString:ZC});function QC(){return this.rgb().formatHex()}function BJ(){return this.rgb().formatHex8()}function zJ(){return sM(this).formatHsl()}function ZC(){return this.rgb().formatRgb()}function Wu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=DJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?e2(t):r===3?new Ir(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ef(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ef(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=IJ.exec(e))?new Ir(t[1],t[2],t[3],1):(t=MJ.exec(e))?new Ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=RJ.exec(e))?Ef(t[1],t[2],t[3],t[4]):(t=$J.exec(e))?Ef(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LJ.exec(e))?n2(t[1],t[2]/100,t[3]/100,1):(t=FJ.exec(e))?n2(t[1],t[2]/100,t[3]/100,t[4]):JC.hasOwnProperty(e)?e2(JC[e]):e==="transparent"?new Ir(NaN,NaN,NaN,0):null}function e2(e){return new Ir(e>>16&255,e>>8&255,e&255,1)}function Ef(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ir(e,t,r,n)}function UJ(e){return e instanceof _d||(e=Wu(e)),e?(e=e.rgb(),new Ir(e.r,e.g,e.b,e.opacity)):new Ir}function N0(e,t,r,n){return arguments.length===1?UJ(e):new Ir(e,t,r,n??1)}function Ir(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}wj(Ir,N0,iM(_d,{brighter(e){return e=e==null?mm:Math.pow(mm,e),new Ir(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zu:Math.pow(zu,e),new Ir(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ir(Gs(this.r),Gs(this.g),Gs(this.b),pm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t2,formatHex:t2,formatHex8:WJ,formatRgb:r2,toString:r2}));function t2(){return`#${Bs(this.r)}${Bs(this.g)}${Bs(this.b)}`}function WJ(){return`#${Bs(this.r)}${Bs(this.g)}${Bs(this.b)}${Bs((isNaN(this.opacity)?1:this.opacity)*255)}`}function r2(){const e=pm(this.opacity);return`${e===1?"rgb(":"rgba("}${Gs(this.r)}, ${Gs(this.g)}, ${Gs(this.b)}${e===1?")":`, ${e})`}`}function pm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bs(e){return e=Gs(e),(e<16?"0":"")+e.toString(16)}function n2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qn(e,t,r,n)}function sM(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);if(e instanceof _d||(e=Wu(e)),!e)return new qn;if(e instanceof qn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new qn(o,l,c,e.opacity)}function VJ(e,t,r,n){return arguments.length===1?sM(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}wj(qn,VJ,iM(_d,{brighter(e){return e=e==null?mm:Math.pow(mm,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zu:Math.pow(zu,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ir(oy(e>=240?e-240:e+120,a,n),oy(e,a,n),oy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new qn(a2(this.h),kf(this.s),kf(this.l),pm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pm(this.opacity);return`${e===1?"hsl(":"hsla("}${a2(this.h)}, ${kf(this.s)*100}%, ${kf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function a2(e){return e=(e||0)%360,e<0?e+360:e}function kf(e){return Math.max(0,Math.min(1,e||0))}function oy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jj=e=>()=>e;function HJ(e,t){return function(r){return e+r*t}}function qJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function KJ(e){return(e=+e)==1?oM:function(t,r){return r-t?qJ(t,r,e):jj(isNaN(t)?r:t)}}function oM(e,t){var r=t-e;return r?HJ(e,r):jj(isNaN(e)?t:e)}const i2=function e(t){var r=KJ(t);function n(a,i){var o=r((a=N0(a)).r,(i=N0(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=oM(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function GJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function YJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XJ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=ec(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function JJ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function gm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function QJ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ec(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var _0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ly=new RegExp(_0.source,"g");function ZJ(e){return function(){return e}}function eQ(e){return function(t){return e(t)+""}}function tQ(e,t){var r=_0.lastIndex=ly.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=_0.exec(e))&&(a=ly.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:gm(n,a)})),r=ly.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?eQ(c[0].x):ZJ(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function ec(e,t){var r=typeof t,n;return t==null||r==="boolean"?jj(t):(r==="number"?gm:r==="string"?(n=Wu(t))?(t=n,i2):tQ:t instanceof Wu?i2:t instanceof Date?JJ:YJ(t)?GJ:Array.isArray(t)?XJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QJ:gm)(e,t)}function Sj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rQ(e,t){t===void 0&&(t=e,e=ec);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function nQ(e){return function(){return e}}function vm(e){return+e}var s2=[0,1];function jr(e){return e}function C0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nQ(isNaN(t)?NaN:.5)}function aQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iQ(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=C0(a,n),i=r(o,i)):(n=C0(n,a),i=r(i,o)),function(l){return i(n(l))}}function sQ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=C0(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Nd(e,l,1,n)-1;return i[c](a[c](l))}}function Cd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vg(){var e=s2,t=s2,r=ec,n,a,i,o=jr,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==jr&&(o=aQ(e[0],e[h-1])),l=h>2?sQ:iQ,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((d||(d=l(t,e.map(n),gm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,vm),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Sj,u()},f.clamp=function(h){return arguments.length?(o=h?!0:jr,u()):o!==jr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,u()}}function Nj(){return vg()(jr,jr)}function oQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ym(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Il(e){return e=ym(Math.abs(e)),e?e[1]:NaN}function lQ(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function cQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vu(e){if(!(t=uQ.exec(e)))throw new Error("invalid format: "+e);var t;return new _j({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vu.prototype=_j.prototype;function _j(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_j.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dQ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var lM;function fQ(e,t){var r=ym(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(lM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ym(e,Math.max(0,t+i-1))[0]}function o2(e,t){var r=ym(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const l2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>o2(e*100,t),r:o2,s:fQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c2(e){return e}var u2=Array.prototype.map,d2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hQ(e){var t=e.grouping===void 0||e.thousands===void 0?c2:lQ(u2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?c2:cQ(u2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Vu(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,x=f.width,b=f.comma,w=f.precision,j=f.trim,S=f.type;S==="n"?(b=!0,S="g"):l2[S]||(w===void 0&&(w=12),j=!0,S="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",_=g==="$"?n:/[%p]/.test(S)?o:"",E=l2[S],k=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(A){var C=N,O=_,I,R,T;if(S==="c")O=E(A)+O,A="";else{A=+A;var M=A<0||1/A<0;if(A=isNaN(A)?c:E(Math.abs(A),w),j&&(A=dQ(A)),M&&+A==0&&p!=="+"&&(M=!1),C=(M?p==="("?p:l:p==="-"||p==="("?"":p)+C,O=(S==="s"?d2[8+lM/3]:"")+O+(M&&p==="("?")":""),k){for(I=-1,R=A.length;++I<R;)if(T=A.charCodeAt(I),48>T||T>57){O=(T===46?a+A.slice(I+1):A.slice(I))+O,A=A.slice(0,I);break}}}b&&!v&&(A=t(A,1/0));var D=C.length+A.length+O.length,F=D<x?new Array(x-D+1).join(h):"";switch(b&&v&&(A=t(F+A,F.length?x-O.length:1/0),F=""),m){case"<":A=C+A+O+F;break;case"=":A=C+F+A+O;break;case"^":A=F.slice(0,D=F.length>>1)+C+A+O+F.slice(D);break;default:A=F+C+A+O;break}return i(A)}return P.toString=function(){return f+""},P}function u(f,h){var m=d((f=Vu(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Il(h)/3)))*3,g=Math.pow(10,-p),v=d2[8+p/3];return function(x){return m(g*x)+v}}return{format:d,formatPrefix:u}}var Pf,Cj,cM;mQ({thousands:",",grouping:[3],currency:["$",""]});function mQ(e){return Pf=hQ(e),Cj=Pf.format,cM=Pf.formatPrefix,Pf}function pQ(e){return Math.max(0,-Il(Math.abs(e)))}function gQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Il(t)/3)))*3-Il(Math.abs(e)))}function vQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Il(t)-Il(e))+1}function uM(e,t,r,n){var a=j0(e,t,r),i;switch(n=Vu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=gQ(a,o))&&(n.precision=i),cM(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=vQ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pQ(a))&&(n.precision=i-(n.type==="%")*2);break}}return Cj(n)}function hs(e){var t=e.domain;return e.ticks=function(r){var n=t();return b0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return uM(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=w0(o,l,r),d===c)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function dM(){var e=Nj();return e.copy=function(){return Cd(e,dM())},Mn.apply(e,arguments),hs(e)}function fM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return fM(e).unknown(t)},e=arguments.length?Array.from(e,vm):[0,1],hs(r)}function hM(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function f2(e){return Math.log(e)}function h2(e){return Math.exp(e)}function yQ(e){return-Math.log(-e)}function xQ(e){return-Math.exp(-e)}function bQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wQ(e){return e===10?bQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function m2(e){return(t,r)=>-e(-t,r)}function Ej(e){const t=e(f2,h2),r=t.domain;let n=10,a,i;function o(){return a=jQ(n),i=wQ(n),r()[0]<0?(a=m2(a),i=m2(i),e(yQ,xQ)):e(f2,h2),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=a(d),m=a(u),p,g;const v=l==null?10:+l;let x=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),d>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/i(-h):p*i(h),!(g<d)){if(g>u)break;x.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/i(-h):p*i(h),!(g<d)){if(g>u)break;x.push(g)}x.length*2<v&&(x=b0(d,u,v))}else x=b0(h,m,Math.min(m-h,v)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Vu(c)).precision==null&&(c.trim=!0),c=Cj(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(hM(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function mM(){const e=Ej(vg()).domain([1,10]);return e.copy=()=>Cd(e,mM()).base(e.base()),Mn.apply(e,arguments),e}function p2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function g2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kj(e){var t=1,r=e(p2(t),g2(t));return r.constant=function(n){return arguments.length?e(p2(t=+n),g2(t)):t},hs(r)}function pM(){var e=kj(vg());return e.copy=function(){return Cd(e,pM()).constant(e.constant())},Mn.apply(e,arguments)}function v2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function SQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NQ(e){return e<0?-e*e:e*e}function Pj(e){var t=e(jr,jr),r=1;function n(){return r===1?e(jr,jr):r===.5?e(SQ,NQ):e(v2(r),v2(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},hs(t)}function Aj(){var e=Pj(vg());return e.copy=function(){return Cd(e,Aj()).exponent(e.exponent())},Mn.apply(e,arguments),e}function _Q(){return Aj.apply(null,arguments).exponent(.5)}function y2(e){return Math.sign(e)*e*e}function CQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gM(){var e=Nj(),t=[0,1],r=!1,n;function a(i){var o=CQ(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(y2(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,vm)).map(y2)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return gM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Mn.apply(a,arguments),hs(a)}function vM(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=AJ(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Nd(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ki),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return vM().domain(e).range(t).unknown(n)},Mn.apply(i,arguments)}function yM(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Nd(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return yM().domain([e,t]).range(a).unknown(i)},Mn.apply(hs(o),arguments)}function xM(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Nd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return xM().domain(e).range(t).unknown(r)},Mn.apply(a,arguments)}const cy=new Date,uy=new Date;function It(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>It(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(cy.setTime(+i),uy.setTime(+o),e(cy),e(uy),Math.floor(r(cy,uy))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const xm=It(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?It(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xm);xm.range;const Ma=1e3,Sn=Ma*60,Ra=Sn*60,Ka=Ra*24,Oj=Ka*7,x2=Ka*30,dy=Ka*365,zs=It(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ma)},(e,t)=>(t-e)/Ma,e=>e.getUTCSeconds());zs.range;const Tj=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ma)},(e,t)=>{e.setTime(+e+t*Sn)},(e,t)=>(t-e)/Sn,e=>e.getMinutes());Tj.range;const Dj=It(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Sn)},(e,t)=>(t-e)/Sn,e=>e.getUTCMinutes());Dj.range;const Ij=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ma-e.getMinutes()*Sn)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getHours());Ij.range;const Mj=It(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getUTCHours());Mj.range;const Ed=It(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Sn)/Ka,e=>e.getDate()-1);Ed.range;const yg=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ka,e=>e.getUTCDate()-1);yg.range;const bM=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ka,e=>Math.floor(e/Ka));bM.range;function xo(e){return It(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Sn)/Oj)}const xg=xo(0),bm=xo(1),EQ=xo(2),kQ=xo(3),Ml=xo(4),PQ=xo(5),AQ=xo(6);xg.range;bm.range;EQ.range;kQ.range;Ml.range;PQ.range;AQ.range;function bo(e){return It(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Oj)}const bg=bo(0),wm=bo(1),OQ=bo(2),TQ=bo(3),Rl=bo(4),DQ=bo(5),IQ=bo(6);bg.range;wm.range;OQ.range;TQ.range;Rl.range;DQ.range;IQ.range;const Rj=It(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rj.range;const $j=It(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$j.range;const Ga=It(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ga.range;const Ya=It(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ya.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ya.range;function wM(e,t,r,n,a,i){const o=[[zs,1,Ma],[zs,5,5*Ma],[zs,15,15*Ma],[zs,30,30*Ma],[i,1,Sn],[i,5,5*Sn],[i,15,15*Sn],[i,30,30*Sn],[a,1,Ra],[a,3,3*Ra],[a,6,6*Ra],[a,12,12*Ra],[n,1,Ka],[n,2,2*Ka],[r,1,Oj],[t,1,x2],[t,3,3*x2],[e,1,dy]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const m=f&&typeof f.range=="function"?f:c(d,u,f),p=m?m.range(d,+u+1):[];return h?p.reverse():p}function c(d,u,f){const h=Math.abs(u-d)/f,m=yj(([,,v])=>v).right(o,h);if(m===o.length)return e.every(j0(d/dy,u/dy,f));if(m===0)return xm.every(Math.max(j0(d,u,f),1));const[p,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(g)}return[l,c]}const[MQ,RQ]=wM(Ya,$j,bg,bM,Mj,Dj),[$Q,LQ]=wM(Ga,Rj,xg,Ed,Ij,Tj);function fy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function FQ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Ic(a),u=Mc(a),f=Ic(i),h=Mc(i),m=Ic(o),p=Mc(o),g=Ic(l),v=Mc(l),x=Ic(c),b=Mc(c),w={a:M,A:D,b:F,B:H,c:null,d:_2,e:_2,f:lZ,g:yZ,G:bZ,H:iZ,I:sZ,j:oZ,L:jM,m:cZ,M:uZ,p:Z,q:W,Q:k2,s:P2,S:dZ,u:fZ,U:hZ,V:mZ,w:pZ,W:gZ,x:null,X:null,y:vZ,Y:xZ,Z:wZ,"%":E2},j={a:se,A:he,b:ge,B:le,c:null,d:C2,e:C2,f:_Z,g:MZ,G:$Z,H:jZ,I:SZ,j:NZ,L:NM,m:CZ,M:EZ,p:J,q:be,Q:k2,s:P2,S:kZ,u:PZ,U:AZ,V:OZ,w:TZ,W:DZ,x:null,X:null,y:IZ,Y:RZ,Z:LZ,"%":E2},S={a:P,A,b:C,B:O,c:I,d:S2,e:S2,f:tZ,g:j2,G:w2,H:N2,I:N2,j:JQ,L:eZ,m:XQ,M:QQ,p:k,q:YQ,Q:nZ,s:aZ,S:ZQ,u:VQ,U:HQ,V:qQ,w:WQ,W:KQ,x:R,X:T,y:j2,Y:w2,Z:GQ,"%":rZ};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(Y,te){return function(ae){var V=[],ke=-1,xe=0,nt=Y.length,Je,jt,ui;for(ae instanceof Date||(ae=new Date(+ae));++ke<nt;)Y.charCodeAt(ke)===37&&(V.push(Y.slice(xe,ke)),(jt=b2[Je=Y.charAt(++ke)])!=null?Je=Y.charAt(++ke):jt=Je==="e"?" ":"0",(ui=te[Je])&&(Je=ui(ae,jt)),V.push(Je),xe=ke+1);return V.push(Y.slice(xe,ke)),V.join("")}}function _(Y,te){return function(ae){var V=Dc(1900,void 0,1),ke=E(V,Y,ae+="",0),xe,nt;if(ke!=ae.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(te&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(xe=hy(Dc(V.y,0,1)),nt=xe.getUTCDay(),xe=nt>4||nt===0?wm.ceil(xe):wm(xe),xe=yg.offset(xe,(V.V-1)*7),V.y=xe.getUTCFullYear(),V.m=xe.getUTCMonth(),V.d=xe.getUTCDate()+(V.w+6)%7):(xe=fy(Dc(V.y,0,1)),nt=xe.getDay(),xe=nt>4||nt===0?bm.ceil(xe):bm(xe),xe=Ed.offset(xe,(V.V-1)*7),V.y=xe.getFullYear(),V.m=xe.getMonth(),V.d=xe.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),nt="Z"in V?hy(Dc(V.y,0,1)).getUTCDay():fy(Dc(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(nt+5)%7:V.w+V.U*7-(nt+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,hy(V)):fy(V)}}function E(Y,te,ae,V){for(var ke=0,xe=te.length,nt=ae.length,Je,jt;ke<xe;){if(V>=nt)return-1;if(Je=te.charCodeAt(ke++),Je===37){if(Je=te.charAt(ke++),jt=S[Je in b2?te.charAt(ke++):Je],!jt||(V=jt(Y,ae,V))<0)return-1}else if(Je!=ae.charCodeAt(V++))return-1}return V}function k(Y,te,ae){var V=d.exec(te.slice(ae));return V?(Y.p=u.get(V[0].toLowerCase()),ae+V[0].length):-1}function P(Y,te,ae){var V=m.exec(te.slice(ae));return V?(Y.w=p.get(V[0].toLowerCase()),ae+V[0].length):-1}function A(Y,te,ae){var V=f.exec(te.slice(ae));return V?(Y.w=h.get(V[0].toLowerCase()),ae+V[0].length):-1}function C(Y,te,ae){var V=x.exec(te.slice(ae));return V?(Y.m=b.get(V[0].toLowerCase()),ae+V[0].length):-1}function O(Y,te,ae){var V=g.exec(te.slice(ae));return V?(Y.m=v.get(V[0].toLowerCase()),ae+V[0].length):-1}function I(Y,te,ae){return E(Y,t,te,ae)}function R(Y,te,ae){return E(Y,r,te,ae)}function T(Y,te,ae){return E(Y,n,te,ae)}function M(Y){return o[Y.getDay()]}function D(Y){return i[Y.getDay()]}function F(Y){return c[Y.getMonth()]}function H(Y){return l[Y.getMonth()]}function Z(Y){return a[+(Y.getHours()>=12)]}function W(Y){return 1+~~(Y.getMonth()/3)}function se(Y){return o[Y.getUTCDay()]}function he(Y){return i[Y.getUTCDay()]}function ge(Y){return c[Y.getUTCMonth()]}function le(Y){return l[Y.getUTCMonth()]}function J(Y){return a[+(Y.getUTCHours()>=12)]}function be(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var te=N(Y+="",w);return te.toString=function(){return Y},te},parse:function(Y){var te=_(Y+="",!1);return te.toString=function(){return Y},te},utcFormat:function(Y){var te=N(Y+="",j);return te.toString=function(){return Y},te},utcParse:function(Y){var te=_(Y+="",!0);return te.toString=function(){return Y},te}}}var b2={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,BQ=/^%/,zQ=/[\\^$*+?|[\]().{}]/g;function Re(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function UQ(e){return e.replace(zQ,"\\$&")}function Ic(e){return new RegExp("^(?:"+e.map(UQ).join("|")+")","i")}function Mc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WQ(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function VQ(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function HQ(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qQ(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function KQ(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function w2(e,t,r){var n=qt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function j2(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GQ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YQ(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function XQ(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function S2(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function JQ(e,t,r){var n=qt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function N2(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function QQ(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ZQ(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function eZ(e,t,r){var n=qt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tZ(e,t,r){var n=qt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rZ(e,t,r){var n=BQ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nZ(e,t,r){var n=qt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aZ(e,t,r){var n=qt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _2(e,t){return Re(e.getDate(),t,2)}function iZ(e,t){return Re(e.getHours(),t,2)}function sZ(e,t){return Re(e.getHours()%12||12,t,2)}function oZ(e,t){return Re(1+Ed.count(Ga(e),e),t,3)}function jM(e,t){return Re(e.getMilliseconds(),t,3)}function lZ(e,t){return jM(e,t)+"000"}function cZ(e,t){return Re(e.getMonth()+1,t,2)}function uZ(e,t){return Re(e.getMinutes(),t,2)}function dZ(e,t){return Re(e.getSeconds(),t,2)}function fZ(e){var t=e.getDay();return t===0?7:t}function hZ(e,t){return Re(xg.count(Ga(e)-1,e),t,2)}function SM(e){var t=e.getDay();return t>=4||t===0?Ml(e):Ml.ceil(e)}function mZ(e,t){return e=SM(e),Re(Ml.count(Ga(e),e)+(Ga(e).getDay()===4),t,2)}function pZ(e){return e.getDay()}function gZ(e,t){return Re(bm.count(Ga(e)-1,e),t,2)}function vZ(e,t){return Re(e.getFullYear()%100,t,2)}function yZ(e,t){return e=SM(e),Re(e.getFullYear()%100,t,2)}function xZ(e,t){return Re(e.getFullYear()%1e4,t,4)}function bZ(e,t){var r=e.getDay();return e=r>=4||r===0?Ml(e):Ml.ceil(e),Re(e.getFullYear()%1e4,t,4)}function wZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Re(t/60|0,"0",2)+Re(t%60,"0",2)}function C2(e,t){return Re(e.getUTCDate(),t,2)}function jZ(e,t){return Re(e.getUTCHours(),t,2)}function SZ(e,t){return Re(e.getUTCHours()%12||12,t,2)}function NZ(e,t){return Re(1+yg.count(Ya(e),e),t,3)}function NM(e,t){return Re(e.getUTCMilliseconds(),t,3)}function _Z(e,t){return NM(e,t)+"000"}function CZ(e,t){return Re(e.getUTCMonth()+1,t,2)}function EZ(e,t){return Re(e.getUTCMinutes(),t,2)}function kZ(e,t){return Re(e.getUTCSeconds(),t,2)}function PZ(e){var t=e.getUTCDay();return t===0?7:t}function AZ(e,t){return Re(bg.count(Ya(e)-1,e),t,2)}function _M(e){var t=e.getUTCDay();return t>=4||t===0?Rl(e):Rl.ceil(e)}function OZ(e,t){return e=_M(e),Re(Rl.count(Ya(e),e)+(Ya(e).getUTCDay()===4),t,2)}function TZ(e){return e.getUTCDay()}function DZ(e,t){return Re(wm.count(Ya(e)-1,e),t,2)}function IZ(e,t){return Re(e.getUTCFullYear()%100,t,2)}function MZ(e,t){return e=_M(e),Re(e.getUTCFullYear()%100,t,2)}function RZ(e,t){return Re(e.getUTCFullYear()%1e4,t,4)}function $Z(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Rl(e):Rl.ceil(e),Re(e.getUTCFullYear()%1e4,t,4)}function LZ(){return"+0000"}function E2(){return"%"}function k2(e){return+e}function P2(e){return Math.floor(+e/1e3)}var Ao,CM,EM;FZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FZ(e){return Ao=FQ(e),CM=Ao.format,Ao.parse,EM=Ao.utcFormat,Ao.utcParse,Ao}function BZ(e){return new Date(e)}function zZ(e){return e instanceof Date?+e:+new Date(+e)}function Lj(e,t,r,n,a,i,o,l,c,d){var u=Nj(),f=u.invert,h=u.domain,m=d(".%L"),p=d(":%S"),g=d("%I:%M"),v=d("%I %p"),x=d("%a %d"),b=d("%b %d"),w=d("%B"),j=d("%Y");function S(N){return(c(N)<N?m:l(N)<N?p:o(N)<N?g:i(N)<N?v:n(N)<N?a(N)<N?x:b:r(N)<N?w:j)(N)}return u.invert=function(N){return new Date(f(N))},u.domain=function(N){return arguments.length?h(Array.from(N,zZ)):h().map(BZ)},u.ticks=function(N){var _=h();return e(_[0],_[_.length-1],N??10)},u.tickFormat=function(N,_){return _==null?S:d(_)},u.nice=function(N){var _=h();return(!N||typeof N.range!="function")&&(N=t(_[0],_[_.length-1],N??10)),N?h(hM(_,N)):u},u.copy=function(){return Cd(u,Lj(e,t,r,n,a,i,o,l,c,d))},u}function UZ(){return Mn.apply(Lj($Q,LQ,Ga,Rj,xg,Ed,Ij,Tj,zs,CM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WZ(){return Mn.apply(Lj(MQ,RQ,Ya,$j,bg,yg,Mj,Dj,zs,EM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wg(){var e=0,t=1,r,n,a,i,o=jr,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),d):[o(0),o(1)]}}return d.range=u(ec),d.rangeRound=u(Sj),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),d}}function ms(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kM(){var e=hs(wg()(jr));return e.copy=function(){return ms(e,kM())},si.apply(e,arguments)}function PM(){var e=Ej(wg()).domain([1,10]);return e.copy=function(){return ms(e,PM()).base(e.base())},si.apply(e,arguments)}function AM(){var e=kj(wg());return e.copy=function(){return ms(e,AM()).constant(e.constant())},si.apply(e,arguments)}function Fj(){var e=Pj(wg());return e.copy=function(){return ms(e,Fj()).exponent(e.exponent())},si.apply(e,arguments)}function VZ(){return Fj.apply(null,arguments).exponent(.5)}function OM(){var e=[],t=jr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Nd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ki),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>PJ(e,i/n))},r.copy=function(){return OM(t).domain(e)},si.apply(r,arguments)}function jg(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,d=jr,u,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-i)*(n*g<n*i?l:c),d(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(d=g,m):d};function p(g){return function(v){var x,b,w;return arguments.length?([x,b,w]=v,d=rQ(g,[x,b,w]),m):[d(0),d(.5),d(1)]}}return m.range=p(ec),m.rangeRound=p(Sj),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return u=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function TM(){var e=hs(jg()(jr));return e.copy=function(){return ms(e,TM())},si.apply(e,arguments)}function DM(){var e=Ej(jg()).domain([.1,1,10]);return e.copy=function(){return ms(e,DM()).base(e.base())},si.apply(e,arguments)}function IM(){var e=kj(jg());return e.copy=function(){return ms(e,IM()).constant(e.constant())},si.apply(e,arguments)}function Bj(){var e=Pj(jg());return e.copy=function(){return ms(e,Bj()).exponent(e.exponent())},si.apply(e,arguments)}function HZ(){return Bj.apply(null,arguments).exponent(.5)}const qc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bj,scaleDiverging:TM,scaleDivergingLog:DM,scaleDivergingPow:Bj,scaleDivergingSqrt:HZ,scaleDivergingSymlog:IM,scaleIdentity:fM,scaleImplicit:S0,scaleLinear:dM,scaleLog:mM,scaleOrdinal:xj,scalePoint:TJ,scalePow:Aj,scaleQuantile:vM,scaleQuantize:yM,scaleRadial:gM,scaleSequential:kM,scaleSequentialLog:PM,scaleSequentialPow:Fj,scaleSequentialQuantile:OM,scaleSequentialSqrt:VZ,scaleSequentialSymlog:AM,scaleSqrt:_Q,scaleSymlog:pM,scaleThreshold:xM,scaleTime:UZ,scaleUtc:WZ,tickFormat:uM},Symbol.toStringTag,{value:"Module"}));var ps=e=>e.chartData,zj=B([ps],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),kd=(e,t,r,n)=>n?zj(e):ps(e);function $l(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(nr(t)&&nr(r))return!0}return!1}function A2(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function qZ(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(nr(r))a=r;else if(typeof r=="function")return;if(nr(n))i=n;else if(typeof n=="function")return;var o=[a,i];if($l(o))return o}}function KZ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($l(n))return A2(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(ie(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&kC.test(a)){var c=kC.exec(a);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ie(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&PC.test(i)){var u=PC.exec(i);if(u==null||t==null)l=void 0;else{var f=+u[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if($l(h))return t==null?h:A2(h,t,r)}}}var tc=1e9,GZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wj,it=!0,On="[DecimalError] ",Ys=On+"Invalid argument: ",Uj=On+"Exponent out of range: ",rc=Math.floor,Ts=Math.pow,YZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hr,Lt=1e7,Ze=7,MM=9007199254740991,jm=rc(MM/Ze),ue={};ue.absoluteValue=ue.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ue.comparedTo=ue.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ue.dividedBy=ue.div=function(e){return Fa(this,new this.constructor(e))};ue.dividedToIntegerBy=ue.idiv=function(e){var t=this,r=t.constructor;return Ue(Fa(t,new r(e),0,1),r.precision)};ue.equals=ue.eq=function(e){return!this.cmp(e)};ue.exponent=function(){return _t(this)};ue.greaterThan=ue.gt=function(e){return this.cmp(e)>0};ue.greaterThanOrEqualTo=ue.gte=function(e){return this.cmp(e)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(e){return this.cmp(e)<0};ue.lessThanOrEqualTo=ue.lte=function(e){return this.cmp(e)<1};ue.logarithm=ue.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Hr))throw Error(On+"NaN");if(r.s<1)throw Error(On+(r.s?"NaN":"-Infinity"));return r.eq(Hr)?new n(0):(it=!1,t=Fa(Hu(r,i),Hu(e,i),i),it=!0,Ue(t,a))};ue.minus=ue.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LM(t,e):RM(t,(e.s=-e.s,e))};ue.modulo=ue.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(On+"NaN");return r.s?(it=!1,t=Fa(r,e,0,1).times(e),it=!0,r.minus(t)):Ue(new n(r),a)};ue.naturalExponential=ue.exp=function(){return $M(this)};ue.naturalLogarithm=ue.ln=function(){return Hu(this)};ue.negated=ue.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ue.plus=ue.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RM(t,e):LM(t,(e.s=-e.s,e))};ue.precision=ue.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ys+e);if(t=_t(a)+1,n=a.d.length-1,r=n*Ze+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ue.squareRoot=ue.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(On+"NaN")}for(e=_t(l),it=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=fa(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=rc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Fa(l,i,o+2)).times(.5),fa(i.d).slice(0,o)===(t=fa(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ue(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return it=!0,Ue(n,r)};ue.times=ue.mul=function(e){var t,r,n,a,i,o,l,c,d,u=this,f=u.constructor,h=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=m.length,c<d&&(i=h,h=m,m=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%Lt|0,t=l/Lt|0;i[a]=(i[a]+t)%Lt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,it?Ue(e,f.precision):e};ue.toDecimalPlaces=ue.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ba(e,0,tc),t===void 0?t=n.rounding:ba(t,0,8),Ue(r,e+_t(r)+1,t))};ue.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=so(n,!0):(ba(e,0,tc),t===void 0?t=a.rounding:ba(t,0,8),n=Ue(new a(n),e+1,t),r=so(n,!0,e+1)),r};ue.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?so(a):(ba(e,0,tc),t===void 0?t=i.rounding:ba(t,0,8),n=Ue(new i(a),e+_t(a)+1,t),r=so(n.abs(),!1,e+_t(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ue.toInteger=ue.toint=function(){var e=this,t=e.constructor;return Ue(new t(e),_t(e)+1,t.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Hr);if(l=new c(l),!l.s){if(e.s<1)throw Error(On+"Infinity");return l}if(l.eq(Hr))return l;if(n=c.precision,e.eq(Hr))return Ue(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=MM){for(a=new c(Hr),t=Math.ceil(n/Ze+4),it=!1;r%2&&(a=a.times(l),T2(a.d,t)),r=rc(r/2),r!==0;)l=l.times(l),T2(l.d,t);return it=!0,e.s<0?new c(Hr).div(a):Ue(a,n)}}else if(i<0)throw Error(On+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,it=!1,a=e.times(Hu(l,n+d)),it=!0,a=$M(a),a.s=i,a};ue.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=_t(a),n=so(a,r<=i.toExpNeg||r>=i.toExpPos)):(ba(e,1,tc),t===void 0?t=i.rounding:ba(t,0,8),a=Ue(new i(a),e,t),r=_t(a),n=so(a,e<=r||r<=i.toExpNeg,e)),n};ue.toSignificantDigits=ue.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ba(e,1,tc),t===void 0?t=n.rounding:ba(t,0,8)),Ue(new n(r),e,t)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_t(e),r=e.constructor;return so(e,t<=r.toExpNeg||t>=r.toExpPos)};function RM(e,t){var r,n,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),it?Ue(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(f/Ze),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Lt|0,c[i]%=Lt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,it?Ue(t,f):t}function ba(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ys+e)}function fa(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ze-n.length,r&&(i+=ji(r)),i+=n;o=e[t],n=o+"",r=Ze-n.length,r&&(i+=ji(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fa=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Lt|0,o=i/Lt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Lt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,f,h,m,p,g,v,x,b,w,j,S,N,_,E,k=n.constructor,P=n.s==a.s?1:-1,A=n.d,C=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(On+"Division by zero");for(c=n.e-a.e,_=C.length,S=A.length,m=new k(P),p=m.d=[],d=0;C[d]==(A[d]||0);)++d;if(C[d]>(A[d]||0)&&--c,i==null?b=i=k.precision:o?b=i+(_t(n)-_t(a))+1:b=i,b<0)return new k(0);if(b=b/Ze+2|0,d=0,_==1)for(u=0,C=C[0],b++;(d<S||u)&&b--;d++)w=u*Lt+(A[d]||0),p[d]=w/C|0,u=w%C|0;else{for(u=Lt/(C[0]+1)|0,u>1&&(C=e(C,u),A=e(A,u),_=C.length,S=A.length),j=_,g=A.slice(0,_),v=g.length;v<_;)g[v++]=0;E=C.slice(),E.unshift(0),N=C[0],C[1]>=Lt/2&&++N;do u=0,l=t(C,g,_,v),l<0?(x=g[0],_!=v&&(x=x*Lt+(g[1]||0)),u=x/N|0,u>1?(u>=Lt&&(u=Lt-1),f=e(C,u),h=f.length,v=g.length,l=t(f,g,h,v),l==1&&(u--,r(f,_<h?E:C,h))):(u==0&&(l=u=1),f=C.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(C,g,_,v),l<1&&(u++,r(g,_<v?E:C,v))),v=g.length):l===0&&(u++,g=[0]),p[d++]=u,l&&g[0]?g[v++]=A[j]||0:(g=[A[j]],v=1);while((j++<S||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,Ue(m,o?i+_t(m)+1:i)}}();function $M(e,t){var r,n,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(_t(e)>16)throw Error(Uj+_t(e));if(!e.s)return new u(Hr);for(it=!1,l=f,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Ts(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(Hr),u.precision=l;;){if(a=Ue(a.times(e),l),r=r.times(++c),o=i.plus(Fa(a,r,l)),fa(o.d).slice(0,l)===fa(i.d).slice(0,l)){for(;d--;)i=Ue(i.times(i),l);return u.precision=f,t==null?(it=!0,Ue(i,f)):i}i=o}}function _t(e){for(var t=e.e*Ze,r=e.d[0];r>=10;r/=10)t++;return t}function my(e,t,r){if(t>e.LN10.sd())throw it=!0,r&&(e.precision=r),Error(On+"LN10 precision limit exceeded");return Ue(new e(e.LN10),t)}function ji(e){for(var t="";e--;)t+="0";return t}function Hu(e,t){var r,n,a,i,o,l,c,d,u,f=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(On+(m.s?"NaN":"-Infinity"));if(m.eq(Hr))return new g(0);if(t==null?(it=!1,d=v):d=t,m.eq(10))return t==null&&(it=!0),my(g,d);if(d+=h,g.precision=d,r=fa(p),n=r.charAt(0),i=_t(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=fa(m.d),n=r.charAt(0),f++;i=_t(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return c=my(g,d+2,v).times(i+""),m=Hu(new g(n+"."+r.slice(1)),d-h).plus(c),g.precision=v,t==null?(it=!0,Ue(m,v)):m;for(l=o=m=Fa(m.minus(Hr),m.plus(Hr),d),u=Ue(m.times(m),d),a=3;;){if(o=Ue(o.times(u),d),c=l.plus(Fa(o,new g(a),d)),fa(c.d).slice(0,d)===fa(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(my(g,d+2,v).times(i+""))),l=Fa(l,new g(f),d),g.precision=v,t==null?(it=!0,Ue(l,v)):l;l=c,a+=2}}function O2(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=rc(r/Ze),e.d=[],n=(r+1)%Ze,r<0&&(n+=Ze),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ze;n<a;)e.d.push(+t.slice(n,n+=Ze));t=t.slice(n),n=Ze-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),it&&(e.e>jm||e.e<-jm))throw Error(Uj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ue(e,t,r){var n,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ze,a=t,d=f[u=0];else{if(u=Math.ceil((n+1)/Ze),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;n%=Ze,a=n-Ze+o}if(r!==void 0&&(i=Ts(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/Ts(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=_t(e),f.length=1,t=t-i-1,f[0]=Ts(10,(Ze-t%Ze)%Ze),e.e=rc(-t/Ze)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=Ts(10,Ze-n),f[u]=a>0?(d/Ts(10,o-a)%Ts(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Lt&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Lt)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(it&&(e.e>jm||e.e<-jm))throw Error(Uj+_t(e));return e}function LM(e,t){var r,n,a,i,o,l,c,d,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),it?Ue(t,m):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,n=d,l=c.length),a=Math.max(Math.ceil(m/Ze),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Lt-1;--c[i],c[a]+=Lt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,it?Ue(t,m):t):new h(0)}function so(e,t,r){var n,a=_t(e),i=fa(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ji(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ji(-a-1)+i,r&&(n=r-o)>0&&(i+=ji(n))):a>=o?(i+=ji(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ji(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ji(n))),e.s<0?"-"+i:i}function T2(e,t){if(e.length>t)return e.length=t,!0}function FM(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ys+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return O2(o,i.toString())}else if(typeof i!="string")throw Error(Ys+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,YZ.test(i))O2(o,i);else throw Error(Ys+i)}if(a.prototype=ue,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=FM,a.config=a.set=XZ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function XZ(e){if(!e||typeof e!="object")throw Error(On+"Object expected");var t,r,n,a=["precision",1,tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(rc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ys+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ys+r+": "+n);return this}var Wj=FM(GZ);Hr=new Wj(1);const Le=Wj;var JZ=e=>e,BM={},zM=e=>e===BM,D2=e=>function t(){return arguments.length===0||arguments.length===1&&zM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},UM=(e,t)=>e===1?t:D2(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==BM).length;return i>=e?t(...n):UM(e-i,D2(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>zM(u)?l.shift():u);return t(...d,...l)}))}),Sg=e=>UM(e.length,e),E0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},QZ=Sg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),ZZ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return JZ;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},k0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),WM=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function VM(e){var t;return e===0?t=1:t=Math.floor(new Le(e).abs().log(10).toNumber())+1,t}function HM(e,t,r){for(var n=new Le(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Sg((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Sg((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Sg((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var qM=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},KM=(e,t,r)=>{if(e.lte(0))return new Le(0);var n=VM(e.toNumber()),a=new Le(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Le(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?new Le(c.toNumber()):new Le(Math.ceil(c.toNumber()))},eee=(e,t,r)=>{var n=new Le(1),a=new Le(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Le(10).pow(VM(e)-1),a=new Le(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Le(Math.floor(e)))}else e===0?a=new Le(Math.floor((t-1)/2)):r||(a=new Le(Math.floor(e)));var o=Math.floor((t-1)/2),l=ZZ(QZ(c=>a.add(new Le(c-o).mul(n)).toNumber()),E0);return l(0,t)},GM=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var o=KM(new Le(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new Le(0):(l=new Le(t).add(r).div(2),l=l.sub(new Le(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Le(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?GM(t,r,n,a,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new Le(c).mul(o)),tickMax:l.add(new Le(d).mul(o))})};function tee(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=qM([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...E0(0,n-1).map(()=>1/0)]:[...E0(0,n-1).map(()=>-1/0),l];return t>r?k0(c):c}if(o===l)return eee(o,n,a);var{step:d,tickMin:u,tickMax:f}=GM(o,l,i,a,0),h=HM(u,f.add(new Le(.1).mul(d)),d);return t>r?k0(h):h}function ree(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=qM([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=KM(new Le(o).sub(i).div(l-1),a,0),d=[...HM(new Le(i),new Le(o),c),o];return a===!1&&(d=d.map(u=>Math.round(u))),r>n?k0(d):d}var nee=WM(tee),aee=WM(ree),YM=e=>e.rootProps.maxBarSize,iee=e=>e.rootProps.barGap,XM=e=>e.rootProps.barCategoryGap,see=e=>e.rootProps.barSize,Pd=e=>e.rootProps.stackOffset,Vj=e=>e.options.chartName,Hj=e=>e.rootProps.syncId,JM=e=>e.rootProps.syncMethod,qj=e=>e.options.eventEmitter,Oa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ng=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},oee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Oa.angleAxisId,includeHidden:!1,name:void 0,reversed:Oa.reversed,scale:Oa.scale,tick:Oa.tick,tickCount:void 0,ticks:void 0,type:Oa.type,unit:void 0},lee={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ur.scale,tick:Ur.tick,tickCount:Ur.tickCount,ticks:void 0,type:Ur.type,unit:void 0},cee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Oa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Oa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Oa.scale,tick:Oa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uee={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ur.scale,tick:Ur.tick,tickCount:Ur.tickCount,ticks:void 0,type:"category",unit:void 0},Kj=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?cee:oee,Gj=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?uee:lee,_g=e=>e.polarOptions,Yj=B([ai,ii,Dt],wI),QM=B([_g,Yj],(e,t)=>{if(e!=null)return _r(e.innerRadius,t,0)}),ZM=B([_g,Yj],(e,t)=>{if(e!=null)return _r(e.outerRadius,t,t*.8)}),dee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},eR=B([_g],dee);B([Kj,eR],Ng);var tR=B([Yj,QM,ZM],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});B([Gj,tR],Ng);var rR=B([Ce,_g,QM,ZM,ai,ii],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:_r(o,a,a/2),cy:_r(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),st=(e,t)=>t,Ad=(e,t,r)=>r;function Cg(e){return e==null?void 0:e.id}var Mt=e=>{var t=Ce(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},nc=e=>e.tooltip.settings.axisId,Rt=e=>{var t=Mt(e),r=nc(e);return Od(e,t,r)};function nR(e,t,r){var{chartData:n=[]}=t,a=r==null?void 0:r.dataKey,i=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var d=Cg(o);c.forEach((u,f)=>{var h=a==null?f:String(Fe(u,a,null)),m=Fe(u,o.dataKey,0),p;i.has(h)?p=i.get(h):p={},Object.assign(p,{[d]:m}),i.set(h,p)})}}),Array.from(i.values())}function Eg(e){return e.stackId!=null&&e.dataKey!=null}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){fee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fee(e,t,r){return(t=hee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hee(e){var t=mee(e,"string");return typeof t=="symbol"?t:t+""}function mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P0=[0,"auto"],Fr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},oi=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Fr},Br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:P0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mg},gs=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Br},pee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Xj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??pee},wt=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return gs(e,r);case"zAxis":return Xj(e,r);case"angleAxis":return Kj(e,r);case"radiusAxis":return Gj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gee=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return gs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Od=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return gs(e,r);case"angleAxis":return Kj(e,r);case"radiusAxis":return Gj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},aR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Jj(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Td=e=>e.graphicalItems.cartesianItems,vee=B([st,Ad],Jj),Qj=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Dd=B([Td,wt,vee],Qj),iR=B([Dd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Eg)),sR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),oR=B([Dd],sR),Zj=e=>e.map(t=>t.data).filter(Boolean).flat(1),yee=B([Dd],Zj),e1=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},t1=B([yee,kd],e1),r1=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Fe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Fe(a,n)}))):e.map(n=>({value:n})),kg=B([t1,wt,Dd],r1);function lR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function wo(e){return e.filter(t=>xa(t)||t instanceof Date).map(Number).filter(t=>Lr(t)===!1)}function xee(e,t,r){return!r||typeof t!="number"||Lr(t)?[]:r.length?wo(r.flatMap(n=>{var a=Fe(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!nr(i)||!nr(o)))return[t-i,t+o]})):[]}var bee=B([iR,kd,Rt],nR),cR=(e,t,r)=>{var n={},a=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[o,l]=i,c=l.map(Cg);return[o,{stackedData:qY(e,c,r),graphicalItems:l}]}))},qu=B([bee,iR,Pd],cR),uR=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=XY(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},wee=B([qu,ps,st],uR),dR=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,d=(l=n[o.id])===null||l===void 0?void 0:l.filter(f=>lR(a,f)),u=Fe(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:xee(i,u,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Fe(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Pg=e=>e.errorBars,fR=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>lR(r,n));B([oR,Pg,st],fR);var jee=B([t1,wt,oR,Pg,st],dR);function See(e){var{value:t}=e;if(xa(t)||t instanceof Date)return t}var M2=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=wo(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nee=(e,t,r)=>{var n=e.map(See).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&rD(n))?eM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},n1=e=>{var t;if(e==null||!("domain"in e))return P0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=wo(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:P0},Nm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},hR=e=>e.referenceElements.dots,ac=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),_ee=B([hR,st,Ad],ac),mR=e=>e.referenceElements.areas,Cee=B([mR,st,Ad],ac),pR=e=>e.referenceElements.lines,Eee=B([pR,st,Ad],ac),gR=(e,t)=>{var r=wo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},kee=B(_ee,st,gR),vR=(e,t)=>{var r=wo(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pee=B([Cee,st],vR),yR=(e,t)=>{var r=wo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Aee=B(Eee,st,yR),Oee=B(kee,Aee,Pee,(e,t,r)=>Nm(e,r,t)),xR=B([wt],n1),a1=(e,t,r,n,a,i,o)=>{var l=qZ(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",d=c?Nm(r,a,M2(n)):Nm(a,M2(n));return KZ(t,d,e.allowDataOverflow)},Tee=B([wt,xR,wee,jee,Oee,Ce,st],a1),Dee=[0,1],i1=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,d=Na(t,i);return d&&l==null?eM(0,r.length):c==="category"?Nee(n,e,d):a==="expand"?Dee:o}},s1=B([wt,Ce,t1,kg,Pd,st,Tee],i1),bR=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(bd(i));return l in qc?l:"point"}}},ic=B([wt,Ce,aR,Vj,st],bR);function Iee(e){if(e!=null){if(e in qc)return qc[e]();var t="scale".concat(bd(e));if(t in qc)return qc[t]()}}function o1(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Iee(t);if(a!=null){var i=a.domain(r).range(n);return zY(i),i}}}var l1=(e,t,r)=>{var n=n1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$l(e))return nee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$l(e))return aee(e,t.tickCount,t.allowDecimals)}},c1=B([s1,Od,ic],l1),u1=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$l(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},Mee=B([wt,s1,c1,st],u1),Ree=B(kg,wt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(wo(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/a}}),wR=B(Ree,Ce,XM,Dt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!nr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=_r(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),$ee=(e,t)=>{var r=oi(e,t);return r==null||typeof r.padding!="string"?0:wR(e,"xAxis",t,r.padding)},Lee=(e,t)=>{var r=gs(e,t);return r==null||typeof r.padding!="string"?0:wR(e,"yAxis",t,r.padding)},Fee=B(oi,$ee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Bee=B(gs,Lee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),zee=B([Dt,Fee,gg,pg,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Uee=B([Dt,Ce,Bee,gg,pg,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Id=(e,t,r,n)=>{var a;switch(t){case"xAxis":return zee(e,r,n);case"yAxis":return Uee(e,r,n);case"zAxis":return(a=Xj(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return eR(e);case"radiusAxis":return tR(e,r);default:return}},jR=B([wt,Id],Ng),sc=B([wt,ic,Mee,jR],o1);B([Dd,Pg,st],fR);function SR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ag=(e,t)=>t,Og=(e,t,r)=>r,Wee=B(mj,Ag,Og,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SR)),Vee=B(pj,Ag,Og,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SR)),NR=(e,t)=>({width:e.width,height:t.height}),Hee=(e,t)=>{var r=typeof t.width=="number"?t.width:mg;return{width:r,height:e.height}},_R=B(Dt,oi,NR),qee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Kee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Gee=B(ii,Dt,Wee,Ag,Og,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=NR(t,l);o==null&&(o=qee(t,n,e));var d=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),Yee=B(ai,Dt,Vee,Ag,Og,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var c=Hee(t,l);o==null&&(o=Kee(t,n,e));var d=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),Xee=(e,t)=>{var r=Dt(e),n=oi(e,t);if(n!=null){var a=Gee(e,n.orientation,n.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},Jee=(e,t)=>{var r=Dt(e),n=gs(e,t);if(n!=null){var a=Yee(e,n.orientation,n.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},CR=B(Dt,gs,(e,t)=>{var r=typeof t.width=="number"?t.width:mg;return{width:r,height:e.height}}),R2=(e,t,r)=>{switch(t){case"xAxis":return _R(e,r).width;case"yAxis":return CR(e,r).height;default:return}},ER=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=Na(e,n),c=t.map(d=>d.value);if(o&&l&&i==="category"&&a&&rD(c))return c}},d1=B([Ce,kg,wt,st],ER),kR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Na(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},f1=B([Ce,kg,Od,st],kR),$2=B([Ce,gee,ic,sc,d1,f1,Id,c1,st],(e,t,r,n,a,i,o,l,c)=>{if(t==null)return null;var d=Na(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}),Qee=(e,t,r,n,a,i,o,l,c)=>{if(!(t==null||n==null)){var d=Na(e,c),{type:u,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?zt(i[0]-i[1])*2*p:p;var g=f||a;if(g){var v=g.map((x,b)=>{var w=o?o.indexOf(x):x;return{index:b,coordinate:n(w)+p,value:x,offset:p}});return v.filter(x=>!Lr(x.coordinate))}return d&&l?l.map((x,b)=>({coordinate:n(x)+p,value:x,index:b,offset:p})):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+p,value:x,offset:p})):n.domain().map((x,b)=>({coordinate:n(x)+p,value:o?o[x]:x,index:b,offset:p}))}},PR=B([Ce,Od,ic,sc,c1,Id,d1,f1,st],Qee),Zee=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Na(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?zt(n[0]-n[1])*2*d:d,l&&i?i.map((u,f)=>({coordinate:r(u)+d,value:u,index:f,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,f)=>({coordinate:r(u)+d,value:a?a[u]:u,index:f,offset:d}))}},wa=B([Ce,Od,sc,Id,d1,f1,st],Zee),ja=B(wt,sc,(e,t)=>{if(!(e==null||t==null))return Sm(Sm({},e),{},{scale:t})}),ete=B([wt,ic,s1,jR],o1);B((e,t,r)=>Xj(e,r),ete,(e,t)=>{if(!(e==null||t==null))return Sm(Sm({},e),{},{scale:t})});var tte=B([Ce,mj,pj],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),AR=e=>e.options.defaultTooltipEventType,OR=e=>e.options.validateTooltipEventTypes;function TR(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function h1(e,t){var r=AR(e),n=OR(e);return TR(t,r,n)}function rte(e){return me(t=>h1(t,e))}var DR=(e,t)=>{var r,n=Number(t);if(!(Lr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},nte=e=>e.tooltip.settings,Ei={active:!1,index:null,dataKey:void 0,coordinate:void 0},ate={itemInteraction:{click:Ei,hover:Ei},axisInteraction:{click:Ei,hover:Ei},keyboardInteraction:Ei,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},IR=ln({name:"tooltip",initialState:ate,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=La(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ite,removeTooltipEntrySettings:ste,setTooltipSettingsState:ote,setActiveMouseOverItemIndex:MR,mouseLeaveItem:lte,mouseLeaveChart:RR,setActiveClickItemIndex:cte,setMouseOverAxisIndex:$R,setMouseClickAxisIndex:ute,setSyncInteraction:A0,setKeyboardInteraction:O0}=IR.actions,dte=IR.reducer;function L2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(r),!0).forEach(function(n){fte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fte(e,t,r){return(t=hte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function gte(e){return e.index!=null}var LR=(e,t,r,n)=>{if(t==null)return Ei;var a=pte(e,t,r);if(a==null)return Ei;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(gte(a)){if(i)return Af(Af({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Af(Af({},Ei),{},{coordinate:a.coordinate})},m1=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!nr(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},FR=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},BR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===a})},Md=e=>e.options.tooltipPayloadSearcher,oc=e=>e.tooltip;function F2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(r),!0).forEach(function(n){vte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vte(e,t,r){return(t=yte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bte(e,t){return e??t}var zR=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:v}=m,x=bte(g,l),b=Array.isArray(x)?jI(x,d,u):x,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,j=v==null?void 0:v.nameKey,S;if(n!=null&&n.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?S=nD(b,n.dataKey,a):S=i(b,t,c,j),Array.isArray(S))S.forEach(_=>{var E=B2(B2({},v),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(AC({tooltipEntrySettings:E,dataKey:_.dataKey,payload:_.payload,value:Fe(_.payload,_.dataKey),name:_.name}))});else{var N;h.push(AC({tooltipEntrySettings:v,dataKey:w,payload:S,value:Fe(S,w),name:(N=Fe(S,j))!==null&&N!==void 0?N:v==null?void 0:v.name}))}return h},f)}},p1=B([Rt,Ce,aR,Vj,Mt],bR),wte=B([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jte=B([Mt,nc],Jj),Rd=B([wte,Rt,jte],Qj),Ste=B([Rd],e=>e.filter(Eg)),Nte=B([Rd],Zj),lc=B([Nte,ps],e1),_te=B([Ste,ps,Rt],nR),g1=B([lc,Rt,Rd],r1),Cte=B([Rt],n1),Ete=B([Rd],e=>e.filter(Eg)),kte=B([_te,Ete,Pd],cR),Pte=B([kte,ps,Mt],uR),Ate=B([Rd],sR),Ote=B([lc,Rt,Ate,Pg,Mt],dR),Tte=B([hR,Mt,nc],ac),Dte=B([Tte,Mt],gR),Ite=B([mR,Mt,nc],ac),Mte=B([Ite,Mt],vR),Rte=B([pR,Mt,nc],ac),$te=B([Rte,Mt],yR),Lte=B([Dte,$te,Mte],Nm),Fte=B([Rt,Cte,Pte,Ote,Lte,Ce,Mt],a1),UR=B([Rt,Ce,lc,g1,Pd,Mt,Fte],i1),Bte=B([UR,Rt,p1],l1),zte=B([Rt,UR,Bte,Mt],u1),WR=e=>{var t=Mt(e),r=nc(e),n=!1;return Id(e,t,r,n)},VR=B([Rt,WR],Ng),HR=B([Rt,p1,zte,VR],o1),Ute=B([Ce,g1,Rt,Mt],ER),Wte=B([Ce,g1,Rt,Mt],kR),Vte=(e,t,r,n,a,i,o,l)=>{if(t){var{type:c}=t,d=Na(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?zt(a[0]-a[1])*2*f:f,d&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},li=B([Ce,Rt,p1,HR,WR,Ute,Wte,Mt],Vte),v1=B([AR,OR,nte],(e,t,r)=>TR(r.shared,e,t)),qR=e=>e.tooltip.settings.trigger,y1=e=>e.tooltip.settings.defaultIndex,Tg=B([oc,v1,qR,y1],LR),Zi=B([Tg,lc],m1),KR=B([li,Zi],DR),GR=B([Tg],e=>{if(e)return e.dataKey}),YR=B([oc,v1,qR,y1],BR),Hte=B([ai,ii,Ce,Dt,li,y1,YR,Md],FR),qte=B([Tg,Hte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Kte=B([Tg],e=>e.active),Gte=B([YR,Zi,ps,Rt,KR,Md,v1],zR),Yte=B([Gte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(n){Xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xte(e,t,r){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jte(e){var t=Qte(e,"string");return typeof t=="symbol"?t:t+""}function Qte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zte=()=>me(Rt),ere=()=>{var e=Zte(),t=me(li),r=me(HR);return io(U2(U2({},e),{},{scale:r}),t)},XR=()=>me(Vj),x1=(e,t)=>t,JR=(e,t,r)=>r,b1=(e,t,r,n)=>n,tre=B(li,e=>og(e,t=>t.coordinate)),w1=B([oc,x1,JR,b1],LR),QR=B([w1,lc],m1),rre=(e,t,r)=>{if(t!=null){var n=oc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ZR=B([oc,x1,JR,b1],BR),_m=B([ai,ii,Ce,Dt,li,b1,ZR,Md],FR),nre=B([w1,_m],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),e4=B(li,QR,DR),are=B([ZR,QR,ps,Rt,e4,Md,x1],zR),ire=B([w1],e=>({isActive:e.active,activeIndex:e.index})),sre=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i)){var c=JY(e.chartX,e.chartY,t,r,l);if(c){var d=ZY(c,t),u=FY(d,o,i,n,a),f=QY(t,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(null,arguments)}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ore(e,t,r){return(t=lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lre(e){var t=cre(e,"string");return typeof t=="symbol"?t:t+""}function cre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ure(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,f=r,h=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var m,p;if(d==="ScatterChart")m=u,p=RX;else if(d==="BarChart")m=$X(o,u,a,i),p=KI;else if(o==="radial"){var{cx:g,cy:v,radius:x,startAngle:b,endAngle:w}=GI(u);m={cx:g,cy:v,startAngle:b,endAngle:w,innerRadius:x,outerRadius:x},p=XI}else m={points:gJ(o,u,a)},p=ol;var j=typeof l=="object"&&"className"in l?l.className:void 0,S=Of(Of(Of(Of({stroke:"#ccc",pointerEvents:"none"},a),m),Ge(l,!1)),{},{payload:f,payloadIndex:h,className:Pe("recharts-tooltip-cursor",j)});return y.isValidElement(l)?y.cloneElement(l,S):y.createElement(p,S)}function dre(e){var t=ere(),r=AI(),n=Sd(),a=XR();return y.createElement(ure,T0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var t4=y.createContext(null),fre=()=>y.useContext(t4),r4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,f||c,h),p=r?r+d:d;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,h,m,p){var g=r?r+d:d;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,m),!0;case 6:return v.fn.call(v.context,u,f,h,m,p),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,S;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(d,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,h){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var g=0,v=[],x=p.length;g<x;g++)(p[g].fn!==u||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(r4);var hre=r4.exports;const mre=Tn(hre);var Ku=new mre,D0="recharts.syncEvent.tooltip",V2="recharts.syncEvent.brush";function Dg(e,t){if(t){var r=Number.parseInt(t,10);if(!Lr(r))return e==null?void 0:e[r]}}var pre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},n4=ln({name:"options",initialState:pre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gre=n4.reducer,{createEventEmitter:vre}=n4.actions;function yre(e){return e.tooltip.syncInteraction}var xre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},a4=ln({name:"chartData",initialState:xre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:H2,setDataStartEndIndexes:bre,setComputedData:uge}=a4.actions,wre=a4.reducer,i4=()=>{};function jre(){var e=me(Hj),t=me(qj),r=bt(),n=me(JM),a=me(li),i=Sd(),o=gj(),l=me(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return i4;var c=(d,u,f)=>{if(t!==f&&e===d){if(n==="index"){r(u);return}if(a!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},p=n(a,m);h=a[p]}else n==="value"&&(h=a.find(N=>String(N.value)===u.payload.label));var{coordinate:g}=u.payload;if(h==null||u.payload.active===!1||g==null||o==null){r(A0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:x}=g,b=Math.min(v,o.x+o.width),w=Math.min(x,o.y+o.height),j={x:i==="horizontal"?h.coordinate:b,y:i==="horizontal"?w:h.coordinate},S=A0({active:u.payload.active,coordinate:j,dataKey:u.payload.dataKey,index:String(h.index),label:u.payload.label});r(S)}}};return Ku.on(D0,c),()=>{Ku.off(D0,c)}},[l,r,t,e,n,a,i,o])}function Sre(){var e=me(Hj),t=me(qj),r=bt();y.useEffect(()=>{if(e==null)return i4;var n=(a,i,o)=>{t!==o&&e===a&&r(bre(i))};return Ku.on(V2,n),()=>{Ku.off(V2,n)}},[r,t,e])}function Nre(){var e=bt();y.useEffect(()=>{e(vre())},[e]),jre(),Sre()}function _re(e,t,r,n,a,i){var o=me(h=>rre(h,e,t)),l=me(qj),c=me(Hj),d=me(JM),u=me(yre),f=u==null?void 0:u.active;y.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=A0({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n});Ku.emit(D0,c,h,l)}},[f,r,o,a,n,l,c,d,i])}function q2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q2(Object(r),!0).forEach(function(n){Cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cre(e,t,r){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ere(e){var t=kre(e,"string");return typeof t=="symbol"?t:t+""}function kre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pre(e){return e.dataKey}function Are(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(mX,t)}var G2=[],Ore={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!fs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ll(e){var t=kr(e,Ore),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:g,shared:v,trigger:x,defaultIndex:b,portal:w,axisId:j}=t,S=bt(),N=typeof b=="number"?String(b):b;y.useEffect(()=>{S(ote({shared:v,trigger:x,axisId:j,active:r,defaultIndex:N}))},[S,v,x,j,r,N]);var _=gj(),E=RI(),k=rte(v),{activeIndex:P,isActive:A}=me(ge=>ire(ge,k,x,N)),C=me(ge=>are(ge,k,x,N)),O=me(ge=>e4(ge,k,x,N)),I=me(ge=>nre(ge,k,x,N)),R=C,T=fre(),M=r??A,[D,F]=PG([R,M]),H=k==="axis"?O:void 0;_re(k,x,I,H,P,M);var Z=w??T;if(Z==null)return null;var W=R??G2;M||(W=G2),l&&W.length&&(W=KK(R.filter(ge=>ge.value!=null&&(ge.hide!==!0||t.includeHidden)),u,Pre));var se=W.length>0,he=y.createElement(wX,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:M,coordinate:I,hasPayload:se,offset:d,position:f,reverseDirection:h,useTranslate3d:m,viewBox:_,wrapperStyle:p,lastBoundingBox:D,innerRef:F,hasPortalFromProps:!!w},Are(o,K2(K2({},t),{},{payload:W,label:H,active:M,coordinate:I,accessibilityLayer:E})));return y.createElement(y.Fragment,null,is.createPortal(he,Z),M&&y.createElement(dre,{cursor:g,tooltipEventType:k,coordinate:I,payload:R,index:P}))}var s4={},o4={},l4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{d&&u(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),o=void 0,l=null},v=()=>{u()},x=function(...b){if(a!=null&&a.aborted)return;o=this,l=b;const w=h==null;m(),c&&w&&u()};return x.schedule=m,x.cancel=g,x.flush=v,a==null||a.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(l4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l4;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,f=null;const h=t.debounce(function(...g){u=n.apply(this,g),f=null},a,{edges:d}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},p=()=>(h.flush(),u);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(o4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o4;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(s4);var Tre=s4.throttle;const Dre=Tn(Tre);var lu=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function py(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y2(Object(r),!0).forEach(function(n){Ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ire(e,t,r){return(t=Mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mre(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ha=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:f,className:h,onResize:m,style:p={}}=e,g=y.useRef(null),v=y.useRef();v.current=m,y.useImperativeHandle(t,()=>g.current);var[x,b]=y.useState({containerWidth:n.width,containerHeight:n.height}),w=y.useCallback((S,N)=>{b(_=>{var E=Math.round(S),k=Math.round(N);return _.containerWidth===E&&_.containerHeight===k?_:{containerWidth:E,containerHeight:k}})},[]);y.useEffect(()=>{var S=k=>{var P,{width:A,height:C}=k[0].contentRect;w(A,C),(P=v.current)===null||P===void 0||P.call(v,A,C)};u>0&&(S=Dre(S,u,{trailing:!0,leading:!1}));var N=new ResizeObserver(S),{width:_,height:E}=g.current.getBoundingClientRect();return w(_,E),N.observe(g.current),()=>{N.disconnect()}},[w,u]);var j=y.useMemo(()=>{var{containerWidth:S,containerHeight:N}=x;if(S<0||N<0)return null;lu(Ls(a)||Ls(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),lu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=Ls(a)?S:a,E=Ls(i)?N:i;return r&&r>0&&(_?E=_/r:E&&(_=E*r),c&&E>c&&(E=c)),lu(_>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,E,a,i,o,l,r),y.Children.map(d,k=>y.cloneElement(k,{width:_,height:E,style:py({width:_,height:E},k.props.style)}))},[r,d,i,c,l,o,x,a]);return y.createElement("div",{id:f?"".concat(f):void 0,className:Pe("recharts-responsive-container",h),style:py(py({},p),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:g},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),oo=e=>null;oo.displayName="Cell";function $re(e,t,r){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lre(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bre{constructor(t){$re(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function X2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X2(Object(r),!0).forEach(function(n){Ure(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ure(e,t,r){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hre={cacheSize:2e3,enableCache:!0},c4=zre({},Hre),J2=new Bre(c4.cacheSize),qre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Q2="recharts_measurement_span";function Kre(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var Z2=(e,t)=>{try{var r=document.getElementById(Q2);r||(r=document.createElement("span"),r.setAttribute("id",Q2),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qre,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},cu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fs.isSsr)return{width:0,height:0};if(!c4.enableCache)return Z2(t,r);var n=Kre(t,r),a=J2.get(n);if(a)return a;var i=Z2(t,r);return J2.set(n,i),i},eE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,u4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xre=Object.keys(u4),Xo="NaN";function Jre(e,t){return e*u4[t]}class Ar{static parse(t){var r,[,n,a]=(r=Yre.exec(t))!==null&&r!==void 0?r:[];return new Ar(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Lr(t)&&(this.unit=""),r!==""&&!Gre.test(r)&&(this.num=NaN,this.unit=""),Xre.includes(r)&&(this.num=Jre(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ar(NaN,""):new Ar(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Lr(this.num)}}function d4(e){if(e.includes(Xo))return Xo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=eE.exec(t))!==null&&r!==void 0?r:[],o=Ar.parse(n??""),l=Ar.parse(i??""),c=a==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Xo;t=t.replace(eE,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,h]=(d=tE.exec(t))!==null&&d!==void 0?d:[],m=Ar.parse(u??""),p=Ar.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return Xo;t=t.replace(tE,g.toString())}return t}var rE=/\(([^()]*)\)/;function Qre(e){for(var t=e,r;(r=rE.exec(t))!=null;){var[,n]=r;t=t.replace(rE,d4(n))}return t}function Zre(e){var t=e.replace(/\s+/g,"");return t=Qre(t),t=d4(t),t}function ene(e){try{return Zre(e)}catch{return Xo}}function gy(e){var t=ene(e.slice(5,-1));return t===Xo?"":t}var tne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rne=["dx","dy","angle","className","breakAll"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(null,arguments)}function nE(e,t){if(e==null)return{};var r,n,a=nne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f4=/[ \f\n\r\t\v\u2028\u2029]+/,h4=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ye(t)||(r?a=t.toString().split(""):a=t.toString().split(f4));var i=a.map(l=>({word:l,width:cu(l,n).width})),o=r?0:cu(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},ane=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=ie(i),u=o,f=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce((C,O)=>{var{word:I,width:R}=O,T=C[C.length-1];if(T&&(n==null||a||T.width+R+r<Number(n)))T.words.push(I),T.width+=R+r;else{var M={words:[I],width:R};C.push(M)}return C},[])},h=f(t),m=P=>P.reduce((A,C)=>A.width>C.width?A:C);if(!d||a)return h;var p=h.length>i||m(h).width>Number(n);if(!p)return h;for(var g="…",v=P=>{var A=u.slice(0,P),C=h4({breakAll:c,style:l,children:A+g}).wordsWithComputedWidth,O=f(C),I=O.length>i||m(O).width>Number(n);return[I,O]},x=0,b=u.length-1,w=0,j;x<=b&&w<=u.length-1;){var S=Math.floor((x+b)/2),N=S-1,[_,E]=v(N),[k]=v(S);if(!_&&!k&&(x=S+1),_&&k&&(b=S-1),!_&&k){j=E;break}w++}return j||h},aE=e=>{var t=Ye(e)?[]:e.toString().split(f4);return[{words:t}]},ine=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!fs.isSsr){var l,c,d=h4({breakAll:i,children:n,style:a});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;l=u,c=f}else return aE(n);return ane({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return aE(n)},iE="#808080",Ig=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=iE}=e,u=nE(e,tne),f=y.useMemo(()=>ine({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:m,angle:p,className:g,breakAll:v}=u,x=nE(u,rne);if(!xa(r)||!xa(n))return null;var b=r+(ie(h)?h:0),w=n+(ie(m)?m:0),j;switch(c){case"start":j=gy("calc(".concat(i,")"));break;case"middle":j=gy("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:j=gy("calc(".concat(f.length-1," * -").concat(a,")"));break}var S=[];if(o){var N=f[0].width,{width:_}=u;S.push("scale(".concat(ie(_)?_/N:1,")"))}return p&&S.push("rotate(".concat(p,", ").concat(b,", ").concat(w,")")),S.length&&(x.transform=S.join(" ")),y.createElement("text",I0({},Ge(x,!0),{ref:t,x:b,y:w,className:Pe("recharts-text",g),textAnchor:l,fill:d.includes("url")?iE:d}),f.map((E,k)=>{var P=E.words.join(v?"":" ");return y.createElement("tspan",{x:b,dy:k===0?j:a,key:"".concat(P,"-").concat(k)},P)}))});Ig.displayName="Text";var sne=["offset"],one=["labelRef"];function sE(e,t){if(e==null)return{};var r,n,a=lne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cne(e,t,r){return(t=une(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function une(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ta.apply(null,arguments)}var fne=e=>{var{value:t,formatter:r}=e,n=Ye(e.children)?t:e.children;return typeof r=="function"?r(n):n},j1=e=>e!=null&&typeof e=="function",hne=(e,t)=>{var r=zt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},mne=(e,t,r,n)=>{var{position:a,offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:h,clockWise:m}=n,p=(d+u)/2,g=hne(f,h),v=g>=0?1:-1,x,b;a==="insideStart"?(x=f+v*i,b=m):a==="insideEnd"?(x=h-v*i,b=!m):a==="end"&&(x=h+v*i,b=m),b=g<=0?b:!b;var w=Nt(l,c,p,x),j=Nt(l,c,p,x+(b?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),N=Ye(e.id)?$u("recharts-radial-line-"):e.id;return y.createElement("text",Ta({},r,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:N,d:S})),y.createElement("textPath",{xlinkHref:"#".concat(N)},t))},pne=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:f}=Nt(n,a,o+t,d);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:p}=Nt(n,a,h,d);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},gne=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:o,width:l,height:c}=t,d=c>=0?1:-1,u=d*n,f=d>0?"end":"start",h=d>0?"start":"end",m=l>=0?1:-1,p=m*n,g=m>0?"end":"start",v=m>0?"start":"end";if(a==="top"){var x={x:i+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:f};return ft(ft({},x),r?{height:Math.max(o-r.y,0),width:l}:{})}if(a==="bottom"){var b={x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:h};return ft(ft({},b),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{})}if(a==="left"){var w={x:i-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return ft(ft({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(a==="right"){var j={x:i+l+p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return ft(ft({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var S=r?{width:l,height:c}:{};return a==="insideLeft"?ft({x:i+p,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},S):a==="insideRight"?ft({x:i+l-p,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},S):a==="insideTop"?ft({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:h},S):a==="insideBottom"?ft({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:f},S):a==="insideTopLeft"?ft({x:i+p,y:o+u,textAnchor:v,verticalAnchor:h},S):a==="insideTopRight"?ft({x:i+l-p,y:o+u,textAnchor:g,verticalAnchor:h},S):a==="insideBottomLeft"?ft({x:i+p,y:o+c-u,textAnchor:v,verticalAnchor:f},S):a==="insideBottomRight"?ft({x:i+l-p,y:o+c-u,textAnchor:g,verticalAnchor:f},S):a&&typeof a=="object"&&(ie(a.x)||Ls(a.x))&&(ie(a.y)||Ls(a.y))?ft({x:i+_r(a.x,l),y:o+_r(a.y,c),textAnchor:"end",verticalAnchor:"end"},S):ft({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},vne=e=>"cx"in e&&ie(e.cx);function Wr(e){var{offset:t=5}=e,r=sE(e,sne),n=ft({offset:t},r),{viewBox:a,position:i,value:o,children:l,content:c,className:d="",textBreakAll:u,labelRef:f}=n,h=me(rR),m=gj(),p=i==="center"?m:h??m,g=a||p;if(!g||Ye(o)&&Ye(l)&&!y.isValidElement(c)&&typeof c!="function")return null;var v=ft(ft({},n),{},{viewBox:g});if(y.isValidElement(c)){var{labelRef:x}=v,b=sE(v,one);return y.cloneElement(c,b)}var w;if(typeof c=="function"){if(w=y.createElement(c,v),y.isValidElement(w))return w}else w=fne(n);var j=vne(g),S=Ge(n,!0);if(j&&(i==="insideStart"||i==="insideEnd"||i==="end"))return mne(n,w,S,g);var N=j?pne(g,n.offset,n.position):gne(n,g);return y.createElement(Ig,Ta({ref:f,className:Pe("recharts-label",d)},S,N,{breakAll:u}),w)}Wr.displayName="Label";var m4=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:o,radius:l,innerRadius:c,outerRadius:d,x:u,y:f,top:h,left:m,width:p,height:g,clockWise:v,labelViewBox:x}=e;if(x)return x;if(ie(p)&&ie(g)){if(ie(u)&&ie(f))return{x:u,y:f,width:p,height:g};if(ie(h)&&ie(m))return{x:h,y:m,width:p,height:g}}if(ie(u)&&ie(f))return{x:u,y:f,width:0,height:0};if(ie(t)&&ie(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:v};if(e.viewBox)return e.viewBox},yne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Wr,Ta({key:"label-implicit"},n)):xa(e)?y.createElement(Wr,Ta({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Wr?y.cloneElement(e,ft({key:"label-implicit"},n)):y.createElement(Wr,Ta({key:"label-implicit",content:e},n)):j1(e)?y.createElement(Wr,Ta({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Wr,Ta({},e,{key:"label-implicit"},n)):null},xne=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:i}=t,o=m4(t),l=wd(a,Wr).map((d,u)=>y.cloneElement(d,{viewBox:r||o,key:"label-".concat(u)}));if(!n)return l;var c=yne(t.label,r||o,i);return[c,...l]};Wr.parseViewBox=m4;Wr.renderCallByParent=xne;var p4={},g4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(g4);var v4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(v4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g4,r=v4,n=rg;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(p4);var bne=p4.last;const wne=Tn(bne);var jne=["valueAccessor"],Sne=["data","dataKey","clockWise","id","textBreakAll"];function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(null,arguments)}function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){Nne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nne(e,t,r){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=Cne(e,"string");return typeof t=="symbol"?t:t+""}function Cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uE(e,t){if(e==null)return{};var r,n,a=Ene(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ene(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kne=e=>Array.isArray(e.value)?wne(e.value):e.value;function Ba(e){var{valueAccessor:t=kne}=e,r=uE(e,jne),{data:n,dataKey:a,clockWise:i,id:o,textBreakAll:l}=r,c=uE(r,Sne);return!n||!n.length?null:y.createElement(yt,{className:"recharts-label-list"},n.map((d,u)=>{var f=Ye(a)?t(d,u):Fe(d&&d.payload,a),h=Ye(o)?{}:{id:"".concat(o,"-").concat(u)};return y.createElement(Wr,Cm({},Ge(d,!0),c,h,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:Wr.parseViewBox(Ye(i)?d:cE(cE({},d),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}Ba.displayName="LabelList";function Pne(e,t){return e?e===!0?y.createElement(Ba,{key:"labelList-implicit",data:t}):y.isValidElement(e)||j1(e)?y.createElement(Ba,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(Ba,Cm({data:t},e,{key:"labelList-implicit"})):null:null}function Ane(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=wd(n,Ba).map((o,l)=>y.cloneElement(o,{data:t,key:"labelList-".concat(l)}));if(!r)return a;var i=Pne(e.label,t);return[i,...a]}Ba.renderCallByParent=Ane;function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(null,arguments)}var S1=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Pe("recharts-dot",a);return t===+t&&r===+r&&n===+n?y.createElement("circle",M0({},na(e),Yw(e),{className:i,cx:t,cy:r,r:n})):null},y4=e=>e.graphicalItems.polarItems,One=B([st,Ad],Jj),N1=B([y4,wt,One],Qj),Tne=B([N1],Zj),_1=B([Tne,zj],e1),Dne=B([_1,wt,N1],r1),Ine=B([_1,wt,N1],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,o=Fe(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Fe(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),dE=()=>{},Mne=B([wt,xR,dE,Ine,dE,Ce,st],a1),x4=B([wt,Ce,_1,Dne,Pd,st,Mne],i1),Rne=B([x4,wt,ic],l1);B([wt,x4,Rne,st],u1);var $ne={radiusAxis:{},angleAxis:{}},b4=ln({name:"polarAxis",initialState:$ne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:dge,removeRadiusAxis:fge,addAngleAxis:hge,removeAngleAxis:mge}=b4.actions,Lne=b4.reducer;function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){Fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fne(e,t,r){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=zne(e,"string");return typeof t=="symbol"?t:t+""}function zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Une=(e,t)=>t,C1=B([y4,Une],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Wne=[],E1=(e,t,r)=>(r==null?void 0:r.length)===0?Wne:r,w4=B([zj,C1,E1],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>hE(hE({},t.presentationProps),i.props))),a!=null)return a}}),Vne=B([w4,C1,E1],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,o=Fe(n,t.nameKey,t.name),l;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:ds(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),Hne=B([w4,C1,E1,Dt],(e,t,r,n)=>{if(!(t==null||e==null))return Rae({offset:n,pieSettings:t,displayedData:e,cells:r})}),j4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(j4);var qne=j4.isPlainObject;const Kne=Tn(qne);function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Em.apply(null,arguments)}var mE=(e,t,r,n,a)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},Gne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yne=e=>{var t=kr(e,Gne),r=y.useRef(),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&a(v)}catch{}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:d,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||d!==+d||l===0&&c===0||d===0)return null;var g=Pe("recharts-trapezoid",u);return p?y.createElement(dm,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:d,x:i,y:o},duration:h,animationEasing:f,isActive:p},v=>{var{upperWidth:x,lowerWidth:b,height:w,x:j,y:S}=v;return y.createElement(dm,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},y.createElement("path",Em({},Ge(t,!0),{className:g,d:mE(j,S,x,b,w),ref:r})))}):y.createElement("g",null,y.createElement("path",Em({},Ge(t,!0),{className:g,d:mE(i,o,l,c,d)})))},Xne=["option","shapeType","propTransformer","activeClassName","isActive"];function Jne(e,t){if(e==null)return{};var r,n,a=Qne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){Zne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zne(e,t,r){return(t=eae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rae(e,t){return km(km({},t),e)}function nae(e,t){return e==="symbols"}function gE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(KI,r);case"trapezoid":return y.createElement(Yne,r);case"sector":return y.createElement(XI,r);case"symbols":if(nae(t))return y.createElement(ND,r);break;default:return null}}function aae(e){return y.isValidElement(e)?e.props:e}function S4(e){var{option:t,shapeType:r,propTransformer:n=rae,activeClassName:a="recharts-active-shape",isActive:i}=e,o=Jne(e,Xne),l;if(y.isValidElement(t))l=y.cloneElement(t,km(km({},o),aae(t)));else if(typeof t=="function")l=t(o);else if(Kne(t)&&typeof t!="boolean"){var c=n(t,o);l=y.createElement(gE,{shapeType:r,elementProps:c})}else{var d=o;l=y.createElement(gE,{shapeType:r,elementProps:d})}return i?y.createElement(yt,{className:a},l):l}var k1=(e,t)=>{var r=bt();return(n,a)=>i=>{e==null||e(n,a,i),r(MR({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},P1=e=>{var t=bt();return(r,n)=>a=>{e==null||e(r,n,a),t(lte())}},A1=(e,t)=>{var r=bt();return(n,a)=>i=>{e==null||e(n,a,i),r(cte({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Mg(e){var{fn:t,args:r}=e,n=bt(),a=yr();return y.useEffect(()=>{if(!a){var i=t(r);return n(ite(i)),()=>{n(ste(i))}}},[t,r,n,a]),null}var N4=()=>{};function O1(e){var{legendPayload:t}=e,r=bt(),n=yr();return y.useEffect(()=>n?N4:(r(II(t)),()=>{r(MI(t))}),[r,n,t]),null}function iae(e){var{legendPayload:t}=e,r=bt(),n=me(Ce);return y.useEffect(()=>n!=="centric"&&n!=="radial"?N4:(r(II(t)),()=>{r(MI(t))}),[r,n,t]),null}function Rg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef($u(t)),n=y.useRef(e);return n.current!==e&&(r.current=$u(t),n.current=e),r.current}var vy,sae=()=>{var[e]=y.useState(()=>$u("uid-"));return e},oae=(vy=Gm.useId)!==null&&vy!==void 0?vy:sae;function lae(e,t){var r=oae();return t||(e?"".concat(e,"-").concat(r):r)}var cae=y.createContext(void 0),$g=e=>{var{id:t,type:r,children:n}=e,a=lae("recharts-".concat(r),t);return y.createElement(cae.Provider,{value:a},n(a))},uae={cartesianItems:[],polarItems:[]},_4=ln({name:"graphicalItems",initialState:uae,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=La(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=La(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=La(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:dae,replaceCartesianGraphicalItem:fae,removeCartesianGraphicalItem:hae,addPolarGraphicalItem:mae,removePolarGraphicalItem:pae}=_4.actions,gae=_4.reducer;function T1(e){var t=bt(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(dae(e)):r.current!==e&&t(fae({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(hae(r.current)),r.current=null)},[t]),null}function vae(e){var t=bt();return y.useEffect(()=>(t(mae(e)),()=>{t(pae(e))}),[t,e]),null}function yae(){}var xae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vE={t:0},yy={t:1};function Lg(e){var t=kr(e,xae),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=qI("JavascriptAnimate",t.animationManager),[f,h]=y.useState(r?vE:yy),m=y.useRef(null);return y.useEffect(()=>{r||h(yy)},[r]),y.useEffect(()=>{if(!r||!n)return yae;var p=HI(vE,yy,WI(i),a,h,u.getTimeoutController()),g=()=>{m.current=p()};return u.start([c,o,g,a,l]),()=>{u.stop(),m.current&&m.current(),l()}},[r,n,a,i,o,c,l,u]),d(f.t)}var bae=["onMouseEnter","onClick","onMouseLeave"],wae=["id"],jae=["id"];function D1(e,t){if(e==null)return{};var r,n,a=Sae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){Nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nae(e,t,r){return(t=_ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=Cae(e,"string");return typeof t=="symbol"?t:t+""}function Cae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(null,arguments)}function Eae(e){var t=y.useMemo(()=>wd(e.children,oo),[e.children]),r=me(n=>Vne(n,e.id,t));return r==null?null:y.createElement(iae,{legendPayload:r})}function kae(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:ds(l,t),hide:c,type:d,color:o,unit:""}}}var Pae=(e,t)=>e>t?"start":e<t?"end":"middle",Aae=(e,t,r)=>typeof t=="function"?t(e):_r(t,r,r*.8),Oae=(e,t,r)=>{var{top:n,left:a,width:i,height:o}=t,l=wI(i,o),c=a+_r(e.cx,i,i/2),d=n+_r(e.cy,o,o/2),u=_r(e.innerRadius,l,0),f=Aae(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:f,maxRadius:h}},Tae=(e,t)=>{var r=zt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Dae=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Pe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(ol,Xa({},t,{type:"linear",className:r}))},Iae=(e,t,r)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),y.isValidElement(n)))return n;var a=Pe("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return y.createElement(Ig,Xa({},t,{alignmentBaseline:"middle",className:a}),n)};function Mae(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=r;if(!n||!a||!t)return null;var l=na(r),c=Ge(a,!1),d=Ge(i,!1),u=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Nt(h.cx,h.cy,h.outerRadius+u,p),v=mt(mt(mt(mt({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:Pae(g.x,h.cx)},g),x=mt(mt(mt(mt({},l),h),{},{fill:"none",stroke:h.fill},d),{},{index:m,points:[Nt(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return y.createElement(yt,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},i&&Dae(i,x),Iae(a,v,Fe(h,o)))});return y.createElement(yt,{className:"recharts-pie-labels"},f)}function C4(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,showLabels:i}=e,o=me(Zi),{onMouseEnter:l,onClick:c,onMouseLeave:d}=a,u=D1(a,bae),f=k1(l,a.dataKey),h=P1(d),m=A1(c,a.dataKey);return t==null?null:y.createElement(y.Fragment,null,t.map((p,g)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var v=r&&String(g)===o,x=o?n:null,b=v?r:x,w=mt(mt({},p),{},{stroke:p.stroke,tabIndex:-1,[EI]:g,[kI]:a.dataKey});return y.createElement(yt,Xa({tabIndex:-1,className:"recharts-pie-sector"},Jp(u,p,g),{onMouseEnter:f(p,g),onMouseLeave:h(p,g),onClick:m(p,g),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g)}),y.createElement(S4,Xa({option:b,isActive:v,shapeType:"sector"},w)))}),y.createElement(Mae,{sectors:t,props:a,showLabels:i}))}function Rae(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:f}=r,h=Math.abs(r.minAngle),m=Tae(l,c),p=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(N=>Fe(N,d,0)!==0).length,x=(p>=360?v:v-1)*g,b=p-v*h-x,w=n.reduce((N,_)=>{var E=Fe(_,d,0);return N+(ie(E)?E:0)},0),j;if(w>0){var S;j=n.map((N,_)=>{var E=Fe(N,d,0),k=Fe(N,u,_),P=Oae(r,i,N),A=(ie(E)?E:0)/w,C,O=mt(mt({},N),a&&a[_]&&a[_].props);_?C=S.endAngle+zt(m)*g*(E!==0?1:0):C=l;var I=C+zt(m)*((E!==0?h:0)+A*b),R=(C+I)/2,T=(P.innerRadius+P.outerRadius)/2,M=[{name:k,value:E,payload:O,dataKey:d,type:f}],D=Nt(P.cx,P.cy,T,R);return S=mt(mt(mt(mt({},r.presentationProps),{},{percent:A,cornerRadius:o,name:k,tooltipPayload:M,midAngle:R,middleRadius:T,tooltipPosition:D},O),P),{},{value:Fe(N,d),startAngle:C,endAngle:I,payload:O,paddingAngle:zt(m)*g}),S})}return j}function $ae(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:f}=t,h=Rg(t,"recharts-pie-"),m=r.current,[p,g]=y.useState(!0),v=y.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),x=y.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return y.createElement(Lg,{begin:i,duration:o,isActive:a,easing:l,onAnimationStart:x,onAnimationEnd:v,key:h},b=>{var w=[],j=n&&n[0],S=j.startAngle;return n.forEach((N,_)=>{var E=m&&m[_],k=_>0?Qi(N,"paddingAngle",0):0;if(E){var P=J_(E.endAngle-E.startAngle,N.endAngle-N.startAngle),A=mt(mt({},N),{},{startAngle:S+k,endAngle:S+P(b)+k});w.push(A),S=A.endAngle}else{var{endAngle:C,startAngle:O}=N,I=J_(0,C-O),R=I(b),T=mt(mt({},N),{},{startAngle:S+k,endAngle:S+R+k});w.push(T),S=T.endAngle}}),r.current=w,y.createElement(yt,null,y.createElement(C4,{sectors:w,activeShape:c,inactiveShape:d,allOtherPieProps:t,showLabels:!p}))})}function Lae(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:a}=e,i=y.useRef(null),o=i.current;return r&&t&&t.length&&(!o||o!==t)?y.createElement($ae,{props:e,previousSectorsRef:i}):y.createElement(C4,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function Fae(e){var{hide:t,className:r,rootTabIndex:n}=e,a=Pe("recharts-pie",r);return t?null:y.createElement(yt,{tabIndex:n,className:a},y.createElement(Lae,e))}var Bae={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!fs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function zae(e){var{id:t}=e,r=D1(e,wae),n=y.useMemo(()=>wd(e.children,oo),[e.children]),a=me(i=>Hne(i,t,n));return y.createElement(y.Fragment,null,y.createElement(Mg,{fn:kae,args:mt(mt({},e),{},{sectors:a})}),y.createElement(Fae,Xa({},r,{sectors:a})))}function Pm(e){var t=kr(e,Bae),{id:r}=t,n=D1(t,jae),a=na(n);return y.createElement($g,{id:r,type:"pie"},i=>y.createElement(y.Fragment,null,y.createElement(vae,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a}),y.createElement(Eae,Xa({},n,{id:i})),y.createElement(zae,Xa({},n,{id:i})),n.children))}Pm.displayName="Pie";var Uae=B([Dt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Wae=B([Uae,ai,ii],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Fg=()=>me(Wae),Vae=()=>me(Yte);function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){Hae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hae(e,t,r){return(t=qae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qae(e){var t=Kae(e,"string");return typeof t=="symbol"?t:t+""}function Kae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gae=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o=bE(bE({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ge(a,!1)),Yw(a)),l;return y.isValidElement(a)?l=y.cloneElement(a,o):typeof a=="function"?l=a(o):l=y.createElement(S1,o),y.createElement(yt,{className:"recharts-active-dot"},l)};function R0(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=me(Zi),o=Vae();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return Ye(l)?null:Gae({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var Yae=["x","y"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){Xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xae(e,t,r){return(t=Jae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jae(e){var t=Qae(e,"string");return typeof t=="symbol"?t:t+""}function Qae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zae(e,t){if(e==null)return{};var r,n,a=eie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tie(e,t){var{x:r,y:n}=e,a=Zae(e,Yae),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Rc(Rc(Rc(Rc(Rc({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function E4(e){return y.createElement(S4,$0({shapeType:"rectangle",propTransformer:tie,activeClassName:"recharts-active-bar"},e))}var rie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(ie(t))return t;var i=ie(n)||Ye(n);return i?t(n,a):(i||tT(),r)}},nie={},k4=ln({name:"errorBars",initialState:nie,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:pge,removeErrorBar:gge}=k4.actions,aie=k4.reducer,iie=["children"];function sie(e,t){if(e==null)return{};var r,n,a=oie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},cie=y.createContext(lie);function P4(e){var{children:t}=e,r=sie(e,iie);return y.createElement(cie.Provider,{value:r},t)}function Bg(e,t){var r,n,a=me(d=>oi(d,e)),i=me(d=>gs(d,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Fr.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Br.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function I1(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Fg(),{needClipX:i,needClipY:o,needClip:l}=Bg(t,r);if(!l)return null;var{x:c,y:d,width:u,height:f}=a;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:i?c:c-u/2,y:o?d:d-f/2,width:i?u:u*2,height:o?f:f*2}))}var uie=["onMouseEnter","onMouseLeave","onClick"],die=["value","background","tooltipPosition"],fie=["id"],hie=["onMouseEnter","onClick","onMouseLeave"];function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(null,arguments)}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mie(e,t,r){return(t=pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pie(e){var t=gie(e,"string");return typeof t=="symbol"?t:t+""}function gie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Am(e,t){if(e==null)return{};var r,n,a=vie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yie=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ds(r,t),payload:e}]};function xie(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:ds(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function bie(e){var t=me(Zi),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=Am(i,uie),u=k1(o,n),f=P1(l),h=A1(c,n);if(!a||r==null)return null;var m=Ge(a,!1);return y.createElement(y.Fragment,null,r.map((p,g)=>{var{value:v,background:x,tooltipPosition:b}=p,w=Am(p,die);if(!x)return null;var j=u(p,g),S=f(p,g),N=h(p,g),_=cr(cr(cr(cr(cr({option:a,isActive:String(g)===t},w),{},{fill:"#eee"},x),m),Jp(d,p,g)),{},{onMouseEnter:j,onMouseLeave:S,onClick:N,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return y.createElement(E4,Fl({key:"background-bar-".concat(g)},_))}))}function A4(e){var{data:t,props:r,showLabels:n}=e,a=na(r),{id:i}=a,o=Am(a,fie),{shape:l,dataKey:c,activeBar:d}=r,u=me(Zi),f=me(GR),{onMouseEnter:h,onClick:m,onMouseLeave:p}=r,g=Am(r,hie),v=k1(h,c),x=P1(p),b=A1(m,c);return t?y.createElement(y.Fragment,null,t.map((w,j)=>{var S=d&&String(j)===u&&(f==null||c===f),N=S?d:l,_=cr(cr(cr({},o),w),{},{isActive:S,option:N,index:j,dataKey:c});return y.createElement(yt,Fl({className:"recharts-bar-rectangle"},Jp(g,w,j),{onMouseEnter:v(w,j),onMouseLeave:x(w,j),onClick:b(w,j),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(j)}),y.createElement(E4,_))}),n&&Ba.renderCallByParent(r,t)):null}function wie(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=r.current,h=Rg(t,"recharts-bar-"),[m,p]=y.useState(!1),g=y.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),v=y.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return y.createElement(Lg,{begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:g,onAnimationStart:v,key:h},x=>{var b=x===1?n:n==null?void 0:n.map((w,j)=>{var S=f&&f[j];if(S)return cr(cr({},w),{},{x:Qt(S.x,w.x,x),y:Qt(S.y,w.y,x),width:Qt(S.width,w.width,x),height:Qt(S.height,w.height,x)});if(a==="horizontal"){var N=Qt(0,w.height,x);return cr(cr({},w),{},{y:w.y+w.height-N,height:N})}var _=Qt(0,w.width,x);return cr(cr({},w),{},{width:_})});return x>0&&(r.current=b??null),b==null?null:y.createElement(yt,null,y.createElement(A4,{props:t,data:b,showLabels:!m}))})}function jie(e){var{data:t,isAnimationActive:r}=e,n=y.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?y.createElement(wie,{previousRectanglesRef:n,props:e}):y.createElement(A4,{props:e,data:t,showLabels:!0})}var O4=0,Sie=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Fe(e,t)}};class Nie extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:c,id:d}=this.props;if(t)return null;var u=Pe("recharts-bar",a),f=d;return y.createElement(yt,{className:u,id:d},l&&y.createElement("defs",null,y.createElement(I1,{clipPathId:f,xAxisId:i,yAxisId:o})),y.createElement(yt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},y.createElement(bie,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(jie,this.props)),this.props.children)}}var _ie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!fs.isSsr,legendType:"rect",minPointSize:O4,xAxisId:0,yAxisId:0};function Cie(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:f}=Bg(t,r),h=Sd(),m=yr(),p=wd(e.children,oo),g=me(b=>Zie(b,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,x=g==null?void 0:g[0];return x==null||x.height==null||x.width==null?v=0:v=h==="vertical"?x.height/2:x.width/2,y.createElement(P4,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:Sie,errorBarOffset:v},y.createElement(Nie,Fl({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function Eie(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:h,cells:m}=e,p=t==="horizontal"?l:o,g=u?p.scale.domain():null,v=KY({numericAxis:p});return f.map((x,b)=>{var w,j,S,N,_,E;u?w=UY(u[b],g):(w=Fe(x,r),Array.isArray(w)||(w=[v,w]));var k=rie(n,O4)(w[1],b);if(t==="horizontal"){var P,[A,C]=[l.scale(w[0]),l.scale(w[1])];j=EC({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:x,index:b}),S=(P=C??A)!==null&&P!==void 0?P:void 0,N=a.size;var O=A-C;if(_=Lr(O)?0:O,E={x:j,y:h.top,width:N,height:h.height},Math.abs(k)>0&&Math.abs(_)<Math.abs(k)){var I=zt(_||k)*(Math.abs(k)-Math.abs(_));S-=I,_+=I}}else{var[R,T]=[o.scale(w[0]),o.scale(w[1])];if(j=R,S=EC({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:x,index:b}),N=T-R,_=a.size,E={x:h.left,y:S,width:h.width,height:_},Math.abs(k)>0&&Math.abs(N)<Math.abs(k)){var M=zt(N||k)*(Math.abs(k)-Math.abs(N));N+=M}}if(j==null||S==null||N==null||_==null)return null;var D=cr(cr({},x),{},{x:j,y:S,width:N,height:_,value:u?w:w[1],payload:x,background:E,tooltipPosition:{x:j+N/2,y:S+_/2}},m&&m[b]&&m[b].props);return D}).filter(Boolean)}function cl(e){var t=kr(e,_ie),r=yr();return y.createElement($g,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(O1,{legendPayload:yie(t)}),y.createElement(Mg,{fn:xie,args:t}),y.createElement(T1,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:_I(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(Cie,Fl({},t,{id:n}))))}cl.displayName="Bar";function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(n){kie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kie(e,t,r){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oie=(e,t)=>t,Tie=(e,t,r)=>r,Die=(e,t,r,n)=>n,Iie=(e,t,r,n,a)=>a,$d=B([Td,Iie],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Mie=B([$d],e=>e==null?void 0:e.maxBarSize),Rie=(e,t,r,n,a,i)=>i,NE=(e,t,r)=>{var n=r??e;if(!Ye(n))return _r(n,t,0)},$ie=B([Ce,Td,Oie,Tie,Die],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Lie=(e,t,r,n)=>{var a=Ce(e);return a==="horizontal"?qu(e,"yAxis",r,n):qu(e,"xAxis",t,n)},Fie=(e,t,r)=>{var n=Ce(e);return n==="horizontal"?R2(e,"xAxis",t):R2(e,"yAxis",r)},Bie=(e,t,r)=>{var n={},a=e.filter(Eg),i=e.filter(d=>d.stackId==null),o=a.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),l=Object.entries(o).map(d=>{var[u,f]=d,h=f.map(p=>p.dataKey),m=NE(t,r,f[0].barSize);return{stackId:u,dataKeys:h,barSize:m}}),c=i.map(d=>{var u=[d.dataKey].filter(h=>h!=null),f=NE(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...l,...c]},zie=B([$ie,see,Fie],Bie),Uie=(e,t,r,n,a)=>{var i,o,l=$d(e,t,r,n,a);if(l!=null){var c=Ce(e),d=YM(e),{maxBarSize:u}=l,f=Ye(u)?d:u,h,m;return c==="horizontal"?(h=ja(e,"xAxis",t,n),m=wa(e,"xAxis",t,n)):(h=ja(e,"yAxis",r,n),m=wa(e,"yAxis",r,n)),(i=(o=io(h,m,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},T4=(e,t,r,n)=>{var a=Ce(e),i,o;return a==="horizontal"?(i=ja(e,"xAxis",t,n),o=wa(e,"xAxis",t,n)):(i=ja(e,"yAxis",r,n),o=wa(e,"yAxis",r,n)),io(i,o)};function Wie(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=_r(e,r,0,!0),l,c=[];if(nr(n[0].barSize)){var d=!1,u=r/i,f=n.reduce((x,b)=>x+(b.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&u>0&&(d=!0,u*=.9,f=i*u);var h=(r-f)/2>>0,m={offset:h-o,size:0};l=n.reduce((x,b)=>{var w,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m.offset+m.size+o,size:d?u:(w=b.barSize)!==null&&w!==void 0?w:0}},S=[...x,j];return m=S[S.length-1].position,S},c)}else{var p=_r(t,r,0,!0);r-2*p-(i-1)*o<=0&&(o=0);var g=(r-2*p-(i-1)*o)/i;g>1&&(g>>=0);var v=nr(a)?Math.min(g,a):g;l=n.reduce((x,b,w)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p+(g+o)*w+(g-v)/2,size:v}}],c)}return l}}var Vie=(e,t,r,n,a,i,o)=>{var l=Ye(o)?t:o,c=Wie(r,n,a!==i?a:i,e,l);return a!==i&&c!=null&&(c=c.map(d=>Tf(Tf({},d),{},{position:Tf(Tf({},d.position),{},{offset:d.position.offset-a/2})}))),c},Hie=B([zie,YM,iee,XM,Uie,T4,Mie],Vie),qie=(e,t,r,n)=>ja(e,"xAxis",t,n),Kie=(e,t,r,n)=>ja(e,"yAxis",r,n),Gie=(e,t,r,n)=>wa(e,"xAxis",t,n),Yie=(e,t,r,n)=>wa(e,"yAxis",r,n),Xie=B([Hie,$d],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Jie=(e,t)=>{var r=Cg(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}},Qie=B([Lie,$d],Jie),Zie=B([Dt,qie,Kie,Gie,Yie,Xie,Ce,kd,T4,Qie,$d,Rie],(e,t,r,n,a,i,o,l,c,d,u,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(u==null||i==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||n==null||a==null||c==null)){var{data:g}=u,v;if(g!=null&&g.length>0?v=g:v=h==null?void 0:h.slice(m,p+1),v!=null)return Eie({layout:o,barSettings:u,pos:i,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:d,displayedData:v,offset:e,cells:f})}}),D4=e=>{var{chartData:t}=e,r=bt(),n=yr();return y.useEffect(()=>n?()=>{}:(r(H2(t)),()=>{r(H2(void 0))}),[t,r,n]),null},_E={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},I4=ln({name:"brush",initialState:_E,reducers:{setBrushSettings(e,t){return t.payload==null?_E:t.payload}}}),{setBrushSettings:vge}=I4.actions,ese=I4.reducer;function tse(e,t,r){return(t=rse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class M1{static create(t){return new M1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}tse(M1,"EPS",1e-4);function ase(e){return(e%180+180)%180}var ise=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ase(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},sse={dots:[],areas:[],lines:[]},M4=ln({name:"referenceElements",initialState:sse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=La(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=La(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=La(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:yge,removeDot:xge,addArea:bge,removeArea:wge,addLine:jge,removeLine:Sge}=M4.actions,ose=M4.reducer,lse=y.createContext(void 0),cse=e=>{var{children:t}=e,[r]=y.useState("".concat($u("recharts"),"-clip")),n=Fg();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return y.createElement(lse.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function xy(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function R4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function use(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ise(n,r)}function dse(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Om(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function fse(e,t){return R4(e,t+1)}function hse(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:R4(n,d)};var g=c,v,x=()=>(v===void 0&&(v=r(p,g)),v),b=p.coordinate,w=c===0||Om(e,b,x,u,l);w||(c=0,u=o,d+=1),w&&(u=b+e*(x()/2+a),c+=d)},h;d<=i.length;)if(h=f(),h)return h.v;return[]}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mse(e,t,r){return(t=pse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pse(e){var t=gse(e,"string");return typeof t=="symbol"?t:t+""}function gse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vse(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(h){var m=i[h],p,g=()=>(p===void 0&&(p=r(m,h)),p);if(h===o-1){var v=e*(m.coordinate+e*g()/2-c);i[h]=m=or(or({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=or(or({},m),{},{tickCoord:m.coordinate});var x=Om(e,m.tickCoord,g,l,c);x&&(c=m.tickCoord-e*(g()/2+a),i[h]=or(or({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function yse(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=n[l-1],f=r(u,l-1),h=e*(u.coordinate+e*f/2-d);o[l-1]=u=or(or({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var m=Om(e,u.tickCoord,()=>f,c,d);m&&(d=u.tickCoord-e*(f/2+a),o[l-1]=or(or({},u),{},{isShow:!0}))}for(var p=i?l-1:l,g=function(b){var w=o[b],j,S=()=>(j===void 0&&(j=r(w,b)),j);if(b===0){var N=e*(w.coordinate-e*S()/2-c);o[b]=w=or(or({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[b]=w=or(or({},w),{},{tickCoord:w.coordinate});var _=Om(e,w.tickCoord,S,c,d);_&&(c=w.tickCoord+e*(S()/2+a),o[b]=or(or({},w),{},{isShow:!0}))},v=0;v<p;v++)g(v);return o}function R1(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(ie(c)||fs.isSsr){var h;return(h=fse(a,ie(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",g=u&&p==="width"?cu(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,j)=>{var S=typeof d=="function"?d(w.value,j):w.value;return p==="width"?use(cu(S,{fontSize:t,letterSpacing:r}),g,f):cu(S,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?zt(a[1].coordinate-a[0].coordinate):1,b=dse(i,x,p);return c==="equidistantPreserveStart"?hse(x,b,v,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=yse(x,b,v,a,o,c==="preserveStartEnd"):m=vse(x,b,v,a,o),m.filter(w=>w.isShow))}var xse=["viewBox"],bse=["viewBox"];function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(null,arguments)}function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){$1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kE(e,t){if(e==null)return{};var r,n,a=wse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $1(e,t,r){return(t=jse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jse(e){var t=Sse(e,"string");return typeof t=="symbol"?t:t+""}function Sse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vs extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=kE(t,xse),i=this.props,{viewBox:o}=i,l=kE(i,bse);return!xy(n,o)||!xy(a,l)||!xy(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:d}=this.props,u,f,h,m,p,g,v=c?-1:1,x=t.tickSize||l,b=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":u=f=t.coordinate,m=n+ +!c*i,h=m-v*x,g=h-v*d,p=b;break;case"left":h=m=t.coordinate,f=r+ +!c*a,u=f-v*x,p=u-v*d,g=b;break;case"right":h=m=t.coordinate,f=r+ +c*a,u=f+v*x,p=u+v*d,g=b;break;default:u=f=t.coordinate,m=n+ +c*i,h=m+v*x,g=h+v*d,p=b;break}return{line:{x1:u,y1:h,x2:f,y2:m},tick:{x:p,y:g}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l}=this.props,c=Et(Et(Et({},Ge(this.props,!1)),Ge(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Et(Et({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var u=+(i==="left"&&!o||i==="right"&&o);c=Et(Et({},c),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+a})}return y.createElement("line",Jo({},c,{className:Pe("recharts-cartesian-axis-line",Qi(l,"className"))}))}static renderTickItem(t,r,n){var a,i=Pe(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,Et(Et({},r),{},{className:i}));else if(typeof t=="function")a=t(Et(Et({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Pe(o,t.className)),a=y.createElement(Ig,Jo({},r,{className:o}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:o,tickFormatter:l,unit:c,padding:d}=this.props,u=R1(Et(Et({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=na(this.props),p=Ge(o,!1),g=Et(Et({},m),{},{fill:"none"},Ge(a,!1)),v=u.map((x,b)=>{var{line:w,tick:j}=this.getTickLineCoord(x),S=Et(Et(Et(Et({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:i},p),j),{},{index:b,payload:x,visibleTicksCount:u.length,tickFormatter:l,padding:d});return y.createElement(yt,Jo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},Jp(this.props,x,b)),a&&y.createElement("line",Jo({},g,w,{className:Pe("recharts-cartesian-axis-tick-line",Qi(a,"className"))})),o&&vs.renderTickItem(o,S,"".concat(typeof l=="function"?l(x.value,b):x.value).concat(c||"")))});return v.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},v):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:y.createElement(yt,{className:Pe("recharts-cartesian-axis",a),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,f=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Wr.renderCallByParent(this.props))}}$1(vs,"displayName","CartesianAxis");$1(vs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Nse=["x1","y1","x2","y2","key"],_se=["offset"],Cse=["xAxisId","yAxisId"],Ese=["xAxisId","yAxisId"];function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(n){kse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kse(e,t,r){return(t=Pse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pse(e){var t=Ase(e,"string");return typeof t=="symbol"?t:t+""}function Ase(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(null,arguments)}function Tm(e,t){if(e==null)return{};var r,n,a=Ose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return y.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $4(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,c=Tm(t,Nse),d=na(c),{offset:u}=d,f=Tm(d,_se);r=y.createElement("line",Us({},f,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Dse(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Tm(e,Cse),c=a.map((d,u)=>{var f=ur(ur({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return $4(n,f)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Ise(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=Tm(e,Ese),c=a.map((d,u)=>{var f=ur(ur({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return $4(n,f)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Mse(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var m=!d[h+1],p=m?a+o-f:d[h+1]-f;if(p<=0)return null;var g=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Rse(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var m=!d[h+1],p=m?a+o-f:d[h+1]-f;if(p<=0)return null;var g=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:l,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var $se=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return SI(R1(ur(ur(ur({},vs.defaultProps),r),{},{ticks:NI(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Lse=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return SI(R1(ur(ur(ur({},vs.defaultProps),r),{},{ticks:NI(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Fse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function L4(e){var t=OI(),r=TI(),n=AI(),a=ur(ur({},kr(e,Fse)),{},{x:ie(e.x)?e.x:n.left,y:ie(e.y)?e.y:n.top,width:ie(e.width)?e.width:n.width,height:ie(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=yr(),g=me(k=>$2(k,"xAxis",i,p)),v=me(k=>$2(k,"yAxis",o,p));if(!ie(d)||d<=0||!ie(u)||u<=0||!ie(l)||l!==+l||!ie(c)||c!==+c)return null;var x=a.verticalCoordinatesGenerator||$se,b=a.horizontalCoordinatesGenerator||Lse,{horizontalPoints:w,verticalPoints:j}=a;if((!w||!w.length)&&typeof b=="function"){var S=h&&h.length,N=b({yAxis:v?ur(ur({},v),{},{ticks:S?h:v.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);lu(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!j||!j.length)&&typeof x=="function"){var _=m&&m.length,E=x({xAxis:g?ur(ur({},g),{},{ticks:_?m:g.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);lu(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(Tse,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(Mse,Us({},a,{horizontalPoints:w})),y.createElement(Rse,Us({},a,{verticalPoints:j})),y.createElement(Dse,Us({},a,{offset:n,horizontalPoints:w,xAxis:g,yAxis:v})),y.createElement(Ise,Us({},a,{offset:n,verticalPoints:j,xAxis:g,yAxis:v})))}L4.displayName="CartesianGrid";var F4=(e,t,r,n)=>ja(e,"xAxis",t,n),B4=(e,t,r,n)=>wa(e,"xAxis",t,n),z4=(e,t,r,n)=>ja(e,"yAxis",r,n),U4=(e,t,r,n)=>wa(e,"yAxis",r,n),Bse=B([Ce,F4,z4,B4,U4],(e,t,r,n,a)=>Na(e,"xAxis")?io(t,n,!1):io(r,a,!1)),zse=(e,t,r,n,a)=>a;function Use(e){return e.type==="line"}var Wse=B([Td,zse],(e,t)=>e.filter(Use).find(r=>r.id===t)),Vse=B([Ce,F4,z4,B4,U4,Wse,Bse,kd],(e,t,r,n,a,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(d,u+1),m!=null)return doe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}}),Hse=["id"],qse=["type","layout","connectNulls","needClip"],Kse=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){Gse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gse(e,t,r){return(t=Yse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yse(e){var t=Xse(e,"string");return typeof t=="symbol"?t:t+""}function Xse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L1(e,t){if(e==null)return{};var r,n,a=Jse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(null,arguments)}var Qse=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ds(r,t),payload:e}]};function Zse(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ds(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var W4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function eoe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var toe=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return W4(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){l=[...r.slice(0,c),i-d];break}var u=l.length%2===0?[0,o]:[o];return[...eoe(r,a),...l,...u].map(f=>"".concat(f,"px")).join(", ")};function roe(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Pe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=y.createElement(S1,lo({},t,{className:n}))}return r}function noe(e,t){return e==null?!1:t?!0:e.length===1}function aoe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!noe(r,a))return null;var{id:l}=n,c=L1(n,Hse),d=Qp(a),u=na(c),f=Ge(a,!0),h=r.map((p,g)=>{var v=Vn(Vn(Vn({key:"dot-".concat(g),r:3},u),f),{},{index:g,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return roe(a,v)}),m={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return y.createElement(yt,lo({className:"recharts-line-dots",key:"dots"},m),h)}function L0(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:d,needClip:u}=i,f=L1(i,qse),h=Vn(Vn({},Ge(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return y.createElement(y.Fragment,null,(n==null?void 0:n.length)>1&&y.createElement(ol,lo({},h,{pathRef:r})),y.createElement(aoe,{points:n,clipPathId:t,props:i}),o&&Ba.renderCallByParent(i,n))}function ioe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function soe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:v}=r,x=a.current,b=Rg(r,"recharts-line-"),[w,j]=y.useState(!1),S=y.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),N=y.useCallback(()=>{typeof v=="function"&&v(),j(!0)},[v]),_=ioe(n.current),E=i.current;return y.createElement(Lg,{begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:S,onAnimationStart:N,key:b},k=>{var P=Qt(E,_+E,k),A=Math.min(P,_),C;if(l){var O="".concat(l).split(/[,\s]+/gim).map(T=>parseFloat(T));C=toe(A,_,O)}else C=W4(_,A);if(x){var I=x.length/o.length,R=k===1?o:o.map((T,M)=>{var D=Math.floor(M*I);if(x[D]){var F=x[D];return Vn(Vn({},T),{},{x:Qt(F.x,T.x,k),y:Qt(F.y,T.y,k)})}return h?Vn(Vn({},T),{},{x:Qt(m*2,T.x,k),y:Qt(p/2,T.y,k)}):Vn(Vn({},T),{},{x:T.x,y:T.y})});return a.current=R,y.createElement(L0,{props:r,points:R,clipPathId:t,pathRef:n,showLabels:!w,strokeDasharray:C})}return k>0&&_>0&&(a.current=o,i.current=A),y.createElement(L0,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!w,strokeDasharray:C})})}function ooe(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:a}=r,i=y.useRef(null),o=y.useRef(0),l=y.useRef(null),c=i.current;return a&&n&&n.length&&c!==n?y.createElement(soe,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):y.createElement(L0,{props:r,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var loe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Fe(e.payload,t)});class coe extends y.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:o,yAxisId:l,top:c,left:d,width:u,height:f,id:h,needClip:m}=this.props;if(r)return null;var p=Pe("recharts-line",i),g=h,{r:v=3,strokeWidth:x=2}=(t=Ge(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=Qp(n),w=v*2+x;return y.createElement(y.Fragment,null,y.createElement(yt,{className:p},m&&y.createElement("defs",null,y.createElement(I1,{clipPathId:g,xAxisId:o,yAxisId:l}),!b&&y.createElement("clipPath",{id:"clipPath-dots-".concat(g)},y.createElement("rect",{x:d-w/2,y:c-w/2,width:u+w,height:f+w}))),y.createElement(ooe,{props:this.props,clipPathId:g}),y.createElement(P4,{xAxisId:o,yAxisId:l,data:a,dataPointFormatter:loe,errorBarOffset:0},this.props.children)),y.createElement(R0,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var V4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!fs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function uoe(e){var t=kr(e,V4),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,v=L1(t,Kse),{needClip:x}=Bg(m,p),b=Fg(),w=Sd(),j=yr(),S=me(P=>Vse(P,m,p,j,g));if(w!=="horizontal"&&w!=="vertical"||S==null||b==null)return null;var{height:N,width:_,x:E,y:k}=b;return y.createElement(coe,lo({},v,{id:g,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:f,legendType:h,xAxisId:m,yAxisId:p,points:S,layout:w,height:N,width:_,left:E,top:k,needClip:x}))}function doe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var f=Fe(d,o);if(t==="horizontal"){var h=lm({axis:r,ticks:a,bandSize:l,entry:d,index:u}),m=Ye(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:d}}var p=Ye(f)?null:r.scale(f),g=lm({axis:n,ticks:i,bandSize:l,entry:d,index:u});return p==null||g==null?null:{x:p,y:g,value:f,payload:d}}).filter(Boolean)}function Gu(e){var t=kr(e,V4),r=yr();return y.createElement($g,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(O1,{legendPayload:Qse(t)}),y.createElement(Mg,{fn:Zse,args:t}),y.createElement(T1,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(uoe,lo({},t,{id:n}))))}Gu.displayName="Line";var H4=(e,t,r,n)=>ja(e,"xAxis",t,n),q4=(e,t,r,n)=>wa(e,"xAxis",t,n),K4=(e,t,r,n)=>ja(e,"yAxis",r,n),G4=(e,t,r,n)=>wa(e,"yAxis",r,n),foe=B([Ce,H4,K4,q4,G4],(e,t,r,n,a)=>Na(e,"xAxis")?io(t,n,!1):io(r,a,!1)),hoe=(e,t,r,n,a)=>a,Y4=B([Td,hoe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),moe=(e,t,r,n,a)=>{var i,o=Y4(e,t,r,n,a);if(o!=null){var l=Ce(e),c=Na(l,"xAxis"),d;if(c?d=qu(e,"yAxis",r,n):d=qu(e,"xAxis",t,n),d!=null){var{stackId:u}=o,f=Cg(o);if(!(u==null||f==null)){var h=(i=d[u])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(m=>m.key===f)}}}},poe=B([Ce,H4,K4,q4,G4,moe,kd,foe,Y4],(e,t,r,n,a,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:f}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{data:h}=c,m;if(h&&h.length>0?m=h:m=d==null?void 0:d.slice(u,f+1),m!=null){var p=void 0;return Moe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:m,chartBaseValue:p,bandSize:l})}}}),goe=["id"],voe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function X4(e,t){if(e==null)return{};var r,n,a=yoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(r),!0).forEach(function(n){xoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xoe(e,t,r){return(t=boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function boe(e){var t=woe(e,"string");return typeof t=="symbol"?t:t+""}function woe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},za.apply(null,arguments)}function Dm(e,t){return e&&e!=="none"?e:t}var joe=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Dm(n,a),value:ds(r,t),payload:e}]};function Soe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ds(o,t),hide:l,type:e.tooltipType,color:Dm(n,i),unit:c}}}var Noe=(e,t)=>{var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Pe("recharts-area-dot",typeof e!="boolean"?e.className:"");r=y.createElement(S1,za({},t,{className:n}))}return r};function _oe(e,t){return e==null?!1:t?!0:e.length===1}function Coe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n;if(!_oe(r,i))return null;var l=Qp(i),c=na(n),d=Ge(i,!0),u=r.map((h,m)=>{var p=Ws(Ws(Ws({key:"dot-".concat(m),r:3},c),d),{},{index:m,cx:h.x,cy:h.y,dataKey:o,value:h.value,payload:h.payload,points:r});return Noe(i,p)}),f={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return y.createElement(yt,za({className:"recharts-area-dots"},f),u)}function F0(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i,showLabels:o}=e,{layout:l,type:c,stroke:d,connectNulls:u,isRange:f}=i,{id:h}=i,m=X4(i,goe),p=na(m);return y.createElement(y.Fragment,null,(t==null?void 0:t.length)>1&&y.createElement(yt,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},y.createElement(ol,za({},p,{id:h,points:t,connectNulls:u,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&y.createElement(ol,za({},p,{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:t})),d!=="none"&&f&&y.createElement(ol,za({},p,{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:r}))),y.createElement(Coe,{points:t,props:m,clipPathId:a}),o&&Ba.renderCallByParent(m,t))}function Eoe(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!nr(i)||!nr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.x||0));return ie(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),ie(c)?y.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function koe(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!nr(i)||!nr(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.y||0));return ie(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),ie(c)?y.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function Poe(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?y.createElement(Eoe,{alpha:t,points:n,baseLine:a,strokeWidth:i}):y.createElement(koe,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function Aoe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=n,p=Rg(n,"recharts-area-"),[g,v]=y.useState(!0),x=y.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),b=y.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]),w=a.current,j=i.current;return y.createElement(Lg,{begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:x,onAnimationStart:b,key:p},S=>{if(w){var N=w.length/o.length,_=S===1?o:o.map((k,P)=>{var A=Math.floor(P*N);if(w[A]){var C=w[A];return Ws(Ws({},k),{},{x:Qt(C.x,k.x,S),y:Qt(C.y,k.y,S)})}return k}),E;return ie(l)?E=Qt(j,l,S):Ye(l)||Lr(l)?E=Qt(j,0,S):E=l.map((k,P)=>{var A=Math.floor(P*N);if(Array.isArray(j)&&j[A]){var C=j[A];return Ws(Ws({},k),{},{x:Qt(C.x,k.x,S),y:Qt(C.y,k.y,S)})}return k}),S>0&&(a.current=_,i.current=E),y.createElement(F0,{points:_,baseLine:E,needClip:t,clipPathId:r,props:n,showLabels:!g})}return S>0&&(a.current=o,i.current=l),y.createElement(yt,null,y.createElement("defs",null,y.createElement("clipPath",{id:"animationClipPath-".concat(r)},y.createElement(Poe,{alpha:S,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),y.createElement(yt,{clipPath:"url(#animationClipPath-".concat(r,")")},y.createElement(F0,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function Ooe(e){var{needClip:t,clipPathId:r,props:n}=e,{points:a,baseLine:i,isAnimationActive:o}=n,l=y.useRef(null),c=y.useRef(),d=l.current,u=c.current;return o&&a&&a.length&&(d!==a||u!==i)?y.createElement(Aoe,{needClip:t,clipPathId:r,props:n,previousPointsRef:l,previousBaselineRef:c}):y.createElement(F0,{points:a,baseLine:i,needClip:t,clipPathId:r,props:n,showLabels:!0})}class Toe extends y.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:f,height:h,id:m,baseLine:p}=this.props;if(r)return null;var g=Pe("recharts-area",i),v=m,{r:x=3,strokeWidth:b=2}=(t=Ge(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=Qp(n),j=x*2+b;return y.createElement(y.Fragment,null,y.createElement(yt,{className:g},c&&y.createElement("defs",null,y.createElement(I1,{clipPathId:v,xAxisId:d,yAxisId:u}),!w&&y.createElement("clipPath",{id:"clipPath-dots-".concat(v)},y.createElement("rect",{x:l-j/2,y:o-j/2,width:f+j,height:h+j}))),y.createElement(Ooe,{needClip:c,clipPathId:v,props:this.props})),y.createElement(R0,{points:a,mainColor:Dm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&y.createElement(R0,{points:p,mainColor:Dm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var J4={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!fs.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Doe(e){var t,r=kr(e,J4),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:f,isAnimationActive:h,legendType:m,stroke:p,xAxisId:g,yAxisId:v}=r,x=X4(r,voe),b=Sd(),w=XR(),{needClip:j}=Bg(g,v),S=yr(),{points:N,isRange:_,baseLine:E}=(t=me(I=>poe(I,g,v,S,e.id)))!==null&&t!==void 0?t:{},k=Fg();if(b!=="horizontal"&&b!=="vertical"||k==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:P,width:A,x:C,y:O}=k;return!N||!N.length?null:y.createElement(Toe,za({},x,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:E,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:P,hide:f,layout:b,isAnimationActive:h,isRange:_,legendType:m,needClip:j,points:N,stroke:p,width:A,left:C,top:O,xAxisId:g,yAxisId:v}))}var Ioe=(e,t,r,n,a)=>{var i=r??t;if(ie(i))return i;var o=e==="horizontal"?a:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function Moe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:f,yAxisTicks:h,bandSize:m}=e,p=a&&a.length,g=Ioe(i,o,r,l,c),v=i==="horizontal",x=!1,b=d.map((j,S)=>{var N;p?N=a[u+S]:(N=Fe(j,n),Array.isArray(N)?x=!0:N=[g,N]);var _=N[1]==null||p&&!t&&Fe(j,n)==null;return v?{x:lm({axis:l,ticks:f,bandSize:m,entry:j,index:S}),y:_?null:c.scale(N[1]),value:N,payload:j}:{x:_?null:l.scale(N[1]),y:lm({axis:c,ticks:h,bandSize:m,entry:j,index:S}),value:N,payload:j}}),w;return p||x?w=b.map(j=>{var S=Array.isArray(j.value)?j.value[0]:null;return v?{x:j.x,y:S!=null&&j.y!=null?c.scale(S):null,payload:j.payload}:{x:S!=null?l.scale(S):null,y:j.y,payload:j.payload}}):w=v?c.scale(g):l.scale(g),{points:b,baseLine:w,isRange:x}}function ul(e){var t=kr(e,J4),r=yr();return y.createElement($g,{id:t.id,type:"area"},n=>y.createElement(y.Fragment,null,y.createElement(O1,{legendPayload:joe(t)}),y.createElement(Mg,{fn:Soe,args:t}),y.createElement(T1,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:_I(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),y.createElement(Doe,za({},t,{id:n}))))}ul.displayName="Area";function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){Roe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Roe(e,t,r){return(t=$oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $oe(e){var t=Loe(e,"string");return typeof t=="symbol"?t:t+""}function Loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Foe={xAxis:{},yAxis:{},zAxis:{}},Q4=ln({name:"cartesianAxis",initialState:Foe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=DE(DE({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Boe,removeXAxis:zoe,addYAxis:Uoe,removeYAxis:Woe,addZAxis:Nge,removeZAxis:_ge,updateYAxisWidth:Voe}=Q4.actions,Hoe=Q4.reducer,qoe=["children"],Koe=["dangerouslySetInnerHTML","ticks"];function Z4(e,t,r){return(t=Goe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Goe(e){var t=Yoe(e,"string");return typeof t=="symbol"?t:t+""}function Yoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B0.apply(null,arguments)}function e$(e,t){if(e==null)return{};var r,n,a=Xoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Joe(e){var t=bt(),r=y.useMemo(()=>{var{children:i}=e,o=e$(e,qoe);return o},[e]),n=me(i=>oi(i,r.id)),a=r===n;return y.useEffect(()=>(t(Boe(r)),()=>{t(zoe(r))}),[r,t]),a?e.children:null}var Qoe=e=>{var{xAxisId:t,className:r}=e,n=me(PI),a=yr(),i="xAxis",o=me(m=>sc(m,i,t,a)),l=me(m=>PR(m,i,t,a)),c=me(m=>_R(m,t)),d=me(m=>Xee(m,t));if(c==null||d==null)return null;var{dangerouslySetInnerHTML:u,ticks:f}=e,h=e$(e,Koe);return y.createElement(vs,B0({},h,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:Pe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},Zoe=e=>{var t,r,n,a,i;return y.createElement(Joe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},y.createElement(Qoe,e))};class Ja extends y.Component{render(){return y.createElement(Zoe,this.props)}}Z4(Ja,"displayName","XAxis");Z4(Ja,"defaultProps",{allowDataOverflow:Fr.allowDataOverflow,allowDecimals:Fr.allowDecimals,allowDuplicatedCategory:Fr.allowDuplicatedCategory,height:Fr.height,hide:!1,mirror:Fr.mirror,orientation:Fr.orientation,padding:Fr.padding,reversed:Fr.reversed,scale:Fr.scale,tickCount:Fr.tickCount,type:Fr.type,xAxisId:0});var ele=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,d=o+c+l+(r?n:0);return Math.round(d)}return 0},tle=["dangerouslySetInnerHTML","ticks"];function t$(e,t,r){return(t=rle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rle(e){var t=nle(e,"string");return typeof t=="symbol"?t:t+""}function nle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(null,arguments)}function ale(e,t){if(e==null)return{};var r,n,a=ile(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ile(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sle(e){var t=bt();return y.useEffect(()=>(t(Uoe(e)),()=>{t(Woe(e))}),[e,t]),null}var ole=e=>{var t,{yAxisId:r,className:n,width:a,label:i}=e,o=y.useRef(null),l=y.useRef(null),c=me(PI),d=yr(),u=bt(),f="yAxis",h=me(w=>sc(w,f,r,d)),m=me(w=>CR(w,r)),p=me(w=>Jee(w,r)),g=me(w=>PR(w,f,r,d));if(y.useLayoutEffect(()=>{var w;if(!(a!=="auto"||!m||j1(i)||y.isValidElement(i))){var j=o.current,S=j==null||(w=j.tickRefs)===null||w===void 0?void 0:w.current,{tickSize:N,tickMargin:_}=j.props,E=ele({ticks:S,label:l.current,labelGapWithTick:5,tickSize:N,tickMargin:_});Math.round(m.width)!==Math.round(E)&&u(Voe({id:r,width:E}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,u,i,r,a]),m==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:x}=e,b=ale(e,tle);return y.createElement(vs,z0({},b,{ref:o,labelRef:l,scale:h,x:p.x,y:p.y,width:m.width,height:m.height,className:Pe("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:g}))},lle=e=>{var t,r,n,a,i;return y.createElement(y.Fragment,null,y.createElement(sle,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),y.createElement(ole,e))},cle={allowDataOverflow:Br.allowDataOverflow,allowDecimals:Br.allowDecimals,allowDuplicatedCategory:Br.allowDuplicatedCategory,hide:!1,mirror:Br.mirror,orientation:Br.orientation,padding:Br.padding,reversed:Br.reversed,scale:Br.scale,tickCount:Br.tickCount,type:Br.type,width:Br.width,yAxisId:0};class Qa extends y.Component{render(){return y.createElement(lle,this.props)}}t$(Qa,"displayName","YAxis");t$(Qa,"defaultProps",cle);var ule={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld=y;function dle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fle=typeof Object.is=="function"?Object.is:dle,hle=Ld.useSyncExternalStore,mle=Ld.useRef,ple=Ld.useEffect,gle=Ld.useMemo,vle=Ld.useDebugValue;ule.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=mle(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=gle(function(){function c(m){if(!d){if(d=!0,u=m,m=n(m),a!==void 0&&o.hasValue){var p=o.value;if(a(p,m))return f=p}return f=m}if(p=f,fle(u,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(u=m,p):(u=m,f=g)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=hle(e,i[0],i[1]);return ple(function(){o.hasValue=!0,o.value=l},[l]),vle(l),l};function yle(e){e()}function xle(){let e=null,t=null;return{clear(){e=null,t=null},notify(){yle(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var IE={notify(){},get:()=>[]};function ble(e,t){let r,n=IE,a=0,i=!1;function o(g){u();const v=n.subscribe(g);let x=!1;return()=>{x||(x=!0,v(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function d(){return i}function u(){a++,r||(r=e.subscribe(c),n=xle())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=IE)}function h(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const p={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var wle=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jle=wle(),Sle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Nle=Sle(),_le=()=>jle||Nle?y.useLayoutEffect:y.useEffect,Cle=_le(),by=Symbol.for("react-redux-context"),wy=typeof globalThis<"u"?globalThis:{};function Ele(){if(!y.createContext)return{};const e=wy[by]??(wy[by]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var kle=Ele();function Ple(e){const{children:t,context:r,serverState:n,store:a}=e,i=y.useMemo(()=>{const c=ble(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=y.useMemo(()=>a.getState(),[a]);Cle(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||kle;return y.createElement(l.Provider,{value:i},t)}var Ale=Ple,Ole=(e,t)=>t,F1=B([Ole,Ce,rR,Mt,VR,li,tre,Dt],sre),B1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},r$=An("mouseClick"),n$=jd();n$.startListening({actionCreator:r$,effect:(e,t)=>{var r=e.payload,n=F1(t.getState(),B1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(ute({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var U0=An("mouseMove"),a$=jd();a$.startListening({actionCreator:U0,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=h1(n,n.tooltip.settings.shared),i=F1(n,B1(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch($R({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(RR()))}});function Tle(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var ME={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},i$=ln({name:"rootProps",initialState:ME,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:ME.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Dle=i$.reducer,{updateOptions:Ile}=i$.actions,s$=ln({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Mle}=s$.actions,Rle=s$.reducer,o$=An("keyDown"),l$=An("focus"),z1=jd();z1.startListening({actionCreator:o$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(m1(a,lc(r))),l=li(r);if(i==="Enter"){var c=_m(r,"axis","hover",String(a.index));t.dispatch(O0({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=tte(r),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=o+f*u;if(!(l==null||h>=l.length||h<0)){var m=_m(r,"axis","hover",String(h));t.dispatch(O0({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});z1.startListening({actionCreator:l$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=_m(r,"axis","hover",String(i));t.dispatch(O0({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var mn=An("externalEvent"),c$=jd();c$.startListening({actionCreator:mn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:qte(r),activeDataKey:GR(r),activeIndex:Zi(r),activeLabel:KR(r),activeTooltipIndex:Zi(r),isTooltipActive:Kte(r)};e.payload.handler(n,e.payload.reactEvent)}}});var $le=B([oc],e=>e.tooltipItemPayloads),Lle=B([$le,Md,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),u$=An("touchMove"),d$=jd();d$.startListening({actionCreator:u$,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=h1(n,n.tooltip.settings.shared);if(a==="axis"){var i=F1(n,B1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch($R({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(EI),u=(o=c.getAttribute(kI))!==null&&o!==void 0?o:void 0,f=Lle(t.getState(),d,u);t.dispatch(MR({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var Fle=QD({brush:ese,cartesianAxis:Hoe,chartData:wre,errorBars:aie,graphicalItems:gae,layout:CY,legend:cX,options:gre,polarAxis:Lne,polarOptions:Rle,referenceElements:ose,rootProps:Dle,tooltip:dte}),Ble=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return JG({reducer:Fle,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([n$.middleware,a$.middleware,z1.middleware,c$.middleware,d$.middleware]),devTools:{serialize:{replacer:Tle},name:"recharts-".concat(r)}})};function f$(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=yr(),i=y.useRef(null);if(a)return r;i.current==null&&(i.current=Ble(t,n));var o=sj;return y.createElement(Ale,{context:o,store:i.current},r)}function h$(e){var{layout:t,width:r,height:n,margin:a}=e,i=bt(),o=yr();return y.useEffect(()=>{o||(i(SY(t)),i(NY({width:r,height:n})),i(jY(a)))},[i,o,t,r,n,a]),null}function m$(e){var t=bt();return y.useEffect(()=>{t(Ile(e))},[t,e]),null}var zle=["children"];function Ule(e,t){if(e==null)return{};var r,n,a=Wle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Im.apply(null,arguments)}var Vle={width:"100%",height:"100%"},Hle=y.forwardRef((e,t)=>{var r=OI(),n=TI(),a=RI();if(!Dl(r)||!Dl(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=a?0:void 0,typeof o.role=="string"?u=o.role:u=a?"application":void 0,y.createElement(sD,Im({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:Vle,ref:t}),i)}),qle=e=>{var{children:t}=e,r=me(gg);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return y.createElement(sD,{width:n,height:a,x:o,y:i},t)},RE=y.forwardRef((e,t)=>{var{children:r}=e,n=Ule(e,zle),a=yr();return a?y.createElement(qle,null,r):y.createElement(Hle,Im({ref:t},n),r)});function Kle(){var e=bt(),[t,r]=y.useState(null),n=me(eX);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;nr(i)&&i!==n&&e(_Y(i))}},[t,e,n]),r}function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){Yle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yle(e,t,r){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xle(e){var t=Jle(e,"string");return typeof t=="symbol"?t:t+""}function Jle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qle=y.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:v,width:x}=e,b=bt(),[w,j]=y.useState(null),[S,N]=y.useState(null);Nre();var _=Kle(),E=y.useCallback(W=>{_(W),typeof t=="function"&&t(W),j(W),N(W)},[_,t,j,N]),k=y.useCallback(W=>{b(r$(W)),b(mn({handler:i,reactEvent:W}))},[b,i]),P=y.useCallback(W=>{b(U0(W)),b(mn({handler:d,reactEvent:W}))},[b,d]),A=y.useCallback(W=>{b(RR()),b(mn({handler:u,reactEvent:W}))},[b,u]),C=y.useCallback(W=>{b(U0(W)),b(mn({handler:f,reactEvent:W}))},[b,f]),O=y.useCallback(()=>{b(l$())},[b]),I=y.useCallback(W=>{b(o$(W.key))},[b]),R=y.useCallback(W=>{b(mn({handler:o,reactEvent:W}))},[b,o]),T=y.useCallback(W=>{b(mn({handler:l,reactEvent:W}))},[b,l]),M=y.useCallback(W=>{b(mn({handler:c,reactEvent:W}))},[b,c]),D=y.useCallback(W=>{b(mn({handler:h,reactEvent:W}))},[b,h]),F=y.useCallback(W=>{b(mn({handler:g,reactEvent:W}))},[b,g]),H=y.useCallback(W=>{b(u$(W)),b(mn({handler:p,reactEvent:W}))},[b,p]),Z=y.useCallback(W=>{b(mn({handler:m,reactEvent:W}))},[b,m]);return y.createElement(t4.Provider,{value:w},y.createElement(tK.Provider,{value:S},y.createElement("div",{className:Pe("recharts-wrapper",n),style:Gle({position:"relative",cursor:"default",width:x,height:a},v),onClick:k,onContextMenu:R,onDoubleClick:T,onFocus:O,onKeyDown:I,onMouseDown:M,onMouseEnter:P,onMouseLeave:A,onMouseMove:C,onMouseUp:D,onTouchEnd:Z,onTouchMove:H,onTouchStart:F,ref:E},r)))}),Zle=["children","className","width","height","style","compact","title","desc"];function ece(e,t){if(e==null)return{};var r,n,a=tce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p$=y.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:o,compact:l,title:c,desc:d}=e,u=ece(e,Zle),f=na(u);return l?y.createElement(RE,{otherAttributes:f,title:c,desc:d},r):y.createElement(Qle,{className:n,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(RE,{otherAttributes:f,title:c,desc:d,ref:t},y.createElement(cse,null,r)))}),rce=["width","height"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(null,arguments)}function nce(e,t){if(e==null)return{};var r,n,a=ace(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ace(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ice={top:5,right:5,bottom:5,left:5},sce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ice,reverseStackOrder:!1,syncMethod:"index"},U1=y.forwardRef(function(t,r){var n,a=kr(t.categoricalChartProps,sce),{width:i,height:o}=a,l=nce(a,rce);if(!Dl(i)||!Dl(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return y.createElement(f$,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},y.createElement(D4,{chartData:h.data}),y.createElement(h$,{width:i,height:o,layout:a.layout,margin:a.margin}),y.createElement(m$,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),y.createElement(p$,W0({},l,{width:i,height:o,ref:r})))}),oce=["axis"],W1=y.forwardRef((e,t)=>y.createElement(U1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:oce,tooltipPayloadSearcher:Dg,categoricalChartProps:e,ref:t})),lce=["axis","item"],g$=y.forwardRef((e,t)=>y.createElement(U1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lce,tooltipPayloadSearcher:Dg,categoricalChartProps:e,ref:t}));function cce(e){var t=bt();return y.useEffect(()=>{t(Mle(e))},[t,e]),null}var uce=["width","height","layout"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(null,arguments)}function dce(e,t){if(e==null)return{};var r,n,a=fce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hce={top:5,right:5,bottom:5,left:5},mce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hce,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},pce=y.forwardRef(function(t,r){var n,a=kr(t.categoricalChartProps,mce),{width:i,height:o,layout:l}=a,c=dce(a,uce);if(!Dl(i)||!Dl(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return y.createElement(f$,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:d},y.createElement(D4,{chartData:a.data}),y.createElement(h$,{width:i,height:o,layout:l,margin:a.margin}),y.createElement(m$,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),y.createElement(cce,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),y.createElement(p$,V0({width:i,height:o},c,{ref:r})))}),gce=["item"],vce={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},H0=y.forwardRef((e,t)=>{var r=kr(e,vce);return y.createElement(pce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gce,tooltipPayloadSearcher:Dg,categoricalChartProps:r,ref:t})}),yce=["axis"],v$=y.forwardRef((e,t)=>y.createElement(U1,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yce,tooltipPayloadSearcher:Dg,categoricalChartProps:e,ref:t}));function xce({widget:e,isDarkMode:t}){var o,l;const r=[{month:"Jan",revenue:12e3},{month:"Feb",revenue:15e3},{month:"Mar",revenue:11e3},{month:"Apr",revenue:18e3},{month:"May",revenue:22e3},{month:"Jun",revenue:19e3}],n=((o=r[r.length-1])==null?void 0:o.revenue)||0,a=((l=r[r.length-2])==null?void 0:l.revenue)||0,i=a?(n-a)/a*100:0;return s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-2",children:s.jsxs(K,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4"}),"Revenue Trend"]})}),s.jsx(U,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:ne(n)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(ct,{className:`h-4 w-4 ${i>0?"text-green-500":"text-red-500"}`}),s.jsxs("span",{className:i>0?"text-green-500":"text-red-500",children:[Math.abs(i).toFixed(1),"%"]})]})]}),s.jsx("div",{className:"h-32",children:s.jsx(ha,{width:"100%",height:"100%",children:s.jsxs(W1,{data:r,children:[s.jsx(Ja,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:t?"#94a3b8":"#64748b"}}),s.jsx(Qa,{hide:!0}),s.jsx(Ll,{formatter:c=>[ne(c),"Revenue"],labelStyle:{color:t?"#fff":"#000"},contentStyle:{backgroundColor:t?"#1e293b":"#fff",border:t?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px"}}),s.jsx(Gu,{type:"monotone",dataKey:"revenue",stroke:"#2563eb",strokeWidth:2,dot:{fill:"#2563eb",strokeWidth:2,r:3},activeDot:{r:4,stroke:"#2563eb",strokeWidth:2}})]})})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"6-month revenue trend"})]})})]})}function ar(e){const{user:t}=gr(),[r,n]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(null),c=t==null?void 0:t.id,d=[{name:"Cisco",color:"#3B82F6",status:"active"},{name:"PTS",color:"#10B981",status:"active"},{name:"Other",color:"#F59E0B",status:"active"}],u=async()=>{if(!c){n([]),i(!1);return}try{i(!0),l(null);const{data:w,error:j}=await G.from("projects").select("*").eq("user_id",c).order("created_at",{ascending:!1});if(j)throw j;w.length===0?await f():n(w)}catch(w){console.error("Error fetching projects:",w),l(w instanceof Error?w.message:"Failed to fetch projects");const j=localStorage.getItem(`projects_${c}`);j&&n(JSON.parse(j))}finally{i(!1)}},f=async()=>{if(c)try{const w=d.map(N=>({...N,user_id:c})),{data:j,error:S}=await G.from("projects").insert(w).select();if(S)throw S;n(j||[]),localStorage.setItem(`projects_${c}`,JSON.stringify(j||[]))}catch(w){console.error("Error creating default projects:",w),l(w instanceof Error?w.message:"Failed to create default projects")}},h=async w=>{if(!c)throw new Error("User not authenticated");try{const j={...w,user_id:c,status:w.status||"planning",start_date:w.start_date||null,end_date:w.end_date||null,description:w.description||null,client_id:w.client_id||null};console.log("Attempting to insert project:",j);const{data:S,error:N}=await G.from("projects").insert([j]).select().single();if(N)throw console.error("Database insert error:",N),N;if(console.log("Project inserted successfully:",S),S){n(E=>[S,...E]);const _=[S,...r];return localStorage.setItem(`projects_${c}`,JSON.stringify(_)),S}return null}catch(j){console.error("Error adding project:",j);const N=[{id:`local_${Date.now()}`,name:w.name,color:w.color,client_id:w.client_id||null,description:w.description||null,status:w.status||"planning",start_date:w.start_date||null,end_date:w.end_date||null,budget:w.budget||null,hourly_rate:w.hourly_rate||null,user_id:c,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...r];throw n(N),localStorage.setItem(`projects_${c}`,JSON.stringify(N)),j}},m=async w=>{if(!c)throw new Error("User not authenticated");try{const{id:j,...S}=w,{data:N,error:_}=await G.from("projects").update({...S,updated_at:new Date().toISOString()}).eq("id",j).eq("user_id",c).select().single();if(_)throw _;if(N){n(k=>k.map(P=>P.id===j?N:P));const E=r.map(k=>k.id===j?N:k);return localStorage.setItem(`projects_${c}`,JSON.stringify(E)),N}return null}catch(j){throw console.error("Error updating project:",j),j}},p=async w=>{if(!c)throw new Error("User not authenticated");try{const{error:j}=await G.from("projects").delete().eq("id",w).eq("user_id",c);if(j)throw j;n(N=>N.filter(_=>_.id!==w));const S=r.filter(N=>N.id!==w);localStorage.setItem(`projects_${c}`,JSON.stringify(S))}catch(j){throw console.error("Error deleting project:",j),j}},g=w=>r.find(j=>j.id===w),v=w=>r.filter(j=>j.client_id===w),x=()=>r.filter(w=>w.status==="active"),b=async(w,j)=>{try{return{data:await h({name:w,color:j}),error:null}}catch(S){return{data:null,error:S instanceof Error?S.message:"Failed to create project"}}};return y.useEffect(()=>{u()},[c]),{projects:r,loading:a,error:o,addProject:h,updateProject:m,deleteProject:p,getProjectById:g,getProjectsByClient:v,getActiveProjects:x,createProject:b,refetch:u}}function Kt(e){const{user:t}=gr(),[r,n]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(null),c=t==null?void 0:t.id,d=async()=>{if(!c){n([]),i(!1);return}try{i(!0),l(null);const{data:x,error:b}=await G.from("clients").select("*").eq("user_id",c).order("created_at",{ascending:!1});if(b)throw b;n(x||[])}catch(x){console.error("Error fetching clients:",x),l(x instanceof Error?x.message:"Failed to fetch clients");const b=localStorage.getItem(`clients_${c}`);b&&n(JSON.parse(b))}finally{i(!1)}},u=async x=>{if(!c)throw new Error("User not authenticated");try{const b={...x,user_id:c,currency:x.currency||"SEK",status:x.status||"active"},{data:w,error:j}=await G.from("clients").insert([b]).select().single();if(j)throw j;if(w){n(N=>[w,...N]);const S=[w,...r];return localStorage.setItem(`clients_${c}`,JSON.stringify(S)),w}return null}catch(b){console.error("Error adding client:",b);const j=[{id:`local_${Date.now()}`,name:x.name,email:x.email||null,phone:x.phone||null,company:x.company||null,address:x.address||null,hourly_rate:x.hourly_rate||null,notes:x.notes||null,user_id:c,currency:x.currency||"SEK",status:x.status||"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...r];throw n(j),localStorage.setItem(`clients_${c}`,JSON.stringify(j)),b}},f=async x=>{if(!c)throw new Error("User not authenticated");try{const{id:b,...w}=x,{data:j,error:S}=await G.from("clients").update({...w,updated_at:new Date().toISOString()}).eq("id",b).eq("user_id",c).select().single();if(S)throw S;if(j){n(_=>_.map(E=>E.id===b?j:E));const N=r.map(_=>_.id===b?j:_);return localStorage.setItem(`clients_${c}`,JSON.stringify(N)),j}return null}catch(b){throw console.error("Error updating client:",b),b}},h=async x=>{if(!c)throw new Error("User not authenticated");try{const{error:b}=await G.from("clients").delete().eq("id",x).eq("user_id",c);if(b)throw b;n(j=>j.filter(S=>S.id!==x));const w=r.filter(j=>j.id!==x);localStorage.setItem(`clients_${c}`,JSON.stringify(w))}catch(b){throw console.error("Error deleting client:",b),b}},m=x=>r.find(b=>b.id===x),p=()=>r.filter(x=>x.status==="active"),g=async x=>{await f({id:x,status:"archived"})},v=async x=>{await f({id:x,status:"active"})};return y.useEffect(()=>{d()},[c]),{clients:r,loading:a,error:o,addClient:u,updateClient:f,deleteClient:h,getClientById:m,getActiveClients:p,archiveClient:g,activateClient:v,refetch:d}}function bce({widget:e,isDarkMode:t}){const{projects:r}=ar(),{clients:n}=Kt(),{entries:a}=vr(),i=r.filter(p=>p.status==="active").length,o=n.filter(p=>p.status==="active").length,l=new Date;l.setDate(l.getDate()-30);const c=a.filter(p=>new Date(p.date+"T00:00:00")>=l),d=c.reduce((p,g)=>p+g.hours,0),u=new Set(c.map(p=>p.date)).size,f=u>0?d/u:0,h=a.length,m=[{label:"Active Projects",value:i.toString(),icon:Sl,color:"text-blue-600",bgColor:"bg-blue-100",darkBgColor:"bg-blue-900/30"},{label:"Active Clients",value:o.toString(),icon:ta,color:"text-green-600",bgColor:"bg-green-100",darkBgColor:"bg-green-900/30"},{label:"Time Entries",value:h.toString(),icon:lt,color:"text-purple-600",bgColor:"bg-purple-100",darkBgColor:"bg-purple-900/30"},{label:"Avg Hours/Day",value:f.toFixed(1),icon:Me,color:"text-orange-600",bgColor:"bg-orange-100",darkBgColor:"bg-orange-900/30"}];return s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-3",children:s.jsx(K,{className:"text-sm font-medium",children:"Quick Stats"})}),s.jsx(U,{children:s.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map((p,g)=>{const v=p.icon;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1.5 rounded-md ${t?p.darkBgColor:p.bgColor}`,children:s.jsx(v,{className:`h-3 w-3 ${p.color}`})}),s.jsx("div",{className:"text-lg font-bold",children:p.value})]}),s.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:p.label})]},g)})})})]})}function wce(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),a=[{icon:Oe,label:"Add Income",description:"Log new income",color:"green",action:()=>t(!0)},{icon:ZN,label:"Add Expense",description:"Record expense",color:"red",action:()=>n(!0)},{icon:lt,label:"Create Invoice",description:"Generate invoice",color:"blue",action:()=>console.log("Create invoice")},{icon:ta,label:"New Client",description:"Add client",color:"purple",action:()=>console.log("Add client")},{icon:xt,label:"Schedule Meeting",description:"Book appointment",color:"orange",action:()=>console.log("Schedule meeting")},{icon:xO,label:"View Reports",description:"Analytics",color:"indigo",action:()=>console.log("View reports")}],i=l=>{l.preventDefault(),t(!1)},o=l=>{l.preventDefault(),n(!1)};return e?s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-3",children:s.jsxs(K,{className:"text-lg flex items-center gap-2",children:[s.jsx(Oe,{className:"h-5 w-5 text-green-600"}),"Add Income"]})}),s.jsx(U,{children:s.jsxs("form",{onSubmit:i,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Amount"}),s.jsx(oe,{type:"number",placeholder:"0.00",className:"text-lg font-bold",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Description"}),s.jsx(oe,{placeholder:"Client payment, consulting, etc.",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Category"}),s.jsxs("select",{className:"w-full p-2 border rounded text-sm",title:"Income Category",children:[s.jsx("option",{children:"Client Payment"}),s.jsx("option",{children:"Consulting"}),s.jsx("option",{children:"Retainer"}),s.jsx("option",{children:"Other"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx($,{type:"submit",size:"sm",className:"flex-1",children:"Add Income"}),s.jsx($,{type:"button",size:"sm",variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})})]}):r?s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-3",children:s.jsxs(K,{className:"text-lg flex items-center gap-2",children:[s.jsx(ZN,{className:"h-5 w-5 text-red-600"}),"Add Expense"]})}),s.jsx(U,{children:s.jsxs("form",{onSubmit:o,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Amount"}),s.jsx(oe,{type:"number",placeholder:"0.00",className:"text-lg font-bold",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Description"}),s.jsx(oe,{placeholder:"Software, office supplies, etc.",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Category"}),s.jsxs("select",{className:"w-full p-2 border rounded text-sm",title:"Expense Category",children:[s.jsx("option",{children:"Software"}),s.jsx("option",{children:"Office"}),s.jsx("option",{children:"Travel"}),s.jsx("option",{children:"Marketing"}),s.jsx("option",{children:"Other"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx($,{type:"submit",size:"sm",className:"flex-1",children:"Add Expense"}),s.jsx($,{type:"button",size:"sm",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})]}):s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-3",children:s.jsxs(K,{className:"text-lg flex items-center gap-2",children:[s.jsx(yp,{className:"h-5 w-5 text-gray-600"}),"Quick Actions"]})}),s.jsxs(U,{children:[s.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map((l,c)=>{const d=l.icon,u={green:"bg-green-50 hover:bg-green-100 dark:bg-green-900/20 dark:hover:bg-green-900/30 text-green-700 dark:text-green-400",red:"bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-400",blue:"bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400",purple:"bg-purple-50 hover:bg-purple-100 dark:bg-purple-900/20 dark:hover:bg-purple-900/30 text-purple-700 dark:text-purple-400",orange:"bg-orange-50 hover:bg-orange-100 dark:bg-orange-900/20 dark:hover:bg-orange-900/30 text-orange-700 dark:text-orange-400",indigo:"bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400"};return s.jsx("button",{onClick:l.action,className:`p-3 rounded-lg text-left transition-colors ${u[l.color]}`,children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(d,{className:"h-5 w-5"}),s.jsx("div",{className:"text-xs font-medium text-center",children:l.label})]})},c)})}),s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Today's Summary"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Income:"}),s.jsx("span",{className:"font-medium text-green-600",children:"+25,000 kr"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Expenses:"}),s.jsx("span",{className:"font-medium text-red-600",children:"-4,500 kr"})]})]})]})]})]})}function jce({widget:e,isDarkMode:t}){const{entries:r}=vr(),{projects:n}=ar(),{clients:a}=Kt(),i=r.slice(0,10).map(u=>{const f=n.find(p=>p.id===u.project_id),h=a.find(p=>p.id===(f==null?void 0:f.client_id)),m=d(u.created_at);return{id:u.id,type:"time",message:`Logged ${u.hours}h on ${(f==null?void 0:f.name)||"Unknown Project"}${h?` for ${h.name}`:""}`,time:m,icon:Me,color:"text-blue-600",date:u.created_at}}),o=n.sort((u,f)=>new Date(f.created_at||"").getTime()-new Date(u.created_at||"").getTime()).slice(0,3).map(u=>{const f=a.find(m=>m.id===u.client_id),h=d(u.created_at||"");return{id:`project-${u.id}`,type:"project",message:`Created project "${u.name}"${f?` for ${f.name}`:""}`,time:h,icon:ld,color:"text-green-600",date:u.created_at||""}}),l=a.sort((u,f)=>new Date(f.created_at||"").getTime()-new Date(u.created_at||"").getTime()).slice(0,2).map(u=>{const f=d(u.created_at||"");return{id:`client-${u.id}`,type:"client",message:`Added new client "${u.name}"${u.company?` (${u.company})`:""}`,time:f,icon:cs,color:"text-purple-600",date:u.created_at||""}}),c=[...i,...o,...l].sort((u,f)=>new Date(f.date).getTime()-new Date(u.date).getTime()).slice(0,6);function d(u){if(!u)return"Unknown time";const f=new Date(u),m=new Date().getTime()-f.getTime(),p=Math.floor(m/(1e3*60)),g=Math.floor(p/60),v=Math.floor(g/24);return p<1?"Just now":p<60?`${p} minutes ago`:g<24?`${g} hour${g>1?"s":""} ago`:v===1?"Yesterday":v<7?`${v} days ago`:v<30?`${Math.floor(v/7)} week${Math.floor(v/7)>1?"s":""} ago`:f.toLocaleDateString("sv-SE")}return s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-3",children:s.jsx(K,{className:"text-sm font-medium",children:"Recent Activities"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-3",children:c.length===0?s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"No recent activities"})}):c.map(u=>{const f=u.icon;return s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 rounded-full bg-muted flex-shrink-0",children:s.jsx(f,{className:`h-3 w-3 ${u.color}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium leading-relaxed",children:u.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.time})]})]},u.id)})})})]})}function Sce({widget:e,isDarkMode:t}){const{projects:r}=ar(),{clients:n}=Kt(),{entries:a}=vr(),i=r.filter(u=>u.status==="active").slice(0,3).map(u=>{const f=n.find(g=>g.id===u.client_id),m=a.filter(g=>g.project_id===u.id).reduce((g,v)=>g+v.hours,0);let p=0;if(u.budget&&u.hourly_rate){const g=u.budget/u.hourly_rate;p=Math.min(m/g*100,100)}else if(u.start_date&&u.end_date){const g=new Date(u.start_date),v=new Date(u.end_date),x=new Date,b=v.getTime()-g.getTime(),w=x.getTime()-g.getTime();p=Math.max(0,Math.min(w/b*100,100))}else p=Math.min(m*2,100);return{id:u.id,name:u.name,client:(f==null?void 0:f.name)||"No Client",status:u.status||"active",progress:Math.round(p),hoursLogged:Math.round(m*10)/10,budget:u.budget||0,deadline:u.end_date,hourlyRate:u.hourly_rate}}),o=u=>{switch(u){case"active":return"text-blue-600 bg-blue-100";case"planning":return"text-yellow-600 bg-yellow-100";case"on-hold":return"text-orange-600 bg-orange-100";case"completed":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},l=u=>{switch(u){case"active":return"Active";case"planning":return"Planning";case"on-hold":return"On Hold";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return u}},c=u=>{if(!u)return!1;const f=new Date(u),h=new Date,m=Math.ceil((f.getTime()-h.getTime())/(1e3*60*60*24));return m<=7&&m>=0},d=u=>u?`Due ${new Date(u).toLocaleDateString("sv-SE")}`:"No deadline";return s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-3",children:s.jsxs(K,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ld,{className:"h-4 w-4"}),"Active Projects"]})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:i.length===0?s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"No active projects"})}):i.map(u=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium truncate",children:u.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.client})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[c(u.deadline)&&s.jsx(ow,{className:"h-3 w-3 text-red-500"}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(u.status)}`,children:l(u.status)})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[u.progress,"% complete"]}),s.jsxs("span",{children:[u.hoursLogged,"h logged"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:s.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${u.progress}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs",children:"SEK"}),s.jsx("span",{children:u.budget>0?ne(u.budget):"No budget"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Me,{className:"h-3 w-3"}),s.jsx("span",{children:d(u.deadline)})]})]})]},u.id))})})]})}function Nce({isDarkMode:e}){const t=[{month:"Jan",balance:45e3,netFlow:7e3},{month:"Feb",balance:53500,netFlow:8500},{month:"Mar",balance:59700,netFlow:6200},{month:"Apr",balance:70700,netFlow:11e3},{month:"May",balance:79200,netFlow:8500},{month:"Jun",balance:88200,netFlow:9e3}],r=t[t.length-1].balance,n=t[t.length-1].netFlow,a=t[t.length-2].netFlow,i=n-a,o=i/a*100,l=r+n*1.05;return s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-3",children:s.jsxs(K,{className:"text-lg flex items-center gap-2",children:[s.jsx(rr,{className:"h-5 w-5 text-green-600"}),"Cash Flow"]})}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Balance"}),s.jsx("div",{className:"text-xl font-bold text-green-600",children:ne(r)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Monthly Net Flow"}),s.jsxs("div",{className:`text-xl font-bold flex items-center gap-1 ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?s.jsx(ct,{className:"h-4 w-4"}):s.jsx(Fh,{className:"h-4 w-4"}),ne(Math.abs(n))]})]})]}),s.jsx("div",{className:"h-24",children:s.jsx(ha,{width:"100%",height:"100%",children:s.jsxs(W1,{data:t,children:[s.jsx(Ja,{dataKey:"month",hide:!0}),s.jsx(Qa,{hide:!0}),s.jsx(Ll,{formatter:c=>[ne(c),"Balance"],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"12px"}}),s.jsx(Gu,{type:"monotone",dataKey:"balance",stroke:"#16a34a",strokeWidth:2,dot:!1,name:"Balance"})]})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs p-2 rounded ${i>=0?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:[i>=0?s.jsx(ct,{className:"h-3 w-3"}):s.jsx(Fh,{className:"h-3 w-3"}),s.jsxs("span",{children:[i>=0?"+":"",o.toFixed(1),"% vs last month"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(rr,{className:"h-3 w-3"}),s.jsxs("span",{children:["Projected next month: ",ne(l)]})]}),n<5e3&&s.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 rounded bg-yellow-50 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",children:[s.jsx(al,{className:"h-3 w-3"}),s.jsx("span",{children:"Consider increasing revenue streams"})]})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"flex-1 text-xs py-1 px-2 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded transition-colors",children:"Add Income"}),s.jsx("button",{className:"flex-1 text-xs py-1 px-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-400 rounded transition-colors",children:"Log Expense"})]})]})]})]})}function _ce({isDarkMode:e}){const t=[{month:"Apr",conservative:70700,realistic:70700,optimistic:70700},{month:"May",conservative:79200,realistic:79200,optimistic:79200},{month:"Jun",conservative:88200,realistic:88200,optimistic:88200},{month:"Jul",conservative:93e3,realistic:97e3,optimistic:102e3,isProjection:!0},{month:"Aug",conservative:97500,realistic:105500,optimistic:116e3,isProjection:!0},{month:"Sep",conservative:101800,realistic:114200,optimistic:131500,isProjection:!0}],r=88200,n=26e3/88200*100,i=Math.floor(r/18500);return s.jsxs(z,{className:"h-full",children:[s.jsx(q,{className:"pb-3",children:s.jsxs(K,{className:"text-lg flex items-center gap-2",children:[s.jsx(ct,{className:"h-5 w-5 text-blue-600"}),"Cash Flow Projections"]})}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[s.jsxs("div",{className:"p-2 rounded bg-green-50 dark:bg-green-900/20",children:[s.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Conservative"}),s.jsx("div",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:ne(t[t.length-1].conservative)})]}),s.jsxs("div",{className:"p-2 rounded bg-blue-50 dark:bg-blue-900/20",children:[s.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Realistic"}),s.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:ne(t[t.length-1].realistic)})]}),s.jsxs("div",{className:"p-2 rounded bg-purple-50 dark:bg-purple-900/20",children:[s.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:"Optimistic"}),s.jsx("div",{className:"text-lg font-bold text-purple-700 dark:text-purple-300",children:ne(t[t.length-1].optimistic)})]})]}),s.jsx("div",{className:"h-32",children:s.jsx(ha,{width:"100%",height:"100%",children:s.jsxs(v$,{data:t,children:[s.jsx(Ja,{dataKey:"month",tick:{fontSize:10,fill:e?"#94a3b8":"#64748b"},axisLine:!1,tickLine:!1}),s.jsx(Qa,{hide:!0}),s.jsx(Ll,{formatter:(o,l)=>[ne(o),l.charAt(0).toUpperCase()+l.slice(1)],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"12px"}}),s.jsx(ul,{type:"monotone",dataKey:"optimistic",stackId:"1",stroke:"#9333ea",fill:"#9333ea",fillOpacity:.1,strokeWidth:1,strokeDasharray:"3 3"}),s.jsx(ul,{type:"monotone",dataKey:"realistic",stackId:"2",stroke:"#2563eb",fill:"#2563eb",fillOpacity:.2,strokeWidth:2}),s.jsx(ul,{type:"monotone",dataKey:"conservative",stackId:"3",stroke:"#16a34a",fill:"#16a34a",fillOpacity:.3,strokeWidth:1})]})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[s.jsx(ct,{className:"h-3 w-3"}),s.jsx("span",{children:"3-Month Growth"})]}),s.jsxs("span",{className:"font-medium",children:["+",n.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1 text-orange-600 dark:text-orange-400",children:[s.jsx(xt,{className:"h-3 w-3"}),s.jsx("span",{children:"Cash Runway"})]}),s.jsxs("span",{className:"font-medium",children:[i," months"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[s.jsx(Dn,{className:"h-3 w-3"}),s.jsx("span",{children:"Goal: 1,500,000 kr"})]}),s.jsx("span",{className:"font-medium",children:"75% achieved"})]})]}),i<6&&s.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 rounded bg-orange-50 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",children:[s.jsx(ow,{className:"h-3 w-3"}),s.jsx("span",{children:"Consider building larger cash reserves"})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Model Assumptions"}),s.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[s.jsx("div",{children:"• Conservative: 5% growth/month"}),s.jsx("div",{children:"• Realistic: 8% growth/month"}),s.jsx("div",{children:"• Optimistic: 12% growth/month"})]})]})]})]})}function y$({widget:e,isDarkMode:t}){return s.jsx(z,{className:"h-full border-dashed border-2",children:s.jsx(U,{className:"p-6 flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mx-auto",children:s.jsx(Oe,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm mb-1",children:"Add Content"}),s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This widget is ready for your content"}),s.jsx($,{variant:"outline",size:"sm",children:"Configure"})]})]})})})}function et(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Cce(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function zg(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const d=f=>{var x;const{scope:h,children:m,...p}=f,g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=y.useMemo(()=>p,Object.values(p));return s.jsx(g.Provider,{value:v,children:m})};d.displayName=i+"Provider";function u(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,p=y.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Ece(a,...t)]}function Ece(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var pr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},kce=Gm[" useId ".trim().toString()]||(()=>{}),Pce=0;function dl(e){const[t,r]=y.useState(kce());return pr(()=>{r(n=>n??String(Pce++))},[e]),t?`radix-${t}`:""}var Ace=Gm[" useInsertionEffect ".trim().toString()]||pr;function q0({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=Oce({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=y.useRef(e!==void 0);y.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=y.useCallback(u=>{var f;if(l){const h=Tce(u)?u(e):u;h!==e&&((f=o.current)==null||f.call(o,h))}else i(u)},[l,e,i,o]);return[c,d]}function Oce({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return Ace(()=>{i.current=t},[t]),y.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function Tce(e){return typeof e=="function"}var Dce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=Dce.reduce((e,t)=>{const r=Cl(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ice(e,t){e&&is.flushSync(()=>e.dispatchEvent(t))}function co(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Mce(e,t=globalThis==null?void 0:globalThis.document){const r=co(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Rce="DismissableLayer",K0="dismissableLayer.update",$ce="dismissableLayer.pointerDownOutside",Lce="dismissableLayer.focusOutside",LE,x$=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V1=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=y.useContext(x$),[u,f]=y.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),p=vt(t,_=>f(_)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(v),b=u?g.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=b>=x,S=zce(_=>{const E=_.target,k=[...d.branches].some(P=>P.contains(E));!j||k||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},h),N=Uce(_=>{const E=_.target;[...d.branches].some(P=>P.contains(E))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},h);return Mce(_=>{b===d.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),y.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(LE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),FE(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=LE)}},[u,h,r,d]),y.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),FE())},[u,d]),y.useEffect(()=>{const _=()=>m({});return document.addEventListener(K0,_),()=>document.removeEventListener(K0,_)},[]),s.jsx(Xe.div,{...c,ref:p,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:et(e.onFocusCapture,N.onFocusCapture),onBlurCapture:et(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:et(e.onPointerDownCapture,S.onPointerDownCapture)})});V1.displayName=Rce;var Fce="DismissableLayerBranch",Bce=y.forwardRef((e,t)=>{const r=y.useContext(x$),n=y.useRef(null),a=vt(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Xe.div,{...e,ref:a})});Bce.displayName=Fce;function zce(e,t=globalThis==null?void 0:globalThis.document){const r=co(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){b$($ce,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Uce(e,t=globalThis==null?void 0:globalThis.document){const r=co(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&b$(Lce,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function FE(){const e=new CustomEvent(K0);document.dispatchEvent(e)}function b$(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Ice(a,i):a.dispatchEvent(i)}var jy="focusScope.autoFocusOnMount",Sy="focusScope.autoFocusOnUnmount",BE={bubbles:!1,cancelable:!0},Wce="FocusScope",H1=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),d=co(a),u=co(i),f=y.useRef(null),h=vt(t,g=>c(g)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:xi(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||xi(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&xi(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){UE.add(m);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(jy,BE);l.addEventListener(jy,d),l.dispatchEvent(x),x.defaultPrevented||(Vce(Yce(w$(l)),{select:!0}),document.activeElement===g&&xi(l))}return()=>{l.removeEventListener(jy,d),setTimeout(()=>{const x=new CustomEvent(Sy,BE);l.addEventListener(Sy,u),l.dispatchEvent(x),x.defaultPrevented||xi(g??document.body,{select:!0}),l.removeEventListener(Sy,u),UE.remove(m)},0)}}},[l,d,u,m]);const p=y.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(v&&x){const b=g.currentTarget,[w,j]=Hce(b);w&&j?!g.shiftKey&&x===j?(g.preventDefault(),r&&xi(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),r&&xi(j,{select:!0})):x===b&&g.preventDefault()}},[r,n,m.paused]);return s.jsx(Xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});H1.displayName=Wce;function Vce(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(xi(n,{select:t}),document.activeElement!==r)return}function Hce(e){const t=w$(e),r=zE(t,e),n=zE(t.reverse(),e);return[r,n]}function w$(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zE(e,t){for(const r of e)if(!qce(r,{upTo:t}))return r}function qce(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Kce(e){return e instanceof HTMLInputElement&&"select"in e}function xi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Kce(e)&&t&&e.select()}}var UE=Gce();function Gce(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=WE(e,t),e.unshift(t)},remove(t){var r;e=WE(e,t),(r=e[0])==null||r.resume()}}}function WE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Yce(e){return e.filter(t=>t.tagName!=="A")}var Xce="Portal",q1=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=y.useState(!1);pr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?TA.createPortal(s.jsx(Xe.div,{...n,ref:t}),o):null});q1.displayName=Xce;function Jce(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Ug=e=>{const{present:t,children:r}=e,n=Qce(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=vt(n.ref,Zce(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};Ug.displayName="Presence";function Qce(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Jce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Df(n.current);i.current=l==="mounted"?d:"none"},[l]),pr(()=>{const d=n.current,u=a.current;if(u!==e){const h=i.current,m=Df(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),pr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=m=>{const g=Df(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=Df(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Df(e){return(e==null?void 0:e.animationName)||"none"}function Zce(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ny=0;function j$(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VE()),document.body.insertAdjacentElement("beforeend",e[1]??VE()),Ny++,()=>{Ny===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ny--}},[])}function VE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var da=function(){return da=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},da.apply(this,arguments)};function S$(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function eue(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var nh="right-scroll-bar-position",ah="width-before-scroll-bar",tue="with-scroll-bars-hidden",rue="--removed-body-scroll-bar-size";function _y(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nue(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var aue=typeof window<"u"?y.useLayoutEffect:y.useEffect,HE=new WeakMap;function iue(e,t){var r=nue(null,function(n){return e.forEach(function(a){return _y(a,n)})});return aue(function(){var n=HE.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||_y(l,null)}),i.forEach(function(l){a.has(l)||_y(l,o)})}HE.set(r,e)},[e]),r}function sue(e){return e}function oue(e,t){t===void 0&&(t=sue);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function lue(e){e===void 0&&(e={});var t=oue(null);return t.options=da({async:!0,ssr:!1},e),t}var N$=function(e){var t=e.sideCar,r=S$(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,da({},r))};N$.isSideCarExport=!0;function cue(e,t){return e.useMedium(t),N$}var _$=lue(),Cy=function(){},Wg=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:Cy,onWheelCapture:Cy,onTouchMoveCapture:Cy}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,w=e.gapMode,j=S$(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=iue([r,t]),_=da(da({},j),a);return y.createElement(y.Fragment,null,u&&y.createElement(S,{sideCar:_$,removeScrollBar:d,shards:f,noRelative:m,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?y.cloneElement(y.Children.only(l),da(da({},_),{ref:N})):y.createElement(b,da({},_,{className:c,ref:N}),l))});Wg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wg.classNames={fullWidth:ah,zeroRight:nh};var uue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function due(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=uue();return t&&e.setAttribute("nonce",t),e}function fue(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hue(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mue=function(){var e=0,t=null;return{add:function(r){e==0&&(t=due())&&(fue(t,r),hue(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},pue=function(){var e=mue();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},C$=function(){var e=pue(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},gue={left:0,top:0,right:0,gap:0},Ey=function(e){return parseInt(e||"",10)||0},vue=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ey(r),Ey(n),Ey(a)]},yue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gue;var t=vue(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},xue=C$(),fl="data-scroll-locked",bue=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(tue,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(fl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nh,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ah,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nh," .").concat(nh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fl,`] {
    `).concat(rue,": ").concat(l,`px;
  }
`)},qE=function(){var e=parseInt(document.body.getAttribute(fl)||"0",10);return isFinite(e)?e:0},wue=function(){y.useEffect(function(){return document.body.setAttribute(fl,(qE()+1).toString()),function(){var e=qE()-1;e<=0?document.body.removeAttribute(fl):document.body.setAttribute(fl,e.toString())}},[])},jue=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;wue();var i=y.useMemo(function(){return yue(a)},[a]);return y.createElement(xue,{styles:bue(i,!t,a,r?"":"!important")})},G0=!1;if(typeof window<"u")try{var If=Object.defineProperty({},"passive",{get:function(){return G0=!0,!0}});window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch{G0=!1}var Oo=G0?{passive:!1}:!1,Sue=function(e){return e.tagName==="TEXTAREA"},E$=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Sue(e)&&r[t]==="visible")},Nue=function(e){return E$(e,"overflowY")},_ue=function(e){return E$(e,"overflowX")},KE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=k$(e,n);if(a){var i=P$(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Cue=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Eue=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},k$=function(e,t){return e==="v"?Nue(t):_ue(t)},P$=function(e,t){return e==="v"?Cue(t):Eue(t)},kue=function(e,t){return e==="h"&&t==="rtl"?-1:1},Pue=function(e,t,r,n,a){var i=kue(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{if(!l)break;var m=P$(e,l),p=m[0],g=m[1],v=m[2],x=g-v-i*p;(p||x)&&k$(e,l)&&(f+=x,h+=p);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(d=!0),d},Mf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},GE=function(e){return[e.deltaX,e.deltaY]},YE=function(e){return e&&"current"in e?e.current:e},Aue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Oue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Tue=0,To=[];function Due(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(Tue++)[0],i=y.useState(C$)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=eue([e.lockRef.current],(e.shards||[]).map(YE),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var x=Mf(g),b=r.current,w="deltaX"in g?g.deltaX:b[0]-x[0],j="deltaY"in g?g.deltaY:b[1]-x[1],S,N=g.target,_=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&_==="h"&&N.type==="range")return!1;var E=KE(_,N);if(!E)return!0;if(E?S=_:(S=_==="v"?"h":"v",E=KE(_,N)),!E)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=S),!S)return!0;var k=n.current||S;return Pue(k,v,g,k==="h"?w:j)},[]),c=y.useCallback(function(g){var v=g;if(!(!To.length||To[To.length-1]!==i)){var x="deltaY"in v?GE(v):Mf(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Aue(S.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(YE).filter(Boolean).filter(function(S){return S.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=y.useCallback(function(g,v,x,b){var w={name:g,delta:v,target:x,should:b,shadowParent:Iue(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=y.useCallback(function(g){r.current=Mf(g),n.current=void 0},[]),f=y.useCallback(function(g){d(g.type,GE(g),g.target,l(g,e.lockRef.current))},[]),h=y.useCallback(function(g){d(g.type,Mf(g),g.target,l(g,e.lockRef.current))},[]);y.useEffect(function(){return To.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Oo),document.addEventListener("touchmove",c,Oo),document.addEventListener("touchstart",u,Oo),function(){To=To.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Oo),document.removeEventListener("touchmove",c,Oo),document.removeEventListener("touchstart",u,Oo)}},[]);var m=e.removeScrollBar,p=e.inert;return y.createElement(y.Fragment,null,p?y.createElement(i,{styles:Oue(a)}):null,m?y.createElement(jue,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Iue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Mue=cue(_$,Due);var K1=y.forwardRef(function(e,t){return y.createElement(Wg,da({},e,{ref:t,sideCar:Mue}))});K1.classNames=Wg.classNames;var Rue=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Do=new WeakMap,Rf=new WeakMap,$f={},ky=0,A$=function(e){return e&&(e.host||A$(e.parentNode))},$ue=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=A$(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Lue=function(e,t,r,n){var a=$ue(t,Array.isArray(e)?e:[e]);$f[r]||($f[r]=new WeakMap);var i=$f[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var m=h.getAttribute(n),p=m!==null&&m!=="false",g=(Do.get(h)||0)+1,v=(i.get(h)||0)+1;Do.set(h,g),i.set(h,v),o.push(h),g===1&&p&&Rf.set(h,!0),v===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return u(t),l.clear(),ky++,function(){o.forEach(function(f){var h=Do.get(f)-1,m=i.get(f)-1;Do.set(f,h),i.set(f,m),h||(Rf.has(f)||f.removeAttribute(n),Rf.delete(f)),m||f.removeAttribute(r)}),ky--,ky||(Do=new WeakMap,Do=new WeakMap,Rf=new WeakMap,$f={})}},O$=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Rue(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Lue(n,a,r,"aria-hidden")):function(){return null}},Vg="Dialog",[T$,Cge]=zg(Vg),[Fue,ia]=T$(Vg),D$=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[d,u]=q0({prop:n,defaultProp:a??!1,onChange:i,caller:Vg});return s.jsx(Fue,{scope:t,triggerRef:l,contentRef:c,contentId:dl(),titleId:dl(),descriptionId:dl(),open:d,onOpenChange:u,onOpenToggle:y.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};D$.displayName=Vg;var I$="DialogTrigger",M$=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ia(I$,r),i=vt(t,a.triggerRef);return s.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":X1(a.open),...n,ref:i,onClick:et(e.onClick,a.onOpenToggle)})});M$.displayName=I$;var G1="DialogPortal",[Bue,R$]=T$(G1,{forceMount:void 0}),$$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=ia(G1,t);return s.jsx(Bue,{scope:t,forceMount:r,children:y.Children.map(n,o=>s.jsx(Ug,{present:r||i.open,children:s.jsx(q1,{asChild:!0,container:a,children:o})}))})};$$.displayName=G1;var Mm="DialogOverlay",L$=y.forwardRef((e,t)=>{const r=R$(Mm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ia(Mm,e.__scopeDialog);return i.modal?s.jsx(Ug,{present:n||i.open,children:s.jsx(Uue,{...a,ref:t})}):null});L$.displayName=Mm;var zue=Cl("DialogOverlay.RemoveScroll"),Uue=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ia(Mm,r);return s.jsx(K1,{as:zue,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Xe.div,{"data-state":X1(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),uo="DialogContent",F$=y.forwardRef((e,t)=>{const r=R$(uo,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=ia(uo,e.__scopeDialog);return s.jsx(Ug,{present:n||i.open,children:i.modal?s.jsx(Wue,{...a,ref:t}):s.jsx(Vue,{...a,ref:t})})});F$.displayName=uo;var Wue=y.forwardRef((e,t)=>{const r=ia(uo,e.__scopeDialog),n=y.useRef(null),a=vt(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return O$(i)},[]),s.jsx(B$,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:et(e.onFocusOutside,i=>i.preventDefault())})}),Vue=y.forwardRef((e,t)=>{const r=ia(uo,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(B$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),B$=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ia(uo,r),c=y.useRef(null),d=vt(t,c);return j$(),s.jsxs(s.Fragment,{children:[s.jsx(H1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(V1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":X1(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Hue,{titleId:l.titleId}),s.jsx(Kue,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Y1="DialogTitle",z$=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ia(Y1,r);return s.jsx(Xe.h2,{id:a.titleId,...n,ref:t})});z$.displayName=Y1;var U$="DialogDescription",W$=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ia(U$,r);return s.jsx(Xe.p,{id:a.descriptionId,...n,ref:t})});W$.displayName=U$;var V$="DialogClose",H$=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ia(V$,r);return s.jsx(Xe.button,{type:"button",...n,ref:t,onClick:et(e.onClick,()=>a.onOpenChange(!1))})});H$.displayName=V$;function X1(e){return e?"open":"closed"}var q$="DialogTitleWarning",[Ege,K$]=Cce(q$,{contentName:uo,titleName:Y1,docsSlug:"dialog"}),Hue=({titleId:e})=>{const t=K$(q$),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},que="DialogDescriptionWarning",Kue=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K$(que).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Gue=D$,Yue=M$,Xue=$$,G$=L$,Y$=F$,X$=z$,J$=W$,Jue=H$;const Sr=Gue,Q$=Yue,Que=Xue,Z$=y.forwardRef(({className:e,...t},r)=>s.jsx(G$,{ref:r,className:Se("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Z$.displayName=G$.displayName;const dr=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Que,{children:[s.jsx(Z$,{}),s.jsxs(Y$,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Jue,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(xp,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dr.displayName=Y$.displayName;const fr=({className:e,...t})=>s.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fr.displayName="DialogHeader";const cc=({className:e,...t})=>s.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});cc.displayName="DialogFooter";const hr=y.forwardRef(({className:e,...t},r)=>s.jsx(X$,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",e),...t}));hr.displayName=X$.displayName;const ci=y.forwardRef(({className:e,...t},r)=>s.jsx(J$,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));ci.displayName=J$.displayName;const Py=[{type:"today-time",name:"Today's Hours",description:"Track your daily time logging progress",icon:Me,category:"Time",size:{w:1,h:1}},{type:"time-logged",name:"Monthly Time",description:"Monitor your monthly time tracking progress",icon:Me,category:"Time",size:{w:1,h:1}},{type:"quick-stats",name:"Quick Stats",description:"Key metrics at a glance",icon:Wi,category:"Overview",size:{w:1,h:1}},{type:"projects-overview",name:"Projects Overview",description:"Status of your active projects",icon:ld,category:"Projects",size:{w:2,h:1}},{type:"recent-activities",name:"Recent Activities",description:"Latest actions and updates",icon:Sl,category:"Overview",size:{w:1,h:1}},{type:"quick-actions",name:"Quick Actions",description:"Fast access to common tasks",icon:jO,category:"Overview",size:{w:1,h:1}},{type:"monthly-expenses",name:"Monthly Expenses",description:"Track your monthly expenses and trends",icon:rr,category:"Finance",size:{w:1,h:1}},{type:"revenue-chart",name:"Revenue Chart",description:"Visual representation of revenue trends",icon:ct,category:"Finance",size:{w:2,h:1}},{type:"cash-flow",name:"Cash Flow",description:"Monitor your cash flow and balance",icon:l8,category:"Finance",size:{w:1,h:1}},{type:"cash-flow-projections",name:"Cash Flow Projections",description:"Forecast future cash flow scenarios",icon:Dn,category:"Finance",size:{w:2,h:1}},{type:"blank-card",name:"Custom Widget",description:"Create your own custom content",icon:Oe,category:"Custom",size:{w:1,h:1}}];function XE({onAddWidget:e,children:t}){const[r,n]=y.useState(!1),a=(d,u)=>{const f=Py.find(m=>m.type===d);if(!f)return;const h={id:Date.now().toString(),type:d,title:f.name,size:u,position:{x:0,y:999,w:u.w,h:u.h}};e(h),n(!1)},i=["All","Overview","Finance","Time","Projects","Custom"],[o,l]=y.useState("All"),c=o==="All"?Py:Py.filter(d=>d.category===o);return s.jsxs(Sr,{open:r,onOpenChange:n,children:[s.jsx(Q$,{asChild:!0,children:t}),s.jsxs(dr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add Widget"}),s.jsx(ci,{children:"Choose a widget to add to your dashboard"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(d=>s.jsx($,{variant:o===d?"default":"outline",size:"sm",onClick:()=>l(d),children:d},d))}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(d=>{const u=d.icon;return s.jsx(z,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>a(d.type,d.size),children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(u,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-sm mb-1",children:d.name}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:d.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:d.category}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[d.size.w,"×",d.size.h]})]})]})]})})},d.type)})})]})]})]})}function Zue({widgetId:e,widgetTitle:t,onRemove:r,className:n=""}){const[a,i]=y.useState(!1),o=()=>{r(e),i(!1)};return s.jsxs(s.Fragment,{children:[s.jsx($,{variant:"ghost",size:"icon",className:`h-8 w-8 bg-red-500/10 hover:bg-red-500/20 text-red-600 hover:text-red-700 ${n}`,onClick:()=>i(!0),title:"Remove widget",children:s.jsx(xp,{className:"h-4 w-4"})}),s.jsx(Sr,{open:a,onOpenChange:i,children:s.jsxs(dr,{children:[s.jsxs(fr,{children:[s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(al,{className:"h-5 w-5 text-red-500"}),"Remove Widget"]}),s.jsxs(ci,{children:['Are you sure you want to remove the "',t,'" widget from your dashboard? This action cannot be undone.']})]}),s.jsxs(cc,{children:[s.jsx($,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx($,{onClick:o,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:"Remove Widget"})]})]})})]})}const ede={"company-motto":Mq,"monthly-expenses":Rq,"time-logged":$q,"today-time":Lq,"revenue-chart":xce,"quick-stats":bce,"quick-actions":wce,"recent-activities":jce,"projects-overview":Sce,"cash-flow":Nce,"cash-flow-projections":_ce,"blank-card":y$};function tde({isDarkMode:e}){const[t,r]=y.useState(!1),{user:n}=gr(),{widgets:a,loading:i,updateWidgets:o,addWidget:l,removeWidget:c,updateWidget:d}=Iq((n==null?void 0:n.id)||null),u=v=>{c(v)},f=v=>{const x=a.find(w=>w.id===v);if(!x)return;const b=x.size.w===1?2:x.size.w===2?3:1;d(v,{size:{...x.size,w:b},position:{...x.position,w:b}})},h=v=>{if(r(!1),!v.destination)return;const x=Array.from(a),[b]=x.splice(v.source.index,1);x.splice(v.destination.index,0,b);const w=x.map((j,S)=>({...j,position:{...j.position,y:S}}));o(w)},m=v=>{l(v)},p=()=>{r(!0)},g=v=>{switch(v){case 2:return"col-span-1 md:col-span-2";case 3:return"col-span-1 md:col-span-2 lg:col-span-3";default:return"col-span-1"}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your business."})]}),s.jsx(XE,{onAddWidget:m,children:s.jsxs($,{children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Widget"]})})]}),s.jsx(VH,{onDragEnd:h,onDragStart:p,children:s.jsx(ZT,{droppableId:"dashboard",children:v=>s.jsxs("div",{...v.droppableProps,ref:v.innerRef,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-min",children:[a.map((x,b)=>{const w=ede[x.type]||y$;return s.jsx(Eq,{draggableId:x.id,index:b,children:(j,S)=>s.jsxs("div",{ref:j.innerRef,...j.draggableProps,className:`relative group ${g(x.size.w)} ${S.isDragging?"opacity-70 shadow-2xl z-50":""}`,style:j.draggableProps.style,children:[s.jsxs("div",{className:`absolute top-2 right-2 z-10 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity ${t?"opacity-100":""}`,children:[s.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-blue-500/10 hover:bg-blue-500/20 text-blue-600 hover:text-blue-700",onClick:()=>f(x.id),title:`Resize widget (currently ${x.size.w===1?"small":x.size.w===2?"medium":"large"})`,children:x.size.w===1?s.jsx(HU,{className:"h-4 w-4"}):s.jsx(qU,{className:"h-4 w-4"})}),s.jsx(Zue,{widgetId:x.id,widgetTitle:x.title,onRemove:u}),s.jsx("div",{...j.dragHandleProps,children:s.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Drag to reorder",children:s.jsx(BU,{className:"h-4 w-4"})})})]}),s.jsx(w,{widget:x,isDarkMode:e})]})},x.id)}),v.placeholder]})})}),a.length===0&&s.jsx(z,{className:"border-dashed border-2",children:s.jsx(U,{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mx-auto",children:s.jsx(Oe,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-1",children:"No widgets yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get started by adding your first widget to the dashboard"}),s.jsx(XE,{onAddWidget:m,children:s.jsxs($,{children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Your First Widget"]})})]})]})})})]})}function rde({isDarkMode:e}){return s.jsx(tde,{isDarkMode:e})}function nde({isDarkMode:e,onTimeLogged:t}){const{projects:r}=ar(),{clients:n}=Kt(),{createTimeEntry:a}=vr(),[i,o]=y.useState(""),[l,c]=y.useState(""),[d,u]=y.useState(""),[f,h]=y.useState(new Date().toISOString().split("T")[0]),[m,p]=y.useState(!1),[g,v]=y.useState(!1),x=async S=>{if(S.preventDefault(),!i||!l||g)return;v(!0);const{error:N}=await a({date:f,hours:parseFloat(i),project_id:l,comment:d.trim()||void 0});N||(o(""),u(""),t==null||t()),v(!1)},b=S=>{const N=new Date(S+"T00:00:00"),_=new Date().toISOString().split("T")[0];return S===_?"Today":N.toLocaleDateString("sv-SE",{weekday:"short",month:"short",day:"numeric"})},w=r.filter(S=>S.status==="active"),j=S=>n.find(_=>_.id===S.client_id);return s.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:`p-2 rounded-lg ${e?"bg-blue-900":"bg-blue-100"}`,children:s.jsx(Me,{className:`w-5 h-5 ${e?"text-blue-400":"text-blue-600"}`})}),s.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Log Today's Time"})]}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Date"}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{type:"button",onClick:()=>p(!m),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent flex items-center justify-between transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(xt,{className:`w-4 h-4 ${e?"text-slate-400":"text-slate-500"}`}),b(f)]})}),m&&s.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 border rounded-lg shadow-lg z-10 transition-colors duration-200 ${e?"bg-slate-700 border-slate-600":"bg-white border-slate-300"}`,children:s.jsx("input",{type:"date",value:f,onChange:S=>{h(S.target.value),p(!1)},"aria-label":"Select date for time entry",className:`w-full px-3 py-2 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-slate-700 text-white":"bg-white text-slate-900"}`})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Hours"}),s.jsx("input",{type:"number",step:"0.25",min:"0",max:"24",value:i,onChange:S=>o(S.target.value),placeholder:"0.0",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Project"}),s.jsxs("select",{value:l,onChange:S=>c(S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,required:!0,"aria-label":"Select project",children:[s.jsx("option",{value:"",children:"Select project"}),w.map(S=>{const N=j(S);return s.jsxs("option",{value:S.id,children:[S.name," ",N?`- ${N.name}${N.company?` (${N.company})`:""}`:""]},S.id)})]}),w.length===0&&s.jsxs("p",{className:`text-sm mt-1 ${e?"text-slate-400":"text-slate-500"}`,children:["No active projects available. ",s.jsx("a",{href:"/projects",className:"text-blue-500 hover:underline",children:"Create a project"})," to start tracking time."]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Comment (Optional)"}),s.jsx("textarea",{value:d,onChange:S=>u(S.target.value),placeholder:"Add any notes about this time entry...",rows:3,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]}),s.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2.5 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:g?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Oe,{className:"w-4 h-4"}),"Log Time"]})})]})]})}function ade({isDarkMode:e}){const{entries:t}=vr(),{clients:r}=Kt(),n=new Date().toISOString().split("T")[0],a=t.filter(c=>c.date===n),i=a.reduce((c,d)=>c+d.hours,0),o=c=>new Date(c+"T00:00:00").toLocaleDateString("sv-SE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),l=c=>r.find(d=>d.id===c);return s.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${e?"bg-green-900":"bg-green-100"}`,children:s.jsx(xt,{className:`w-5 h-5 ${e?"text-green-400":"text-green-600"}`})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Today's Summary"}),s.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:o(n)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`flex items-center gap-2 text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[s.jsx(Me,{className:`w-6 h-6 ${e?"text-blue-400":"text-blue-600"}`}),i.toFixed(1),"h"]}),s.jsxs("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:[a.length," entries"]})]})]}),a.length===0?s.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[s.jsx(Me,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-slate-600":"text-slate-300"}`}),s.jsx("p",{children:"No time logged today yet"})]}):s.jsx("div",{className:"space-y-3",children:a.map(c=>{var u,f,h;const d=l((u=c.project)==null?void 0:u.client_id);return s.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[s.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:((f=c.project)==null?void 0:f.color)||"#64748B"}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:(h=c.project)==null?void 0:h.name}),d&&s.jsxs("div",{className:`flex items-center gap-1 text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[s.jsx(cs,{className:"w-3 h-3"}),s.jsxs("span",{children:[d.name,d.company?` (${d.company})`:""]})]}),c.comment&&s.jsx("p",{className:`text-sm truncate ${e?"text-slate-400":"text-slate-600"}`,children:c.comment})]}),s.jsxs("div",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:[c.hours,"h"]})]},c.id)})})]})}function ide({isDarkMode:e}){const{entries:t}=vr(),{projects:r}=ar(),{clients:n}=Kt(),[a,i]=y.useState(""),[o,l]=y.useState(""),c=t.filter(m=>{var x,b;const p=n.find(w=>{var j;return w.id===((j=m.project)==null?void 0:j.client_id)}),g=!a||((x=m.project)==null?void 0:x.name.toLowerCase().includes(a.toLowerCase()))||(p==null?void 0:p.name.toLowerCase().includes(a.toLowerCase()))||((b=p==null?void 0:p.company)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))||m.comment&&m.comment.toLowerCase().includes(a.toLowerCase()),v=!o||m.project_id===o;return g&&v}),d=c.reduce((m,p)=>m+p.hours,0),u=m=>new Date(m+"T00:00:00").toLocaleDateString("sv-SE",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),f=m=>n.find(p=>p.id===m),h=[...c].sort((m,p)=>new Date(p.date).getTime()-new Date(m.date).getTime());return s.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:`p-2 rounded-lg ${e?"bg-purple-900":"bg-purple-100"}`,children:s.jsx(wO,{className:`w-5 h-5 ${e?"text-purple-400":"text-purple-600"}`})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Time Entries"}),s.jsxs("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:[c.length," entries • ",d.toFixed(1)," hours total"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Di,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-slate-500":"text-slate-400"}`}),s.jsx("input",{type:"text",placeholder:"Search projects or comments...",value:a,onChange:m=>i(m.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]}),s.jsxs("select",{value:o,onChange:m=>l(m.target.value),"aria-label":"Filter by project",className:`px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[s.jsx("option",{value:"",children:"All projects"}),r.map(m=>{const p=f(m.client_id);return s.jsxs("option",{value:m.id,children:[m.name," ",p?`- ${p.name}`:""]},m.id)})]})]}),h.length===0?s.jsxs("div",{className:`text-center py-12 ${e?"text-slate-400":"text-slate-500"}`,children:[s.jsx(xt,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-slate-600":"text-slate-300"}`}),s.jsx("p",{children:"No time entries found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:`border-b ${e?"border-slate-600":"border-slate-200"}`,children:[s.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Date"}),s.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Project"}),s.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Client"}),s.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Hours"}),s.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Comment"})]})}),s.jsx("tbody",{children:h.map(m=>{var g,v,x;const p=f((g=m.project)==null?void 0:g.client_id);return s.jsxs("tr",{className:`border-b transition-colors duration-150 ${e?"border-slate-700 hover:bg-slate-700":"border-slate-100 hover:bg-slate-50"}`,children:[s.jsx("td",{className:`py-3 px-4 ${e?"text-white":"text-slate-900"}`,children:u(m.date)}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:((v=m.project)==null?void 0:v.color)||"#64748B"}}),s.jsx("span",{className:e?"text-white":"text-slate-900",children:(x=m.project)==null?void 0:x.name})]})}),s.jsx("td",{className:`py-3 px-4 ${e?"text-slate-300":"text-slate-600"}`,children:p?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cs,{className:"w-3 h-3"}),s.jsx("span",{children:p.name}),p.company&&s.jsxs("span",{className:"text-xs",children:["(",p.company,")"]})]}):"-"}),s.jsxs("td",{className:`py-3 px-4 font-medium ${e?"text-white":"text-slate-900"}`,children:[m.hours,"h"]}),s.jsx("td",{className:`py-3 px-4 ${e?"text-slate-400":"text-slate-600"}`,children:m.comment||"-"})]},m.id)})})]})})]})}function sde({isDarkMode:e}){const{entries:t}=vr(),{projects:r}=ar(),[n,a]=y.useState(""),[i,o]=y.useState(""),[l,c]=y.useState(""),d=t.filter(x=>{const b=new Date(x.date),w=n?new Date(n):null,j=i?new Date(i):null,S=(!w||b>=w)&&(!j||b<=j),N=!l||x.project_id===l;return S&&N}),u=d.reduce((x,b)=>x+b.hours,0),f=d.length>0?u/new Set(d.map(x=>x.date)).size:0,h=new Set(d.map(x=>x.date)).size,m=d.reduce((x,b)=>{var j,S;const w=((j=b.project)==null?void 0:j.name)||"Unknown";return x[w]||(x[w]={hours:0,color:((S=b.project)==null?void 0:S.color)||"#64748B"}),x[w].hours+=b.hours,x},{}),p=d.reduce((x,b)=>{const w=b.date.substring(0,7);return x[w]||(x[w]=0),x[w]+=b.hours,x},{}),g=x=>{const[b,w]=x.split("-");return new Date(parseInt(b),parseInt(w)-1).toLocaleDateString("sv-SE",{month:"long",year:"numeric"})},v=()=>!n&&!i?"All time":n&&!i?`From ${new Date(n).toLocaleDateString("sv-SE")}`:!n&&i?`Until ${new Date(i).toLocaleDateString("sv-SE")}`:`${new Date(n).toLocaleDateString("sv-SE")} - ${new Date(i).toLocaleDateString("sv-SE")}`;return s.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:`p-2 rounded-lg ${e?"bg-orange-900":"bg-orange-100"}`,children:s.jsx(lt,{className:`w-5 h-5 ${e?"text-orange-400":"text-orange-600"}`})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Summary"}),s.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:v()})]})]}),s.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),s.jsx("input",{type:"date",value:n,onChange:x=>a(x.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-600 border-slate-500 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),s.jsx("input",{type:"date",value:i,onChange:x=>o(x.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-600 border-slate-500 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Project Filter"}),s.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-600 border-slate-500 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[s.jsx("option",{value:"",children:"All projects"}),r.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-blue-900":"bg-blue-50"}`,children:[s.jsxs("div",{className:`text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:[u.toFixed(1),"h"]}),s.jsx("div",{className:`text-sm ${e?"text-blue-400":"text-blue-600"}`,children:"Total Hours"})]}),s.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-green-900":"bg-green-50"}`,children:[s.jsx("div",{className:`text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:d.length}),s.jsx("div",{className:`text-sm ${e?"text-green-400":"text-green-600"}`,children:"Total Entries"})]}),s.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-purple-900":"bg-purple-50"}`,children:[s.jsx("div",{className:`text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:h}),s.jsx("div",{className:`text-sm ${e?"text-purple-400":"text-purple-600"}`,children:"Days Worked"})]}),s.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-orange-900":"bg-orange-50"}`,children:[s.jsxs("div",{className:`text-2xl font-bold ${e?"text-orange-400":"text-orange-600"}`,children:[f.toFixed(1),"h"]}),s.jsx("div",{className:`text-sm ${e?"text-orange-400":"text-orange-600"}`,children:"Avg. Hours/Day"})]})]}),Object.keys(m).length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-lg font-semibold mb-3 ${e?"text-white":"text-slate-900"}`,children:"Hours by Project"}),s.jsx("div",{className:"space-y-3",children:Object.entries(m).sort(([,x],[,b])=>b.hours-x.hours).map(([x,b])=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:b.color}}),s.jsx("span",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:x})]}),s.jsxs("div",{className:`font-semibold ${e?"text-white":"text-slate-900"}`,children:[b.hours.toFixed(1),"h"]})]},x))})]}),Object.keys(p).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:`text-lg font-semibold mb-3 ${e?"text-white":"text-slate-900"}`,children:"Hours by Month"}),s.jsx("div",{className:"space-y-3",children:Object.entries(p).sort(([x],[b])=>b.localeCompare(x)).map(([x,b])=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xt,{className:`w-4 h-4 ${e?"text-slate-400":"text-slate-500"}`}),s.jsx("span",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:g(x)})]}),s.jsxs("div",{className:`font-semibold ${e?"text-white":"text-slate-900"}`,children:[b.toFixed(1),"h"]})]},x))})]}),d.length===0&&s.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[s.jsx(Lh,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-slate-600":"text-slate-300"}`}),s.jsx("p",{children:"No entries found for the selected filters"})]})]})}function ode({currentDate:e,onDateChange:t,isDarkMode:r}){const{entries:n}=vr(),a=(f,h)=>new Date(f,h+1,0).getDate(),i=(f,h)=>new Date(f,h,1).getDay(),o=(f,h)=>{const m=a(f,h),p=i(f,h),g=[];for(let v=0;v<p;v++)g.push(null);for(let v=1;v<=m;v++){const x=`${f}-${String(h+1).padStart(2,"0")}-${String(v).padStart(2,"0")}`,b=n.filter(j=>j.date===x),w=b.reduce((j,S)=>j+S.hours,0);g.push({day:v,dateStr:x,entries:b,totalHours:w})}return g},l=f=>{const h=new Date(e);h.setMonth(h.getMonth()+(f==="next"?3:-3)),t(h)},c=[];for(let f=0;f<3;f++){const h=new Date(e.getFullYear(),e.getMonth()+f,1);c.push(h)}const d=f=>f.toLocaleDateString("sv-SE",{month:"long",year:"numeric"}),u=f=>`Q${Math.floor(f.getMonth()/3)+1} ${f.getFullYear()}`;return s.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:`text-xl font-semibold ${r?"text-white":"text-slate-900"}`,children:["Quarter Overview - ",u(e)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>l("prev"),title:"Previous quarter",className:`p-2 rounded-lg transition-colors duration-200 ${r?"hover:bg-slate-700 text-slate-400":"hover:bg-slate-100 text-slate-600"}`,children:s.jsx(cw,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>l("next"),title:"Next quarter",className:`p-2 rounded-lg transition-colors duration-200 ${r?"hover:bg-slate-700 text-slate-400":"hover:bg-slate-100 text-slate-600"}`,children:s.jsx(uw,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:c.map((f,h)=>{const m=o(f.getFullYear(),f.getMonth());return s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:`font-semibold text-center ${r?"text-white":"text-slate-900"}`,children:d(f)}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>s.jsx("div",{className:`text-xs font-medium text-center py-2 ${r?"text-slate-400":"text-slate-500"}`,children:p},p)),m.map((p,g)=>s.jsx("div",{className:"aspect-square",children:p?s.jsxs("div",{className:`w-full h-full rounded-lg border p-1 flex flex-col justify-between text-xs ${p.totalHours>0?r?"bg-blue-900 border-blue-700":"bg-blue-50 border-blue-200":r?"bg-slate-700 border-slate-600":"bg-white border-slate-200"}`,children:[s.jsx("div",{className:`font-medium ${r?"text-white":"text-slate-900"}`,children:p.day}),p.totalHours>0&&s.jsxs("div",{className:`font-medium ${r?"text-blue-400":"text-blue-600"}`,children:[p.totalHours,"h"]})]}):s.jsx("div",{})},g))]})]},h)})})]})}function lde({isDarkMode:e}){const[t,r]=y.useState("daily"),[n,a]=y.useState(new Date),{refetch:i,loading:o}=vr(),l=y.useCallback(async()=>{await i()},[i]),c=y.useCallback(()=>{},[]),d=[{id:"daily",label:"Daily View",icon:Me,description:"Log time and view today's summary"},{id:"summary",label:"Summary & Filters",icon:Wi,description:"Overview with date filters and project breakdown"},{id:"quarterly",label:"Quarterly View",icon:xt,description:"Calendar view by quarters"},{id:"table",label:"All Entries",icon:wO,description:"Detailed table of all time entries"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Time Tracking"}),s.jsx("p",{className:"text-muted-foreground",children:"Log your hours and track your productivity"})]}),s.jsxs("button",{onClick:l,disabled:o,className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors duration-200 ${e?"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"} ${o?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx(ZU,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Refresh"]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(u=>{const f=u.icon,h=t===u.id;return s.jsxs("button",{onClick:()=>r(u.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors duration-200 ${h?e?"bg-blue-900 border-blue-700 text-blue-300":"bg-blue-50 border-blue-300 text-blue-700":e?"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"}`,title:u.description,children:[s.jsx(f,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:u.label})]},u.id)})}),t==="daily"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"Log Time"})}),s.jsx(U,{children:s.jsx(nde,{isDarkMode:e,onTimeLogged:c})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"Today's Summary"})}),s.jsx(U,{children:s.jsx(ade,{isDarkMode:e})})]})})]}),t==="summary"&&s.jsx(sde,{isDarkMode:e}),t==="quarterly"&&s.jsx(ode,{currentDate:n,onDateChange:a,isDarkMode:e}),t==="table"&&s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"All Time Entries"})}),s.jsx(U,{children:s.jsx(ide,{isDarkMode:e})})]})]})}function eL(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=async()=>{if(!e){a(!1);return}try{a(!0);const{data:m,error:p}=await G.from("cash_flow_entries").select("*").eq("user_id",e).order("date",{ascending:!1});if(p)throw p;r(m||[])}catch(m){o(m instanceof Error?m.message:"An error occurred")}finally{a(!1)}},c=async m=>{if(!e)return null;try{const{data:p,error:g}=await G.from("cash_flow_entries").insert([{...m,user_id:e}]).select().single();if(g)throw g;return r(v=>[p,...v]),p}catch(p){return o(p instanceof Error?p.message:"Failed to add entry"),null}},d=async(m,p)=>{try{const{data:g,error:v}=await G.from("cash_flow_entries").update(p).eq("id",m).eq("user_id",e).select().single();if(v)throw v;return r(x=>x.map(b=>b.id===m?g:b)),g}catch(g){return o(g instanceof Error?g.message:"Failed to update entry"),null}},u=async m=>{try{const{error:p}=await G.from("cash_flow_entries").delete().eq("id",m).eq("user_id",e);if(p)throw p;return r(g=>g.filter(v=>v.id!==m)),!0}catch(p){return o(p instanceof Error?p.message:"Failed to delete entry"),!1}},f=async(m,p)=>{if(!e)return null;try{let g=G.from("cash_flow_entries").select("type, amount, date").eq("user_id",e);m&&(g=g.gte("date",m)),p&&(g=g.lte("date",p));const{data:v,error:x}=await g;if(x)throw x;const b=v==null?void 0:v.reduce((w,j)=>(j.type==="income"?w.totalIncome+=j.amount:w.totalExpenses+=j.amount,w),{totalIncome:0,totalExpenses:0});return{...b,netFlow:b?b.totalIncome-b.totalExpenses:0}}catch(g){return o(g instanceof Error?g.message:"Failed to get summary"),null}},h=async m=>{if(!e)return[];try{const{data:p,error:g}=await G.from("cash_flow_entries").select("category, amount").eq("user_id",e).eq("type",m);if(g)throw g;const v=p==null?void 0:p.reduce((x,b)=>(x[b.category]=(x[b.category]||0)+b.amount,x),{});return Object.entries(v||{}).map(([x,b])=>({category:x,amount:b}))}catch(p){return o(p instanceof Error?p.message:"Failed to get categories"),[]}};return y.useEffect(()=>{l()},[e]),{entries:t,loading:n,error:i,addEntry:c,updateEntry:d,deleteEntry:u,getCashFlowSummary:f,getEntriesByCategory:h,refetch:l}}function cde(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=async()=>{if(!e){a(!1);return}try{a(!0);const{data:p,error:g}=await G.from("budgets").select("*").eq("user_id",e).eq("is_active",!0).order("created_at",{ascending:!1});if(g)throw g;r(p||[])}catch(p){o(p instanceof Error?p.message:"An error occurred")}finally{a(!1)}},c=async p=>{if(!e)return null;try{const{data:g,error:v}=await G.from("budgets").insert([{...p,user_id:e}]).select().single();if(v)throw v;return r(x=>[g,...x]),g}catch(g){return o(g instanceof Error?g.message:"Failed to add budget"),null}},d=async(p,g)=>{try{const{data:v,error:x}=await G.from("budgets").update(g).eq("id",p).eq("user_id",e).select().single();if(x)throw x;return r(b=>b.map(w=>w.id===p?v:w)),v}catch(v){return o(v instanceof Error?v.message:"Failed to update budget"),null}},u=async p=>{try{const{error:g}=await G.from("budgets").delete().eq("id",p).eq("user_id",e);if(g)throw g;return r(v=>v.filter(x=>x.id!==p)),!0}catch(g){return o(g instanceof Error?g.message:"Failed to delete budget"),!1}},f=async p=>{if(!e)return null;try{const{data:g,error:v}=await G.from("budget_entries").insert([{...p,user_id:e}]).select().single();if(v)throw v;return g}catch(g){return o(g instanceof Error?g.message:"Failed to add budget entry"),null}},h=async()=>{if(!e)return[];try{const{data:p,error:g}=await G.from("budget_status").select("*").eq("user_id",e);if(g)throw g;return p||[]}catch(p){return o(p instanceof Error?p.message:"Failed to get budget status"),[]}},m=async p=>{try{const{data:g,error:v}=await G.from("budget_entries").select("*").eq("budget_id",p).eq("user_id",e).order("date",{ascending:!1});if(v)throw v;return g||[]}catch(g){return o(g instanceof Error?g.message:"Failed to get budget entries"),[]}};return y.useEffect(()=>{l()},[e]),{budgets:t,loading:n,error:i,addBudget:c,updateBudget:d,deleteBudget:u,addBudgetEntry:f,getBudgetStatus:h,getBudgetEntries:m,refetch:l}}const uc=()=>{const[e,t]=y.useState([]),r=y.useCallback(({title:a,description:i,variant:o="default"})=>{const l=Math.random().toString(36).substr(2,9),c={id:l,title:a,description:i,variant:o};return t(d=>[...d,c]),console.log(`Toast: ${a}${i?` - ${i}`:""}`),setTimeout(()=>{t(d=>d.filter(u=>u.id!==l))},3e3),{id:l}},[]),n=y.useCallback(a=>{t(i=>i.filter(o=>o.id!==a))},[]);return{toast:r,dismiss:n,toasts:e}},ude=()=>{const{user:e}=gr(),{entries:t,refetch:r,addEntry:n,deleteEntry:a}=eL((e==null?void 0:e.id)||null),{budgets:i,addBudget:o,updateBudget:l,deleteBudget:c,loading:d}=cde((e==null?void 0:e.id)||null),{toast:u}=uc(),[f,h]=y.useState([]),[m,p]=y.useState([]),[g,v]=y.useState(!1),x=new Date().toISOString().slice(0,7),b=new Date().getFullYear(),w=()=>new Date().toLocaleDateString("sv-SE",{month:"long",year:"numeric"}),j=()=>new Date().getFullYear().toString(),S=(C,O)=>t?O==="monthly"?t.filter(I=>{const T=new Date(I.date).toISOString().slice(0,7);return I.type==="expense"&&T===x&&(I.category.toLowerCase()===C.toLowerCase()||I.category.toLowerCase().includes(C.toLowerCase().split(" ")[0]))}):t.filter(I=>{const T=new Date(I.date).getFullYear();return I.type==="expense"&&T===b&&I.category.toLowerCase()===C.toLowerCase()}):[],N=y.useMemo(()=>{const C=f.reduce((T,M)=>T+M.budgeted,0),O=f.reduce((T,M)=>T+M.spent,0),I=m.reduce((T,M)=>T+M.budgeted,0),R=m.reduce((T,M)=>T+M.spent,0);return{monthly:{budget:C,spent:O,remaining:C-O,percentage:C>0?O/C*100:0},annual:{budget:I,spent:R,remaining:I-R,percentage:I>0?R/I*100:0,completed:m.filter(T=>T.status==="completed").length,overdue:m.filter(T=>T.status==="overdue").length}}},[f,m]),_=y.useMemo(()=>f.map(C=>({name:C.name,budgeted:C.budgeted,spent:C.spent,remaining:C.budgeted-C.spent})),[f]),E=y.useMemo(()=>f.filter(C=>C.spent>0).map(C=>({name:C.name,value:C.spent,color:C.color})),[f]);return y.useEffect(()=>{(async()=>{if(!(!e||d||!t)){v(!0);try{const O=i.filter(F=>F.period==="monthly"),I=t.filter(F=>{const Z=new Date(F.date).toISOString().slice(0,7);return F.type==="expense"&&Z===x}),R=O.map((F,H)=>{const W=I.filter(he=>he.category.toLowerCase()===F.category.toLowerCase()||he.category.toLowerCase().includes(F.category.toLowerCase().split(" ")[0])).reduce((he,ge)=>he+ge.amount,0),se=["#2563eb","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"];return{id:F.id,name:F.name,budgeted:F.budget_limit,spent:W,color:se[H%se.length]}}),T=i.filter(F=>F.period==="yearly"),M=t.filter(F=>{const Z=new Date(F.date).getFullYear();return F.type==="expense"&&Z===b&&F.is_budget_entry===!0&&F.recurring_interval==="yearly"}),D=T.map((F,H)=>{const W=M.filter(J=>J.category.toLowerCase()===F.category.toLowerCase()).reduce((J,be)=>J+be.amount,0),se=new Date(F.start_date||new Date),he=new Date;let ge="pending";W>=F.budget_limit?ge="completed":se<he&&(ge="overdue");const le=["#dc2626","#ea580c","#d97706","#65a30d","#059669","#0891b2","#7c3aed","#c2410c"];return{id:F.id,name:F.name,budgeted:F.budget_limit,spent:W,targetDate:F.start_date||new Date().toISOString().split("T")[0],status:ge,color:le[H%le.length]}});h(R),p(D)}catch(O){console.error("Error loading budgets and expenses:",O),u({title:"Fel",description:"Kunde inte ladda budgetdata.",variant:"destructive"})}finally{v(!1)}}})()},[e==null?void 0:e.id,i,d,t,u]),{categories:f,annualItems:m,totals:N,chartData:_,pieData:E,budgetsLoading:d,isLoading:g,getCurrentMonthName:w,getCurrentYear:j,getCategoryEntries:S,handleAddCategory:async(C,O)=>{if(i.find(R=>R.name.toLowerCase().trim()===C.toLowerCase().trim()||R.category.toLowerCase().trim()===C.toLowerCase().trim()))return u({title:"Kategori finns redan",description:`En kategori med namnet "${C.trim()}" finns redan.`,variant:"destructive"}),!1;if(O<0)return u({title:"Fel",description:"Budget kan inte vara negativ. Ange 0 för ingen budget.",variant:"destructive"}),!1;v(!0);try{if(await o({name:C.trim(),category:C.trim(),budget_limit:O,period:"monthly",start_date:new Date().toISOString().split("T")[0],is_active:!0})&&O>0){const T=new Date;T.setDate(1);const M=new Date(T);M.setMonth(M.getMonth()+1),await n({type:"expense",amount:O,description:`Budget för ${C.trim()}`,category:C.trim(),date:T.toISOString().split("T")[0],is_recurring:!0,recurring_interval:"monthly",next_due_date:M.toISOString().split("T")[0],is_budget_entry:!0,is_recurring_instance:!1})}return u({title:"Månadskategori tillagd",description:O>0?`${C.trim()} med budget ${ne(O)}/månad har lagts till`:`${C.trim()} har lagts till utan automatisk budget`}),await r(),!0}catch(R){return console.error("Error adding category:",R),u({title:"Fel",description:"Kunde inte lägga till kategori.",variant:"destructive"}),!1}finally{v(!1)}},handleUpdateCategory:async(C,O)=>{if(O<0)return u({title:"Fel",description:"Budget kan inte vara negativ. Ange 0 för ingen budget.",variant:"destructive"}),!1;v(!0);try{if(await l(C,{budget_limit:O,updated_at:new Date().toISOString()})){const R=f.find(T=>T.id===C);return u({title:"Månadsbudget uppdaterad",description:`Budget för ${R==null?void 0:R.name} uppdaterad till ${ne(O)}/månad`}),await r(),!0}return!1}catch(I){return console.error("Error updating category:",I),u({title:"Fel",description:"Kunde inte uppdatera budget.",variant:"destructive"}),!1}finally{v(!1)}},handleDeleteCategory:async C=>{v(!0);try{if(await c(C.id)){const I=t.filter(R=>R.category===C.name&&R.is_budget_entry===!0);for(const R of I)await a(R.id);return u({title:"Kategori borttagen",description:`${C.name} har tagits bort`}),await r(),!0}return!1}catch(O){return console.error("Error deleting category:",O),u({title:"Fel",description:"Kunde inte ta bort kategori.",variant:"destructive"}),!1}finally{v(!1)}},addEntry:n,deleteEntry:a,addBudget:o,updateBudget:l,deleteBudget:c,refetch:r,entries:t,budgets:i,toast:u}};function dde({totals:e,getCurrentMonthName:t,getCurrentYear:r}){return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(z,{children:[s.jsx(q,{className:"pb-2",children:s.jsxs(K,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4"}),"Månadsbudget"]})}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:ne(e.monthly.budget)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t()})]})]}),s.jsxs(z,{children:[s.jsx(q,{className:"pb-2",children:s.jsxs(K,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ct,{className:"h-4 w-4"}),"Spenderat (månad)"]})}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:ne(e.monthly.spent)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.monthly.percentage.toFixed(1),"% av budget"]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(e.monthly.percentage,100)}%`}})})]})]}),s.jsxs(z,{children:[s.jsx(q,{className:"pb-2",children:s.jsxs(K,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Dn,{className:"h-4 w-4"}),"Årsbudget"]})}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:ne(e.annual.budget)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r()})]})]}),s.jsxs(z,{children:[s.jsx(q,{className:"pb-2",children:s.jsxs(K,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(MU,{className:"h-4 w-4"}),"Årliga poster"]})}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[e.annual.completed,"/",e.annual.completed+e.annual.overdue]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.annual.overdue>0&&s.jsxs("span",{className:"text-red-500",children:[e.annual.overdue," försenade"]}),e.annual.overdue===0&&"Inga försenade"]})]})]})]})}function fde({chartData:e,pieData:t,isDarkMode:r}){return e.length===0?null:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"Månadsbudget vs Faktisk"})}),s.jsx(U,{children:s.jsx("div",{className:"h-64",children:s.jsx(ha,{width:"100%",height:"100%",children:s.jsxs(g$,{data:e,children:[s.jsx(Ja,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:r?"#94a3b8":"#64748b"}}),s.jsx(Qa,{hide:!0}),s.jsx(cl,{dataKey:"budgeted",fill:"#e2e8f0",name:"Budget"}),s.jsx(cl,{dataKey:"spent",fill:"#2563eb",name:"Spenderat"})]})})})})]}),s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"Utgiftsfördelning"})}),s.jsx(U,{children:s.jsx("div",{className:"h-64",children:t.length>0?s.jsx(ha,{width:"100%",height:"100%",children:s.jsx(H0,{children:s.jsx(Pm,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,dataKey:"value",children:t.map((n,a)=>s.jsx(oo,{fill:n.color},`cell-${a}`))})})}):s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Inga utgifter att visa än"})})})]})]})}function tL({percentage:e,isOverBudget:t=!1,className:r}){const n=Math.min(e,100);return s.jsx("div",{className:Se("w-full bg-gray-200 rounded-full h-2",r),children:s.jsx("div",{className:Se("h-2 rounded-full transition-all duration-300",t?"bg-red-500":"bg-green-500"),style:{width:`${n}%`}})})}function hde({categories:e,onViewDetails:t,onAddExpense:r,onEditCategory:n,onDeleteCategory:a}){return e.length===0?null:s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"Månadskategorier"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:e.map(i=>{const o=i.budgeted>0?i.spent/i.budgeted*100:0,l=i.spent>i.budgeted;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),s.jsx("span",{className:"font-medium",children:i.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:()=>t(i),className:"h-8",children:[s.jsx(yo,{className:"h-4 w-4 mr-1"}),"Detaljer"]}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>r(i),className:"h-8",children:[s.jsx(Gl,{className:"h-4 w-4 mr-1"}),"Lägg till"]}),s.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(i),children:s.jsx(wn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>a(i),children:s.jsx(Xr,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[ne(i.spent)," / ",ne(i.budgeted)]}),s.jsxs("span",{className:l?"text-red-500":"text-muted-foreground",children:[o.toFixed(1),"%"]})]}),s.jsx(tL,{percentage:o,isOverBudget:l})]},i.id)})})})]})}function mde({annualItems:e,getCurrentYear:t,onAddExpense:r,onDeleteItem:n}){return e.length===0?null:s.jsxs(z,{children:[s.jsx(q,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"h-5 w-5"}),"Årliga budgetposter ",t()]})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:e.map(a=>{const i=a.budgeted>0?a.spent/a.budgeted*100:0,o=a.status==="completed",l=a.status==="overdue";return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:a.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Målmåndag: ",new Date(a.targetDate).toLocaleDateString("sv-SE"),o&&s.jsx("span",{className:"text-green-600 ml-2",children:"✓ Genomförd"}),l&&s.jsx("span",{className:"text-red-600 ml-2",children:"⚠ Försenad"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:()=>r(a),className:"h-8",disabled:o,children:[s.jsx(Gl,{className:"h-4 w-4 mr-1"}),"Lägg till utgift"]}),s.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(a),children:s.jsx(Xr,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[ne(a.spent)," / ",ne(a.budgeted)]}),s.jsxs("span",{className:o?"text-green-600":l?"text-red-500":"text-muted-foreground",children:[i.toFixed(1),"%"]})]}),s.jsx(tL,{percentage:i,isOverBudget:!1,className:o?"bg-green-100":l?"bg-red-100":""})]},a.id)})})})]})}function pde({onAddCategory:e,onAddAnnualItem:t}){return s.jsx(z,{children:s.jsxs(U,{className:"text-center py-12",children:[s.jsx(xO,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ingen budget än"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Skapa din första budgetkategori eller årliga post för att börja spåra utgifter"}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mt-4 text-sm",children:[s.jsx("p",{className:"font-medium mb-2",children:"💡 Så fungerar det:"}),s.jsxs("ul",{className:"text-left space-y-1 text-muted-foreground",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Månadskategorier:"})," Återkommande utgifter (mat, transport, hyra)"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Årliga poster:"})," Engångsutgifter (konferenser, utrustning, resor)"]}),s.jsx("li",{children:"• Allt syns automatiskt i Cash Flow för helhetsbild"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[s.jsxs($,{variant:"outline",onClick:t,children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Årlig post"]}),s.jsxs($,{onClick:e,children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Månadskategori"]})]})]})})}function gde({categories:e,annualItems:t,totals:r,chartData:n,pieData:a,isDarkMode:i,getCurrentMonthName:o,getCurrentYear:l,onViewDetails:c,onAddExpense:d,onEditCategory:u,onDeleteCategory:f,onDeleteItem:h,onAddCategory:m,onAddAnnualItem:p}){console.log("📊 Rendering OVERVIEW");const g=e.length>0||t.length>0;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(z,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:s.jsx(U,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Spåra utgifter mot dina budgetmål"})]}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.length," månadskategorier • ",t.length," årliga poster"]})]})})}),g?s.jsxs(s.Fragment,{children:[s.jsx(dde,{totals:r,getCurrentMonthName:o,getCurrentYear:l}),s.jsx(fde,{chartData:n,pieData:a,isDarkMode:i}),e.length>0&&s.jsx(hde,{categories:e,onViewDetails:c,onAddExpense:d,onEditCategory:u,onDeleteCategory:f}),t.length>0&&s.jsx(mde,{annualItems:t,getCurrentYear:l,onAddExpense:d,onDeleteItem:h})]}):s.jsx(pde,{onAddCategory:m,onAddAnnualItem:p})]})}function vde({categories:e,annualItems:t,totals:r,getCurrentMonthName:n,getCurrentYear:a,getCategoryEntries:i}){return console.log("📋 Rendering DETAILED view"),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(z,{className:"shadow-lg",children:[s.jsxs(q,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 rounded-t-lg",children:[s.jsx(K,{className:"flex items-center gap-3 text-xl",children:"📅 Månadskategorier"}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2",children:["Totalsumma: ",s.jsx("span",{className:"bg-blue-200/60 dark:bg-blue-800/60 px-2 py-1 rounded-md font-semibold text-blue-900 dark:text-blue-100 shadow-sm border border-blue-300/30 dark:border-blue-600/30",children:ne(r.monthly.spent)})," / Budgeterat: ",ne(r.monthly.budget)]})]}),s.jsx(U,{className:"p-0",children:s.jsx("div",{className:"space-y-0",children:e.length>0?e.map((o,l)=>{const c=i(o.name,"monthly"),d=c.reduce((u,f)=>u+f.amount,0);return s.jsxs("div",{className:"border-b last:border-b-0",style:{borderLeft:`6px solid ${o.color}`,backgroundColor:`${o.color}08`},children:[s.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-lg shadow-sm",style:{backgroundColor:o.color}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-base font-semibold",children:o.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:ne(d)})," / ",ne(o.budgeted),s.jsxs("span",{className:"ml-2 text-xs",children:["(",c.length," utgifter)"]})]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-900",children:c.length>0?s.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:c.map((u,f)=>s.jsxs("div",{className:`flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors ${f%2===0?"bg-gray-25 dark:bg-gray-900":"bg-white dark:bg-gray-850"}`,children:[s.jsx("div",{className:"flex-1 truncate pr-2",children:s.jsx("div",{className:"text-sm font-medium truncate",children:u.description})}),s.jsx("div",{className:"text-sm font-semibold tabular-nums",style:{color:o.color},children:ne(u.amount)})]},u.id))}):s.jsx("div",{className:"p-6 text-center text-muted-foreground",children:s.jsx("p",{className:"text-sm",children:"Inga utgifter registrerade"})})})]},o.id)}):s.jsx("div",{className:"p-8 text-center text-muted-foreground",children:s.jsx("p",{className:"text-base",children:"Inga månadskategorier ännu"})})})})]}),s.jsxs(z,{className:"shadow-lg",children:[s.jsxs(q,{className:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 rounded-t-lg",children:[s.jsx(K,{className:"flex items-center gap-3 text-xl",children:"🎯 Årliga poster"}),s.jsxs("div",{className:"text-sm text-purple-700 dark:text-purple-300 mt-2",children:["Totalsumma: ",s.jsx("span",{className:"bg-purple-200/60 dark:bg-purple-800/60 px-2 py-1 rounded-md font-semibold text-purple-900 dark:text-purple-100 shadow-sm border border-purple-300/30 dark:border-purple-600/30",children:ne(r.annual.spent)})," / Budgeterat: ",ne(r.annual.budget)]})]}),s.jsx(U,{className:"p-0",children:s.jsx("div",{className:"space-y-0",children:t.length>0?t.map((o,l)=>{const c=i(o.name,"yearly"),d=c.reduce((u,f)=>u+f.amount,0);return s.jsxs("div",{className:"border-b last:border-b-0",style:{borderLeft:`6px solid ${o.color}`,backgroundColor:`${o.color}08`},children:[s.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 rounded-lg shadow-sm",style:{backgroundColor:o.color}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-base font-semibold",children:o.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:ne(d)})," / ",ne(o.budgeted),s.jsxs("span",{className:"ml-2 text-xs",children:["(",c.length," utgifter)"]})]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-900",children:c.length>0?s.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:c.map((u,f)=>s.jsxs("div",{className:`flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors ${f%2===0?"bg-gray-25 dark:bg-gray-900":"bg-white dark:bg-gray-850"}`,children:[s.jsx("div",{className:"flex-1 truncate pr-2",children:s.jsx("div",{className:"text-sm font-medium truncate",children:u.description})}),s.jsx("div",{className:"text-sm font-semibold tabular-nums",style:{color:o.color},children:ne(u.amount)})]},u.id))}):s.jsx("div",{className:"p-6 text-center text-muted-foreground",children:s.jsx("p",{className:"text-sm",children:"Inga utgifter registrerade"})})})]},o.id)}):s.jsx("div",{className:"p-8 text-center text-muted-foreground",children:s.jsx("p",{className:"text-base",children:"Inga årliga poster ännu"})})})})]})]})}const re=y.forwardRef(({className:e,...t},r)=>s.jsx("label",{ref:r,className:Se("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));re.displayName="Label";const Gr=y.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Se("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Gr.displayName="Textarea";function yde({handleAddCategory:e,handleUpdateCategory:t,handleDeleteCategory:r,addEntry:n,toast:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[f,h]=y.useState(!1),[m,p]=y.useState(!1),[g,v]=y.useState(""),[x,b]=y.useState(""),[w,j]=y.useState(null),[S,N]=y.useState(null),[_,E]=y.useState(null),[k,P]=y.useState(null),[A,C]=y.useState(""),[O,I]=y.useState(""),[R,T]=y.useState(new Date().toISOString().split("T")[0]),M=()=>o(!0),D=le=>{j(le),b(le.budgeted.toString()),c(!0)},F=le=>{N(le),u(!0)},H=le=>{E(le),C(""),I(""),T(new Date().toISOString().split("T")[0]),h(!0)},Z=le=>{P(le),p(!0)},W=async()=>{if(!g.trim()){a({title:"Fel",description:"Ange ett namn för kategorin.",variant:"destructive"});return}const le=parseFloat(x)||0;await e(g.trim(),le)&&(v(""),b(""),o(!1))},se=async()=>{if(!w)return;const le=parseFloat(x)||0;await t(w.id,le)&&(j(null),b(""),c(!1))},he=async()=>{if(!S)return;await r(S)&&(N(null),u(!1))},ge=async()=>{if(!_||!A||!O){a({title:"Fel",description:"Fyll i alla fält.",variant:"destructive"});return}const le=parseFloat(A);if(le<=0){a({title:"Fel",description:"Beloppet måste vara större än 0.",variant:"destructive"});return}try{await n({type:"expense",amount:le,description:O,category:_.name,date:R,is_recurring:!1,is_budget_entry:!1}),a({title:"Utgift tillagd",description:`${ne(le)} för ${O}`}),C(""),I(""),T(new Date().toISOString().split("T")[0]),h(!1),E(null)}catch{a({title:"Fel",description:"Kunde inte lägga till utgift.",variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[s.jsx(Sr,{open:i,onOpenChange:o,children:s.jsxs(dr,{children:[s.jsx(fr,{children:s.jsx(hr,{children:"Lägg till månadskategori"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(re,{htmlFor:"categoryName",children:"Kategorinamn"}),s.jsx(oe,{id:"categoryName",value:g,onChange:le=>v(le.target.value),placeholder:"t.ex. Mat & Dryck"})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"categoryBudget",children:"Månadsbudget (kr)"}),s.jsx(oe,{id:"categoryBudget",type:"number",value:x,onChange:le=>b(le.target.value),placeholder:"0 = ingen automatisk budget"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>o(!1),children:"Avbryt"}),s.jsx($,{onClick:W,children:"Lägg till"})]})]})]})}),s.jsx(Sr,{open:l,onOpenChange:c,children:s.jsxs(dr,{children:[s.jsx(fr,{children:s.jsxs(hr,{children:["Redigera kategori: ",w==null?void 0:w.name]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(re,{htmlFor:"editCategoryBudget",children:"Månadsbudget (kr)"}),s.jsx(oe,{id:"editCategoryBudget",type:"number",value:x,onChange:le=>b(le.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>c(!1),children:"Avbryt"}),s.jsx($,{onClick:se,children:"Spara"})]})]})]})}),s.jsx(Sr,{open:d,onOpenChange:u,children:s.jsxs(dr,{children:[s.jsx(fr,{children:s.jsx(hr,{children:"Ta bort kategori"})}),s.jsxs("p",{children:['Är du säker på att du vill ta bort kategorin "',S==null?void 0:S.name,'"?']}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>u(!1),children:"Avbryt"}),s.jsx($,{variant:"destructive",onClick:he,children:"Ta bort"})]})]})}),s.jsx(Sr,{open:f,onOpenChange:h,children:s.jsxs(dr,{children:[s.jsx(fr,{children:s.jsxs(hr,{children:["Lägg till utgift - ",_==null?void 0:_.name]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(re,{htmlFor:"expenseAmount",children:"Belopp (kr)"}),s.jsx(oe,{id:"expenseAmount",type:"number",value:A,onChange:le=>C(le.target.value),placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"expenseDescription",children:"Beskrivning"}),s.jsx(Gr,{id:"expenseDescription",value:O,onChange:le=>I(le.target.value),placeholder:"Vad köpte du?"})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"expenseDate",children:"Datum"}),s.jsx(oe,{id:"expenseDate",type:"date",value:R,onChange:le=>T(le.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>h(!1),children:"Avbryt"}),s.jsx($,{onClick:ge,children:"Lägg till"})]})]})]})}),(window.budgetDialogs={openAddCategoryDialog:M,openEditCategoryDialog:D,openDeleteDialog:F,openAddExpenseDialog:H,openDetailDialog:Z},null)]})}function xde({isDarkMode:e}){const[t,r]=y.useState(!1),n=ude();if(console.log("🔍 Budget component render - isDetailedView:",t),n.budgetsLoading)return s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Budget"}),s.jsx("p",{className:"text-muted-foreground",children:"Laddar budgetdata..."})]})})});const a=()=>{var f;(f=window.budgetDialogs)==null||f.openAddCategoryDialog()},i=()=>{var f;(f=window.budgetDialogs)==null||f.openAddAnnualItemDialog()},o=f=>{var h;(h=window.budgetDialogs)==null||h.openDetailDialog(f)},l=f=>{var h;(h=window.budgetDialogs)==null||h.openAddExpenseDialog(f)},c=f=>{var h;(h=window.budgetDialogs)==null||h.openEditCategoryDialog(f)},d=f=>{var h;(h=window.budgetDialogs)==null||h.openDeleteDialog(f)},u=f=>{console.log("Delete annual item:",f)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Budget"}),s.jsx("p",{className:"text-muted-foreground",children:"Hantera din månads- och årsbudget - synkroniseras med Cash Flow"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{variant:t?"default":"outline",onClick:()=>{console.log("🔘 Button clicked! Current state:",t,"-> New state:",!t),r(!t)},children:[s.jsx(yo,{className:"h-4 w-4 mr-2"}),t?"Översikt":"Detaljvy"]}),s.jsxs($,{variant:"outline",onClick:i,children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Årlig post"]}),s.jsxs($,{onClick:a,children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Månadskategori"]})]})]}),t?s.jsx(vde,{...n}):s.jsx(gde,{...n,isDarkMode:e,onViewDetails:o,onAddExpense:l,onEditCategory:c,onDeleteCategory:d,onDeleteItem:u,onAddCategory:a,onAddAnnualItem:i}),s.jsx(yde,{...n})]})}function bde({isDarkMode:e}){const{user:t}=gr(),{entries:r,loading:n,addEntry:a,deleteEntry:i,error:o}=eL((t==null?void 0:t.id)||null),{toast:l}=uc(),[c,d]=y.useState(!1),[u,f]=y.useState("income"),[h,m]=y.useState(""),[p,g]=y.useState({amount:"",description:"",category:"",date:new Date().toISOString().split("T")[0],isRecurring:!1}),[v,x]=y.useState([]),[b,w]=y.useState({income:[],expense:[]});y.useEffect(()=>{r.length>0?(S(),_()):j()},[r]);const j=()=>{const T=[],M=new Date;for(let D=-2;D<=4;D++){const F=new Date(M.getFullYear(),M.getMonth()+D,1),H=`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}`,Z=F.toLocaleDateString("sv-SE",{month:"long",year:"numeric"});T.push({month:H,monthName:Z,income:0,expenses:0,netFlow:0,cumulativeBalance:5e4,entries:[],isPast:D<0,isCurrent:D===0,isFuture:D>0})}x(T)},S=()=>{const T=[],M=new Date;for(let W=-2;W<=4;W++){const se=new Date(M.getFullYear(),M.getMonth()+W,1),he=`${se.getFullYear()}-${String(se.getMonth()+1).padStart(2,"0")}`,ge=se.toLocaleDateString("sv-SE",{month:"long",year:"numeric"});T.push({month:he,monthName:ge,income:0,expenses:0,netFlow:0,cumulativeBalance:0,entries:[],isPast:W<0,isCurrent:W===0,isFuture:W>0})}const D=new Map;T.forEach(W=>{D.set(W.month,W)});const F=N(r,T);console.log("Total entries after generation:",F.length),console.log("Original entries:",r.length),console.log("Generated entries:",F.length-r.length),F.forEach(W=>{const se=W.date.toString().slice(0,7),he=D.get(se);he&&(he.entries.push(W),W.type==="income"?he.income+=W.amount:W.type==="expense"&&(he.expenses+=W.amount))});let H=5e4;const Z=T.map(W=>(W.netFlow=W.income-W.expenses,H+=W.netFlow,W.cumulativeBalance=H,W));console.log("Final monthly breakdown:",Z.map(W=>({month:W.month,monthName:W.monthName,entriesCount:W.entries.length,income:W.income,expenses:W.expenses}))),x(Z)},N=(T,M)=>{const D=[...T],F=M.map(se=>se.month),H=T.filter(se=>se.is_recurring);console.log("Found recurring entries to process:",H.length);const Z=new Map;H.forEach(se=>{const he=`${se.description}_${se.amount}_${se.category}`;Z.has(he)?console.log(`Skipping duplicate recurring entry: ${se.description}`):Z.set(he,se)});const W=Array.from(Z.values());return console.log("Deduplicated recurring entries:",W.length),W.forEach(se=>{const he=new Date(se.date),ge=se.date.slice(0,7);console.log(`Processing recurring entry: ${se.description} from ${ge}`),F.forEach(le=>{if(le===ge){console.log(`Skipping original month ${le} for ${se.description}`);return}const[J,be]=le.split("-").map(Number);let Y=new Date(J,be-1,he.getDate());Y.getMonth()!==be-1&&(Y=new Date(J,be,0));const te=Y.toISOString().split("T")[0],ae=te.slice(0,7);if(ae!==le){console.error(`Date generation error: expected ${le}, got ${ae}`);return}const V={...se,id:`${se.id}_recurring_${le}`,date:te,is_generated:!0,original_entry_id:se.id};console.log(`Generated entry for ${le}:`,{id:V.id,description:V.description,amount:V.amount,date:V.date,targetMonth:le}),D.push(V)})}),D},_=()=>{const T=new Map,M=new Map,D=r.filter(H=>{const Z=H.description.toLowerCase().includes("budget för")||H.description.toLowerCase().includes("budget for"),W=!Z;return console.log(`Entry "${H.description}": isBudgetEntry=${Z}, isActualTransaction=${W}`),W});console.log("Processing category data:"),console.log("Total entries:",r.length),console.log("Actual transaction entries only:",D.length),console.log("Filtered out budget entries:",r.length-D.length),D.forEach(H=>{if(console.log(`Processing actual entry: ${H.description} - ${H.category} - ${H.amount}`),H.type==="income"){const Z=T.get(H.category)||0;T.set(H.category,Z+H.amount)}else{const Z=M.get(H.category)||0;M.set(H.category,Z+H.amount)}}),console.log("Final income categories:",Array.from(T.entries())),console.log("Final expense categories:",Array.from(M.entries()));const F=["#2563eb","#16a34a","#ca8a04","#9333ea","#dc2626","#06b6d4","#84cc16","#f59e0b"];w({income:Array.from(T.entries()).map(([H,Z],W)=>({name:H,value:Z,color:F[W%F.length]})),expense:Array.from(M.entries()).map(([H,Z],W)=>({name:H,value:Z,color:F[W%F.length]}))})},E=async T=>{if(T.preventDefault(),!p.amount||!p.description||!p.category){l({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const M={type:u,amount:parseFloat(p.amount),description:p.description,category:p.category,date:p.date,is_recurring:p.isRecurring,recurring_interval:p.isRecurring?"monthly":null,next_due_date:p.isRecurring?P(p.date):null};if(await a(M))l({title:"Success",description:`${u==="income"?"Income":"Expense"} added successfully`}),g({amount:"",description:"",category:"",date:new Date().toISOString().split("T")[0],isRecurring:!1}),d(!1);else throw new Error("Failed to add entry")}catch(M){console.error("Error adding transaction:",M),l({title:"Error",description:"Failed to add transaction",variant:"destructive"})}},k=async(T,M)=>{if(window.confirm(`Are you sure you want to delete "${M}"?`))try{if(await i(T))l({title:"Success",description:"Transaction deleted successfully"});else throw new Error("Failed to delete entry")}catch(D){console.error("Error deleting transaction:",D),l({title:"Error",description:"Failed to delete transaction",variant:"destructive"})}},P=T=>{const M=new Date(T);return M.setMonth(M.getMonth()+1),M.toISOString().split("T")[0]},A=()=>v.find(M=>M.isCurrent)||{month:new Date().toISOString().slice(0,7),monthName:new Date().toLocaleDateString("sv-SE",{month:"long",year:"numeric"}),income:0,expenses:0,netFlow:0,cumulativeBalance:5e4,entries:[],isPast:!1,isCurrent:!0,isFuture:!1},C=()=>h&&v.find(M=>M.month===h)||A(),O=T=>{const M=T.description.toLowerCase().includes("budget för")||T.description.toLowerCase().includes("budget for"),D=T.is_generated;return!M&&!D};if(n)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-lg",children:"Loading cash flow data..."})});if(o)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-lg text-red-600",children:["Error: ",o]})});const I=A(),R=C();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Cash Flow Analysis"}),s.jsxs("p",{className:"text-muted-foreground",children:["Monitor your income and expenses flow (",r.length," entries) - 7 month view"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs($,{variant:"outline",children:[s.jsx(Lh,{className:"h-4 w-4 mr-2"}),"Filter"]}),s.jsxs($,{variant:"outline",children:[s.jsx(ua,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsxs($,{onClick:()=>d(!0),children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]})]}),c&&s.jsxs(z,{children:[s.jsx(q,{children:s.jsxs(K,{children:["Add ",u==="income"?"Income":"Expense"]})}),s.jsx(U,{children:s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Type"}),s.jsxs("select",{value:u,onChange:T=>f(T.target.value),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[s.jsx("option",{value:"income",children:"Income"}),s.jsx("option",{value:"expense",children:"Expense"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Amount (SEK)"}),s.jsx(oe,{type:"number",placeholder:"0.00",step:"0.01",value:p.amount,onChange:T=>g(M=>({...M,amount:T.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Category"}),s.jsxs("select",{value:p.category,onChange:T=>g(M=>({...M,category:T.target.value})),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[s.jsx("option",{value:"",children:"Select category"}),u==="income"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Client Payment",children:"Client Payment"}),s.jsx("option",{value:"Consulting",children:"Consulting"}),s.jsx("option",{value:"Retainer",children:"Retainer"}),s.jsx("option",{value:"Investment",children:"Investment"}),s.jsx("option",{value:"Other",children:"Other"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Software & Tools",children:"Software & Tools"}),s.jsx("option",{value:"Office Expenses",children:"Office Expenses"}),s.jsx("option",{value:"Travel",children:"Travel"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Insurance",children:"Insurance"}),s.jsx("option",{value:"Professional Development",children:"Professional Development"}),s.jsx("option",{value:"Tax",children:"Tax"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Date"}),s.jsx(oe,{type:"date",value:p.date,onChange:T=>g(M=>({...M,date:T.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{children:"Description"}),s.jsx(oe,{placeholder:"Description of transaction",value:p.description,onChange:T=>g(M=>({...M,description:T.target.value})),required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"recurring",checked:p.isRecurring,onChange:T=>g(M=>({...M,isRecurring:T.target.checked})),className:"h-4 w-4 rounded border-gray-300"}),s.jsx(re,{htmlFor:"recurring",children:"Recurring monthly transaction"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{type:"submit",children:"Add Transaction"}),s.jsx($,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"})]})]})})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"7-Month Cash Flow Overview"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"2 past months • Current month • 4 future months"})]}),s.jsx(U,{children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:v.map(T=>s.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all ${h===T.month?"border-blue-500 bg-blue-50 dark:bg-blue-950":T.isCurrent?"border-green-500 bg-green-50 dark:bg-green-950":T.isPast?"border-gray-300 bg-gray-50 dark:bg-gray-800":"border-purple-300 bg-purple-50 dark:bg-purple-950"}`,onClick:()=>m(h===T.month?"":T.month),children:[s.jsxs("div",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center justify-between",children:[s.jsx("span",{children:T.monthName}),T.isCurrent&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full dark:bg-green-900 dark:text-green-200",children:"NOW"}),T.isPast&&s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full dark:bg-gray-700 dark:text-gray-300",children:"PAST"}),T.isFuture&&s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full dark:bg-purple-900 dark:text-purple-200",children:"FUTURE"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-xs text-green-600",children:["In: ",ne(T.income)]}),s.jsxs("div",{className:"text-xs text-red-600",children:["Out: ",ne(T.expenses)]}),s.jsxs("div",{className:`text-sm font-bold ${T.netFlow>=0?"text-green-600":"text-red-600"}`,children:["Net: ",ne(T.netFlow)]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Balance: ",ne(T.cumulativeBalance)]})]})]},T.month))})})]}),s.jsxs(z,{children:[s.jsx(q,{children:s.jsxs(K,{children:[h?R.monthName:I.monthName," Details",!h&&s.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full dark:bg-green-900 dark:text-green-200",children:"CURRENT MONTH"}),h&&R.isPast&&s.jsx("span",{className:"ml-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full dark:bg-gray-700 dark:text-gray-300",children:"PAST MONTH"}),h&&R.isFuture&&s.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full dark:bg-purple-900 dark:text-purple-200",children:"FUTURE MONTH"})]})}),s.jsxs(U,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:ne(R.income)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Income"})]}),s.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-950 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:ne(R.expenses)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Expenses"})]}),s.jsxs("div",{className:`text-center p-4 rounded-lg ${R.netFlow>=0?"bg-blue-50 dark:bg-blue-950":"bg-orange-50 dark:bg-orange-950"}`,children:[s.jsx("div",{className:`text-2xl font-bold ${R.netFlow>=0?"text-blue-600":"text-orange-600"}`,children:ne(R.netFlow)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Net Flow"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-950 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:ne(R.cumulativeBalance)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Balance"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-medium",children:["Transactions (",R.entries.length,")"]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2",children:[R.entries.map(T=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${T.type==="income"?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-300"}`,children:T.type==="income"?s.jsx(ct,{className:"h-4 w-4"}):s.jsx(Fh,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:T.description}),s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx("span",{children:T.category}),s.jsx("span",{children:"•"}),s.jsx("span",{children:new Date(T.date).toLocaleDateString("sv-SE")}),T.is_recurring&&!T.is_generated&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{className:"h-3 w-3"}),s.jsx("span",{children:"Recurring"})]})]}),T.is_generated&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsx("span",{className:"text-purple-600 text-xs",children:"Auto-Generated"})]}),(T.description.toLowerCase().includes("budget för")||T.description.toLowerCase().includes("budget for"))&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsx("span",{className:"text-blue-600 text-xs",children:"Budget Entry"})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:`text-lg font-semibold ${T.type==="income"?"text-green-600":"text-red-600"}`,children:[T.type==="income"?"+":"-",ne(T.amount)]}),O(T)&&s.jsx($,{variant:"ghost",size:"sm",onClick:()=>k(T.id,T.description),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950",title:T.is_recurring?"Delete recurring transaction":"Delete transaction",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]},T.id)),R.entries.length===0&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:R.isFuture?"No planned transactions for this future month":"No transactions for this month"})]})]})]})]}),v.some(T=>T.income>0||T.expenses>0)&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"7-Month Trend"})}),s.jsx(U,{children:s.jsx("div",{className:"h-64",children:s.jsx(ha,{width:"100%",height:"100%",children:s.jsxs(W1,{data:v,children:[s.jsx(Ja,{dataKey:"monthName",tick:{fontSize:10,fill:e?"#94a3b8":"#64748b"},axisLine:!1,tickLine:!1}),s.jsx(Qa,{hide:!0}),s.jsx(Ll,{formatter:(T,M)=>[ne(T),M==="netFlow"?"Net Flow":M==="cumulativeBalance"?"Balance":M],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px"}}),s.jsx(Gu,{type:"monotone",dataKey:"netFlow",stroke:"#2563eb",strokeWidth:2,dot:{fill:"#2563eb",strokeWidth:2,r:3},name:"Net Flow"}),s.jsx(Gu,{type:"monotone",dataKey:"cumulativeBalance",stroke:"#16a34a",strokeWidth:2,dot:{fill:"#16a34a",strokeWidth:2,r:3},name:"Balance"})]})})})})]}),s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"Income vs Expenses"})}),s.jsx(U,{children:s.jsx("div",{className:"h-64",children:s.jsx(ha,{width:"100%",height:"100%",children:s.jsxs(v$,{data:v,children:[s.jsx(Ja,{dataKey:"monthName",tick:{fontSize:10,fill:e?"#94a3b8":"#64748b"},axisLine:!1,tickLine:!1}),s.jsx(Qa,{hide:!0}),s.jsx(Ll,{formatter:(T,M)=>[ne(T),M==="income"?"Income":"Expenses"],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px"}}),s.jsx(ul,{type:"monotone",dataKey:"income",stackId:"1",stroke:"#16a34a",fill:"#16a34a",fillOpacity:.6,name:"Income"}),s.jsx(ul,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#dc2626",fill:"#dc2626",fillOpacity:.6,name:"Expenses"})]})})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"Income Categories (Actual Transactions Only)"})}),s.jsx(U,{children:b.income.length>0?s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"h-32 w-32",children:s.jsx(ha,{width:"100%",height:"100%",children:s.jsx(H0,{children:s.jsx(Pm,{data:b.income,cx:"50%",cy:"50%",innerRadius:30,outerRadius:60,dataKey:"value",children:b.income.map((T,M)=>s.jsx(oo,{fill:T.color},`income-${M}`))})})})}),s.jsx("div",{className:"flex-1 space-y-2",children:b.income.map((T,M)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),s.jsx("span",{className:"text-sm",children:T.name})]}),s.jsx("span",{className:"text-sm font-medium",children:ne(T.value)})]},M))})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No actual income transactions yet"})})]}),s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:"Expense Categories (Actual Transactions Only)"})}),s.jsx(U,{children:b.expense.length>0?s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"h-32 w-32",children:s.jsx(ha,{width:"100%",height:"100%",children:s.jsx(H0,{children:s.jsx(Pm,{data:b.expense,cx:"50%",cy:"50%",innerRadius:30,outerRadius:60,dataKey:"value",children:b.expense.map((T,M)=>s.jsx(oo,{fill:T.color},`expense-${M}`))})})})}),s.jsx("div",{className:"flex-1 space-y-2",children:b.expense.map((T,M)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),s.jsx("span",{className:"text-sm",children:T.name})]}),s.jsx("span",{className:"text-sm font-medium",children:ne(T.value)})]},M))})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No actual expense transactions yet"})})]})]})]})}function wde(){const{projects:e,loading:t,error:r,addProject:n,updateProject:a,deleteProject:i}=ar(),{clients:o,loading:l}=Kt(),[c,d]=y.useState(""),[u,f]=y.useState(!1),[h,m]=y.useState(null),[p,g]=y.useState("all"),[v,x]=y.useState("all"),[b,w]=y.useState({name:"",color:"#3B82F6",description:"",client_id:"",status:"planning",start_date:"",end_date:"",budget:void 0,hourly_rate:void 0}),j=e.filter(C=>{var M,D;const O=o.find(F=>F.id===C.client_id),I=C.name.toLowerCase().includes(c.toLowerCase())||((M=C.description)==null?void 0:M.toLowerCase().includes(c.toLowerCase()))||(O==null?void 0:O.name.toLowerCase().includes(c.toLowerCase()))||((D=O==null?void 0:O.company)==null?void 0:D.toLowerCase().includes(c.toLowerCase())),R=p==="all"||C.status===p,T=v==="all"||C.client_id===v;return I&&R&&T}),S=async C=>{C.preventDefault();try{h?(await a({...b,id:h.id}),m(null)):await n(b),w({name:"",color:"#3B82F6",description:"",client_id:"",status:"planning",start_date:"",end_date:"",budget:void 0,hourly_rate:void 0}),f(!1)}catch(O){console.error("Error saving project:",O)}},N=C=>{m(C),w({name:C.name,color:C.color,description:C.description||"",client_id:C.client_id||"",status:C.status||"planning",start_date:C.start_date||"",end_date:C.end_date||"",budget:C.budget||void 0,hourly_rate:C.hourly_rate||void 0}),f(!0)},_=async C=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await i(C)}catch(O){console.error("Error deleting project:",O)}},E=async C=>{try{await a({id:C,status:"cancelled"})}catch(O){console.error("Error archiving project:",O)}},k=async C=>{try{await a({id:C,status:"active"})}catch(O){console.error("Error activating project:",O)}},P=C=>{switch(C){case"active":return{icon:bn,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"};case"completed":return{icon:bn,color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20"};case"on-hold":return{icon:Me,color:"text-yellow-600",bg:"bg-yellow-50 dark:bg-yellow-900/20"};case"cancelled":return{icon:_l,color:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20"};case"planning":return{icon:Me,color:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20"};default:return{icon:bn,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"}}},A=C=>{if(!C.start_date)return null;const O=new Date(C.start_date),I=C.end_date?new Date(C.end_date):new Date,R=new Date,T=Math.max(1,(I.getTime()-O.getTime())/(1e3*60*60*24)),M=Math.max(0,(R.getTime()-O.getTime())/(1e3*60*60*24));return Math.min(100,Math.max(0,M/T*100))};return t||l?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading projects..."})]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your projects and track progress"})]}),s.jsxs($,{onClick:()=>f(!0),className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4"}),"Add Project"]})]}),r&&s.jsx(z,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",children:s.jsx(U,{className:"pt-6",children:s.jsx("p",{className:"text-red-600 dark:text-red-400",children:r})})}),o.length===0&&s.jsx(z,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20",children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ow,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200",children:["You need to add clients first before creating projects.",s.jsx("a",{href:"/clients",className:"underline font-medium ml-1",children:"Go to Clients"})]})]})})}),s.jsx(z,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(oe,{placeholder:"Search projects...",value:c,onChange:C=>d(C.target.value),className:"pl-10"})]}),s.jsxs("select",{value:p,onChange:C=>g(C.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter projects by status",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"on-hold",children:"On Hold"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]}),s.jsxs("select",{value:v,onChange:C=>x(C.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter projects by client",children:[s.jsx("option",{value:"all",children:"All Clients"}),o.map(C=>s.jsxs("option",{value:C.id,children:[C.name," ",C.company?`(${C.company})`:""]},C.id))]})]})})}),u&&s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:h?"Edit Project":"Add New Project"})}),s.jsx(U,{children:s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name *"}),s.jsx(oe,{value:b.name,onChange:C=>w({...b,name:C.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client *"}),s.jsxs("select",{value:b.client_id||"",onChange:C=>w({...b,client_id:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-label":"Select client for project",children:[s.jsx("option",{value:"",children:"Select a client"}),o.filter(C=>C.status==="active").map(C=>s.jsxs("option",{value:C.id,children:[C.name," ",C.company?`(${C.company})`:""]},C.id))]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),s.jsx("textarea",{value:b.description,onChange:C=>w({...b,description:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]",placeholder:"Project description..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),s.jsxs("select",{value:b.status,onChange:C=>w({...b,status:C.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Project status",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"on-hold",children:"On Hold"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Color"}),s.jsx(oe,{type:"color",value:b.color,onChange:C=>w({...b,color:C.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Date"}),s.jsx(oe,{type:"date",value:b.start_date,onChange:C=>w({...b,start_date:C.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Date"}),s.jsx(oe,{type:"date",value:b.end_date,onChange:C=>w({...b,end_date:C.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Budget (SEK)"}),s.jsx(oe,{type:"number",step:"0.01",value:b.budget||"",onChange:C=>w({...b,budget:C.target.value?parseFloat(C.target.value):void 0})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hourly Rate (SEK)"}),s.jsx(oe,{type:"number",step:"0.01",value:b.hourly_rate||"",onChange:C=>w({...b,hourly_rate:C.target.value?parseFloat(C.target.value):void 0})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Summary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure your project settings above. Use the color to help identify projects in time tracking."})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx($,{type:"submit",children:h?"Update Project":"Add Project"}),s.jsx($,{type:"button",variant:"outline",onClick:()=>{f(!1),m(null),w({name:"",color:"#3B82F6",description:"",client_id:"",status:"planning",start_date:"",end_date:"",budget:void 0,hourly_rate:void 0})},children:"Cancel"})]})]})})]}),j.length===0?s.jsx(z,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:c||p!=="all"||v!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first project."}),!c&&p==="all"&&v==="all"&&o.length>0&&s.jsxs($,{onClick:()=>f(!0),children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Your First Project"]})]})})}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:j.map(C=>{var M;const O=P(C.status),I=O.icon,R=o.find(D=>D.id===C.client_id),T=A(C);return s.jsxs(z,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(q,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(K,{className:"text-lg",children:C.name}),R&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(cs,{className:"h-3 w-3"}),R.name,R.company&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Kl,{className:"h-3 w-3"}),R.company]})]})]}),s.jsxs("div",{className:`px-2 py-1 rounded-full flex items-center gap-1 ${O.bg}`,children:[s.jsx(I,{className:`h-3 w-3 ${O.color}`}),s.jsx("span",{className:`text-xs font-medium capitalize ${O.color}`,children:((M=C.status)==null?void 0:M.replace("-"," "))||"planning"})]})]})}),s.jsxs(U,{className:"space-y-3",children:[C.description&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:C.description}),(C.start_date||C.end_date)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(xt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[C.start_date&&new Date(C.start_date).toLocaleDateString("sv-SE"),C.start_date&&C.end_date&&" - ",C.end_date&&new Date(C.end_date).toLocaleDateString("sv-SE")]})]}),T!==null&&C.status==="active"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[Math.round(T),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[C.budget&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{children:ne(C.budget)})]}),C.hourly_rate&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Me,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs("span",{children:[ne(C.hourly_rate),"/h"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:C.color||"#3B82F6"}}),s.jsx("span",{children:"Project Color"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs($,{size:"sm",variant:"outline",onClick:()=>N(C),className:"flex-1",children:[s.jsx(wn,{className:"h-3 w-3 mr-1"}),"Edit"]}),C.status!=="cancelled"?s.jsx($,{size:"sm",variant:"outline",onClick:()=>E(C.id),children:s.jsx(Rh,{className:"h-3 w-3"})}):s.jsx($,{size:"sm",variant:"outline",onClick:()=>k(C.id),children:s.jsx(bn,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>_(C.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Xr,{className:"h-3 w-3"})})]})]})]},C.id)})}),s.jsx(z,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(C=>C.status==="active").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Active"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(C=>C.status==="completed").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(C=>C.status==="on-hold").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"On Hold"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(C=>C.status==="cancelled").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Cancelled"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Projects"})]})]})})})]})}function jde(){const{clients:e,loading:t,error:r,addClient:n,updateClient:a,deleteClient:i,archiveClient:o,activateClient:l}=Kt(),[c,d]=y.useState(""),[u,f]=y.useState(!1),[h,m]=y.useState(null),[p,g]=y.useState("all"),[v,x]=y.useState({name:"",email:"",phone:"",company:"",address:"",hourly_rate:void 0,currency:"SEK",status:"active",notes:""}),b=e.filter(k=>{var C,O;const P=k.name.toLowerCase().includes(c.toLowerCase())||((C=k.company)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))||((O=k.email)==null?void 0:O.toLowerCase().includes(c.toLowerCase())),A=p==="all"||k.status===p;return P&&A}),w=async k=>{k.preventDefault();try{h?(await a({...v,id:h.id}),m(null)):await n(v),x({name:"",email:"",phone:"",company:"",address:"",hourly_rate:void 0,currency:"SEK",status:"active",notes:""}),f(!1)}catch(P){console.error("Error saving client:",P)}},j=k=>{m(k),x({name:k.name,email:k.email||"",phone:k.phone||"",company:k.company||"",address:k.address||"",hourly_rate:k.hourly_rate||void 0,currency:k.currency||"SEK",status:k.status,notes:k.notes||""}),f(!0)},S=async k=>{if(window.confirm("Are you sure you want to delete this client? This action cannot be undone."))try{await i(k)}catch(P){console.error("Error deleting client:",P)}},N=async k=>{try{await o(k)}catch(P){console.error("Error archiving client:",P)}},_=async k=>{try{await l(k)}catch(P){console.error("Error activating client:",P)}},E=k=>{switch(k){case"active":return{icon:bn,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"};case"inactive":return{icon:Me,color:"text-yellow-600",bg:"bg-yellow-50 dark:bg-yellow-900/20"};case"archived":return{icon:_l,color:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20"};default:return{icon:bn,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"}}};return t?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Clients"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading clients..."})]})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Clients"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your clients and track relationships"})]}),s.jsxs($,{onClick:()=>f(!0),className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"h-4 w-4"}),"Add Client"]})]}),r&&s.jsx(z,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",children:s.jsx(U,{className:"pt-6",children:s.jsx("p",{className:"text-red-600 dark:text-red-400",children:r})})}),s.jsx(z,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(oe,{placeholder:"Search clients...",value:c,onChange:k=>d(k.target.value),className:"pl-10"})]}),s.jsxs("select",{value:p,onChange:k=>g(k.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter clients by status",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"archived",children:"Archived"})]})]})})}),u&&s.jsxs(z,{children:[s.jsx(q,{children:s.jsx(K,{children:h?"Edit Client":"Add New Client"})}),s.jsx(U,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name *"}),s.jsx(oe,{value:v.name,onChange:k=>x({...v,name:k.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company"}),s.jsx(oe,{value:v.company,onChange:k=>x({...v,company:k.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),s.jsx(oe,{type:"email",value:v.email,onChange:k=>x({...v,email:k.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),s.jsx(oe,{value:v.phone,onChange:k=>x({...v,phone:k.target.value})})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),s.jsx(oe,{value:v.address,onChange:k=>x({...v,address:k.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hourly Rate (SEK)"}),s.jsx(oe,{type:"number",step:"0.01",value:v.hourly_rate||"",onChange:k=>x({...v,hourly_rate:k.target.value?parseFloat(k.target.value):void 0})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),s.jsxs("select",{value:v.status,onChange:k=>x({...v,status:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Client status",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"archived",children:"Archived"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),s.jsx("textarea",{value:v.notes,onChange:k=>x({...v,notes:k.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]",placeholder:"Additional notes about this client..."})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx($,{type:"submit",children:h?"Update Client":"Add Client"}),s.jsx($,{type:"button",variant:"outline",onClick:()=>{f(!1),m(null),x({name:"",email:"",phone:"",company:"",address:"",hourly_rate:void 0,currency:"SEK",status:"active",notes:""})},children:"Cancel"})]})]})})]}),b.length===0?s.jsx(z,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ta,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:c||p!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first client."}),!c&&p==="all"&&s.jsxs($,{onClick:()=>f(!0),children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Your First Client"]})]})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(k=>{const P=E(k.status),A=P.icon;return s.jsxs(z,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(q,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(K,{className:"text-lg",children:k.name}),k.company&&s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[s.jsx(Kl,{className:"h-3 w-3"}),k.company]})]}),s.jsxs("div",{className:`px-2 py-1 rounded-full flex items-center gap-1 ${P.bg}`,children:[s.jsx(A,{className:`h-3 w-3 ${P.color}`}),s.jsx("span",{className:`text-xs font-medium capitalize ${P.color}`,children:k.status})]})]})}),s.jsxs(U,{className:"space-y-3",children:[k.email&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(VU,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"truncate",children:k.email})]}),k.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(XU,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:k.phone})]}),k.hourly_rate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Me,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[ne(k.hourly_rate),"/hour"]})]}),k.notes&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:k.notes}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs($,{size:"sm",variant:"outline",onClick:()=>j(k),className:"flex-1",children:[s.jsx(wn,{className:"h-3 w-3 mr-1"}),"Edit"]}),k.status==="active"?s.jsx($,{size:"sm",variant:"outline",onClick:()=>N(k.id),children:s.jsx(Rh,{className:"h-3 w-3"})}):s.jsx($,{size:"sm",variant:"outline",onClick:()=>_(k.id),children:s.jsx(bn,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>S(k.id),className:"text-red-600 hover:text-red-700",children:s.jsx(Xr,{className:"h-3 w-3"})})]})]})]},k.id)})}),s.jsx(z,{children:s.jsx(U,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(k=>k.status==="active").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Clients"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(k=>k.status==="inactive").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Inactive Clients"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:e.filter(k=>k.status==="archived").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Archived Clients"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Clients"})]})]})})})]})}const rL=6048e5,Sde=864e5,nL=6e4,aL=36e5,Lf=43200,JE=1440,QE=Symbol.for("constructDateFrom");function Qn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&QE in e?e[QE](t):e instanceof Date?new e.constructor(t):new Date(t)}function rt(e,t){return Qn(t||e,e)}function Nde(e,t,r){const n=rt(e,r==null?void 0:r.in);return isNaN(t)?Qn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let _de={};function Fd(){return _de}function Yu(e,t){var l,c,d,u;const r=Fd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=rt(e,t==null?void 0:t.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Rm(e,t){return Yu(e,{...t,weekStartsOn:1})}function iL(e,t){const r=rt(e,t==null?void 0:t.in),n=r.getFullYear(),a=Qn(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Rm(a),o=Qn(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Rm(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function $m(e){const t=rt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Bd(e,...t){const r=Qn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function ZE(e,t){const r=rt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function sL(e,t,r){const[n,a]=Bd(r==null?void 0:r.in,e,t),i=ZE(n),o=ZE(a),l=+i-$m(i),c=+o-$m(o);return Math.round((l-c)/Sde)}function Cde(e,t){const r=iL(e,t),n=Qn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Rm(n)}function ih(e,t){const r=+rt(e)-+rt(t);return r<0?-1:r>0?1:r}function Ede(e){return Qn(e,Date.now())}function kde(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Pde(e){return!(!kde(e)&&typeof e!="number"||isNaN(+rt(e)))}function Ade(e,t,r){const[n,a]=Bd(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function Ode(e,t,r){const[n,a]=Bd(r==null?void 0:r.in,e,t),i=ek(n,a),o=Math.abs(sL(n,a));n.setDate(n.getDate()-i*o);const l=+(ek(n,a)===-i),c=i*(o-l);return c===0?0:c}function ek(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Tde(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Dde(e,t){return+rt(e)-+rt(t)}function Ide(e,t){const r=rt(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function sh(e,t){const r=rt(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Mde(e,t){const r=rt(e,t==null?void 0:t.in);return+Ide(r,t)==+sh(r,t)}function Rde(e,t,r){const[n,a,i]=Bd(r==null?void 0:r.in,e,e,t),o=ih(a,i),l=Math.abs(Ade(a,i));if(l<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*l);let c=ih(a,i)===-o;Mde(n)&&l===1&&ih(n,i)===1&&(c=!1);const d=o*(l-+c);return d===0?0:d}function $de(e,t,r){const n=Dde(e,t)/1e3;return Tde(r==null?void 0:r.roundingMethod)(n)}function Ay(e,t){const r=rt(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Lde(e,t){const r=rt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Fde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bde=(e,t,r)=>{let n;const a=Fde[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Oy(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const zde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ude={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vde={date:Oy({formats:zde,defaultWidth:"full"}),time:Oy({formats:Ude,defaultWidth:"full"}),dateTime:Oy({formats:Wde,defaultWidth:"full"})},Hde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qde=(e,t,r,n)=>Hde[e];function $c(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Kde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zde=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},efe={ordinalNumber:Zde,era:$c({values:Kde,defaultWidth:"wide"}),quarter:$c({values:Gde,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$c({values:Yde,defaultWidth:"wide"}),day:$c({values:Xde,defaultWidth:"wide"}),dayPeriod:$c({values:Jde,defaultWidth:"wide",formattingValues:Qde,defaultFormattingWidth:"wide"})};function Lc(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rfe(l,f=>f.test(o)):tfe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function tfe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rfe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nfe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const afe=/^(\d+)(th|st|nd|rd)?/i,ife=/\d+/i,sfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ofe={any:[/^b/i,/^(a|c)/i]},lfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cfe={any:[/1/i,/2/i,/3/i,/4/i]},ufe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ffe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gfe={ordinalNumber:nfe({matchPattern:afe,parsePattern:ife,valueCallback:e=>parseInt(e,10)}),era:Lc({matchPatterns:sfe,defaultMatchWidth:"wide",parsePatterns:ofe,defaultParseWidth:"any"}),quarter:Lc({matchPatterns:lfe,defaultMatchWidth:"wide",parsePatterns:cfe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Lc({matchPatterns:ufe,defaultMatchWidth:"wide",parsePatterns:dfe,defaultParseWidth:"any"}),day:Lc({matchPatterns:ffe,defaultMatchWidth:"wide",parsePatterns:hfe,defaultParseWidth:"any"}),dayPeriod:Lc({matchPatterns:mfe,defaultMatchWidth:"any",parsePatterns:pfe,defaultParseWidth:"any"})},oL={code:"en-US",formatDistance:Bde,formatLong:Vde,formatRelative:qde,localize:efe,match:gfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vfe(e,t){const r=rt(e,t==null?void 0:t.in);return sL(r,Lde(r))+1}function yfe(e,t){const r=rt(e,t==null?void 0:t.in),n=+Rm(r)-+Cde(r);return Math.round(n/rL)+1}function lL(e,t){var u,f,h,m;const r=rt(e,t==null?void 0:t.in),n=r.getFullYear(),a=Fd(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Qn((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Yu(o,t),c=Qn((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Yu(c,t);return+r>=+l?n+1:+r>=+d?n:n-1}function xfe(e,t){var l,c,d,u;const r=Fd(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=lL(e,t),i=Qn((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Yu(i,t)}function bfe(e,t){const r=rt(e,t==null?void 0:t.in),n=+Yu(r,t)-+xfe(r,t);return Math.round(n/rL)+1}function $e(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const vi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return $e(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):$e(r+1,2)},d(e,t){return $e(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return $e(e.getHours()%12||12,t.length)},H(e,t){return $e(e.getHours(),t.length)},m(e,t){return $e(e.getMinutes(),t.length)},s(e,t){return $e(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return $e(a,t.length)}},Io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tk={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return vi.y(e,t)},Y:function(e,t,r,n){const a=lL(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return $e(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):$e(i,t.length)},R:function(e,t){const r=iL(e);return $e(r,t.length)},u:function(e,t){const r=e.getFullYear();return $e(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return $e(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return $e(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return vi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return $e(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=bfe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):$e(a,t.length)},I:function(e,t,r){const n=yfe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):$e(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):vi.d(e,t)},D:function(e,t,r){const n=vfe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$e(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return $e(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return $e(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return $e(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Io.noon:n===0?a=Io.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Io.evening:n>=12?a=Io.afternoon:n>=4?a=Io.morning:a=Io.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return vi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):vi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$e(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):$e(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):vi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):vi.s(e,t)},S:function(e,t){return vi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return nk(n);case"XXXX":case"XX":return Ds(n);case"XXXXX":case"XXX":default:return Ds(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return nk(n);case"xxxx":case"xx":return Ds(n);case"xxxxx":case"xxx":default:return Ds(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rk(n,":");case"OOOO":default:return"GMT"+Ds(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rk(n,":");case"zzzz":default:return"GMT"+Ds(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return $e(n,t.length)},T:function(e,t,r){return $e(+e,t.length)}};function rk(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+$e(i,2)}function nk(e,t){return e%60===0?(e>0?"-":"+")+$e(Math.abs(e)/60,2):Ds(e,t)}function Ds(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=$e(Math.trunc(n/60),2),i=$e(n%60,2);return r+a+t+i}const ak=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cL=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wfe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ak(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ak(n,t)).replace("{{time}}",cL(a,t))},jfe={p:cL,P:wfe},Sfe=/^D+$/,Nfe=/^Y+$/,_fe=["D","DD","YY","YYYY"];function Cfe(e){return Sfe.test(e)}function Efe(e){return Nfe.test(e)}function kfe(e,t,r){const n=Pfe(e,t,r);if(console.warn(n),_fe.includes(e))throw new RangeError(n)}function Pfe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Afe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ofe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tfe=/^'([^]*?)'?$/,Dfe=/''/g,Ife=/[a-zA-Z]/;function Za(e,t,r){var u,f,h,m;const n=Fd(),a=n.locale??oL,i=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=rt(e,r==null?void 0:r.in);if(!Pde(l))throw new RangeError("Invalid time value");let c=t.match(Ofe).map(p=>{const g=p[0];if(g==="p"||g==="P"){const v=jfe[g];return v(p,a.formatLong)}return p}).join("").match(Afe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:Mfe(p)};if(tk[g])return{isToken:!0,value:p};if(g.match(Ife))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(p=>{if(!p.isToken)return p.value;const g=p.value;(Efe(g)||Cfe(g))&&kfe(g,t,String(e));const v=tk[g[0]];return v(l,g,a.localize,d)}).join("")}function Mfe(e){const t=e.match(Tfe);return t?t[1].replace(Dfe,"'"):e}function Rfe(e,t,r){const n=Fd(),a=(r==null?void 0:r.locale)??n.locale??oL,i=2520,o=ih(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[c,d]=Bd(r==null?void 0:r.in,...o>0?[t,e]:[e,t]),u=$de(d,c),f=($m(d)-$m(c))/1e3,h=Math.round((u-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<JE){const p=Math.round(h/60);return a.formatDistance("aboutXHours",p,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Lf){const p=Math.round(h/JE);return a.formatDistance("xDays",p,l)}else if(h<Lf*2)return m=Math.round(h/Lf),a.formatDistance("aboutXMonths",m,l)}if(m=Rde(d,c),m<12){const p=Math.round(h/Lf);return a.formatDistance("xMonths",p,l)}else{const p=m%12,g=Math.trunc(m/12);return p<3?a.formatDistance("aboutXYears",g,l):p<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function Ff(e,t){return Rfe(e,Ede(e),t)}function Gi(e,t,r){const n=+rt(e,r==null?void 0:r.in),[a,i]=[+rt(t.start,r==null?void 0:r.in),+rt(t.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=a&&n<=i}function Bf(e,t,r){return Nde(e,-t,r)}function Nn(e,t){const r=()=>Qn(t==null?void 0:t.in,NaN),a=Bfe(e);let i;if(a.date){const d=zfe(a.date,2);i=Ufe(d.restDateString,d.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,c;if(a.time&&(l=Wfe(a.time),isNaN(l)))return r();if(a.timezone){if(c=Vfe(a.timezone),isNaN(c))return r()}else{const d=new Date(o+l),u=rt(0,t==null?void 0:t.in);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return rt(o+l+c,t==null?void 0:t.in)}const zf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$fe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ffe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bfe(e){const t={},r=e.split(zf.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],zf.timeZoneDelimiter.test(t.date)&&(t.date=e.split(zf.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=zf.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function zfe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Ufe(e,t){if(t===null)return new Date(NaN);const r=e.match($fe);if(!r)return new Date(NaN);const n=!!r[4],a=Fc(r[1]),i=Fc(r[2])-1,o=Fc(r[3]),l=Fc(r[4]),c=Fc(r[5])-1;if(n)return Yfe(t,l,c)?Hfe(t,l,c):new Date(NaN);{const d=new Date(0);return!Kfe(t,i,o)||!Gfe(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,o)),d)}}function Fc(e){return e?parseInt(e):1}function Wfe(e){const t=e.match(Lfe);if(!t)return NaN;const r=Ty(t[1]),n=Ty(t[2]),a=Ty(t[3]);return Xfe(r,n,a)?r*aL+n*nL+a*1e3:NaN}function Ty(e){return e&&parseFloat(e.replace(",","."))||0}function Vfe(e){if(e==="Z")return 0;const t=e.match(Ffe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Jfe(n,a)?r*(n*aL+a*nL):NaN}function Hfe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const qfe=[31,null,31,30,31,30,31,31,30,31,30,31];function uL(e){return e%400===0||e%4===0&&e%100!==0}function Kfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(qfe[t]||(uL(e)?29:28))}function Gfe(e,t){return t>=1&&t<=(uL(e)?366:365)}function Yfe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Xfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Jfe(e,t){return t>=0&&t<=59}function ys(e){const{user:t}=gr(),{clients:r}=Kt(),{projects:n}=ar(),{entries:a}=vr(),[i,o]=y.useState([]),[l,c]=y.useState(!0),[d,u]=y.useState(null),f=t==null?void 0:t.id,h=y.useCallback(async()=>{if(!f){o([]),c(!1);return}try{c(!0),u(null);const{data:N,error:_}=await G.from("invoice_items").select("*").eq("user_id",f).order("created_at",{ascending:!1});if(_)throw _;o(N||[])}catch(N){console.error("Error fetching invoice items:",N),u(N instanceof Error?N.message:"Failed to fetch invoice items");const _=localStorage.getItem(`invoice_items_${f}`);_&&o(JSON.parse(_))}finally{c(!1)}},[f]),m=y.useCallback(async N=>{if(!f)throw new Error("User not authenticated");try{let _;N.type==="hourly"?_=(N.quantity||0)*(N.rate||0):_=N.rate||0;const E={user_id:f,client_id:N.client_id||null,project_id:N.project_id||null,description:N.description,hours:N.type==="hourly"?N.quantity:null,hourly_rate:N.type==="hourly"?N.rate:null,fixed_amount:N.type==="fixed"?N.rate:null,total_amount:_,currency:"SEK",invoice_date:N.date||new Date().toISOString().split("T")[0],status:N.status||"draft"},{data:k,error:P}=await G.from("invoice_items").insert([E]).select().single();if(P)throw P;if(k){o(C=>[k,...C]);const A=[k,...i];return localStorage.setItem(`invoice_items_${f}`,JSON.stringify(A)),k}return null}catch(_){console.error("Error adding invoice item:",_);const E=N.type==="hourly"?(N.quantity||0)*(N.rate||0):N.rate||0,P=[{id:`local_${Date.now()}`,user_id:f,client_id:N.client_id||null,project_id:N.project_id||null,description:N.description,hours:N.type==="hourly"?N.quantity:null,hourly_rate:N.type==="hourly"?N.rate:null,fixed_amount:N.type==="fixed"?N.rate:null,total_amount:E,currency:"SEK",invoice_date:N.date||new Date().toISOString().split("T")[0],due_date:null,status:N.status||"draft",notes:N.notes||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...i];throw o(P),localStorage.setItem(`invoice_items_${f}`,JSON.stringify(P)),_}},[f,i]),p=y.useCallback(async N=>{if(!f)throw new Error("User not authenticated");try{const{id:_,...E}=N,k={};if(E.quantity!==void 0||E.rate!==void 0||E.type!==void 0){const C=i.find(O=>O.id===_);if(C){const O=E.type||(C.hours?"hourly":"fixed"),I=E.quantity??(C.hours||1),R=E.rate??(C.hourly_rate||C.fixed_amount||0);O==="hourly"?(k.hours=I,k.hourly_rate=R,k.fixed_amount=null,k.total_amount=I*R):(k.hours=null,k.hourly_rate=null,k.fixed_amount=R,k.total_amount=R)}}E.description!==void 0&&(k.description=E.description),E.client_id!==void 0&&(k.client_id=E.client_id),E.project_id!==void 0&&(k.project_id=E.project_id),E.date!==void 0&&(k.invoice_date=E.date),E.status!==void 0&&(k.status=E.status),E.notes!==void 0&&(k.notes=E.notes);const{data:P,error:A}=await G.from("invoice_items").update({...k,updated_at:new Date().toISOString()}).eq("id",_).eq("user_id",f).select().single();if(A)throw A;if(P){o(O=>O.map(I=>I.id===_?P:I));const C=i.map(O=>O.id===_?P:O);return localStorage.setItem(`invoice_items_${f}`,JSON.stringify(C)),P}return null}catch(_){throw console.error("Error updating invoice item:",_),_}},[f,i]),g=y.useCallback(async N=>{if(!f)throw new Error("User not authenticated");try{const{error:_}=await G.from("invoice_items").delete().eq("id",N).eq("user_id",f);if(_)throw _;o(k=>k.filter(P=>P.id!==N));const E=i.filter(k=>k.id!==N);localStorage.setItem(`invoice_items_${f}`,JSON.stringify(E))}catch(_){throw console.error("Error deleting invoice item:",_),_}},[f,i]),v=y.useCallback(()=>{const N=i.reduce((E,k)=>{switch(E.itemCount++,k.status){case"draft":E.totalDraft+=k.total_amount,E.totalUnbilled+=k.total_amount;break;case"sent":E.totalSent+=k.total_amount;break;case"paid":E.totalPaid+=k.total_amount;break}return E},{totalUnbilled:0,totalDraft:0,totalSent:0,totalPaid:0,itemCount:0,clientCount:0}),_=new Set(i.map(E=>E.client_id));return N.clientCount=_.size,N},[i]),x=y.useCallback(()=>{const N=new Map;i.forEach(E=>{if(!E.client_id)return;const k=r.find(A=>A.id===E.client_id);if(!k)return;N.has(E.client_id)||N.set(E.client_id,{client_id:E.client_id,client_name:k.name,company:k.company||void 0,totalUnbilled:0,totalDraft:0,totalSent:0,totalPaid:0,itemCount:0,projectCount:0,lastActivity:E.created_at});const P=N.get(E.client_id);switch(P.itemCount++,E.created_at>P.lastActivity&&(P.lastActivity=E.created_at),E.status){case"draft":P.totalDraft+=E.total_amount,P.totalUnbilled+=E.total_amount;break;case"sent":P.totalSent+=E.total_amount;break;case"paid":P.totalPaid+=E.total_amount;break}});const _=new Map;return i.forEach(E=>{!E.client_id||!E.project_id||(_.has(E.client_id)||_.set(E.client_id,new Set),_.get(E.client_id).add(E.project_id))}),N.forEach((E,k)=>{var P;E.projectCount=((P=_.get(k))==null?void 0:P.size)||0}),Array.from(N.values()).sort((E,k)=>k.totalUnbilled-E.totalUnbilled)},[i,r]),b=y.useCallback(()=>{const N=new Map;return i.forEach(_=>{if(!_.project_id||!_.client_id)return;const E=n.find(A=>A.id===_.project_id),k=r.find(A=>A.id===_.client_id);if(!E||!k)return;N.has(_.project_id)||N.set(_.project_id,{project_id:_.project_id,project_name:E.name,client_id:_.client_id,client_name:k.name,totalUnbilled:0,totalDraft:0,totalSent:0,totalPaid:0,itemCount:0,totalHours:0,averageRate:0,lastActivity:_.created_at});const P=N.get(_.project_id);switch(P.itemCount++,_.created_at>P.lastActivity&&(P.lastActivity=_.created_at),_.hours&&(P.totalHours+=_.hours),_.status){case"draft":P.totalDraft+=_.total_amount,P.totalUnbilled+=_.total_amount;break;case"sent":P.totalSent+=_.total_amount;break;case"paid":P.totalPaid+=_.total_amount;break}}),N.forEach(_=>{const E=i.filter(A=>A.project_id===_.project_id),k=E.reduce((A,C)=>A+C.total_amount,0),P=E.reduce((A,C)=>A+(C.hours||0),0);_.averageRate=P>0?k/P:0}),Array.from(N.values()).sort((_,E)=>E.totalUnbilled-_.totalUnbilled)},[i,n,r]),w=y.useCallback(async(N,_,E)=>{const k=a.filter(I=>N.includes(I.id));if(k.length===0)return null;const P=k.reduce((I,R)=>I+R.hours,0),A=n.find(I=>I.id===k[0].project_id),C=r.find(I=>I.id===_);if(!A||!C)return null;const O=A.hourly_rate||C.hourly_rate||0;return m({client_id:_,project_id:k[0].project_id,description:E||`${A.name} - ${P} hours`,quantity:P,rate:O,type:"hourly",date:new Date().toISOString().split("T")[0]})},[a,n,r,m]),j=y.useCallback(async N=>{const _=N.map(E=>p({id:E,status:"sent"}));await Promise.all(_)},[p]),S=y.useCallback(async N=>{const _=N.map(E=>p({id:E,status:"paid"}));await Promise.all(_)},[p]);return y.useEffect(()=>{h()},[h]),{invoiceItems:i,loading:l,error:d,addInvoiceItem:m,updateInvoiceItem:p,deleteInvoiceItem:g,getInvoiceSummary:v,getClientSummaries:x,getProjectSummaries:b,createInvoiceFromTimeEntries:w,markAsInvoiced:j,markAsPaid:S,refetch:h}}function Qfe({dateRange:e}){const{invoiceItems:t,loading:r}=ys(),{entries:n,loading:a}=vr(),{clients:i}=Kt(),{projects:o}=ar(),[l,c]=y.useState({totalRevenue:0,totalHours:0,activeClients:0,growthRate:0,averageHourlyRate:0,productivityScore:0});y.useEffect(()=>{if(!t||!n||r||a)return;const h=t.filter(C=>{const O=Nn(C.invoice_date);return Gi(O,{start:e.from,end:e.to})}),m=n.filter(C=>{const O=Nn(C.date);return Gi(O,{start:e.from,end:e.to})}),p=h.reduce((C,O)=>C+O.total_amount,0),g=m.reduce((C,O)=>C+O.hours,0),x=new Set([...h.map(C=>{const O=o.find(I=>I.id===C.project_id);return O==null?void 0:O.client_id}).filter(Boolean),...m.map(C=>{const O=o.find(I=>I.id===C.project_id);return O==null?void 0:O.client_id}).filter(Boolean)]).size,b=e.to.getTime()-e.from.getTime(),w=new Date(e.from.getTime()-b),j=new Date(e.to.getTime()-b),N=t.filter(C=>{const O=Nn(C.invoice_date);return Gi(O,{start:w,end:j})}).reduce((C,O)=>C+O.total_amount,0),_=N>0?(p-N)/N*100:0,E=g>0?p/g:0,P=Math.ceil((e.to.getTime()-e.from.getTime())/(1e3*60*60*24))*8,A=P>0?Math.min(g/P*100,100):0;c({totalRevenue:p,totalHours:g,activeClients:x,growthRate:_,averageHourlyRate:E,productivityScore:A})},[t,n,r,a,e,i,o]);const d=h=>{const m=Math.floor(h),p=Math.round((h-m)*60);return`${m}h ${p}m`};if(r||a)return s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((h,m)=>s.jsxs(z,{className:"animate-pulse",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),s.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},m))});const f=[{title:"Total Revenue",value:ne(l.totalRevenue),description:`${l.growthRate>=0?"+":""}${l.growthRate.toFixed(1)}% vs previous period`,icon:rr,color:"text-green-600",bgColor:"bg-green-100"},{title:"Total Hours",value:d(l.totalHours),description:"Time tracked this period",icon:Me,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Active Clients",value:l.activeClients.toString(),description:"Clients with activity",icon:ta,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Avg Hourly Rate",value:ne(l.averageHourlyRate),description:"Revenue per hour",icon:Dn,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Productivity",value:`${l.productivityScore.toFixed(1)}%`,description:"Of expected work hours",icon:Sl,color:"text-indigo-600",bgColor:"bg-indigo-100"},{title:"Growth Trend",value:`${l.growthRate>=0?"+":""}${l.growthRate.toFixed(1)}%`,description:"Revenue growth rate",icon:ct,color:l.growthRate>=0?"text-green-600":"text-red-600",bgColor:l.growthRate>=0?"bg-green-100":"bg-red-100"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:f.map(h=>{const m=h.icon;return s.jsxs(z,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium text-gray-600",children:h.title}),s.jsx("div",{className:`p-2 rounded-full ${h.bgColor}`,children:s.jsx(m,{className:`h-4 w-4 ${h.color}`})})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h.value}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.description})]})]},h.title)})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(z,{children:[s.jsx(q,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Gl,{className:"h-5 w-5"}),"Revenue Summary"]})}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),s.jsx("span",{className:"font-semibold",children:ne(l.totalRevenue)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Average Hourly Rate"}),s.jsx("span",{className:"font-semibold",children:ne(l.averageHourlyRate)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Growth Rate"}),s.jsxs("span",{className:`font-semibold ${l.growthRate>=0?"text-green-600":"text-red-600"}`,children:[l.growthRate>=0?"+":"",l.growthRate.toFixed(1),"%"]})]})]})]}),s.jsxs(z,{children:[s.jsx(q,{children:s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Sl,{className:"h-5 w-5"}),"Activity Summary"]})}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Hours"}),s.jsx("span",{className:"font-semibold",children:d(l.totalHours)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active Clients"}),s.jsx("span",{className:"font-semibold",children:l.activeClients})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Productivity Score"}),s.jsxs("span",{className:"font-semibold",children:[l.productivityScore.toFixed(1),"%"]})]})]})]})]})]})}function Zfe({dateRange:e}){const{invoiceItems:t,loading:r}=ys(),{clients:n}=Kt(),{projects:a}=ar(),[i,o]=y.useState({totalRevenue:0,paidRevenue:0,pendingRevenue:0,overdueRevenue:0,averageInvoiceValue:0,invoiceCount:0,growthRate:0,collectionRate:0}),[l,c]=y.useState([]);if(y.useEffect(()=>{if(!t||r)return;const u=t.filter(k=>{const P=Nn(k.invoice_date);return Gi(P,{start:e.from,end:e.to})}),f=u.reduce((k,P)=>k+P.total_amount,0),h=u.filter(k=>k.status==="paid").reduce((k,P)=>k+P.total_amount,0),m=u.filter(k=>k.status==="sent").reduce((k,P)=>k+P.total_amount,0),p=u.filter(k=>{if(!k.due_date)return!1;const P=Nn(k.due_date);return k.status==="sent"&&P<new Date}).reduce((k,P)=>k+P.total_amount,0),g=u.length>0?f/u.length:0,v=f>0?h/f*100:0,x=e.to.getTime()-e.from.getTime(),b=new Date(e.from.getTime()-x),w=new Date(e.to.getTime()-x),S=t.filter(k=>{const P=Nn(k.invoice_date);return Gi(P,{start:b,end:w})}).reduce((k,P)=>k+P.total_amount,0),N=S>0?(f-S)/S*100:0;o({totalRevenue:f,paidRevenue:h,pendingRevenue:m,overdueRevenue:p,averageInvoiceValue:g,invoiceCount:u.length,growthRate:N,collectionRate:v});const _=new Map;u.forEach(k=>{const P=a.find(R=>R.id===k.project_id),A=n.find(R=>R.id===(P==null?void 0:P.client_id)),C=(A==null?void 0:A.id)||"unknown",O=(A==null?void 0:A.name)||"Unknown Client",I=_.get(C)||{revenue:0,invoiceCount:0};_.set(C,{revenue:I.revenue+k.total_amount,invoiceCount:I.invoiceCount+1,name:O})});const E=Array.from(_.entries()).map(([k,P])=>({clientId:k,clientName:P.name,revenue:P.revenue,invoiceCount:P.invoiceCount,percentage:f>0?P.revenue/f*100:0}));E.sort((k,P)=>P.revenue-k.revenue),c(E)},[t,r,e,n,a]),r)return s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((u,f)=>s.jsxs(z,{className:"animate-pulse",children:[s.jsx(q,{className:"space-y-0 pb-2",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),s.jsxs(U,{children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]},f))});const d=[{title:"Total Revenue",value:ne(i.totalRevenue),description:`${i.growthRate>=0?"+":""}${i.growthRate.toFixed(1)}% vs previous period`,icon:rr,color:"text-green-600",bgColor:"bg-green-100"},{title:"Collected Revenue",value:ne(i.paidRevenue),description:`${i.collectionRate.toFixed(1)}% collection rate`,icon:Dn,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Pending Revenue",value:ne(i.pendingRevenue),description:"Awaiting payment",icon:xt,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Average Invoice",value:ne(i.averageInvoiceValue),description:`${i.invoiceCount} invoices`,icon:rr,color:"text-purple-600",bgColor:"bg-purple-100"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:d.map(u=>{const f=u.icon;return s.jsxs(z,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium text-gray-600",children:u.title}),s.jsx("div",{className:`p-2 rounded-full ${u.bgColor}`,children:s.jsx(f,{className:`h-4 w-4 ${u.color}`})})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u.value}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u.description})]})]},u.title)})}),i.growthRate!==0&&s.jsx(z,{children:s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[i.growthRate>=0?s.jsx(ct,{className:"h-5 w-5 text-green-600"}):s.jsx(Fh,{className:"h-5 w-5 text-red-600"}),"Revenue Trend"]}),s.jsxs(Ae,{children:[i.growthRate>=0?"Revenue is growing":"Revenue has decreased"," by"," ",Math.abs(i.growthRate).toFixed(1),"% compared to the previous period"]})]})}),i.overdueRevenue>0&&s.jsx(z,{className:"border-red-200 bg-red-50",children:s.jsxs(q,{children:[s.jsx(K,{className:"text-red-700",children:"Overdue Revenue"}),s.jsxs(Ae,{className:"text-red-600",children:["You have ",ne(i.overdueRevenue)," in overdue invoices that need attention"]})]})}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Revenue by Client"}),s.jsx(Ae,{children:"Revenue distribution across your clients for the selected period"})]}),s.jsx(U,{children:l.length>0?s.jsxs("div",{className:"space-y-4",children:[l.slice(0,10).map(u=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:u.clientName}),s.jsxs("p",{className:"text-sm text-gray-500",children:[u.invoiceCount," invoice",u.invoiceCount!==1?"s":""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[u.percentage.toFixed(1),"%"]}),s.jsx("span",{className:"font-medium",children:ne(u.revenue)})]})]},u.clientId)),l.length>10&&s.jsxs("p",{className:"text-sm text-gray-500 text-center pt-2 border-t",children:["And ",l.length-10," more clients..."]})]}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No revenue data found for the selected period"})})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Period Summary"}),s.jsxs(Ae,{children:["Revenue summary from ",Za(e.from,"MMM d, yyyy")," to ",Za(e.to,"MMM d, yyyy")]})]}),s.jsx(U,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:ne(i.paidRevenue)}),s.jsx("p",{className:"text-sm text-gray-500",children:"Collected"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ne(i.pendingRevenue)}),s.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:ne(i.overdueRevenue)}),s.jsx("p",{className:"text-sm text-gray-500",children:"Overdue"})]})]})})]})]})}function ehe({dateRange:e}){const{entries:t,loading:r}=vr(),{projects:n}=ar(),{clients:a}=Kt(),[i,o]=y.useState({totalHours:0,billableHours:0,billableRate:0,averageHoursPerDay:0,totalSessions:0,averageSessionLength:0,estimatedRevenue:0,productivity:0}),[l,c]=y.useState([]),[d,u]=y.useState([]);y.useEffect(()=>{if(!t||r)return;const m=t.filter(I=>{const R=Nn(I.date);return Gi(R,{start:e.from,end:e.to})}),p=m.reduce((I,R)=>I+R.hours,0),g=p,v=g>0?100:0,x=Math.max(1,Math.ceil((e.to.getTime()-e.from.getTime())/(1e3*60*60*24))),b=p/x,w=m.length,j=w>0?p/w:0,S=1e3,N=g*S,E=x*8,k=E>0?p/E*100:0;o({totalHours:p,billableHours:g,billableRate:v,averageHoursPerDay:b,totalSessions:w,averageSessionLength:j,estimatedRevenue:N,productivity:Math.min(k,100)});const P=new Map;m.forEach(I=>{const R=n.find(W=>W.id===I.project_id),T=a.find(W=>W.id===(R==null?void 0:R.client_id)),M=(R==null?void 0:R.id)||"unknown",D=(R==null?void 0:R.name)||"Unknown Project",F=(T==null?void 0:T.name)||"Unknown Client",H=(R==null?void 0:R.hourly_rate)||S,Z=P.get(M)||{hours:0,name:D,clientName:F,rate:H};P.set(M,{...Z,hours:Z.hours+I.hours})});const A=Array.from(P.entries()).map(([I,R])=>({projectId:I,projectName:R.name,clientName:R.clientName,hours:R.hours,percentage:p>0?R.hours/p*100:0,estimatedValue:R.hours*R.rate}));A.sort((I,R)=>R.hours-I.hours),c(A);const C=new Map;m.forEach(I=>{const R=I.date,T=C.get(R)||{hours:0,sessions:0};C.set(R,{hours:T.hours+I.hours,sessions:T.sessions+1})});const O=Array.from(C.entries()).map(([I,R])=>({date:I,hours:R.hours,sessions:R.sessions}));O.sort((I,R)=>I.date.localeCompare(R.date)),u(O)},[t,r,e,n,a]);const f=m=>{const p=Math.floor(m),g=Math.round((m-p)*60);return`${p}h ${g}m`};if(r)return s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((m,p)=>s.jsxs(z,{className:"animate-pulse",children:[s.jsx(q,{className:"space-y-0 pb-2",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),s.jsxs(U,{children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]},p))});const h=[{title:"Total Hours",value:f(i.totalHours),description:`${i.totalSessions} work sessions`,icon:Me,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Daily Average",value:f(i.averageHoursPerDay),description:"Per work day",icon:xt,color:"text-green-600",bgColor:"bg-green-100"},{title:"Estimated Revenue",value:ne(i.estimatedRevenue),description:"Based on tracked time",icon:ct,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Productivity",value:`${i.productivity.toFixed(1)}%`,description:"Of expected work hours",icon:Sl,color:"text-orange-600",bgColor:"bg-orange-100"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:h.map(m=>{const p=m.icon;return s.jsxs(z,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium text-gray-600",children:m.title}),s.jsx("div",{className:`p-2 rounded-full ${m.bgColor}`,children:s.jsx(p,{className:`h-4 w-4 ${m.color}`})})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:m.value}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.description})]})]},m.title)})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Sl,{className:"h-5 w-5"}),"Productivity Overview"]}),s.jsx(Ae,{children:"Your work patterns and efficiency metrics"})]}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold",children:f(i.averageSessionLength)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Avg Session"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-semibold",children:[i.productivity.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Productivity"})]})]})})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Recent Trends"}),s.jsx(Ae,{children:"Daily time tracking patterns"})]}),s.jsx(U,{children:d.length>0?s.jsx("div",{className:"space-y-2",children:d.slice(-7).map(m=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:Za(Nn(m.date),"MMM d")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:f(m.hours)}),s.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[m.sessions," sessions"]})]})]},m.date))}):s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No time data for selected period"})})]})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Time by Project"}),s.jsx(Ae,{children:"How you've allocated your time across different projects"})]}),s.jsx(U,{children:l.length>0?s.jsxs("div",{className:"space-y-4",children:[l.slice(0,10).map(m=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:m.projectName}),s.jsx("p",{className:"text-sm text-gray-500",children:m.clientName})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:f(m.hours)}),s.jsx("div",{className:"text-xs text-gray-500",children:ne(m.estimatedValue)})]}),s.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[m.percentage.toFixed(1),"%"]})]})]},m.projectId)),l.length>10&&s.jsxs("p",{className:"text-sm text-gray-500 text-center pt-2 border-t",children:["And ",l.length-10," more projects..."]})]}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No time entries found for the selected period"})})]})]})}function the({dateRange:e}){const{clients:t}=Kt(),{projects:r}=ar(),{invoiceItems:n,loading:a}=ys(),{entries:i,loading:o}=vr(),[l,c]=y.useState({totalClients:0,activeClients:0,newClients:0,retentionRate:0,averageProjectValue:0}),[d,u]=y.useState([]);y.useEffect(()=>{if(!t||!r||!n||!i||a||o)return;const g=n.filter(A=>{const C=Nn(A.invoice_date);return Gi(C,{start:e.from,end:e.to})}),v=i.filter(A=>{const C=Nn(A.date);return Gi(C,{start:e.from,end:e.to})}),x=t.length,w=new Set([...g.map(A=>{const C=r.find(O=>O.id===A.project_id);return C==null?void 0:C.client_id}).filter(Boolean),...v.map(A=>{const C=r.find(O=>O.id===A.project_id);return C==null?void 0:C.client_id}).filter(Boolean)]).size,j=0,S=x>0?w/x*100:0,N=g.reduce((A,C)=>A+C.total_amount,0),_=new Set(g.map(A=>A.project_id)).size,E=_>0?N/_:0;c({totalClients:x,activeClients:w,newClients:j,retentionRate:S,averageProjectValue:E});const k=new Map;t.forEach(A=>{k.set(A.id,{name:A.name,revenue:0,hours:0,projects:new Set,invoices:0,lastActivity:new Date(0)})}),g.forEach(A=>{const C=r.find(O=>O.id===A.project_id);if(C!=null&&C.client_id&&A.project_id&&k.has(C.client_id)){const O=k.get(C.client_id);O.revenue+=A.total_amount,O.projects.add(A.project_id),O.invoices+=1;const I=Nn(A.invoice_date);I>O.lastActivity&&(O.lastActivity=I)}}),v.forEach(A=>{const C=r.find(O=>O.id===A.project_id);if(C!=null&&C.client_id&&k.has(C.client_id)){const O=k.get(C.client_id);O.hours+=A.hours,O.projects.add(A.project_id);const I=Nn(A.date);I>O.lastActivity&&(O.lastActivity=I)}});const P=Array.from(k.entries()).map(([A,C])=>{const O=C.projects.size,I=O>0?C.revenue/O:0,R=Ode(new Date,C.lastActivity);let T="inactive",M=0;return(C.revenue>0||C.hours>0)&&(R<=30?(T="active",M=90-Math.min(R*2,40)):R<=90?(T="at-risk",M=50-Math.min((R-30)*.5,25)):(T="inactive",M=Math.max(25-(R-90)*.1,0))),{clientId:A,clientName:C.name,revenue:C.revenue,hours:C.hours,projects:O,invoices:C.invoices,avgProjectValue:I,lastActivity:C.lastActivity.toISOString(),status:T,healthScore:Math.round(M)}});P.sort((A,C)=>A.revenue!==C.revenue?C.revenue-A.revenue:C.healthScore-A.healthScore),u(P)},[t,r,n,i,a,o,e]);const f=g=>{const v=Math.floor(g),x=Math.round((g-v)*60);return`${v}h ${x}m`},h=g=>{switch(g){case"active":return"bg-green-500";case"at-risk":return"bg-yellow-500";case"inactive":return"bg-red-500";default:return"bg-gray-500"}},m=g=>g>=90?"w-full":g>=80?"w-5/6":g>=70?"w-4/6":g>=60?"w-3/6":g>=50?"w-2/6":g>=25?"w-1/6":"w-1/12";if(a||o)return s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((g,v)=>s.jsxs(z,{className:"animate-pulse",children:[s.jsx(q,{className:"space-y-0 pb-2",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),s.jsxs(U,{children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]},v))});const p=[{title:"Total Clients",value:l.totalClients.toString(),description:`${l.activeClients} active this period`,icon:ta,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Client Retention",value:`${l.retentionRate.toFixed(1)}%`,description:"Activity retention rate",icon:ct,color:"text-green-600",bgColor:"bg-green-100"},{title:"New Clients",value:l.newClients.toString(),description:"Acquired this period",icon:Bt,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Avg Project Value",value:ne(l.averageProjectValue),description:"Per project average",icon:rr,color:"text-orange-600",bgColor:"bg-orange-100"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:p.map(g=>{const v=g.icon;return s.jsxs(z,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium text-gray-600",children:g.title}),s.jsx("div",{className:`p-2 rounded-full ${g.bgColor}`,children:s.jsx(v,{className:`h-4 w-4 ${g.color}`})})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:g.value}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.description})]})]},g.title)})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs(z,{className:"bg-green-50 border-green-200",children:[s.jsx(q,{children:s.jsx(K,{className:"text-green-700",children:"Active Clients"})}),s.jsxs(U,{children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:d.filter(g=>g.status==="active").length}),s.jsx("p",{className:"text-sm text-green-600",children:"Recent activity within 30 days"})]})]}),s.jsxs(z,{className:"bg-yellow-50 border-yellow-200",children:[s.jsx(q,{children:s.jsxs(K,{className:"text-yellow-700 flex items-center gap-2",children:[s.jsx(al,{className:"h-4 w-4"}),"At-Risk Clients"]})}),s.jsxs(U,{children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:d.filter(g=>g.status==="at-risk").length}),s.jsx("p",{className:"text-sm text-yellow-600",children:"No activity in 30-90 days"})]})]}),s.jsxs(z,{className:"bg-red-50 border-red-200",children:[s.jsx(q,{children:s.jsx(K,{className:"text-red-700",children:"Inactive Clients"})}),s.jsxs(U,{children:[s.jsx("div",{className:"text-3xl font-bold text-red-600",children:d.filter(g=>g.status==="inactive").length}),s.jsx("p",{className:"text-sm text-red-600",children:"No activity in 90+ days"})]})]})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Client Performance"}),s.jsx(Ae,{children:"Detailed performance metrics for each client"})]}),s.jsx(U,{children:d.length>0?s.jsxs("div",{className:"space-y-4",children:[d.slice(0,15).map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${h(g.status)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:g.clientName}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsxs("span",{children:[g.projects," projects"]}),s.jsxs("span",{children:[g.invoices," invoices"]}),s.jsx("span",{children:f(g.hours)})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:ne(g.revenue)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Avg: ",ne(g.avgProjectValue)]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-sm font-medium",children:[g.healthScore,"%"]}),s.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-blue-500 transition-all ${m(g.healthScore)}`})})]}),s.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${g.status==="active"?"bg-green-100 text-green-700":g.status==="at-risk"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:g.status})]})]},g.clientId)),d.length>15&&s.jsx("div",{className:"text-center pt-4 border-t",children:s.jsxs($,{variant:"outline",size:"sm",children:["View All ",d.length," Clients"]})})]}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No client data found for the selected period"})})]})]})}function rhe(){const[e,t]=y.useState({from:Ay(new Date),to:sh(new Date)}),[r,n]=y.useState("overview"),a=[{label:"This Month",range:{from:Ay(new Date),to:sh(new Date)}},{label:"Last Month",range:{from:Ay(Bf(new Date,30)),to:sh(Bf(new Date,30))}},{label:"Last 30 Days",range:{from:Bf(new Date,30),to:new Date}},{label:"Last 90 Days",range:{from:Bf(new Date,90),to:new Date}},{label:"This Year",range:{from:new Date(new Date().getFullYear(),0,1),to:new Date(new Date().getFullYear(),11,31)}}],i=[{id:"overview",label:"Overview",icon:Wi},{id:"revenue",label:"Revenue",icon:rr},{id:"time",label:"Time & Productivity",icon:Me},{id:"clients",label:"Client Analytics",icon:ta}];return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Business Analytics"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights and reports for your consulting business"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(IU,{className:"h-4 w-4"}),s.jsxs("span",{children:[Za(e.from,"MMM d")," - ",Za(e.to,"MMM d, yyyy")]})]})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5"}),"Date Range"]}),s.jsx(Ae,{children:"Select a date range to analyze your business performance"})]}),s.jsx(U,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(o=>s.jsx($,{variant:e.from.getTime()===o.range.from.getTime()&&e.to.getTime()===o.range.to.getTime()?"default":"outline",size:"sm",onClick:()=>t(o.range),className:"text-xs",children:o.label},o.label))})})]}),s.jsx("div",{className:"flex space-x-1 rounded-lg bg-gray-100 p-1",children:i.map(o=>{const l=o.icon;return s.jsxs($,{variant:r===o.id?"default":"ghost",className:"flex-1",onClick:()=>n(o.id),children:[s.jsx(l,{className:"h-4 w-4 mr-2"}),o.label]},o.id)})}),s.jsxs("div",{className:"space-y-6",children:[r==="overview"&&s.jsx(Qfe,{dateRange:e}),r==="revenue"&&s.jsx(Zfe,{dateRange:e}),r==="time"&&s.jsx(ehe,{dateRange:e}),r==="clients"&&s.jsx(the,{dateRange:e})]})]})}function nhe({summary:e,loading:t}){const r=({className:a})=>s.jsx("span",{className:`font-bold ${a}`,children:"SEK"});if(t)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>s.jsxs(z,{className:"animate-pulse",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),s.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},a))});const n=[{title:"Unbilled Work",value:ne(e.totalUnbilled),description:`${e.itemCount} items pending`,icon:Me,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Invoiced",value:ne(e.totalSent),description:"Awaiting payment",icon:Gl,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Paid",value:ne(e.totalPaid),description:"Completed revenue",icon:r,color:"text-green-600",bgColor:"bg-green-100"},{title:"Active Clients",value:e.clientCount.toString(),description:"With unbilled work",icon:ta,color:"text-purple-600",bgColor:"bg-purple-100"}];return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(a=>{const i=a.icon;return s.jsxs(z,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium text-gray-600",children:a.title}),s.jsx("div",{className:`p-2 rounded-full ${a.bgColor}`,children:s.jsx(i,{className:`h-4 w-4 ${a.color}`})})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.value}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.description})]})]},a.title)})})}function ahe({clients:e,loading:t,onClientClick:r}){if(t)return s.jsxs(z,{className:"h-[400px]",children:[s.jsx(q,{children:s.jsx(K,{className:"text-lg",children:"Client Overview"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg animate-pulse",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]},a))})})]});const n=e.slice(0,5);return s.jsxs(z,{className:"h-[400px]",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between",children:[s.jsx(K,{className:"text-lg",children:"Client Overview"}),s.jsx($,{variant:"ghost",size:"sm",children:s.jsx(fw,{className:"h-4 w-4"})})]}),s.jsxs(U,{children:[s.jsx("div",{className:"space-y-3",children:n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(DU,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No client data available"}),s.jsx("p",{className:"text-sm",children:"Add some invoice items to see client overview"})]}):n.map(a=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>r==null?void 0:r(a.client_id),children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium truncate",children:a.client_name}),a.company&&s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:a.company})]}),s.jsxs("div",{className:"flex gap-3 text-sm text-gray-600",children:[s.jsxs("span",{children:[a.itemCount," items"]}),s.jsxs("span",{children:[a.projectCount," projects"]})]})]}),s.jsxs("div",{className:"text-right",children:[a.totalUnbilled>0&&s.jsxs("div",{className:"flex items-center gap-1 text-orange-600 font-medium mb-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"SEK"}),s.jsx("span",{className:"text-sm",children:ne(a.totalUnbilled)})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",ne(a.totalPaid+a.totalSent+a.totalUnbilled)]})]})]},a.client_id))}),e.length>5&&s.jsxs($,{variant:"outline",className:"w-full mt-3",size:"sm",children:["View All Clients (",e.length,")"]})]})]})}function ihe({items:e,loading:t,onItemClick:r,clients:n,projects:a}){if(t)return s.jsxs(z,{className:"h-[400px]",children:[s.jsx(q,{children:s.jsx(K,{className:"text-lg",children:"Recent Items"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(d=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg animate-pulse",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]},d))})})]});const i=e.slice(0,6),o=d=>{switch(d){case"draft":return"text-orange-600 bg-orange-100";case"sent":return"text-blue-600 bg-blue-100";case"paid":return"text-green-600 bg-green-100";case"overdue":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},l=d=>{const u=n.find(f=>f.id===d);return(u==null?void 0:u.name)||"Unknown Client"},c=d=>a.find(f=>f.id===d)||{name:"Unknown Project",color:"#9CA3AF"};return s.jsxs(z,{className:"h-[400px]",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between",children:[s.jsx(K,{className:"text-lg",children:"Recent Items"}),s.jsx($,{variant:"ghost",size:"sm",children:s.jsx(fw,{className:"h-4 w-4"})})]}),s.jsxs(U,{children:[s.jsx("div",{className:"space-y-3",children:i.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Me,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No invoice items yet"}),s.jsx("p",{className:"text-sm",children:"Create your first invoice item to track unbilled work"})]}):i.map(d=>{const u=l(d.client_id||""),f=c(d.project_id||"");return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>r==null?void 0:r(d.id),children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 bg-gray-300",style:{backgroundColor:f.color||"#9CA3AF"}}),s.jsx("h4",{className:"font-medium truncate",children:d.description})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[s.jsx("span",{children:u}),s.jsx("span",{children:"•"}),s.jsx("span",{children:f.name}),s.jsx("span",{children:"•"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{className:"h-3 w-3"}),new Date(d.invoice_date).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[s.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"SEK"}),s.jsx("span",{children:ne(d.total_amount)})]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${o(d.status)}`,children:d.status})]})]},d.id)})}),e.length>6&&s.jsxs($,{variant:"outline",className:"w-full mt-3",size:"sm",children:["View All Items (",e.length,")"]})]})]})}function she({onCreateInvoiceItem:e,onCreateFromTime:t,onMarkAsInvoiced:r,onMarkAsPaid:n,onExportToFortnox:a,onExportPlainText:i}){const o=[{title:"New Invoice Item",description:"Create manual invoice item",icon:Oe,onClick:e,color:"text-blue-600 bg-blue-100",disabled:!1},{title:"From Time Entries",description:"Convert time to invoice items",icon:Me,onClick:t,color:"text-green-600 bg-green-100",disabled:!1},{title:"Mark as Invoiced",description:"Update status to invoiced",icon:Gl,onClick:r,color:"text-orange-600 bg-orange-100",disabled:!1},{title:"Mark as Paid",description:"Update status to paid",icon:rr,onClick:n,color:"text-green-600 bg-green-100",disabled:!1},{title:"Export to Fortnox",description:"Export to Fortnox API",icon:lt,onClick:a,color:"text-purple-600 bg-purple-100",disabled:!1},{title:"Export as Text",description:"Download readable text files",icon:ua,onClick:i,color:"text-teal-600 bg-teal-100",disabled:!1}];return s.jsxs(z,{className:"h-[480px]",children:[s.jsx(q,{children:s.jsx(K,{className:"text-lg",children:"Quick Actions"})}),s.jsx(U,{children:s.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.map(l=>{const c=l.icon;return s.jsx($,{variant:"outline",className:`h-auto p-4 justify-start ${l.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,onClick:l.disabled?void 0:l.onClick,disabled:l.disabled,children:s.jsxs("div",{className:"flex items-center gap-3 w-full",children:[s.jsx("div",{className:`p-2 rounded-full ${l.color}`,children:s.jsx(c,{className:"h-4 w-4"})}),s.jsxs("div",{className:"text-left flex-1",children:[s.jsx("div",{className:"font-medium",children:l.title}),s.jsx("div",{className:"text-sm text-gray-500",children:l.description})]})]})},l.title)})})})]})}function ohe({items:e,loading:t}){if(t)return s.jsxs(z,{className:"h-[400px]",children:[s.jsx(q,{children:s.jsx(K,{className:"text-lg",children:"Monthly Revenue"})}),s.jsx(U,{children:s.jsx("div",{className:"w-full h-64 bg-gray-100 rounded animate-pulse"})})]});const n=(()=>{const o=[],l=new Date;for(let c=5;c>=0;c--){const d=new Date(l.getFullYear(),l.getMonth()-c,1),u=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`,f=d.toLocaleDateString("en-US",{month:"short"});o.push({month:f,monthKey:u,invoiced:0,paid:0,pending:0})}return e.forEach(c=>{const d=new Date(c.date),u=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`,f=o.find(h=>h.monthKey===u);if(f)switch(c.status){case"invoiced":f.invoiced+=c.amount;break;case"paid":f.paid+=c.amount;break;case"pending":f.pending+=c.amount;break}}),o})(),a=n.some(o=>o.invoiced>0||o.paid>0||o.pending>0),i=({active:o,payload:l,label:c})=>o&&l&&l.length?s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium",children:c}),l.map((d,u)=>s.jsxs("p",{className:"text-sm",children:[d.name,": ",ne(d.value)]},u))]}):null;return s.jsxs(z,{className:"h-[400px]",children:[s.jsxs(q,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-5 w-5 text-green-600"}),s.jsx(K,{className:"text-lg",children:"Monthly Revenue"})]}),s.jsx($,{variant:"ghost",size:"sm",children:s.jsx(fw,{className:"h-4 w-4"})})]}),s.jsx(U,{children:a?s.jsx(ha,{width:"100%",height:280,children:s.jsxs(g$,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(L4,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Ja,{dataKey:"month",axisLine:!1,tickLine:!1,fontSize:12}),s.jsx(Qa,{axisLine:!1,tickLine:!1,fontSize:12,tickFormatter:o=>`${o/1e3}k`}),s.jsx(Ll,{content:s.jsx(i,{})}),s.jsx(cl,{dataKey:"paid",stackId:"a",fill:"#10B981",name:"Paid",radius:[0,0,0,0]}),s.jsx(cl,{dataKey:"invoiced",stackId:"a",fill:"#3B82F6",name:"Invoiced",radius:[0,0,0,0]}),s.jsx(cl,{dataKey:"pending",stackId:"a",fill:"#F59E0B",name:"Pending",radius:[4,4,0,0]})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ct,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No revenue data yet"}),s.jsx("p",{className:"text-sm",children:"Data will appear as you add invoice items"})]})})})]})}function lhe({open:e,onOpenChange:t}){const{addInvoiceItem:r}=ys(),{clients:n}=Kt(),{projects:a}=ar(),{toast:i}=uc();console.log("Dialog opened, clients:",n,"projects:",a);const[o,l]=y.useState({client_id:"",project_id:"",description:"",quantity:1,rate:0,type:"hourly",date:new Date().toISOString().split("T")[0],status:"draft"}),[c,d]=y.useState(!1),u=n.find(g=>g.id===o.client_id),f=a.filter(g=>g.client_id===o.client_id),h=async g=>{if(g.preventDefault(),!o.client_id||!o.project_id||!o.description){i({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}d(!0);try{await r(o),i({title:"Success",description:"Invoice item created successfully"}),t(!1),l({client_id:"",project_id:"",description:"",quantity:1,rate:0,type:"hourly",date:new Date().toISOString().split("T")[0],status:"draft"})}catch{i({title:"Error",description:"Failed to create invoice item",variant:"destructive"})}finally{d(!1)}},m=g=>{l(v=>{var x;return{...v,client_id:g,project_id:"",rate:((x=n.find(b=>b.id===g))==null?void 0:x.hourly_rate)||0}})},p=g=>{const v=a.find(x=>x.id===g);l(x=>({...x,project_id:g,rate:(v==null?void 0:v.hourly_rate)||(u==null?void 0:u.hourly_rate)||x.rate||0}))};return s.jsx(Sr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"sm:max-w-[500px]",children:[s.jsx(fr,{children:s.jsx(hr,{children:"Create Invoice Item"})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"client",children:"Client *"}),s.jsxs("select",{id:"client",title:"Select client",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:o.client_id,onChange:g=>m(g.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select client"}),n.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"project",children:"Project *"}),s.jsxs("select",{id:"project",title:"Select project",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:o.project_id,onChange:g=>p(g.target.value),disabled:!o.client_id,required:!0,children:[s.jsx("option",{value:"",children:"Select project"}),f.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"description",children:"Description *"}),s.jsx(Gr,{id:"description",value:o.description,onChange:g=>l(v=>({...v,description:g.target.value})),placeholder:"Describe the work performed...",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"type",children:"Type"}),s.jsxs("select",{id:"type",title:"Select type",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:o.type,onChange:g=>l(v=>({...v,type:g.target.value})),children:[s.jsx("option",{value:"hourly",children:"Hourly"}),s.jsx("option",{value:"fixed",children:"Fixed Price"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"quantity",children:o.type==="hourly"?"Hours":"Quantity"}),s.jsx(oe,{id:"quantity",type:"number",step:"0.25",min:"0",value:o.quantity,onChange:g=>l(v=>({...v,quantity:parseFloat(g.target.value)||0})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"rate",children:o.type==="hourly"?"Rate/Hour":"Total Price"}),s.jsx(oe,{id:"rate",type:"number",min:"0",value:o.rate,onChange:g=>l(v=>({...v,rate:parseFloat(g.target.value)||0})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"date",children:"Date"}),s.jsx(oe,{id:"date",type:"date",value:o.date,onChange:g=>l(v=>({...v,date:g.target.value})),required:!0})]}),o.quantity&&o.rate&&s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount:"}),s.jsx("div",{className:"text-lg font-semibold",children:new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK"}).format((o.quantity||0)*(o.rate||0))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:c,children:c?"Creating...":"Create Invoice Item"})]})]})]})})}function che({open:e,onOpenChange:t}){const{createInvoiceFromTimeEntries:r}=ys(),{clients:n}=Kt(),{projects:a}=ar(),{entries:i}=vr(),{toast:o}=uc(),[l,c]=y.useState([]),[d,u]=y.useState(""),[f,h]=y.useState(""),[m,p]=y.useState(!1),g=i,v=g.reduce((_,E)=>{const k=a.find(C=>C.id===E.project_id),P=n.find(C=>C.id===(k==null?void 0:k.client_id));if(!k||!P)return _;const A=`${P.id}-${k.id}`;return _[A]||(_[A]={client:P,project:k,entries:[]}),_[A].entries.push(E),_},{}),x=g.filter(_=>l.includes(_.id)),b=x.reduce((_,E)=>_+E.hours,0),w=x.reduce((_,E)=>{const k=a.find(C=>C.id===E.project_id),P=n.find(C=>C.id===(k==null?void 0:k.client_id)),A=(k==null?void 0:k.hourly_rate)||(P==null?void 0:P.hourly_rate)||0;return _+E.hours*A},0),j=async _=>{if(_.preventDefault(),l.length===0||!d){o({title:"Error",description:"Please select time entries and a client",variant:"destructive"});return}p(!0);try{await r(l,d,f||`Time entries - ${b} hours`),o({title:"Success",description:"Invoice item created from time entries"}),t(!1),c([]),u(""),h("")}catch{o({title:"Error",description:"Failed to create invoice item",variant:"destructive"})}finally{p(!1)}},S=_=>{c(E=>E.includes(_)?E.filter(k=>k!==_):[...E,_])},N=_=>{const E=_.map(P=>P.id),k=E.every(P=>l.includes(P));c(k?P=>P.filter(A=>!E.includes(A)):P=>[...new Set([...P,...E])])};return y.useEffect(()=>{if(x.length>0){const _=x[0],E=a.find(k=>k.id===_.project_id);E!=null&&E.client_id&&!d&&u(E.client_id)}},[x,a,d]),s.jsx(Sr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[s.jsx(fr,{children:s.jsx(hr,{children:"Convert Time Entries to Invoice Item"})}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[Object.keys(v).length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("p",{children:"No unbilled time entries found"}),s.jsx("p",{className:"text-sm",children:"All your time entries have been converted to invoice items"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(re,{children:"Select Time Entries to Convert:"}),Object.values(v).map(({client:_,project:E,entries:k})=>{const P=k.reduce((I,R)=>I+R.hours,0),A=k.map(I=>I.id),C=A.every(I=>l.includes(I)),O=A.some(I=>l.includes(I));return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium",children:[_.name," - ",E.name]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[P," hours total"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",title:"Select all entries for this project",checked:C,ref:I=>{I&&(I.indeterminate=O&&!C)},onChange:()=>N(k),className:"h-4 w-4"}),s.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>N(k),children:C?"Deselect All":"Select All"})]})]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:k.map(I=>s.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",title:`Select time entry for ${new Date(I.date).toLocaleDateString()}`,checked:l.includes(I.id),onChange:()=>S(I.id),className:"h-4 w-4"}),s.jsx("span",{children:new Date(I.date).toLocaleDateString()}),s.jsxs("span",{children:[I.hours,"h"]}),I.comment&&s.jsxs("span",{className:"text-gray-600 truncate max-w-32",children:["- ",I.comment]})]})},I.id))})]},`${_.id}-${E.id}`)})]}),l.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"client",children:"Client"}),s.jsxs("select",{id:"client",title:"Select client",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:d,onChange:_=>u(_.target.value),required:!0,children:[s.jsx("option",{value:"",children:"Select client"}),n.map(_=>s.jsx("option",{value:_.id,children:_.name},_.id))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Gr,{id:"description",value:f,onChange:_=>h(_.target.value),placeholder:`Time entries - ${b} hours`})]}),s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-blue-700",children:s.jsx("strong",{children:"Summary:"})}),s.jsxs("div",{className:"text-sm text-blue-600",children:[l.length," entries • ",b," hours • ",ne(w)]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.length>0&&s.jsx($,{type:"submit",disabled:m,children:m?"Creating...":"Create Invoice Item"})]})]})]})})}const uhe=mw("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Lm=y.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Se(uhe({variant:t}),e),...r}));Lm.displayName="Alert";const Fm=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("text-sm [&_p]:leading-relaxed",e),...t}));Fm.displayName="AlertDescription";const ei=y.forwardRef(({className:e,checked:t,onCheckedChange:r,disabled:n,id:a,...i},o)=>s.jsxs("div",{className:"relative inline-flex items-center",children:[s.jsx("input",{ref:o,type:"checkbox",id:a,checked:t,onChange:l=>r==null?void 0:r(l.target.checked),disabled:n,className:"sr-only",...i}),s.jsx("div",{className:Se("h-4 w-4 shrink-0 rounded-sm border border-gray-300 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",t&&"bg-blue-600 text-white border-blue-600",n&&"cursor-not-allowed opacity-50",e),onClick:()=>!n&&(r==null?void 0:r(!t)),children:t&&s.jsx(lw,{className:"h-3 w-3 text-white"})})]}));ei.displayName="Checkbox";class dhe{constructor(){Vd(this,"config",null)}configure(t){this.config={...t,baseUrl:t.baseUrl||"https://api.fortnox.se/3"}}async makeRequest(t,r="GET",n){if(!this.config)throw new Error("Fortnox service not configured. Please set API credentials.");const a=`${this.config.baseUrl}${t}`,i={"Access-Token":this.config.accessToken,"Client-Secret":this.config.clientSecret,"Content-Type":"application/json",Accept:"application/json"};try{const o=await fetch(a,{method:r,headers:i,body:n?JSON.stringify(n):void 0});if(!o.ok){const l=await o.text();throw new Error(`Fortnox API error (${o.status}): ${l}`)}return await o.json()}catch(o){throw console.error("Fortnox API request failed:",o),o}}async testConnection(){try{return await this.makeRequest("/companyinformation"),!0}catch(t){return console.error("Fortnox connection test failed:",t),!1}}async getCustomers(){try{return(await this.makeRequest("/customers")).Customers||[]}catch(t){return console.error("Failed to fetch Fortnox customers:",t),[]}}async createCustomer(t){try{return(await this.makeRequest("/customers","POST",{Customer:t})).Customer||null}catch(r){return console.error("Failed to create Fortnox customer:",r),null}}async findOrCreateCustomer(t,r,n){try{const i=(await this.getCustomers()).find(c=>c.Name===t||c.Name===n);if(i&&i.CustomerNumber)return i.CustomerNumber;const o={Name:n||t,Email:r},l=await this.createCustomer(o);return(l==null?void 0:l.CustomerNumber)||null}catch(a){return console.error("Failed to find or create customer:",a),null}}async createInvoice(t){try{const r=await this.makeRequest("/invoices","POST",{Invoice:t});return r.Invoice?{success:!0,invoiceNumber:r.Invoice.InvoiceNumber,documentNumber:r.Invoice.DocumentNumber}:{success:!1,error:"No invoice data returned from Fortnox"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}convertInvoiceItemsToFortnox(t,r,n){const a=t.map(l=>({Description:l.description,Price:l.hourly_rate||l.fixed_amount||0,Quantity:l.hours||1,Unit:l.hours?"h":"st",VAT:25})),i=new Date().toISOString().split("T")[0],o=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return{CustomerNumber:r,InvoiceDate:i,DueDate:o,Currency:"SEK",Language:"SV",InvoiceRows:a,Remarks:`Exported from consultant time tracker - ${t.length} items for ${n}`}}async exportInvoiceItems(t,r,n,a){try{if(!this.config)return{success:!1,error:"Fortnox service not configured"};if(t.length===0)return{success:!1,error:"No invoice items to export"};const i=await this.findOrCreateCustomer(r,n,a);if(!i)return{success:!1,error:"Failed to find or create customer in Fortnox"};const o=this.convertInvoiceItemsToFortnox(t,i,r);return await this.createInvoice(o)}catch(i){return{success:!1,error:i instanceof Error?i.message:"Export failed"}}}generatePlainTextInvoice(t,r,n,a,i){if(t.length===0)return"No items to export";const o=new Date().toLocaleDateString("sv-SE"),l=new Date(Date.now()+30*24*60*60*1e3).toLocaleDateString("sv-SE"),c=t.reduce((p,g)=>p+g.total_amount,0),u=c*.25,f=c+u,h=p=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",minimumFractionDigits:2}).format(p);let m="";return m+="=".repeat(60)+`
`,m+=`                         FAKTURA
`,m+="=".repeat(60)+`

`,m+=`Fakturanummer: ${i||"XXXX"}
`,m+=`Fakturadatum: ${o}
`,m+=`Förfallodatum: ${l}
`,m+=`Valuta: SEK

`,m+=`KUND:
`,m+="-".repeat(20)+`
`,a&&(m+=`Företag: ${a}
`),m+=`Namn: ${r}
`,n&&(m+=`E-post: ${n}
`),m+=`
`,m+=`FAKTURARADER:
`,m+="-".repeat(60)+`
`,m+=`${"Beskrivning".padEnd(30)} ${"Tim/Ant".padStart(8)} ${"Pris".padStart(10)} ${"Summa".padStart(10)}
`,m+="-".repeat(60)+`
`,t.forEach(p=>{const g=p.description.length>28?p.description.substring(0,25)+"...":p.description;let v,x;p.hours&&p.hourly_rate?(v=p.hours.toFixed(2),x=h(p.hourly_rate)):(v="1.00",x=h(p.fixed_amount||0));const b=h(p.total_amount);m+=`${g.padEnd(30)} ${v.padStart(8)} ${x.padStart(10)} ${b.padStart(10)}
`}),m+="-".repeat(60)+`
`,m+=`
SUMMERING:
`,m+="-".repeat(30)+`
`,m+=`Summa exkl. moms: ${h(c).padStart(15)}
`,m+=`Moms (25%): ${h(u).padStart(21)}
`,m+=`TOTALT: ${h(f).padStart(23)}

`,m+=`BETALNINGSINFORMATION:
`,m+="-".repeat(30)+`
`,m+=`Betalningsvillkor: 30 dagar
`,m+=`Dröjsmålsränta: 2% per månad

`,t.some(p=>p.description.length>28||p.notes)&&(m+=`DETALJERADE BESKRIVNINGAR:
`,m+="-".repeat(40)+`
`,t.forEach((p,g)=>{m+=`${g+1}. ${p.description}
`,p.notes&&(m+=`   Anteckningar: ${p.notes}
`),p.hours&&p.hourly_rate&&(m+=`   ${p.hours} timmar à ${h(p.hourly_rate)}
`),m+=`
`})),m+="Exporterad från Konsult Tid System - "+new Date().toLocaleString("sv-SE")+`
`,m+="=".repeat(60),m}downloadPlainTextInvoice(t,r,n,a,i){const o=this.generatePlainTextInvoice(t,r,n,a,i),l=new Blob([o],{type:"text/plain;charset=utf-8"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=`faktura_${r.replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}}const Xs=new dhe;function Y0(e){return!!(e.accessToken&&e.clientSecret)}function uu(){try{const e=localStorage.getItem("fortnox_config");if(!e)return null;const t=JSON.parse(e);return Y0(t)?t:null}catch{return null}}function ik(e){localStorage.setItem("fortnox_config",JSON.stringify(e))}function fhe(){localStorage.removeItem("fortnox_config")}function dL({open:e,onOpenChange:t,onConfigured:r}){const[n,a]=y.useState({accessToken:"",clientSecret:""}),[i,o]=y.useState(!1),[l,c]=y.useState("idle"),[d,u]=y.useState(""),[f,h]=y.useState(!1);y.useEffect(()=>{if(e){const w=uu();w?(a(w),h(!0),c("success")):(a({accessToken:"",clientSecret:""}),h(!1),c("idle"))}},[e]);const m=(w,j)=>{a(S=>({...S,[w]:j})),c("idle"),u("")},p=async()=>{if(!Y0(n)){u("Please provide both Access Token and Client Secret"),c("error");return}o(!0),u("");try{Xs.configure(n),await Xs.testConnection()?(c("success"),ik(n),h(!0)):(c("error"),u("Failed to connect to Fortnox. Please check your credentials."))}catch(w){c("error"),u(w instanceof Error?w.message:"Connection test failed")}finally{o(!1)}},g=()=>{l==="success"&&Y0(n)&&(ik(n),r==null||r(),t(!1))},v=()=>{fhe(),a({accessToken:"",clientSecret:""}),h(!1),c("idle"),u("")},x=()=>{switch(l){case"success":return s.jsx(bn,{className:"h-4 w-4 text-green-600"});case"error":return s.jsx(_l,{className:"h-4 w-4 text-red-600"});default:return s.jsx(yp,{className:"h-4 w-4 text-gray-400"})}},b=()=>{switch(l){case"success":return"Connected successfully";case"error":return"Connection failed";default:return"Not configured"}};return s.jsx(Sr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"sm:max-w-md",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Fortnox Integration"}),s.jsx(ci,{children:"Configure your Fortnox API credentials to export invoice items directly to Fortnox."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(z,{children:[s.jsx(q,{className:"pb-3",children:s.jsxs(K,{className:"text-sm flex items-center gap-2",children:[x(),"Connection Status: ",b()]})}),l==="success"&&s.jsx(U,{className:"pt-0",children:s.jsx("p",{className:"text-sm text-green-600",children:"Your Fortnox integration is ready to use."})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"accessToken",children:"Access Token"}),s.jsx(oe,{id:"accessToken",type:"password",placeholder:"Enter your Fortnox Access Token",value:n.accessToken||"",onChange:w=>m("accessToken",w.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"clientSecret",children:"Client Secret"}),s.jsx(oe,{id:"clientSecret",type:"password",placeholder:"Enter your Fortnox Client Secret",value:n.clientSecret||"",onChange:w=>m("clientSecret",w.target.value)})]}),s.jsx(Lm,{children:s.jsx(Fm,{className:"text-sm",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:"To get your Fortnox API credentials:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"Log in to your Fortnox account"}),s.jsx("li",{children:"Go to Settings → Integrations → API"}),s.jsx("li",{children:"Create a new integration or use existing one"}),s.jsx("li",{children:"Copy the Access Token and Client Secret"})]}),s.jsxs("a",{href:"https://developer.fortnox.se/general/authentication/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 text-xs",children:["Learn more ",s.jsx(dw,{className:"h-3 w-3"})]})]})})}),d&&s.jsx(Lm,{variant:"destructive",children:s.jsx(Fm,{children:d})}),s.jsx($,{onClick:p,disabled:i||!n.accessToken||!n.clientSecret,className:"w-full",variant:"outline",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing Connection..."]}):"Test Connection"})]})]}),s.jsxs(cc,{className:"flex gap-2",children:[f&&s.jsx($,{variant:"outline",onClick:v,className:"mr-auto",children:"Clear Config"}),s.jsx($,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx($,{onClick:g,disabled:l!=="success",children:"Save Configuration"})]})]})})}function hhe({open:e,onOpenChange:t}){const{invoiceItems:r,markAsInvoiced:n}=ys(),{clients:a}=Kt(),{projects:i}=ar(),[o,l]=y.useState(!1),[c,d]=y.useState(new Set),[u,f]=y.useState(!0),[h,m]=y.useState(!1),[p,g]=y.useState([]),[v,x]=y.useState(!1),b=r.filter(C=>C.status==="draft");y.useEffect(()=>{if(e){const C=uu();x(!!C),C&&Xs.configure(C),d(new Set),g([])}},[e]);const w=C=>{d(O=>{const I=new Set(O);return I.has(C)?I.delete(C):I.add(C),I})},j=()=>{c.size===b.length?d(new Set):d(new Set(b.map(C=>C.id)))},S=C=>{const O=a.find(I=>I.id===C);return(O==null?void 0:O.name)||"Unknown Client"},N=C=>a.find(O=>O.id===C),_=C=>{const O=i.find(I=>I.id===C);return(O==null?void 0:O.name)||"Unknown Project"},E=C=>{const O=new Map;return C.forEach(I=>{const R=I.client_id||"no-client";O.has(R)||O.set(R,[]),O.get(R).push(I)}),O},k=async()=>{var C;if(!v){l(!0);return}if(c.size!==0){m(!0),g([]);try{const O=b.filter(M=>c.has(M.id)),I=[];if(u){const M=E(O);for(const[D,F]of M){const H=N(D),Z=(H==null?void 0:H.name)||"Unknown Client",W=await Xs.exportInvoiceItems(F,Z,(H==null?void 0:H.email)||void 0,(H==null?void 0:H.company)||void 0);I.push({...W,clientName:Z,itemCount:F.length,items:F.map(se=>se.id)})}}else{const M=N(((C=O[0])==null?void 0:C.client_id)||""),D=(M==null?void 0:M.name)||"Mixed Clients",F=await Xs.exportInvoiceItems(O,D,(M==null?void 0:M.email)||void 0,(M==null?void 0:M.company)||void 0);I.push({...F,clientName:D,itemCount:O.length,items:O.map(H=>H.id)})}g(I);const T=I.filter(M=>M.success).flatMap(M=>M.items||[]);T.length>0&&await n(T)}catch(O){console.error("Export failed:",O),g([{success:!1,error:O instanceof Error?O.message:"Export failed"}])}finally{m(!1)}}},P=b.filter(C=>c.has(C.id)).reduce((C,O)=>C+O.total_amount,0),A=E(b.filter(C=>c.has(C.id)));return s.jsxs(s.Fragment,{children:[s.jsx(Sr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),"Export to Fortnox"]}),s.jsx(ci,{children:"Export invoice items to Fortnox as invoices. Only draft items can be exported."})]}),s.jsxs("div",{className:"space-y-4",children:[!v&&s.jsx(Lm,{variant:"destructive",children:s.jsx(Fm,{children:"Fortnox integration is not configured. Please configure your API credentials first."})}),s.jsxs(z,{children:[s.jsx(q,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Export Options"})}),s.jsx(U,{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ei,{id:"groupByClient",checked:u,onCheckedChange:f}),s.jsx("label",{htmlFor:"groupByClient",className:"text-sm",children:"Create separate invoices for each client"})]})})]}),s.jsxs(z,{children:[s.jsx(q,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(K,{className:"text-sm",children:["Select Items (",b.length," available)"]}),s.jsx($,{variant:"outline",size:"sm",onClick:j,children:c.size===b.length?"Deselect All":"Select All"})]})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:b.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No draft items available for export"}):b.map(C=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[s.jsx(ei,{checked:c.has(C.id),onCheckedChange:()=>w(C.id)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium truncate",children:C.description}),s.jsxs("div",{className:"text-xs text-gray-500",children:[S(C.client_id||"")," • ",_(C.project_id||"")]})]}),s.jsx("div",{className:"text-sm font-medium",children:ne(C.total_amount)})]},C.id))})})]}),c.size>0&&s.jsxs(z,{children:[s.jsx(q,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Export Summary"})}),s.jsx(U,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Selected items:"}),s.jsx("span",{children:c.size})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Total amount:"}),s.jsx("span",{className:"font-medium",children:ne(P)})]}),u&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Invoices to create:"}),s.jsx("span",{children:A.size})]})]})})]}),p.length>0&&s.jsxs(z,{children:[s.jsx(q,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Export Results"})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-2",children:p.map((C,O)=>s.jsxs("div",{className:`flex items-center gap-2 p-2 rounded text-sm ${C.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[C.success?s.jsx(bn,{className:"h-4 w-4"}):s.jsx(_l,{className:"h-4 w-4"}),s.jsx("div",{className:"flex-1",children:C.success?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:"Invoice created successfully"}),C.invoiceNumber&&s.jsxs("div",{className:"text-xs",children:["Invoice #: ",C.invoiceNumber]})]}):s.jsxs("div",{children:["Failed: ",C.error]})})]},O))})})]})]}),s.jsxs(cc,{className:"flex gap-2",children:[!v&&s.jsxs($,{variant:"outline",onClick:()=>l(!0),className:"mr-auto",children:[s.jsx(yp,{className:"h-4 w-4 mr-2"}),"Configure Fortnox"]}),s.jsx($,{variant:"outline",onClick:()=>t(!1),children:"Close"}),s.jsx($,{onClick:k,disabled:!v||c.size===0||h,children:h?s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ua,{className:"h-4 w-4 mr-2"}),"Export to Fortnox"]})})]})]})}),s.jsx(dL,{open:o,onOpenChange:l,onConfigured:()=>{x(!0),l(!1)}})]})}function mhe({open:e,onOpenChange:t}){const{invoiceItems:r,markAsInvoiced:n}=ys(),{clients:a}=Kt(),{projects:i}=ar(),[o,l]=y.useState(new Set),[c,d]=y.useState(!0),[u,f]=y.useState(""),[h,m]=y.useState(!1),p=r.filter(E=>E.status==="draft");y.useEffect(()=>{e&&(l(new Set),f(""),m(!1))},[e]);const g=E=>{l(k=>{const P=new Set(k);return P.has(E)?P.delete(E):P.add(E),P})},v=()=>{o.size===p.length?l(new Set):l(new Set(p.map(E=>E.id)))},x=E=>{const k=a.find(P=>P.id===E);return(k==null?void 0:k.name)||"Unknown Client"},b=E=>a.find(k=>k.id===E),w=E=>{const k=i.find(P=>P.id===E);return(k==null?void 0:k.name)||"Unknown Project"},j=E=>{const k=new Map;return E.forEach(P=>{const A=P.client_id||"no-client";k.has(A)||k.set(A,[]),k.get(A).push(P)}),k},S=async()=>{var k;if(o.size===0)return;const E=p.filter(P=>o.has(P.id));if(c)j(E).forEach((A,C)=>{const O=b(C),I=(O==null?void 0:O.name)||"Unknown Client";Xs.downloadPlainTextInvoice(A,I,(O==null?void 0:O.email)||void 0,(O==null?void 0:O.company)||void 0,u||void 0)});else{const P=b(((k=E[0])==null?void 0:k.client_id)||""),A=(P==null?void 0:P.name)||"Mixed Clients";Xs.downloadPlainTextInvoice(E,A,(P==null?void 0:P.email)||void 0,(P==null?void 0:P.company)||void 0,u||void 0)}await n(E.map(P=>P.id)),m(!0)},N=p.filter(E=>o.has(E.id)).reduce((E,k)=>E+k.total_amount,0),_=j(p.filter(E=>o.has(E.id)));return s.jsx(Sr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),"Export as Plain Text"]}),s.jsx(ci,{children:"Export invoice items as readable text files for manual invoice creation. Only draft items can be exported."})]}),h?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bn,{className:"h-12 w-12 mx-auto text-green-600 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-2",children:"Export Successful!"}),s.jsxs("p",{className:"text-gray-600",children:["Your invoice",_.size>1?"s have":" has"," been downloaded as text file",_.size>1?"s":"","."]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(z,{children:[s.jsx(q,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Export Options"})}),s.jsxs(U,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ei,{id:"groupByClient",checked:c,onCheckedChange:d}),s.jsx("label",{htmlFor:"groupByClient",className:"text-sm",children:"Create separate files for each client"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"invoiceNumber",className:"text-sm",children:"Invoice Number (optional)"}),s.jsx(oe,{id:"invoiceNumber",placeholder:"e.g., INV-2025-001",value:u,onChange:E=>f(E.target.value)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Leave empty to use placeholder (XXXX) in the exported file"})]})]})]}),s.jsxs(z,{children:[s.jsx(q,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(K,{className:"text-sm",children:["Select Items (",p.length," available)"]}),s.jsx($,{variant:"outline",size:"sm",onClick:v,children:o.size===p.length?"Deselect All":"Select All"})]})}),s.jsx(U,{children:s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:p.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No draft items available for export"}):p.map(E=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[s.jsx(ei,{checked:o.has(E.id),onCheckedChange:()=>g(E.id)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium truncate",children:E.description}),s.jsxs("div",{className:"text-xs text-gray-500",children:[x(E.client_id||"")," • ",w(E.project_id||"")]})]}),s.jsx("div",{className:"text-sm font-medium",children:ne(E.total_amount)})]},E.id))})})]}),o.size>0&&s.jsxs(z,{children:[s.jsx(q,{className:"pb-3",children:s.jsx(K,{className:"text-sm",children:"Export Summary"})}),s.jsx(U,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Selected items:"}),s.jsx("span",{children:o.size})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Total amount:"}),s.jsx("span",{className:"font-medium",children:ne(N)})]}),c&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Files to create:"}),s.jsx("span",{children:_.size})]})]})})]})]}),s.jsxs(cc,{className:"flex gap-2",children:[s.jsx($,{variant:"outline",onClick:()=>t(!1),children:h?"Close":"Cancel"}),!h&&s.jsxs($,{onClick:S,disabled:o.size===0,children:[s.jsx(ua,{className:"h-4 w-4 mr-2"}),"Export Text Files"]})]})]})})}function phe(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[a,i]=y.useState(!1),[o,l]=y.useState(!1),{invoiceItems:c,loading:d,getInvoiceSummary:u,getClientSummaries:f}=ys(),{clients:h,loading:m}=Kt(),{projects:p,loading:g}=ar(),v=d||m||g,x=u(),b=f(),w=()=>{t(!0)},j=()=>{n(!0)},S=()=>{console.log("Mark as invoiced")},N=()=>{console.log("Mark as paid")},_=()=>{i(!0)},E=()=>{l(!0)},k=A=>{console.log("Client clicked:",A)},P=A=>{console.log("Item clicked:",A)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Invoicing"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Track unbilled work and manage invoice items for clients and projects"})]}),s.jsxs($,{onClick:w,className:"sm:w-auto w-full",children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"New Invoice Item"]})]}),s.jsx(nhe,{summary:x,loading:v}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsx(ahe,{clients:b,loading:v,onClientClick:k}),s.jsx(ihe,{items:c,loading:v,onItemClick:P,clients:h,projects:p}),s.jsx(she,{onCreateInvoiceItem:w,onCreateFromTime:j,onMarkAsInvoiced:S,onMarkAsPaid:N,onExportToFortnox:_,onExportPlainText:E})]}),s.jsx("div",{className:"grid grid-cols-1",children:s.jsx(ohe,{items:c,loading:v})}),!v&&c.length===0&&s.jsx(z,{className:"text-center py-12",children:s.jsxs(U,{children:[s.jsx(Gl,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No invoice items yet"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Start tracking your unbilled work by creating invoice items for your clients and projects. You can create items manually or convert time entries into billable items."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs($,{onClick:w,children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Create First Invoice Item"]}),s.jsxs($,{variant:"outline",onClick:j,children:[s.jsx(Me,{className:"h-4 w-4 mr-2"}),"Import from Time Tracking"]})]})]})}),s.jsx(lhe,{open:e,onOpenChange:t}),s.jsx(che,{open:r,onOpenChange:n}),s.jsx(hhe,{open:a,onOpenChange:i}),s.jsx(mhe,{open:o,onOpenChange:l})]})}const ghe=mw("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ee({className:e,variant:t,...r}){return s.jsx("div",{className:Se(ghe({variant:t}),e),...r})}const J1=y.createContext(void 0),Hg=({value:e,defaultValue:t,onValueChange:r,children:n,className:a})=>{const[i,o]=y.useState(t||""),l=e!==void 0?e:i,c=y.useCallback(u=>{e===void 0&&o(u),r==null||r(u)},[e,r]),d=y.useMemo(()=>({value:l,onValueChange:c}),[l,c]);return s.jsx(J1.Provider,{value:d,children:s.jsx("div",{className:a,children:n})})},zd=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,role:"tablist",className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));zd.displayName="TabsList";const At=y.forwardRef(({className:e,value:t,...r},n)=>{const a=y.useContext(J1);if(!a)throw new Error("TabsTrigger must be used within a Tabs component");const i=a.value===t;return s.jsx("button",{ref:n,role:"tab","aria-selected":i,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i?"bg-background text-foreground shadow-sm":"",e),onClick:()=>a.onValueChange(t),...r})});At.displayName="TabsTrigger";const $t=y.forwardRef(({className:e,value:t,...r},n)=>{const a=y.useContext(J1);if(!a)throw new Error("TabsContent must be used within a Tabs component");return a.value!==t?null:s.jsx("div",{ref:n,role:"tabpanel",className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r})});$t.displayName="TabsContent";function qg(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,i]=y.useState(null),{user:o}=gr(),l=y.useCallback(async()=>{if(!o){t([]),n(!1);return}try{n(!0);const{data:h,error:m}=await G.from("cv_profiles").select("*").eq("user_id",o.id).order("updated_at",{ascending:!1});if(m)throw m;t(h||[])}catch(h){i(h instanceof Error?h.message:"An error occurred")}finally{n(!1)}},[o]),c=async h=>{if(!o)throw new Error("User not authenticated");try{const{data:m,error:p}=await G.from("cv_profiles").insert([{...h,user_id:o.id}]).select().single();if(p)throw p;return t(g=>[m,...g]),m}catch(m){throw new Error(m instanceof Error?m.message:"Failed to create profile")}},d=async(h,m)=>{try{const{data:p,error:g}=await G.from("cv_profiles").update(m).eq("id",h).select().single();if(g)throw g;return t(v=>v.map(x=>x.id===h?p:x)),p}catch(p){throw new Error(p instanceof Error?p.message:"Failed to update profile")}},u=async h=>{try{const{error:m}=await G.from("cv_profiles").delete().eq("id",h);if(m)throw m;t(p=>p.filter(g=>g.id!==h))}catch(m){throw new Error(m instanceof Error?m.message:"Failed to delete profile")}},f=async(h,m)=>{const p=e.find(j=>j.id===h);if(!p)throw new Error("Profile not found");const{id:g,user_id:v,created_at:x,updated_at:b,...w}=p;return c({...w,title:m,is_active:!1})};return y.useEffect(()=>{l()},[l]),{profiles:e,loading:r,error:a,createProfile:c,updateProfile:d,deleteProfile:u,duplicateProfile:f,refetch:l}}function fL(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),{user:l}=gr(),c=y.useCallback(async()=>{if(!l){r([]),a(!1);return}try{a(!0);let m=G.from("job_applications").select(`
          *,
          cv_profiles!inner(
            id,
            title,
            user_id
          )
        `).eq("cv_profiles.user_id",l.id).order("application_date",{ascending:!1});const{data:p,error:g}=await m;if(g)throw g;r(p||[])}catch(m){o(m instanceof Error?m.message:"An error occurred")}finally{a(!1)}},[l,e]),d=async m=>{try{const{data:p,error:g}=await G.from("job_applications").insert([m]).select().single();if(g)throw g;return r(v=>[p,...v]),p}catch(p){throw new Error(p instanceof Error?p.message:"Failed to create application")}},u=async(m,p)=>{try{const{data:g,error:v}=await G.from("job_applications").update(p).eq("id",m).select().single();if(v)throw v;return r(x=>x.map(b=>b.id===m?g:b)),g}catch(g){throw new Error(g instanceof Error?g.message:"Failed to update application")}},f=async m=>{try{const{error:p}=await G.from("job_applications").delete().eq("id",m);if(p)throw p;r(g=>g.filter(v=>v.id!==m))}catch(p){throw new Error(p instanceof Error?p.message:"Failed to delete application")}},h=()=>{const m=t.length,p=t.reduce((x,b)=>(x[b.status]=(x[b.status]||0)+1,x),{}),g=m>0?(p.interview||0)/m*100:0,v=m>0?((p.offered||0)+(p.accepted||0))/m*100:0;return{total:m,byStatus:p,interviewRate:Math.round(g),successRate:Math.round(v),pending:(p.applied||0)+(p.interview||0)}};return y.useEffect(()=>{c()},[c]),{applications:t,loading:n,error:i,createApplication:d,updateApplication:u,deleteApplication:f,getApplicationStats:h,refetch:c}}function vhe(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,i]=y.useState(null),{user:o}=gr(),l=y.useCallback(async()=>{if(!o){t([]),n(!1);return}try{n(!0);const{data:p,error:g}=await G.from("cv_skills").select(`
          *,
          cv_profiles!inner(
            id,
            title,
            user_id
          )
        `).eq("cv_profiles.user_id",o.id).order("skill_level",{ascending:!1}).order("skill_name",{ascending:!0});if(g)throw g;t(p||[])}catch(p){i(p instanceof Error?p.message:"An error occurred")}finally{n(!1)}},[o]),c=()=>e.reduce((p,g)=>{const v=g.cv_profile_id;return p[v]||(p[v]=[]),p[v].push(g),p},{}),d=()=>e.reduce((p,g)=>{const v=g.category||"Uncategorized";return p[v]||(p[v]=[]),p[v].push(g),p},{}),u=(p=10)=>[...e].sort((g,v)=>g.skill_level!==v.skill_level?v.skill_level-g.skill_level:g.is_highlighted!==v.is_highlighted?g.is_highlighted?-1:1:g.skill_name.localeCompare(v.skill_name)).slice(0,p),f=()=>{const p=e.length,g=e.filter(b=>b.is_highlighted).length,v=e.reduce((b,w)=>(b[w.skill_level]=(b[w.skill_level]||0)+1,b),{}),x=p>0?e.reduce((b,w)=>b+w.skill_level,0)/p:0;return{total:p,highlighted:g,byLevel:v,averageLevel:Math.round(x*10)/10,categories:Object.keys(d()).length}},h=async p=>{try{const{error:g}=await G.from("cv_skills").delete().eq("id",p);if(g)throw g;t(v=>v.filter(x=>x.id!==p))}catch(g){throw new Error(g instanceof Error?g.message:"Failed to delete skill")}},m=async(p,g)=>{try{const{data:v,error:x}=await G.from("cv_skills").update(g).eq("id",p).select().single();if(x)throw x;return t(b=>b.map(w=>w.id===p?v:w)),v}catch(v){throw new Error(v instanceof Error?v.message:"Failed to update skill")}};return y.useEffect(()=>{l()},[l]),{skills:e,loading:r,error:a,getSkillsByProfile:c,getSkillsByCategory:d,getTopSkills:u,getSkillStats:f,deleteSkill:h,updateSkill:m,refetch:l}}function yhe(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r([]),a(!1);return}try{a(!0),o(null);const{data:v,error:x}=await G.from("cv_motivation_texts").select("*").eq("cv_profile_id",e).order("sort_order",{ascending:!0}).order("created_at",{ascending:!1});if(x)throw x;r(v||[])}catch(v){o(v instanceof Error?v.message:"Failed to fetch motivation texts"),console.error("Error fetching motivation texts:",v)}finally{a(!1)}},[e]),c=async v=>{try{o(null),v.is_default&&await G.from("cv_motivation_texts").update({is_default:!1}).eq("cv_profile_id",v.cv_profile_id);const{data:x,error:b}=await G.from("cv_motivation_texts").insert([v]).select().single();if(b)throw b;return await l(),x}catch(x){return o(x instanceof Error?x.message:"Failed to create motivation text"),console.error("Error creating motivation text:",x),null}},d=async(v,x)=>{try{o(null),x.is_default&&e&&await G.from("cv_motivation_texts").update({is_default:!1}).eq("cv_profile_id",e).neq("id",v);const{error:b}=await G.from("cv_motivation_texts").update(x).eq("id",v);if(b)throw b;return await l(),!0}catch(b){return o(b instanceof Error?b.message:"Failed to update motivation text"),console.error("Error updating motivation text:",b),!1}},u=async v=>{try{o(null);const{error:x}=await G.from("cv_motivation_texts").delete().eq("id",v);if(x)throw x;return await l(),!0}catch(x){return o(x instanceof Error?x.message:"Failed to delete motivation text"),console.error("Error deleting motivation text:",x),!1}},f=async(v,x)=>{try{o(null);const{data:b,error:w}=await G.from("cv_motivation_texts").select("*").eq("id",v).single();if(w)throw w;const j={cv_profile_id:b.cv_profile_id,title:x||`${b.title} (Copy)`,content:b.content,purpose:b.purpose,is_default:!1,sort_order:b.sort_order+1};return await c(j)}catch(b){return o(b instanceof Error?b.message:"Failed to duplicate motivation text"),console.error("Error duplicating motivation text:",b),null}},h=async v=>await d(v,{is_default:!0}),m=()=>t.find(v=>v.is_default)||t[0]||null,p=v=>t.filter(x=>x.purpose===v),g=()=>{const v=t.map(x=>x.purpose);return Array.from(new Set(v)).filter(Boolean)};return y.useEffect(()=>{l()},[e,l]),{motivationTexts:t,loading:n,error:i,fetchMotivationTexts:l,createMotivationText:c,updateMotivationText:d,deleteMotivationText:u,duplicateMotivationText:f,setAsDefault:h,getDefaultMotivationText:m,getMotivationTextsByPurpose:p,getAllPurposes:g}}function xhe(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r([]),a(!1);return}try{a(!0);const{data:h,error:m}=await G.from("cv_projects_enhanced").select("*").eq("cv_profile_id",e).order("sort_order",{ascending:!0});if(m)throw m;r(h||[])}catch(h){console.error("Error fetching projects:",h),o(h instanceof Error?h.message:"Unknown error")}finally{a(!1)}},[e]);y.useEffect(()=>{l()},[l]);const c=async h=>{try{const{data:m,error:p}=await G.from("cv_projects").insert([{...h,cv_profile_id:e}]).select().single();if(p)throw p;return await l(),m}catch(m){return console.error("Error creating project:",m),o(m instanceof Error?m.message:"Unknown error"),null}},d=async(h,m)=>{try{const{error:p}=await G.from("cv_projects").update(m).eq("id",h);if(p)throw p;return await l(),!0}catch(p){return console.error("Error updating project:",p),o(p instanceof Error?p.message:"Unknown error"),!1}};return{projects:t,loading:n,error:i,fetchProjects:l,createProject:c,updateProject:d,deleteProject:async h=>{try{const{error:m}=await G.from("cv_projects").delete().eq("id",h);if(m)throw m;return await l(),!0}catch(m){return console.error("Error deleting project:",m),o(m instanceof Error?m.message:"Unknown error"),!1}},toggleFeatured:async h=>{const m=t.find(p=>p.id===h);return m?d(h,{is_featured:!m.is_featured}):!1}}}function bhe(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r([]),a(!1);return}try{a(!0);const{data:f,error:h}=await G.from("cv_experiences_enhanced").select("*").eq("cv_profile_id",e).order("start_date",{ascending:!1});if(h)throw h;r(f||[])}catch(f){console.error("Error fetching experiences:",f),o(f instanceof Error?f.message:"Unknown error")}finally{a(!1)}},[e]);return y.useEffect(()=>{l()},[l]),{experiences:t,loading:n,error:i,fetchExperiences:l,createExperience:async f=>{try{const{data:h,error:m}=await G.from("cv_experiences").insert([{...f,cv_profile_id:e}]).select().single();if(m)throw m;return await l(),h}catch(h){return console.error("Error creating experience:",h),o(h instanceof Error?h.message:"Unknown error"),null}},updateExperience:async(f,h)=>{try{const{error:m}=await G.from("cv_experiences").update(h).eq("id",f);if(m)throw m;return await l(),!0}catch(m){return console.error("Error updating experience:",m),o(m instanceof Error?m.message:"Unknown error"),!1}},deleteExperience:async f=>{try{const{error:h}=await G.from("cv_experiences").delete().eq("id",f);if(h)throw h;return await l(),!0}catch(h){return console.error("Error deleting experience:",h),o(h instanceof Error?h.message:"Unknown error"),!1}}}}function whe(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r([]),a(!1);return}try{a(!0);const{data:m,error:p}=await G.from("cv_technology_tags").select("*").eq("cv_profile_id",e).order("usage_count",{ascending:!1});if(p)throw p;r(m||[])}catch(m){console.error("Error fetching technology tags:",m),o(m instanceof Error?m.message:"Unknown error")}finally{a(!1)}},[e]);return y.useEffect(()=>{l()},[l]),{tags:t,loading:n,error:i,fetchTags:l,createTag:async m=>{try{const{data:p,error:g}=await G.from("cv_technology_tags").insert([m]).select().single();if(g)throw g;return await l(),p}catch(p){return console.error("Error creating technology tag:",p),o(p instanceof Error?p.message:"Unknown error"),null}},updateTag:async(m,p)=>{try{const{error:g}=await G.from("cv_technology_tags").update(p).eq("id",m);if(g)throw g;return await l(),!0}catch(g){return console.error("Error updating technology tag:",g),o(g instanceof Error?g.message:"Unknown error"),!1}},deleteTag:async m=>{try{const{error:p}=await G.from("cv_technology_tags").delete().eq("id",m);if(p)throw p;return await l(),!0}catch(p){return console.error("Error deleting technology tag:",p),o(p instanceof Error?p.message:"Unknown error"),!1}},getTagsByCategory:m=>t.filter(p=>p.category===m),getAllCategories:()=>[...new Set(t.map(m=>m.category))].filter(Boolean)}}function jhe(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r([]),a(!1);return}try{a(!0);const{data:p,error:g}=await G.from("cv_achievements").select("*").eq("cv_profile_id",e).order("date_achieved",{ascending:!1});if(g)throw g;r(p||[])}catch(p){console.error("Error fetching achievements:",p),o(p instanceof Error?p.message:"Unknown error")}finally{a(!1)}},[e]);y.useEffect(()=>{l()},[l]);const c=async p=>{try{const{data:g,error:v}=await G.from("cv_achievements").insert([p]).select().single();if(v)throw v;return await l(),g}catch(g){return console.error("Error creating achievement:",g),o(g instanceof Error?g.message:"Unknown error"),null}},d=async(p,g)=>{try{const{error:v}=await G.from("cv_achievements").update(g).eq("id",p);if(v)throw v;return await l(),!0}catch(v){return console.error("Error updating achievement:",v),o(v instanceof Error?v.message:"Unknown error"),!1}};return{achievements:t,loading:n,error:i,fetchAchievements:l,createAchievement:c,updateAchievement:d,deleteAchievement:async p=>{try{const{error:g}=await G.from("cv_achievements").delete().eq("id",p);if(g)throw g;return await l(),!0}catch(g){return console.error("Error deleting achievement:",g),o(g instanceof Error?g.message:"Unknown error"),!1}},toggleFeatured:async p=>{const g=t.find(v=>v.id===p);return g?d(p,{is_featured:!g.is_featured}):!1},getAchievementsByType:p=>t.filter(g=>g.achievement_type===p),getFeaturedAchievements:()=>t.filter(p=>p.is_featured)}}function She(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r([]),a(!1);return}try{a(!0);const{data:h,error:m}=await G.from("cv_education_comprehensive").select("*").eq("cv_profile_id",e).order("start_date",{ascending:!1});if(m)throw m;r(h||[])}catch(h){console.error("Error fetching education:",h),o(h instanceof Error?h.message:"Unknown error")}finally{a(!1)}},[e]);y.useEffect(()=>{l()},[l]);const c=async h=>{try{const{data:m,error:p}=await G.from("cv_education").insert([{...h,cv_profile_id:e}]).select().single();if(p)throw p;return await l(),m}catch(m){return console.error("Error creating education:",m),o(m instanceof Error?m.message:"Unknown error"),null}},d=async(h,m)=>{try{const{error:p}=await G.from("cv_education").update(m).eq("id",h);if(p)throw p;return await l(),!0}catch(p){return console.error("Error updating education:",p),o(p instanceof Error?p.message:"Unknown error"),!1}};return{education:t,loading:n,error:i,fetchEducation:l,createEducation:c,updateEducation:d,deleteEducation:async h=>{try{const{error:m}=await G.from("cv_education").delete().eq("id",h);if(m)throw m;return await l(),!0}catch(m){return console.error("Error deleting education:",m),o(m instanceof Error?m.message:"Unknown error"),!1}},toggleFeatured:async h=>{const m=t.find(p=>p.id===h);return m?d(h,{is_featured:!m.is_featured}):!1}}}function Nhe(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r([]),a(!1);return}try{a(!0);const{data:g,error:v}=await G.from("cv_certifications_status").select("*").eq("cv_profile_id",e).order("issue_date",{ascending:!1});if(v)throw v;r(g||[])}catch(g){console.error("Error fetching certifications:",g),o(g instanceof Error?g.message:"Unknown error")}finally{a(!1)}},[e]);y.useEffect(()=>{l()},[l]);const c=async g=>{try{const{data:v,error:x}=await G.from("cv_certifications").insert([{...g,cv_profile_id:e}]).select().single();if(x)throw x;return await l(),v}catch(v){return console.error("Error creating certification:",v),o(v instanceof Error?v.message:"Unknown error"),null}},d=async(g,v)=>{try{const{error:x}=await G.from("cv_certifications").update(v).eq("id",g);if(x)throw x;return await l(),!0}catch(x){return console.error("Error updating certification:",x),o(x instanceof Error?x.message:"Unknown error"),!1}};return{certifications:t,loading:n,error:i,fetchCertifications:l,createCertification:c,updateCertification:d,deleteCertification:async g=>{try{const{error:v}=await G.from("cv_certifications").delete().eq("id",g);if(v)throw v;return await l(),!0}catch(v){return console.error("Error deleting certification:",v),o(v instanceof Error?v.message:"Unknown error"),!1}},toggleFeatured:async g=>{const v=t.find(x=>x.id===g);return v?d(g,{is_featured:!v.is_featured}):!1},getExpiringSoon:()=>t.filter(g=>g.status==="Expiring Soon"),getExpired:()=>t.filter(g=>g.status==="Expired"),getValidCertifications:()=>t.filter(g=>g.status==="Valid"||g.status==="Permanent")}}function _he(e){const[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{if(!e){r([]),a(!1);return}try{a(!0);const{data:u,error:f}=await G.from("cv_education_timeline").select("*").eq("cv_profile_id",e).order("start_date",{ascending:!1});if(f)throw f;r(u||[])}catch(u){console.error("Error fetching education timeline:",u),o(u instanceof Error?u.message:"Unknown error")}finally{a(!1)}},[e]);return y.useEffect(()=>{l()},[l]),{timeline:t,loading:n,error:i,fetchTimeline:l,getTimelineByYear:()=>{const u={};return t.forEach(f=>{const h=f.start_date?new Date(f.start_date).getFullYear().toString():"Unknown";u[h]||(u[h]=[]),u[h].push(f)}),u},getTimelineByType:u=>t.filter(f=>f.item_type===u)}}function Che(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,i]=y.useState(null),o=async()=>{try{n(!0);const{data:d,error:u}=await G.from("cv_templates").select("*").eq("is_active",!0).order("template_type",{ascending:!0});if(u)throw u;t(d||[])}catch(d){i(d instanceof Error?d.message:"Failed to fetch templates")}finally{n(!1)}};return y.useEffect(()=>{o()},[]),{templates:e,loading:r,error:a,refetch:o,getTemplatesByType:d=>e.filter(u=>u.template_type===d),getTemplatesByIndustry:d=>e.filter(u=>u.industry_focus===d)}}function Ehe(e){const[t,r]=y.useState([]),[n,a]=y.useState(!1),[i,o]=y.useState(null),l=async()=>{if(!e){r([]);return}try{a(!0);const{data:h,error:m}=await G.from("cv_generations").select(`
          *,
          cv_templates(name, template_type)
        `).eq("cv_profile_id",e).order("created_at",{ascending:!1});if(m)throw m;r(h||[])}catch(h){o(h instanceof Error?h.message:"Failed to fetch generations")}finally{a(!1)}},c=async h=>{try{const{data:m,error:p}=await G.from("cv_generations").insert([{cv_profile_id:e,...h}]).select().single();if(p)throw p;return await f("generation",1,{template_id:h.template_id,format:h.output_format}),await l(),m}catch(m){throw o(m instanceof Error?m.message:"Failed to create generation"),m}},d=async(h,m)=>{try{const{error:p}=await G.from("cv_generations").update(m).eq("id",h);if(p)throw p;await l()}catch(p){throw o(p instanceof Error?p.message:"Failed to update generation"),p}},u=async h=>{try{const{error:m}=await G.rpc("increment_download_count",{generation_id:h});if(m)throw m;await f("download",1,{generation_id:h}),await l()}catch(m){o(m instanceof Error?m.message:"Failed to record download")}},f=async(h,m=1,p={})=>{if(e)try{await G.rpc("record_cv_metric",{profile_id:e,metric_type:h,metric_value:m,metadata:p})}catch(g){console.error("Failed to record metric:",g)}};return y.useEffect(()=>{l()},[e]),{generations:t,loading:n,error:i,createGeneration:c,updateGeneration:d,recordDownload:u,recordMetric:f,refetch:l}}function khe(e){const[t,r]=y.useState([]),[n,a]=y.useState(null),[i,o]=y.useState(!1),l=async(u=30)=>{if(!e){r([]),a(null);return}try{o(!0);const{data:f,error:h}=await G.from("cv_analytics").select("*").eq("cv_profile_id",e).gte("recorded_at",new Date(Date.now()-u*24*60*60*1e3).toISOString()).order("recorded_at",{ascending:!1});if(h)throw h;const{data:m,error:p}=await G.rpc("get_cv_analytics_summary",{profile_id:e,days_back:u});if(p)throw p;r(f||[]),a((m==null?void 0:m[0])||null)}catch(f){console.error("Failed to fetch analytics:",f)}finally{o(!1)}},c=u=>t.filter(f=>f.metric_type===u),d=u=>{const f=new Date(Date.now()-u*24*60*60*1e3);return t.filter(h=>new Date(h.recorded_at)>=f)};return y.useEffect(()=>{l()},[e]),{analytics:t,summary:n,loading:i,fetchAnalytics:l,getMetricsByType:c,getUsageByTimeframe:d}}function Phe({open:e,onOpenChange:t}){const{createProfile:r}=qg(),[n,a]=y.useState(!1),[i,o]=y.useState({title:"",description:"",target_role:"",location:"",phone:"",email:"",linkedin_url:"",github_url:"",website_url:"",summary:"",key_attributes:[]}),[l,c]=y.useState(""),d=(m,p)=>{o(g=>({...g,[m]:p}))},u=()=>{l.trim()&&!i.key_attributes.includes(l.trim())&&(o(m=>({...m,key_attributes:[...m.key_attributes,l.trim()]})),c(""))},f=m=>{o(p=>({...p,key_attributes:p.key_attributes.filter(g=>g!==m)}))},h=async m=>{if(m.preventDefault(),!!i.title.trim()){a(!0);try{await r({...i,is_active:!0}),t(!1),o({title:"",description:"",target_role:"",location:"",phone:"",email:"",linkedin_url:"",github_url:"",website_url:"",summary:"",key_attributes:[]})}catch(p){console.error("Failed to create CV profile:",p)}finally{a(!1)}}};return s.jsx(Sr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Create New CV Profile"}),s.jsx(ci,{children:"Create a new CV profile tailored for specific roles or industries."})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(re,{htmlFor:"title",children:"Profile Title *"}),s.jsx(oe,{id:"title",value:i.title,onChange:m=>d("title",m.target.value),placeholder:"e.g., Senior Full Stack Developer",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(re,{htmlFor:"description",children:"Description"}),s.jsx(Gr,{id:"description",value:i.description,onChange:m=>d("description",m.target.value),placeholder:"Brief description of this CV version",rows:2})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"target_role",children:"Target Role"}),s.jsx(oe,{id:"target_role",value:i.target_role,onChange:m=>d("target_role",m.target.value),placeholder:"e.g., Full Stack Developer"})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"location",children:"Location"}),s.jsx(oe,{id:"location",value:i.location,onChange:m=>d("location",m.target.value),placeholder:"e.g., Stockholm, Sweden"})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"phone",children:"Phone"}),s.jsx(oe,{id:"phone",value:i.phone,onChange:m=>d("phone",m.target.value),placeholder:"e.g., +46 70 123 4567"})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"email",children:"Email"}),s.jsx(oe,{id:"email",type:"email",value:i.email,onChange:m=>d("email",m.target.value),placeholder:"e.g., your.email@example.com"})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),s.jsx(oe,{id:"linkedin_url",value:i.linkedin_url,onChange:m=>d("linkedin_url",m.target.value),placeholder:"e.g., https://linkedin.com/in/yourprofile"})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"github_url",children:"GitHub URL"}),s.jsx(oe,{id:"github_url",value:i.github_url,onChange:m=>d("github_url",m.target.value),placeholder:"e.g., https://github.com/yourusername"})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"website_url",children:"Website URL"}),s.jsx(oe,{id:"website_url",value:i.website_url,onChange:m=>d("website_url",m.target.value),placeholder:"e.g., https://yourportfolio.com"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(re,{htmlFor:"summary",children:"Professional Summary"}),s.jsx(Gr,{id:"summary",value:i.summary,onChange:m=>d("summary",m.target.value),placeholder:"Brief professional summary highlighting your expertise and goals",rows:4})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(re,{children:"Key Role Attributes"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(oe,{value:l,onChange:m=>c(m.target.value),placeholder:"Add a key attribute",onKeyPress:m=>m.key==="Enter"&&(m.preventDefault(),u())}),s.jsx($,{type:"button",onClick:u,size:"sm",children:s.jsx(Oe,{className:"h-4 w-4"})})]}),i.key_attributes.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:i.key_attributes.map((m,p)=>s.jsxs(Ee,{variant:"secondary",className:"flex items-center gap-1",children:[m,s.jsx(xp,{className:"h-3 w-3 cursor-pointer hover:text-red-500",onClick:()=>f(m)})]},p))})]})]}),s.jsxs(cc,{children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:n||!i.title.trim(),children:n?"Creating...":"Create Profile"})]})]})]})})}const X0={1:{label:"Grundläggande",description:"Kan utföra enklare uppgifter med viss arbetsledning"},2:{label:"Medelkompetens",description:"Bekväm i färdigheter, kan arbeta självständigt med viss vägledning"},3:{label:"Hög kompetens",description:"Stark kompetens med flera års erfarenhet, arbetar självständigt"},4:{label:"Mycket hög kompetens",description:"Hög generalistkompetens, axlar huvudansvar"},5:{label:"Expert",description:"Behärskar allt inom området, leder andra och håller utbildningar"}},J0={applied:{label:"Applied",color:"blue"},interview:{label:"Interview",color:"yellow"},rejected:{label:"Rejected",color:"red"},offered:{label:"Offered",color:"green"},accepted:{label:"Accepted",color:"green"},withdrawn:{label:"Withdrawn",color:"gray"}},Ahe=["Programming Languages","Frameworks & Libraries","Databases","Cloud Platforms","Development Tools","Project Management","Soft Skills","Languages","Certifications"];function Ohe({open:e,onOpenChange:t,defaultCvProfileId:r}){const{createApplication:n}=fL(),{profiles:a}=qg(),[i,o]=y.useState(!1),[l,c]=y.useState({cv_profile_id:r||"",company_name:"",job_title:"",job_url:"",application_date:new Date().toISOString().split("T")[0],status:"applied",cover_letter:"",job_highlights:"",custom_summary:"",interview_notes:"",follow_up_date:"",salary_range:"",location:"",remote_option:!1}),d=async f=>{if(f.preventDefault(),!(!l.cv_profile_id||!l.company_name||!l.job_title)){o(!0);try{await n({...l,follow_up_date:l.follow_up_date||void 0}),c({cv_profile_id:r||"",company_name:"",job_title:"",job_url:"",application_date:new Date().toISOString().split("T")[0],status:"applied",cover_letter:"",job_highlights:"",custom_summary:"",interview_notes:"",follow_up_date:"",salary_range:"",location:"",remote_option:!1}),t(!1)}catch(h){console.error("Failed to create application:",h)}finally{o(!1)}}},u=(f,h)=>{c(m=>({...m,[f]:h}))};return s.jsx(Sr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add Job Application"}),s.jsx(ci,{children:"Track a new job application and its details"})]}),s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"cv_profile_id",children:"CV Profile *"}),s.jsxs("select",{id:"cv_profile_id",value:l.cv_profile_id,onChange:f=>u("cv_profile_id",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Select CV profile",required:!0,children:[s.jsx("option",{value:"",children:"Select a CV profile"}),a.map(f=>s.jsxs("option",{value:f.id,children:[f.title," ",f.target_role&&`(${f.target_role})`]},f.id))]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"company_name",children:"Company Name *"}),s.jsx(oe,{id:"company_name",value:l.company_name,onChange:f=>u("company_name",f.target.value),placeholder:"e.g. Acme Corporation",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"job_title",children:"Job Title *"}),s.jsx(oe,{id:"job_title",value:l.job_title,onChange:f=>u("job_title",f.target.value),placeholder:"e.g. Senior Developer",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"job_url",children:"Job Posting URL"}),s.jsx(oe,{id:"job_url",type:"url",value:l.job_url,onChange:f=>u("job_url",f.target.value),placeholder:"https://..."})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"application_date",children:"Application Date *"}),s.jsx(oe,{id:"application_date",type:"date",value:l.application_date,onChange:f=>u("application_date",f.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"status",children:"Status"}),s.jsx("select",{id:"status",value:l.status,onChange:f=>u("status",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Application status",children:Object.entries(J0).map(([f,{label:h}])=>s.jsx("option",{value:f,children:h},f))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"follow_up_date",children:"Follow-up Date"}),s.jsx(oe,{id:"follow_up_date",type:"date",value:l.follow_up_date,onChange:f=>u("follow_up_date",f.target.value)})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"location",children:"Location"}),s.jsx(oe,{id:"location",value:l.location,onChange:f=>u("location",f.target.value),placeholder:"e.g. Stockholm, Sweden"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"salary_range",children:"Salary Range"}),s.jsx(oe,{id:"salary_range",value:l.salary_range,onChange:f=>u("salary_range",f.target.value),placeholder:"e.g. 800,000 - 1,000,000 SEK"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ei,{id:"remote_option",checked:l.remote_option,onCheckedChange:f=>u("remote_option",f)}),s.jsx(re,{htmlFor:"remote_option",children:"Remote work option available"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"job_highlights",children:"Job Highlights"}),s.jsx(Gr,{id:"job_highlights",value:l.job_highlights,onChange:f=>u("job_highlights",f.target.value),placeholder:"Key points about this job opportunity...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"custom_summary",children:"Custom Summary"}),s.jsx(Gr,{id:"custom_summary",value:l.custom_summary,onChange:f=>u("custom_summary",f.target.value),placeholder:"How you tailored your application for this role...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"cover_letter",children:"Cover Letter Notes"}),s.jsx(Gr,{id:"cover_letter",value:l.cover_letter,onChange:f=>u("cover_letter",f.target.value),placeholder:"Notes about your cover letter or key points mentioned...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"interview_notes",children:"Interview Notes"}),s.jsx(Gr,{id:"interview_notes",value:l.interview_notes,onChange:f=>u("interview_notes",f.target.value),placeholder:"Interview details, questions asked, feedback received...",rows:3})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),s.jsxs($,{type:"submit",disabled:i,children:[i&&s.jsx(Nl,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Application"]})]})]})]})})}function The({open:e,onOpenChange:t,defaultCvProfileId:r,onSkillCreated:n}){const{profiles:a}=qg(),[i,o]=y.useState(!1),[l,c]=y.useState({cv_profile_id:r||"",skill_name:"",skill_level:3,category:"",years_of_experience:"",last_used_date:"",is_highlighted:!1}),d=async m=>{const{data:p,error:g}=await G.from("cv_skills").insert([m]).select().single();if(g)throw g;return p},u=async m=>{if(m.preventDefault(),!(!l.cv_profile_id||!l.skill_name)){o(!0);try{await d({cv_profile_id:l.cv_profile_id,skill_name:l.skill_name,skill_level:l.skill_level,category:l.category||void 0,years_of_experience:l.years_of_experience?parseInt(l.years_of_experience):void 0,last_used_date:l.last_used_date||void 0,is_highlighted:l.is_highlighted,sort_order:0}),c({cv_profile_id:r||"",skill_name:"",skill_level:3,category:"",years_of_experience:"",last_used_date:"",is_highlighted:!1}),n==null||n(),t(!1)}catch(p){console.error("Failed to create skill:",p)}finally{o(!1)}}},f=(m,p)=>{c(g=>({...g,[m]:p}))},h=m=>{switch(m){case 1:return"bg-red-100 text-red-700 border-red-200";case 2:return"bg-orange-100 text-orange-700 border-orange-200";case 3:return"bg-yellow-100 text-yellow-700 border-yellow-200";case 4:return"bg-blue-100 text-blue-700 border-blue-200";case 5:return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return s.jsx(Sr,{open:e,onOpenChange:t,children:s.jsxs(dr,{className:"max-w-lg",children:[s.jsxs(fr,{children:[s.jsx(hr,{children:"Add Skill"}),s.jsx(ci,{children:"Add a new skill with Kammarkollegiet competency level (1-5)"})]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"cv_profile_id",children:"CV Profile *"}),s.jsxs("select",{id:"cv_profile_id",value:l.cv_profile_id,onChange:m=>f("cv_profile_id",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Select CV profile",required:!0,children:[s.jsx("option",{value:"",children:"Select a CV profile"}),a.map(m=>s.jsxs("option",{value:m.id,children:[m.title," ",m.target_role&&`(${m.target_role})`]},m.id))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"skill_name",children:"Skill Name *"}),s.jsx(oe,{id:"skill_name",value:l.skill_name,onChange:m=>f("skill_name",m.target.value),placeholder:"e.g. React, Project Management, Java",required:!0})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(re,{children:"Competency Level (Kammarkollegiet Scale) *"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(X0).map(([m,{label:p,description:g}])=>s.jsxs("label",{className:`flex items-start p-3 border rounded-lg cursor-pointer transition-all hover:bg-gray-50 ${l.skill_level===parseInt(m)?h(parseInt(m))+" ring-2 ring-offset-1":"border-gray-200"}`,children:[s.jsx("input",{type:"radio",name:"skill_level",value:m,checked:l.skill_level===parseInt(m),onChange:v=>f("skill_level",parseInt(v.target.value)),className:"mt-0.5 mr-3"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium",children:[m,". ",p]}),parseInt(m)>=4&&s.jsx(Bt,{className:"h-4 w-4 text-yellow-500"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g})]})]},m))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"category",children:"Category"}),s.jsxs("select",{id:"category",value:l.category,onChange:m=>f("category",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Select skill category",children:[s.jsx("option",{value:"",children:"Select a category"}),Ahe.map(m=>s.jsx("option",{value:m,children:m},m))]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"years_of_experience",children:"Years of Experience"}),s.jsx(oe,{id:"years_of_experience",type:"number",min:"0",max:"50",value:l.years_of_experience,onChange:m=>f("years_of_experience",m.target.value),placeholder:"e.g. 5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"last_used_date",children:"Last Used"}),s.jsx(oe,{id:"last_used_date",type:"date",value:l.last_used_date,onChange:m=>f("last_used_date",m.target.value)})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ei,{id:"is_highlighted",checked:l.is_highlighted,onCheckedChange:m=>f("is_highlighted",m)}),s.jsxs(re,{htmlFor:"is_highlighted",className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4 text-yellow-500"}),"Highlight this skill (show prominently on CV)"]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),s.jsxs($,{type:"submit",disabled:i,children:[i&&s.jsx(Nl,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Skill"]})]})]})]})})}function sk(e,[t,r]){return Math.min(r,Math.max(t,e))}function Dhe(e){const t=e+"CollectionProvider",[r,n]=zg(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:x}=g,b=Te.useRef(null),w=Te.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:w,collectionRef:b,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=Cl(l),d=Te.forwardRef((g,v)=>{const{scope:x,children:b}=g,w=i(l,x),j=vt(v,w.collectionRef);return s.jsx(c,{ref:j,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",h=Cl(u),m=Te.forwardRef((g,v)=>{const{scope:x,children:b,...w}=g,j=Te.useRef(null),S=vt(v,j),N=i(u,x);return Te.useEffect(()=>(N.itemMap.set(j,{ref:j,...w}),()=>void N.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:S,children:b})});m.displayName=u;function p(g){const v=i(e+"CollectionConsumer",g);return Te.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,_)=>w.indexOf(N.ref.current)-w.indexOf(_.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},p,n]}var Ihe=y.createContext(void 0);function Mhe(e){const t=y.useContext(Ihe);return e||t||"ltr"}const Rhe=["top","right","bottom","left"],es=Math.min,Vr=Math.max,Bm=Math.round,Uf=Math.floor,ya=e=>({x:e,y:e}),$he={left:"right",right:"left",bottom:"top",top:"bottom"},Lhe={start:"end",end:"start"};function Q0(e,t,r){return Vr(e,es(t,r))}function ti(e,t){return typeof e=="function"?e(t):e}function ri(e){return e.split("-")[0]}function dc(e){return e.split("-")[1]}function Q1(e){return e==="x"?"y":"x"}function Z1(e){return e==="y"?"height":"width"}const Fhe=new Set(["top","bottom"]);function ma(e){return Fhe.has(ri(e))?"y":"x"}function eS(e){return Q1(ma(e))}function Bhe(e,t,r){r===void 0&&(r=!1);const n=dc(e),a=eS(e),i=Z1(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=zm(o)),[o,zm(o)]}function zhe(e){const t=zm(e);return[Z0(e),t,Z0(t)]}function Z0(e){return e.replace(/start|end/g,t=>Lhe[t])}const ok=["left","right"],lk=["right","left"],Uhe=["top","bottom"],Whe=["bottom","top"];function Vhe(e,t,r){switch(e){case"top":case"bottom":return r?t?lk:ok:t?ok:lk;case"left":case"right":return t?Uhe:Whe;default:return[]}}function Hhe(e,t,r,n){const a=dc(e);let i=Vhe(ri(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Z0)))),i}function zm(e){return e.replace(/left|right|bottom|top/g,t=>$he[t])}function qhe(e){return{top:0,right:0,bottom:0,left:0,...e}}function hL(e){return typeof e!="number"?qhe(e):{top:e,right:e,bottom:e,left:e}}function Um(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function ck(e,t,r){let{reference:n,floating:a}=e;const i=ma(t),o=eS(t),l=Z1(o),c=ri(t),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-a.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(dc(t)){case"start":m[o]-=h*(r&&d?-1:1);break;case"end":m[o]+=h*(r&&d?-1:1);break}return m}const Khe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=ck(d,n,c),h=n,m={},p=0;for(let g=0;g<l.length;g++){const{name:v,fn:x}=l[g],{x:b,y:w,data:j,reset:S}=await x({x:u,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,f=w??f,m={...m,[v]:{...m[v],...j}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:u,y:f}=ck(d,h,c)),g=-1)}return{x:u,y:f,placement:h,strategy:a,middlewareData:m}};async function Xu(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ti(t,e),p=hL(m),v=l[h?f==="floating"?"reference":"floating":f],x=Um(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Um(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-S.top+p.top)/j.y,bottom:(S.bottom-x.bottom+p.bottom)/j.y,left:(x.left-S.left+p.left)/j.x,right:(S.right-x.right+p.right)/j.x}}const Ghe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ti(e,t)||{};if(d==null)return{};const f=hL(u),h={x:r,y:n},m=eS(a),p=Z1(m),g=await o.getDimensions(d),v=m==="y",x=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=i.reference[p]+i.reference[m]-h[m]-i.floating[p],S=h[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=N?N[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(N)))&&(_=l.floating[w]||i.floating[p]);const E=j/2-S/2,k=_/2-g[p]/2-1,P=es(f[x],k),A=es(f[b],k),C=P,O=_-g[p]-A,I=_/2-g[p]/2+E,R=Q0(C,I,O),T=!c.arrow&&dc(a)!=null&&I!==R&&i.reference[p]/2-(I<C?P:A)-g[p]/2<0,M=T?I<C?I-C:I-O:0;return{[m]:h[m]+M,data:{[m]:R,centerOffset:I-R-M,...T&&{alignmentOffset:M}},reset:T}}}),Yhe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=ti(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=ri(a),b=ma(l),w=ri(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=h||(w||!g?[zm(l)]:zhe(l)),N=p!=="none";!h&&N&&S.push(...Hhe(l,g,p,j));const _=[l,...S],E=await Xu(t,v),k=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&k.push(E[x]),f){const I=Bhe(a,o,j);k.push(E[I[0]],E[I[1]])}if(P=[...P,{placement:a,overflows:k}],!k.every(I=>I<=0)){var A,C;const I=(((A=i.flip)==null?void 0:A.index)||0)+1,R=_[I];if(R&&(!(f==="alignment"?b!==ma(R):!1)||P.every(D=>ma(D.placement)===b?D.overflows[0]>0:!0)))return{data:{index:I,overflows:P},reset:{placement:R}};let T=(C=P.filter(M=>M.overflows[0]<=0).sort((M,D)=>M.overflows[1]-D.overflows[1])[0])==null?void 0:C.placement;if(!T)switch(m){case"bestFit":{var O;const M=(O=P.filter(D=>{if(N){const F=ma(D.placement);return F===b||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,H)=>F+H,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:O[0];M&&(T=M);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function uk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dk(e){return Rhe.some(t=>e[t]>=0)}const Xhe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ti(e,t);switch(n){case"referenceHidden":{const i=await Xu(t,{...a,elementContext:"reference"}),o=uk(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dk(o)}}}case"escaped":{const i=await Xu(t,{...a,altBoundary:!0}),o=uk(i,r.floating);return{data:{escapedOffsets:o,escaped:dk(o)}}}default:return{}}}}},mL=new Set(["left","top"]);async function Jhe(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ri(r),l=dc(r),c=ma(r)==="y",d=mL.has(o)?-1:1,u=i&&c?-1:1,f=ti(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*u,y:h*d}:{x:h*d,y:m*u}}const Qhe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Jhe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Zhe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...c}=ti(e,t),d={x:r,y:n},u=await Xu(t,c),f=ma(ri(a)),h=Q1(f);let m=d[h],p=d[f];if(i){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=m+u[v],w=m-u[x];m=Q0(b,m,w)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=p+u[v],w=p-u[x];p=Q0(b,p,w)}const g=l.fn({...t,[h]:m,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:i,[f]:o}}}}}},eme=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ti(e,t),u={x:r,y:n},f=ma(a),h=Q1(f);let m=u[h],p=u[f];const g=ti(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",j=i.reference[h]-i.floating[w]+v.mainAxis,S=i.reference[h]+i.reference[w]-v.mainAxis;m<j?m=j:m>S&&(m=S)}if(d){var x,b;const w=h==="y"?"width":"height",j=mL.has(ri(a)),S=i.reference[f]-i.floating[w]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:v.crossAxis),N=i.reference[f]+i.reference[w]+(j?0:((b=o.offset)==null?void 0:b[f])||0)-(j?v.crossAxis:0);p<S?p=S:p>N&&(p=N)}return{[h]:m,[f]:p}}}},tme=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ti(e,t),u=await Xu(t,d),f=ri(a),h=dc(a),m=ma(a)==="y",{width:p,height:g}=i.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const b=g-u.top-u.bottom,w=p-u.left-u.right,j=es(g-u[v],b),S=es(p-u[x],w),N=!t.middlewareData.shift;let _=j,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=b),N&&!h){const P=Vr(u.left,0),A=Vr(u.right,0),C=Vr(u.top,0),O=Vr(u.bottom,0);m?E=p-2*(P!==0||A!==0?P+A:Vr(u.left,u.right)):_=g-2*(C!==0||O!==0?C+O:Vr(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:_});const k=await o.getDimensions(l.floating);return p!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function Kg(){return typeof window<"u"}function fc(e){return pL(e)?(e.nodeName||"").toLowerCase():"#document"}function en(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _a(e){var t;return(t=(pL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pL(e){return Kg()?e instanceof Node||e instanceof en(e).Node:!1}function Zn(e){return Kg()?e instanceof Element||e instanceof en(e).Element:!1}function Sa(e){return Kg()?e instanceof HTMLElement||e instanceof en(e).HTMLElement:!1}function fk(e){return!Kg()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof en(e).ShadowRoot}const rme=new Set(["inline","contents"]);function Ud(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ea(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!rme.has(a)}const nme=new Set(["table","td","th"]);function ame(e){return nme.has(fc(e))}const ime=[":popover-open",":modal"];function Gg(e){return ime.some(t=>{try{return e.matches(t)}catch{return!1}})}const sme=["transform","translate","scale","rotate","perspective"],ome=["transform","translate","scale","rotate","perspective","filter"],lme=["paint","layout","strict","content"];function tS(e){const t=rS(),r=Zn(e)?ea(e):e;return sme.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||ome.some(n=>(r.willChange||"").includes(n))||lme.some(n=>(r.contain||"").includes(n))}function cme(e){let t=ts(e);for(;Sa(t)&&!Bl(t);){if(tS(t))return t;if(Gg(t))return null;t=ts(t)}return null}function rS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ume=new Set(["html","body","#document"]);function Bl(e){return ume.has(fc(e))}function ea(e){return en(e).getComputedStyle(e)}function Yg(e){return Zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ts(e){if(fc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fk(e)&&e.host||_a(e);return fk(t)?t.host:t}function gL(e){const t=ts(e);return Bl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sa(t)&&Ud(t)?t:gL(t)}function Ju(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=gL(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=en(a);if(i){const l=eb(o);return t.concat(o,o.visualViewport||[],Ud(a)?a:[],l&&r?Ju(l):[])}return t.concat(a,Ju(a,[],r))}function eb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vL(e){const t=ea(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Sa(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Bm(r)!==i||Bm(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function nS(e){return Zn(e)?e:e.contextElement}function hl(e){const t=nS(e);if(!Sa(t))return ya(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=vL(t);let o=(i?Bm(r.width):r.width)/n,l=(i?Bm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const dme=ya(0);function yL(e){const t=en(e);return!rS()||!t.visualViewport?dme:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fme(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==en(e)?!1:t}function fo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=nS(e);let o=ya(1);t&&(n?Zn(n)&&(o=hl(n)):o=hl(e));const l=fme(i,r,n)?yL(i):ya(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const h=en(i),m=n&&Zn(n)?en(n):n;let p=h,g=eb(p);for(;g&&n&&m!==p;){const v=hl(g),x=g.getBoundingClientRect(),b=ea(g),w=x.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,j=x.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,f*=v.y,c+=w,d+=j,p=en(g),g=eb(p)}}return Um({width:u,height:f,x:c,y:d})}function Xg(e,t){const r=Yg(e).scrollLeft;return t?t.left+r:fo(_a(e)).left+r}function xL(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Xg(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function hme(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=_a(n),l=t?Gg(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=ya(1);const u=ya(0),f=Sa(n);if((f||!f&&!i)&&((fc(n)!=="body"||Ud(o))&&(c=Yg(n)),Sa(n))){const m=fo(n);d=hl(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const h=o&&!f&&!i?xL(o,c):ya(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function mme(e){return Array.from(e.getClientRects())}function pme(e){const t=_a(e),r=Yg(e),n=e.ownerDocument.body,a=Vr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Vr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Xg(e);const l=-r.scrollTop;return ea(n).direction==="rtl"&&(o+=Vr(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const hk=25;function gme(e,t){const r=en(e),n=_a(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=rS();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Xg(n);if(d<=0){const u=n.ownerDocument,f=u.body,h=getComputedStyle(f),m=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(n.clientWidth-f.clientWidth-m);p<=hk&&(i-=p)}else d<=hk&&(i+=d);return{width:i,height:o,x:l,y:c}}const vme=new Set(["absolute","fixed"]);function yme(e,t){const r=fo(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Sa(e)?hl(e):ya(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function mk(e,t,r){let n;if(t==="viewport")n=gme(e,r);else if(t==="document")n=pme(_a(e));else if(Zn(t))n=yme(t,r);else{const a=yL(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Um(n)}function bL(e,t){const r=ts(e);return r===t||!Zn(r)||Bl(r)?!1:ea(r).position==="fixed"||bL(r,t)}function xme(e,t){const r=t.get(e);if(r)return r;let n=Ju(e,[],!1).filter(l=>Zn(l)&&fc(l)!=="body"),a=null;const i=ea(e).position==="fixed";let o=i?ts(e):e;for(;Zn(o)&&!Bl(o);){const l=ea(o),c=tS(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&vme.has(a.position)||Ud(o)&&!c&&bL(e,o))?n=n.filter(u=>u!==o):a=l,o=ts(o)}return t.set(e,n),n}function bme(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Gg(t)?[]:xme(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=mk(t,u,a);return d.top=Vr(f.top,d.top),d.right=es(f.right,d.right),d.bottom=es(f.bottom,d.bottom),d.left=Vr(f.left,d.left),d},mk(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wme(e){const{width:t,height:r}=vL(e);return{width:t,height:r}}function jme(e,t,r){const n=Sa(t),a=_a(t),i=r==="fixed",o=fo(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ya(0);function d(){c.x=Xg(a)}if(n||!n&&!i)if((fc(t)!=="body"||Ud(a))&&(l=Yg(t)),n){const m=fo(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?xL(a,l):ya(0),f=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function Dy(e){return ea(e).position==="static"}function pk(e,t){if(!Sa(e)||ea(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return _a(e)===r&&(r=r.ownerDocument.body),r}function wL(e,t){const r=en(e);if(Gg(e))return r;if(!Sa(e)){let a=ts(e);for(;a&&!Bl(a);){if(Zn(a)&&!Dy(a))return a;a=ts(a)}return r}let n=pk(e,t);for(;n&&ame(n)&&Dy(n);)n=pk(n,t);return n&&Bl(n)&&Dy(n)&&!tS(n)?r:n||cme(e)||r}const Sme=async function(e){const t=this.getOffsetParent||wL,r=this.getDimensions,n=await r(e.floating);return{reference:jme(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Nme(e){return ea(e).direction==="rtl"}const _me={convertOffsetParentRelativeRectToViewportRelativeRect:hme,getDocumentElement:_a,getClippingRect:bme,getOffsetParent:wL,getElementRects:Sme,getClientRects:mme,getDimensions:wme,getScale:hl,isElement:Zn,isRTL:Nme};function jL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Cme(e,t){let r=null,n;const a=_a(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:h,height:m}=d;if(l||t(),!h||!m)return;const p=Uf(f),g=Uf(a.clientWidth-(u+h)),v=Uf(a.clientHeight-(f+m)),x=Uf(u),w={rootMargin:-p+"px "+-g+"px "+-v+"px "+-x+"px",threshold:Vr(0,es(1,c))||1};let j=!0;function S(N){const _=N[0].intersectionRatio;if(_!==c){if(!j)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!jL(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),i}function Eme(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=nS(e),u=a||i?[...d?Ju(d):[],...Ju(t)]:[];u.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=d&&l?Cme(d,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let p,g=c?fo(e):null;c&&v();function v(){const x=fo(e);g&&!jL(g,x)&&r(),g=x,p=requestAnimationFrame(v)}return r(),()=>{var x;u.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const kme=Qhe,Pme=Zhe,Ame=Yhe,Ome=tme,Tme=Xhe,gk=Ghe,Dme=eme,Ime=(e,t,r)=>{const n=new Map,a={platform:_me,...r},i={...a.platform,_c:n};return Khe(e,t,{...a,platform:i})};var Mme=typeof document<"u",Rme=function(){},oh=Mme?y.useLayoutEffect:Rme;function Wm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Wm(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Wm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function SL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vk(e,t){const r=SL(e);return Math.round(t*r)/r}function Iy(e){const t=y.useRef(e);return oh(()=>{t.current=e}),t}function $me(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);Wm(h,n)||m(n);const[p,g]=y.useState(null),[v,x]=y.useState(null),b=y.useCallback(D=>{D!==N.current&&(N.current=D,g(D))},[]),w=y.useCallback(D=>{D!==_.current&&(_.current=D,x(D))},[]),j=i||p,S=o||v,N=y.useRef(null),_=y.useRef(null),E=y.useRef(u),k=c!=null,P=Iy(c),A=Iy(a),C=Iy(d),O=y.useCallback(()=>{if(!N.current||!_.current)return;const D={placement:t,strategy:r,middleware:h};A.current&&(D.platform=A.current),Ime(N.current,_.current,D).then(F=>{const H={...F,isPositioned:C.current!==!1};I.current&&!Wm(E.current,H)&&(E.current=H,is.flushSync(()=>{f(H)}))})},[h,t,r,A,C]);oh(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[d]);const I=y.useRef(!1);oh(()=>(I.current=!0,()=>{I.current=!1}),[]),oh(()=>{if(j&&(N.current=j),S&&(_.current=S),j&&S){if(P.current)return P.current(j,S,O);O()}},[j,S,O,P,k]);const R=y.useMemo(()=>({reference:N,floating:_,setReference:b,setFloating:w}),[b,w]),T=y.useMemo(()=>({reference:j,floating:S}),[j,S]),M=y.useMemo(()=>{const D={position:r,left:0,top:0};if(!T.floating)return D;const F=vk(T.floating,u.x),H=vk(T.floating,u.y);return l?{...D,transform:"translate("+F+"px, "+H+"px)",...SL(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:H}},[r,l,T.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:O,refs:R,elements:T,floatingStyles:M}),[u,O,R,T,M])}const Lme=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?gk({element:n.current,padding:a}).fn(r):{}:n?gk({element:n,padding:a}).fn(r):{}}}},Fme=(e,t)=>({...kme(e),options:[e,t]}),Bme=(e,t)=>({...Pme(e),options:[e,t]}),zme=(e,t)=>({...Dme(e),options:[e,t]}),Ume=(e,t)=>({...Ame(e),options:[e,t]}),Wme=(e,t)=>({...Ome(e),options:[e,t]}),Vme=(e,t)=>({...Tme(e),options:[e,t]}),Hme=(e,t)=>({...Lme(e),options:[e,t]});var qme="Arrow",NL=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Xe.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});NL.displayName=qme;var Kme=NL;function Gme(e){const[t,r]=y.useState(void 0);return pr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var aS="Popper",[_L,CL]=zg(aS),[Yme,EL]=_L(aS),kL=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return s.jsx(Yme,{scope:t,anchor:n,onAnchorChange:a,children:r})};kL.displayName=aS;var PL="PopperAnchor",AL=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=EL(PL,r),o=y.useRef(null),l=vt(t,o),c=y.useRef(null);return y.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Xe.div,{...a,ref:l})});AL.displayName=PL;var iS="PopperContent",[Xme,Jme]=_L(iS),OL=y.forwardRef((e,t)=>{var J,be,Y,te,ae,V;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,v=EL(iS,r),[x,b]=y.useState(null),w=vt(t,ke=>b(ke)),[j,S]=y.useState(null),N=Gme(j),_=(N==null?void 0:N.width)??0,E=(N==null?void 0:N.height)??0,k=n+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],C=A.length>0,O={padding:P,boundary:A.filter(Zme),altBoundary:C},{refs:I,floatingStyles:R,placement:T,isPositioned:M,middlewareData:D}=$me({strategy:"fixed",placement:k,whileElementsMounted:(...ke)=>Eme(...ke,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Fme({mainAxis:a+E,alignmentAxis:o}),c&&Bme({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zme():void 0,...O}),c&&Ume({...O}),Wme({...O,apply:({elements:ke,rects:xe,availableWidth:nt,availableHeight:Je})=>{const{width:jt,height:ui}=xe.reference,cn=ke.floating.style;cn.setProperty("--radix-popper-available-width",`${nt}px`),cn.setProperty("--radix-popper-available-height",`${Je}px`),cn.setProperty("--radix-popper-anchor-width",`${jt}px`),cn.setProperty("--radix-popper-anchor-height",`${ui}px`)}}),j&&Hme({element:j,padding:l}),epe({arrowWidth:_,arrowHeight:E}),h&&Vme({strategy:"referenceHidden",...O})]}),[F,H]=IL(T),Z=co(p);pr(()=>{M&&(Z==null||Z())},[M,Z]);const W=(J=D.arrow)==null?void 0:J.x,se=(be=D.arrow)==null?void 0:be.y,he=((Y=D.arrow)==null?void 0:Y.centerOffset)!==0,[ge,le]=y.useState();return pr(()=>{x&&le(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:M?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(te=D.transformOrigin)==null?void 0:te.x,(ae=D.transformOrigin)==null?void 0:ae.y].join(" "),...((V=D.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Xme,{scope:r,placedSide:F,onArrowChange:S,arrowX:W,arrowY:se,shouldHideArrow:he,children:s.jsx(Xe.div,{"data-side":F,"data-align":H,...g,ref:w,style:{...g.style,animation:M?void 0:"none"}})})})});OL.displayName=iS;var TL="PopperArrow",Qme={top:"bottom",right:"left",bottom:"top",left:"right"},DL=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Jme(TL,n),o=Qme[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Kme,{...a,ref:r,style:{...a.style,display:"block"}})})});DL.displayName=TL;function Zme(e){return e!==null}var epe=e=>({name:"transformOrigin",options:e,fn(t){var v,x,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=IL(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let p="",g="";return d==="bottom"?(p=o?f:`${h}px`,g=`${-c}px`):d==="top"?(p=o?f:`${h}px`,g=`${n.floating.height+c}px`):d==="right"?(p=`${-c}px`,g=o?f:`${m}px`):d==="left"&&(p=`${n.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:p,y:g}}}});function IL(e){const[t,r="center"]=e.split("-");return[t,r]}var tpe=kL,rpe=AL,npe=OL,ape=DL;function ipe(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ML=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),spe="VisuallyHidden",ope=y.forwardRef((e,t)=>s.jsx(Xe.span,{...e,ref:t,style:{...ML,...e.style}}));ope.displayName=spe;var lpe=[" ","Enter","ArrowUp","ArrowDown"],cpe=[" ","Enter"],ho="Select",[Jg,Qg,upe]=Dhe(ho),[hc,kge]=zg(ho,[upe,CL]),Zg=CL(),[dpe,xs]=hc(ho),[fpe,hpe]=hc(ho),RL=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:m,form:p}=e,g=Zg(t),[v,x]=y.useState(null),[b,w]=y.useState(null),[j,S]=y.useState(!1),N=Mhe(d),[_,E]=q0({prop:n,defaultProp:a??!1,onChange:i,caller:ho}),[k,P]=q0({prop:o,defaultProp:l,onChange:c,caller:ho}),A=y.useRef(null),C=v?p||!!v.closest("form"):!0,[O,I]=y.useState(new Set),R=Array.from(O).map(T=>T.props.value).join(";");return s.jsx(tpe,{...g,children:s.jsxs(dpe,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:dl(),value:k,onValueChange:P,open:_,onOpenChange:E,dir:N,triggerPointerDownPosRef:A,disabled:h,children:[s.jsx(Jg.Provider,{scope:t,children:s.jsx(fpe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(T=>{I(M=>new Set(M).add(T))},[]),onNativeOptionRemove:y.useCallback(T=>{I(M=>{const D=new Set(M);return D.delete(T),D})},[]),children:r})}),C?s.jsxs(s3,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:k,onChange:T=>P(T.target.value),disabled:h,form:p,children:[k===void 0?s.jsx("option",{value:""}):null,Array.from(O)]},R):null]})})};RL.displayName=ho;var $L="SelectTrigger",LL=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Zg(r),o=xs($L,r),l=o.disabled||n,c=vt(t,o.onTriggerChange),d=Qg(r),u=y.useRef("touch"),[f,h,m]=l3(g=>{const v=d().filter(w=>!w.disabled),x=v.find(w=>w.value===o.value),b=c3(v,g,x);b!==void 0&&o.onValueChange(b.value)}),p=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(rpe,{asChild:!0,...i,children:s.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o3(o.value)?"":void 0,...a,ref:c,onClick:et(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&p(g)}),onPointerDown:et(a.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:et(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&lpe.includes(g.key)&&(p(),g.preventDefault())})})})});LL.displayName=$L;var FL="SelectValue",BL=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=xs(FL,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=vt(t,c.onValueNodeChange);return pr(()=>{d(u)},[d,u]),s.jsx(Xe.span,{...l,ref:f,style:{pointerEvents:"none"},children:o3(c.value)?s.jsx(s.Fragment,{children:o}):i})});BL.displayName=FL;var mpe="SelectIcon",zL=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Xe.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});zL.displayName=mpe;var ppe="SelectPortal",UL=e=>s.jsx(q1,{asChild:!0,...e});UL.displayName=ppe;var mo="SelectContent",WL=y.forwardRef((e,t)=>{const r=xs(mo,e.__scopeSelect),[n,a]=y.useState();if(pr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?is.createPortal(s.jsx(VL,{scope:e.__scopeSelect,children:s.jsx(Jg.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(HL,{...e,ref:t})});WL.displayName=mo;var Fn=10,[VL,bs]=hc(mo),gpe="SelectContentImpl",vpe=Cl("SelectContent.RemoveScroll"),HL=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v,...x}=e,b=xs(mo,r),[w,j]=y.useState(null),[S,N]=y.useState(null),_=vt(t,J=>j(J)),[E,k]=y.useState(null),[P,A]=y.useState(null),C=Qg(r),[O,I]=y.useState(!1),R=y.useRef(!1);y.useEffect(()=>{if(w)return O$(w)},[w]),j$();const T=y.useCallback(J=>{const[be,...Y]=C().map(V=>V.ref.current),[te]=Y.slice(-1),ae=document.activeElement;for(const V of J)if(V===ae||(V==null||V.scrollIntoView({block:"nearest"}),V===be&&S&&(S.scrollTop=0),V===te&&S&&(S.scrollTop=S.scrollHeight),V==null||V.focus(),document.activeElement!==ae))return},[C,S]),M=y.useCallback(()=>T([E,w]),[T,E,w]);y.useEffect(()=>{O&&M()},[O,M]);const{onOpenChange:D,triggerPointerDownPosRef:F}=b;y.useEffect(()=>{if(w){let J={x:0,y:0};const be=te=>{var ae,V;J={x:Math.abs(Math.round(te.pageX)-(((ae=F.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(te.pageY)-(((V=F.current)==null?void 0:V.y)??0))}},Y=te=>{J.x<=10&&J.y<=10?te.preventDefault():w.contains(te.target)||D(!1),document.removeEventListener("pointermove",be),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,D,F]),y.useEffect(()=>{const J=()=>D(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[D]);const[H,Z]=l3(J=>{const be=C().filter(ae=>!ae.disabled),Y=be.find(ae=>ae.ref.current===document.activeElement),te=c3(be,J,Y);te&&setTimeout(()=>te.ref.current.focus())}),W=y.useCallback((J,be,Y)=>{const te=!R.current&&!Y;(b.value!==void 0&&b.value===be||te)&&(k(J),te&&(R.current=!0))},[b.value]),se=y.useCallback(()=>w==null?void 0:w.focus(),[w]),he=y.useCallback((J,be,Y)=>{const te=!R.current&&!Y;(b.value!==void 0&&b.value===be||te)&&A(J)},[b.value]),ge=n==="popper"?tb:qL,le=ge===tb?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(VL,{scope:r,content:w,viewport:S,onViewportChange:N,itemRefCallback:W,selectedItem:E,onItemLeave:se,itemTextRefCallback:he,focusSelectedItem:M,selectedItemText:P,position:n,isPositioned:O,searchRef:H,children:s.jsx(K1,{as:vpe,allowPinchZoom:!0,children:s.jsx(H1,{asChild:!0,trapped:b.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:et(a,J=>{var be;(be=b.trigger)==null||be.focus({preventScroll:!0}),J.preventDefault()}),children:s.jsx(V1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ge,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:J=>J.preventDefault(),...x,...le,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:et(x.onKeyDown,J=>{const be=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!be&&J.key.length===1&&Z(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let te=C().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(J.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ae=J.target,V=te.indexOf(ae);te=te.slice(V+1)}setTimeout(()=>T(te)),J.preventDefault()}})})})})})})});HL.displayName=gpe;var ype="SelectItemAlignedPosition",qL=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=xs(mo,r),o=bs(mo,r),[l,c]=y.useState(null),[d,u]=y.useState(null),f=vt(t,_=>u(_)),h=Qg(r),m=y.useRef(!1),p=y.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&x){const _=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(i.dir!=="rtl"){const ae=P.left-E.left,V=k.left-ae,ke=_.left-V,xe=_.width+ke,nt=Math.max(xe,E.width),Je=window.innerWidth-Fn,jt=sk(V,[Fn,Math.max(Fn,Je-nt)]);l.style.minWidth=xe+"px",l.style.left=jt+"px"}else{const ae=E.right-P.right,V=window.innerWidth-k.right-ae,ke=window.innerWidth-_.right-V,xe=_.width+ke,nt=Math.max(xe,E.width),Je=window.innerWidth-Fn,jt=sk(V,[Fn,Math.max(Fn,Je-nt)]);l.style.minWidth=xe+"px",l.style.right=jt+"px"}const A=h(),C=window.innerHeight-Fn*2,O=g.scrollHeight,I=window.getComputedStyle(d),R=parseInt(I.borderTopWidth,10),T=parseInt(I.paddingTop,10),M=parseInt(I.borderBottomWidth,10),D=parseInt(I.paddingBottom,10),F=R+T+O+D+M,H=Math.min(v.offsetHeight*5,F),Z=window.getComputedStyle(g),W=parseInt(Z.paddingTop,10),se=parseInt(Z.paddingBottom,10),he=_.top+_.height/2-Fn,ge=C-he,le=v.offsetHeight/2,J=v.offsetTop+le,be=R+T+J,Y=F-be;if(be<=he){const ae=A.length>0&&v===A[A.length-1].ref.current;l.style.bottom="0px";const V=d.clientHeight-g.offsetTop-g.offsetHeight,ke=Math.max(ge,le+(ae?se:0)+V+M),xe=be+ke;l.style.height=xe+"px"}else{const ae=A.length>0&&v===A[0].ref.current;l.style.top="0px";const ke=Math.max(he,R+g.offsetTop+(ae?W:0)+le)+Y;l.style.height=ke+"px",g.scrollTop=be-he+g.offsetTop}l.style.margin=`${Fn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=C+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,d,g,v,x,i.dir,n]);pr(()=>w(),[w]);const[j,S]=y.useState();pr(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const N=y.useCallback(_=>{_&&p.current===!0&&(w(),b==null||b(),p.current=!1)},[w,b]);return s.jsx(bpe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Xe.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});qL.displayName=ype;var xpe="SelectPopperPosition",tb=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Fn,...i}=e,o=Zg(r);return s.jsx(npe,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tb.displayName=xpe;var[bpe,sS]=hc(mo,{}),rb="SelectViewport",KL=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=bs(rb,r),o=sS(rb,r),l=vt(t,i.onViewportChange),c=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Jg.Slot,{scope:r,children:s.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:et(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-u.scrollTop);if(m>0){const p=window.innerHeight-Fn*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(g,v);if(x<p){const b=x+m,w=Math.min(p,b),j=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});KL.displayName=rb;var GL="SelectGroup",[wpe,jpe]=hc(GL),Spe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=dl();return s.jsx(wpe,{scope:r,id:a,children:s.jsx(Xe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Spe.displayName=GL;var YL="SelectLabel",XL=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=jpe(YL,r);return s.jsx(Xe.div,{id:a.id,...n,ref:t})});XL.displayName=YL;var Vm="SelectItem",[Npe,JL]=hc(Vm),QL=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=xs(Vm,r),c=bs(Vm,r),d=l.value===n,[u,f]=y.useState(i??""),[h,m]=y.useState(!1),p=vt(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,a)}),g=dl(),v=y.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Npe,{scope:r,value:n,disabled:a,textId:g,isSelected:d,onItemTextChange:y.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(Jg.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(Xe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:et(o.onFocus,()=>m(!0)),onBlur:et(o.onBlur,()=>m(!1)),onClick:et(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:et(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:et(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:et(o.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:et(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(cpe.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});QL.displayName=Vm;var Kc="SelectItemText",ZL=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=xs(Kc,r),l=bs(Kc,r),c=JL(Kc,r),d=hpe(Kc,r),[u,f]=y.useState(null),h=vt(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),m=u==null?void 0:u.textContent,p=y.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return pr(()=>(g(p),()=>v(p)),[g,v,p]),s.jsxs(s.Fragment,{children:[s.jsx(Xe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?is.createPortal(i.children,o.valueNode):null]})});ZL.displayName=Kc;var e3="SelectItemIndicator",t3=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return JL(e3,r).isSelected?s.jsx(Xe.span,{"aria-hidden":!0,...n,ref:t}):null});t3.displayName=e3;var nb="SelectScrollUpButton",r3=y.forwardRef((e,t)=>{const r=bs(nb,e.__scopeSelect),n=sS(nb,e.__scopeSelect),[a,i]=y.useState(!1),o=vt(t,n.onScrollButtonChange);return pr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(a3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});r3.displayName=nb;var ab="SelectScrollDownButton",n3=y.forwardRef((e,t)=>{const r=bs(ab,e.__scopeSelect),n=sS(ab,e.__scopeSelect),[a,i]=y.useState(!1),o=vt(t,n.onScrollButtonChange);return pr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(a3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});n3.displayName=ab;var a3=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=bs("SelectScrollButton",r),o=y.useRef(null),l=Qg(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),pr(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Xe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:et(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:et(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:et(a.onPointerLeave,()=>{c()})})}),_pe="SelectSeparator",i3=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Xe.div,{"aria-hidden":!0,...n,ref:t})});i3.displayName=_pe;var ib="SelectArrow",Cpe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Zg(r),i=xs(ib,r),o=bs(ib,r);return i.open&&o.position==="popper"?s.jsx(ape,{...a,...n,ref:t}):null});Cpe.displayName=ib;var Epe="SelectBubbleInput",s3=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),i=vt(n,a),o=ipe(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Xe.select,{...r,style:{...ML,...r.style},ref:i,defaultValue:t})});s3.displayName=Epe;function o3(e){return e===""||e===void 0}function l3(e){const t=co(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function c3(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=kpe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function kpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ppe=RL,u3=LL,Ape=BL,Ope=zL,Tpe=UL,d3=WL,Dpe=KL,f3=XL,h3=QL,Ipe=ZL,Mpe=t3,m3=r3,p3=n3,g3=i3;const sb=Ppe,ob=Ape,Hm=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(u3,{ref:n,className:Se("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Ope,{asChild:!0,children:s.jsx(gO,{className:"h-4 w-4 opacity-50"})})]}));Hm.displayName=u3.displayName;const v3=y.forwardRef(({className:e,...t},r)=>s.jsx(m3,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(RU,{className:"h-4 w-4"})}));v3.displayName=m3.displayName;const y3=y.forwardRef(({className:e,...t},r)=>s.jsx(p3,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(gO,{className:"h-4 w-4"})}));y3.displayName=p3.displayName;const qm=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Tpe,{children:s.jsxs(d3,{ref:a,className:Se("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(v3,{}),s.jsx(Dpe,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(y3,{})]})}));qm.displayName=d3.displayName;const Rpe=y.forwardRef(({className:e,...t},r)=>s.jsx(f3,{ref:r,className:Se("px-2 py-1.5 text-sm font-semibold",e),...t}));Rpe.displayName=f3.displayName;const pn=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(h3,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Mpe,{children:s.jsx(lw,{className:"h-4 w-4"})})}),s.jsx(Ipe,{children:t})]}));pn.displayName=h3.displayName;const $pe=y.forwardRef(({className:e,...t},r)=>s.jsx(g3,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));$pe.displayName=g3.displayName;function Lpe({value:e,onChange:t,placeholder:r="Enter your motivation text...",className:n="",contentType:a="plain_text",onContentTypeChange:i,tone:o="professional",onToneChange:l,targetKeywords:c=[],onKeywordsChange:d}){const[u,f]=y.useState("write"),[h,m]=y.useState(0),[p,g]=y.useState(0),[v,x]=y.useState("");y.useEffect(()=>{const P=e.trim().split(/\s+/).filter(A=>A.length>0).length;m(P),g(Math.max(1,Math.round(P/200)))},[e]);const b=y.useCallback((P,A)=>{a==="rich_text"&&document.execCommand(P,!1,A)},[a]),w=y.useCallback((P,A="")=>{if(a!=="markdown")return;const C=document.getElementById("markdown-editor");if(!C)return;const O=C.selectionStart,I=C.selectionEnd,R=e.substring(O,I),T=P+R+A,M=e.substring(0,O)+T+e.substring(I);t(M),setTimeout(()=>{C.selectionStart=O+P.length,C.selectionEnd=O+P.length+R.length,C.focus()},0)},[e,t,a]),j=()=>{v.trim()&&!c.includes(v.trim())&&(d==null||d([...c,v.trim()]),x(""))},S=P=>{d==null||d(c.filter(A=>A!==P))},N=()=>s.jsx(Gr,{value:e,onChange:P=>t(P.target.value),placeholder:r,className:`min-h-[300px] resize-none ${n}`,rows:12}),_=()=>s.jsxs("div",{className:"border rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2 p-2 border-b bg-gray-50",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:()=>b("bold"),title:"Bold",children:s.jsx(KN,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>b("italic"),title:"Italic",children:s.jsx(YN,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>b("underline"),title:"Underline",children:s.jsx(i8,{className:"h-4 w-4"})}),s.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2"}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>b("insertUnorderedList"),title:"Bullet List",children:s.jsx(JN,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>b("insertOrderedList"),title:"Numbered List",children:s.jsx(XN,{className:"h-4 w-4"})}),s.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2"}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>b("undo"),title:"Undo",children:s.jsx(s8,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>b("redo"),title:"Redo",children:s.jsx(QU,{className:"h-4 w-4"})})]}),s.jsx("div",{contentEditable:!0,className:`p-4 min-h-[300px] outline-none ${n}`,onInput:P=>t(P.currentTarget.innerHTML),dangerouslySetInnerHTML:{__html:e},style:{whiteSpace:"pre-wrap"}})]}),E=()=>s.jsxs("div",{className:"border rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2 p-2 border-b bg-gray-50",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:()=>w("**","**"),title:"Bold",children:s.jsx(KN,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>w("*","*"),title:"Italic",children:s.jsx(YN,{className:"h-4 w-4"})}),s.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2"}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>w("- ",""),title:"Bullet List",children:s.jsx(JN,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>w("1. ",""),title:"Numbered List",children:s.jsx(XN,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>w("> ",""),title:"Quote",children:s.jsx(JU,{className:"h-4 w-4"})})]}),s.jsx(Gr,{id:"markdown-editor",value:e,onChange:P=>t(P.target.value),placeholder:r,className:`min-h-[300px] resize-none border-0 rounded-none ${n}`,rows:12})]}),k=()=>{if(a==="markdown"){const P=e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^> (.+)$/gm,"<blockquote>$1</blockquote>").replace(/^- (.+)$/gm,"<li>$1</li>").replace(/(<li>.*<\/li>)/s,"<ul>$1</ul>").replace(/\n/g,"<br>");return s.jsx("div",{className:"prose prose-sm max-w-none p-4 min-h-[300px] border rounded-md",dangerouslySetInnerHTML:{__html:P}})}return s.jsx("div",{className:"prose prose-sm max-w-none p-4 min-h-[300px] border rounded-md whitespace-pre-wrap",children:e||s.jsx("span",{className:"text-gray-400",children:"Nothing to preview..."})})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(re,{htmlFor:"content-type",children:"Content Type"}),s.jsxs(sb,{value:a,onValueChange:P=>i==null?void 0:i(P),children:[s.jsx(Hm,{children:s.jsx(ob,{placeholder:"Select content type"})}),s.jsxs(qm,{children:[s.jsx(pn,{value:"plain_text",children:"Plain Text"}),s.jsx(pn,{value:"rich_text",children:"Rich Text"}),s.jsx(pn,{value:"markdown",children:"Markdown"})]})]})]}),s.jsxs("div",{children:[s.jsx(re,{htmlFor:"tone",children:"Tone"}),s.jsxs(sb,{value:o,onValueChange:P=>l==null?void 0:l(P),children:[s.jsx(Hm,{children:s.jsx(ob,{placeholder:"Select tone"})}),s.jsxs(qm,{children:[s.jsx(pn,{value:"professional",children:"Professional"}),s.jsx(pn,{value:"casual",children:"Casual"}),s.jsx(pn,{value:"enthusiastic",children:"Enthusiastic"}),s.jsx(pn,{value:"technical",children:"Technical"}),s.jsx(pn,{value:"creative",children:"Creative"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(e_,{className:"h-4 w-4"}),h," words"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Me,{className:"h-4 w-4"}),p," min read"]})]})]}),d&&s.jsxs("div",{children:[s.jsx(re,{htmlFor:"keywords",children:"Target Keywords (ATS Optimization)"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(oe,{value:v,onChange:P=>x(P.target.value),placeholder:"Add keyword...",className:"flex-1",onKeyPress:P=>P.key==="Enter"&&j()}),s.jsxs($,{onClick:j,size:"sm",children:[s.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Add"]})]}),c.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:c.map(P=>s.jsxs(Ee,{variant:"secondary",className:"cursor-pointer",onClick:()=>S(P),children:[P," ×"]},P))})]}),s.jsxs(Hg,{value:u,onValueChange:P=>f(P),children:[s.jsxs(zd,{children:[s.jsxs(At,{value:"write",children:[s.jsx(e_,{className:"h-4 w-4 mr-2"}),"Write"]}),s.jsxs(At,{value:"preview",children:[s.jsx(yo,{className:"h-4 w-4 mr-2"}),"Preview"]})]}),s.jsxs($t,{value:"write",className:"mt-4",children:[a==="plain_text"&&N(),a==="rich_text"&&_(),a==="markdown"&&E()]}),s.jsx($t,{value:"preview",className:"mt-4",children:k()})]})]})}const yk=["General","Tech Role","Leadership","Startup","Consulting","Product Management","Frontend Development","Fullstack Development","Accessibility Expert","Project Management"];function x3({cvProfileId:e,onCreateMotivationText:t,existingPurposes:r,motivationTextToDuplicate:n,triggerButton:a}){const[i,o]=y.useState(!1),[l,c]=y.useState(!1),[d,u]=y.useState(""),[f,h]=y.useState(""),[m,p]=y.useState(""),[g,v]=y.useState(""),[x,b]=y.useState(!1),[w,j]=y.useState("plain_text"),[S,N]=y.useState(null),[_,E]=y.useState("professional"),[k,P]=y.useState([]),[A,C]=y.useState(!1),[O,I]=y.useState("");y.useEffect(()=>{n&&i?(u(`${n.title} (Copy)`),h(n.content),p(n.purpose),b(!1),j(n.content_type||"plain_text"),N(n.rich_content),E(n.tone||"professional"),P(n.target_keywords||[]),C(n.is_ai_generated||!1),I(n.ai_prompt_used||"")):i&&!n&&(u(""),h(""),p(""),v(""),b(!1),j("plain_text"),N(null),E("professional"),P([]),C(!1),I(""))},[n,i]);const R=async M=>{if(M.preventDefault(),!(!d.trim()||!f.trim())){c(!0);try{const D=m==="custom"?g:m,F={cv_profile_id:e,title:d.trim(),content:f.trim(),purpose:D.trim(),is_default:x,content_type:w,rich_content:S,tone:_,target_keywords:k,is_ai_generated:A,ai_prompt_used:O.trim()||null};await t(F)&&(o(!1),u(""),h(""),p(""),v(""),b(!1),j("plain_text"),N(null),E("professional"),P([]),C(!1),I(""))}catch(D){console.error("Failed to create motivation text:",D)}finally{c(!1)}}};f.trim()&&f.trim().split(/\s+/).length;const T=n?s.jsxs($,{variant:"outline",size:"sm",children:[s.jsx($h,{className:"h-4 w-4 mr-2"}),"Duplicate"]}):s.jsxs($,{children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Motivation Text"]});return s.jsxs(Sr,{open:i,onOpenChange:o,children:[s.jsx(Q$,{asChild:!0,children:a||T}),s.jsxs(dr,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsx(fr,{children:s.jsxs(hr,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),n?"Duplicate Motivation Text":"Add New Motivation Text"]})}),s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"title",children:"Title"}),s.jsx(oe,{id:"title",value:d,onChange:M=>u(M.target.value),placeholder:"e.g. Frontend Developer Role, Leadership Position...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"purpose",children:"Purpose/Type"}),s.jsxs(sb,{value:m,onValueChange:p,children:[s.jsx(Hm,{children:s.jsx(ob,{placeholder:"Select purpose or type"})}),s.jsxs(qm,{children:[yk.map(M=>s.jsx(pn,{value:M,children:M},M)),r.filter(M=>!yk.includes(M)).map(M=>s.jsx(pn,{value:M,children:M},M)),s.jsx(pn,{value:"custom",children:"Custom..."})]})]})]}),m==="custom"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"customPurpose",children:"Custom Purpose"}),s.jsx(oe,{id:"customPurpose",value:g,onChange:M=>v(M.target.value),placeholder:"Enter custom purpose...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"content",children:"Motivation Text"}),s.jsx(Lpe,{value:f,onChange:(M,D)=>{h(M),N(D)},placeholder:"Write your motivation text here. This could be a cover letter, personal summary, or role-specific motivation...",contentType:w,onContentTypeChange:j,tone:_,onToneChange:E,targetKeywords:k,onKeywordsChange:P})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ei,{id:"isAiGenerated",checked:A,onCheckedChange:M=>C(M)}),s.jsxs(re,{htmlFor:"isAiGenerated",className:"text-sm flex items-center gap-2",children:[s.jsx(r8,{className:"h-4 w-4"}),"AI Generated Content"]})]}),A&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"aiPrompt",children:"AI Prompt Used"}),s.jsx(Gr,{id:"aiPrompt",value:O,onChange:M=>I(M.target.value),placeholder:"Describe the prompt you used to generate this content...",rows:3})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ei,{id:"isDefault",checked:x,onCheckedChange:M=>b(M)}),s.jsx(re,{htmlFor:"isDefault",className:"text-sm",children:"Set as default motivation text"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:l||!d.trim()||!f.trim(),children:l?"Creating...":n?"Create Copy":"Create"})]})]})]})]})}function Fpe({motivationText:e,onUpdate:t,onDelete:r,onDuplicate:n,onSetAsDefault:a,existingPurposes:i,cvProfileId:o,onCreateMotivationText:l}){const[c,d]=y.useState(!1),[u,f]=y.useState(!1),[h,m]=y.useState(e.title),[p,g]=y.useState(e.content),[v,x]=y.useState(!1),b=async()=>{if(!(!h.trim()||!p.trim())){x(!0);try{await t(e.id,{title:h.trim(),content:p.trim()})&&f(!1)}catch(_){console.error("Failed to update motivation text:",_)}finally{x(!1)}}},w=()=>{m(e.title),g(e.content),f(!1)},j=async()=>{if(window.confirm("Are you sure you want to delete this motivation text?")){x(!0);try{await r(e.id)}catch(_){console.error("Failed to delete motivation text:",_)}finally{x(!1)}}},S=async()=>{x(!0);try{await a(e.id)}catch(_){console.error("Failed to set as default:",_)}finally{x(!1)}},N=e.content.length>150?e.content.substring(0,150)+"...":e.content;return s.jsxs(z,{className:`${e.is_default?"ring-2 ring-blue-500":""}`,children:[s.jsx(q,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[u?s.jsx("input",{type:"text",value:h,onChange:_=>m(_.target.value),className:"w-full text-lg font-semibold bg-transparent border-b border-gray-300 focus:border-blue-500 focus:outline-none",placeholder:"Enter title","aria-label":"Edit motivation text title",onKeyDown:_=>{_.key==="Enter"&&b(),_.key==="Escape"&&w()}}):s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),e.title,e.is_default&&s.jsx(Ee,{variant:"default",className:"bg-blue-500",children:"Default"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Ee,{variant:"outline",children:e.purpose}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.word_count," words"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:()=>d(!c),children:c?s.jsx($U,{className:"h-4 w-4"}):s.jsx(yo,{className:"h-4 w-4"})}),!e.is_default&&s.jsx($,{variant:"ghost",size:"sm",onClick:S,disabled:v,title:"Set as default",children:s.jsx(n8,{className:"h-4 w-4"})}),e.is_default&&s.jsx($,{variant:"ghost",size:"sm",disabled:!0,title:"This is the default",children:s.jsx(Bt,{className:"h-4 w-4 text-yellow-500"})}),s.jsx(x3,{cvProfileId:o,onCreateMotivationText:l,existingPurposes:i,motivationTextToDuplicate:e,triggerButton:s.jsx($,{variant:"ghost",size:"sm",title:"Duplicate",children:s.jsx($h,{className:"h-4 w-4"})})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>f(!u),disabled:v,children:s.jsx(wn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:j,disabled:v,className:"text-red-600 hover:text-red-700",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]})}),s.jsx(U,{children:u?s.jsxs("div",{className:"space-y-4",children:[s.jsx("textarea",{value:p,onChange:_=>g(_.target.value),rows:8,className:"w-full p-3 border rounded-md focus:border-blue-500 focus:outline-none resize-vertical",placeholder:"Enter motivation text..."}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{variant:"outline",size:"sm",onClick:w,disabled:v,children:"Cancel"}),s.jsx($,{size:"sm",onClick:b,disabled:v||!h.trim()||!p.trim(),children:v?"Saving...":"Save"})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:c?e.content:N}),!c&&e.content.length>150&&s.jsx($,{variant:"link",size:"sm",onClick:()=>d(!0),className:"p-0 h-auto text-blue-600",children:"Read more"})]})})]})}function Bpe({experience:e,onEdit:t,onDelete:r,onAddAchievement:n}){const[a,i]=y.useState(!1),o=u=>Za(new Date(u),"MMM yyyy"),l=()=>{const u=new Date(e.start_date),f=e.end_date?new Date(e.end_date):new Date,h=(f.getFullYear()-u.getFullYear())*12+(f.getMonth()-u.getMonth());if(h<12)return`${h} month${h!==1?"s":""}`;{const m=Math.floor(h/12),p=h%12;return`${m} year${m!==1?"s":""}${p>0?` ${p} month${p!==1?"s":""}`:""}`}},c=u=>{switch(u){case"Full-time":return"bg-blue-100 text-blue-800";case"Consulting":return"bg-purple-100 text-purple-800";case"Freelance":return"bg-green-100 text-green-800";case"Contract":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},d=u=>{switch(u){case"Startup":return"🚀";case"SME":return"🏢";case"Enterprise":return"🏛️";case"Government":return"🏛️";default:return"🏢"}};return s.jsxs(z,{className:"hover:shadow-lg transition-shadow duration-200",children:[s.jsx(q,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Oi,{className:"h-5 w-5 text-gray-500"}),s.jsx(K,{className:"text-lg",children:e.role_title}),e.is_current&&s.jsx(Ee,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Current"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Kl,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:e.company_name}),e.company_size&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-lg",children:d(e.company_size)}),s.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.company_size})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsxs("span",{children:[o(e.start_date)," - ",e.end_date?o(e.end_date):"Present"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Me,{className:"h-4 w-4"}),s.jsx("span",{children:l()})]}),e.location&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(yO,{className:"h-4 w-4"}),s.jsx("span",{children:e.location})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.employment_type&&s.jsx(Ee,{className:c(e.employment_type),children:e.employment_type}),e.company_industry&&s.jsx(Ee,{variant:"outline",children:e.company_industry})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:()=>t(e),children:s.jsx(wn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"text-red-500 hover:text-red-700",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]})}),s.jsxs(U,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.team_size&&s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx(ta,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.team_size}),s.jsx("div",{className:"text-xs text-gray-500",children:"Team Size"})]}),e.budget_responsibility&&s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx(rr,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),s.jsxs("div",{className:"text-sm font-medium",children:[e.budget_responsibility.toLocaleString()," ",e.currency]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Budget"})]}),e.achievement_count&&e.achievement_count>0&&s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx(Kn,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.achievement_count}),s.jsx("div",{className:"text-xs text-gray-500",children:"Achievements"})]}),e.technology_names&&e.technology_names.length>0&&s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx(ct,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.technology_names.length}),s.jsx("div",{className:"text-xs text-gray-500",children:"Technologies"})]})]}),e.description&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a?e.description:`${e.description.substring(0,200)}${e.description.length>200?"...":""}`}),e.description.length>200&&s.jsx($,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>i(!a),children:a?"Show less":"Show more"})]}),e.reporting_to&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Reporting Structure"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Reports to: ",e.reporting_to]})]}),e.technology_names&&e.technology_names.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Key Technologies"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.technology_names.map((u,f)=>s.jsx(Ee,{variant:"secondary",className:"text-xs",children:u},f))})]}),(!e.technology_names||e.technology_names.length===0)&&e.skills_used&&e.skills_used.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills Used"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills_used.map((u,f)=>s.jsx(Ee,{variant:"outline",className:"text-xs",children:u},f))})]}),e.achievements_titles&&e.achievements_titles.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Key Achievements"}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>n(e.id),children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Achievement"]})]}),s.jsx("ul",{className:"space-y-1",children:e.achievements_titles.map((u,f)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx(Bt,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),s.jsx("span",{children:u})]},f))})]}),(!e.achievements_titles||e.achievements_titles.length===0)&&e.achievements&&e.achievements.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Achievements"}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>n(e.id),children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Achievement"]})]}),s.jsx("ul",{className:"space-y-1",children:e.achievements.map((u,f)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx(Bt,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),s.jsx("span",{children:u})]},f))})]}),(!e.achievements_titles||e.achievements_titles.length===0)&&(!e.achievements||e.achievements.length===0)&&s.jsx("div",{className:"text-center py-4",children:s.jsxs($,{variant:"outline",onClick:()=>n(e.id),children:[s.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Add First Achievement"]})})]})]})}function zpe({project:e,onEdit:t,onDelete:r,onToggleFeatured:n,onAddAchievement:a}){const[i,o]=y.useState(!1),l=f=>Za(new Date(f),"MMM yyyy"),c=f=>{switch(f){case"Development":return"bg-blue-100 text-blue-800";case"Consulting":return"bg-purple-100 text-purple-800";case"Research":return"bg-green-100 text-green-800";case"Training":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},d=f=>{switch(f){case"Completed":return"bg-green-100 text-green-800";case"Ongoing":return"bg-blue-100 text-blue-800";case"Paused":return"bg-yellow-100 text-yellow-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=f=>{if(!f)return null;if(f<1)return"Less than 1 month";if(f<12)return`${f} month${f!==1?"s":""}`;const h=Math.floor(f/12),m=f%12;return`${h} year${h!==1?"s":""}${m>0?` ${m} month${m!==1?"s":""}`:""}`};return s.jsxs(z,{className:`hover:shadow-lg transition-shadow duration-200 ${e.is_featured?"ring-2 ring-yellow-400":""}`,children:[s.jsx(q,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ld,{className:"h-5 w-5 text-gray-500"}),s.jsx(K,{className:"text-lg",children:e.project_name}),e.is_featured&&s.jsx(Bt,{className:"h-5 w-5 text-yellow-500 fill-current"}),e.confidential&&s.jsxs(Ee,{variant:"secondary",className:"bg-red-100 text-red-800",children:[s.jsx(yo,{className:"h-3 w-3 mr-1"}),"Confidential"]})]}),s.jsxs("div",{className:"space-y-2",children:[e.client_company&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Kl,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:e.client_company}),e.client_industry&&s.jsx(Ee,{variant:"outline",className:"text-xs",children:e.client_industry})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsxs("span",{children:[l(e.start_date)," - ",e.end_date?l(e.end_date):"Ongoing"]})]}),e.duration_months&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Me,{className:"h-4 w-4"}),s.jsx("span",{children:u(e.duration_months)})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Ee,{className:d(e.project_status),children:e.project_status}),e.project_type&&s.jsx(Ee,{className:c(e.project_type),children:e.project_type})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:e.is_featured?"text-yellow-500":"text-gray-400",children:s.jsx(Bt,{className:`h-4 w-4 ${e.is_featured?"fill-current":""}`})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>t(e),children:s.jsx(wn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"text-red-500 hover:text-red-700",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]})}),s.jsxs(U,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.team_size&&s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx(ta,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.team_size}),s.jsx("div",{className:"text-xs text-gray-500",children:"Team Size"})]}),e.budget_range&&s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx(Dn,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.budget_range}),s.jsx("div",{className:"text-xs text-gray-500",children:"Budget"})]}),e.achievement_count&&e.achievement_count>0&&s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx(Kn,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.achievement_count}),s.jsx("div",{className:"text-xs text-gray-500",children:"Achievements"})]}),e.technology_names&&e.technology_names.length>0&&s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx(ct,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.technology_names.length}),s.jsx("div",{className:"text-xs text-gray-500",children:"Technologies"})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[e.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Project Description"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:i?e.description:`${e.description.substring(0,200)}${e.description.length>200?"...":""}`}),e.description.length>200&&s.jsx($,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>o(!i),children:i?"Show less":"Show more"})]}),e.my_role&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"My Role"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.my_role})]})]}),e.technology_names&&e.technology_names.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Technologies Used"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.technology_names.map((f,h)=>s.jsx(Ee,{variant:"secondary",className:"text-xs",children:f},h))})]}),(!e.technology_names||e.technology_names.length===0)&&e.technologies_used&&e.technologies_used.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Technologies Used"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.technologies_used.map((f,h)=>s.jsx(Ee,{variant:"outline",className:"text-xs",children:f},h))})]}),e.methodologies_used&&e.methodologies_used.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Methodologies"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.methodologies_used.map((f,h)=>s.jsx(Ee,{variant:"outline",className:"text-xs bg-indigo-50 text-indigo-700",children:f},h))})]}),e.challenges_overcome&&e.challenges_overcome.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Key Challenges Overcome"}),s.jsx("ul",{className:"space-y-1",children:e.challenges_overcome.map((f,h)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx(jO,{className:"h-3 w-3 mt-1 text-orange-500 flex-shrink-0"}),s.jsx("span",{children:f})]},h))})]}),e.achievements_titles&&e.achievements_titles.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Key Achievements"}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>a(e.id),children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Achievement"]})]}),s.jsx("ul",{className:"space-y-1",children:e.achievements_titles.map((f,h)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx(Bt,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),s.jsx("span",{children:f})]},h))})]}),(!e.achievements_titles||e.achievements_titles.length===0)&&e.achievements&&e.achievements.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Achievements"}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>a(e.id),children:[s.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Add Achievement"]})]}),s.jsx("ul",{className:"space-y-1",children:e.achievements.map((f,h)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx(Bt,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),s.jsx("span",{children:f})]},h))})]}),(e.project_url||e.repository_url)&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Links"}),s.jsxs("div",{className:"flex gap-2",children:[e.project_url&&s.jsx($,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:e.project_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(dw,{className:"h-4 w-4 mr-1"}),"View Project"]})}),e.repository_url&&s.jsx($,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:e.repository_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(LU,{className:"h-4 w-4 mr-1"}),"Repository"]})})]})]}),(!e.achievements_titles||e.achievements_titles.length===0)&&(!e.achievements||e.achievements.length===0)&&s.jsx("div",{className:"text-center py-4",children:s.jsxs($,{variant:"outline",onClick:()=>a(e.id),children:[s.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Add First Achievement"]})})]})]})}function Upe({education:e,onEdit:t,onDelete:r,onToggleFeatured:n}){const[a,i]=y.useState(!1),o=u=>Za(new Date(u),"MMM yyyy"),l=u=>{switch(u){case"PhD":return"bg-purple-100 text-purple-800";case"Master":return"bg-blue-100 text-blue-800";case"Bachelor":return"bg-green-100 text-green-800";case"Certificate":return"bg-orange-100 text-orange-800";case"Diploma":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},c=u=>{switch(u){case"University":return"🎓";case"Course":return"📚";case"Bootcamp":return"💻";case"Online":return"🌐";case"Workshop":return"🛠️";case"Conference":return"🎪";default:return"📖"}},d=()=>{if(!e.duration_months)return null;const u=e.duration_months;if(u<12)return`${Math.round(u)} month${Math.round(u)!==1?"s":""}`;{const f=Math.floor(u/12),h=Math.round(u%12);return`${f} year${f!==1?"s":""}${h>0?` ${h} month${h!==1?"s":""}`:""}`}};return s.jsxs(z,{className:`hover:shadow-lg transition-shadow duration-200 ${e.is_featured?"ring-2 ring-yellow-400":""}`,children:[s.jsx(q,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(il,{className:"h-5 w-5 text-gray-500"}),s.jsx(K,{className:"text-lg",children:e.degree}),e.is_featured&&s.jsx(Bt,{className:"h-5 w-5 text-yellow-500 fill-current"}),e.is_current&&s.jsx(Ee,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Current"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("span",{className:"text-lg",children:c(e.education_type)}),s.jsx("span",{className:"font-medium",children:e.institution_name}),e.institution_country&&s.jsxs(Ee,{variant:"outline",className:"text-xs",children:[s.jsx(yO,{className:"h-3 w-3 mr-1"}),e.institution_country]})]}),e.field_of_study&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Field of Study: ",s.jsx("span",{className:"font-medium",children:e.field_of_study})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[e.start_date&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsxs("span",{children:[o(e.start_date)," - ",e.end_date&&!e.is_current?o(e.end_date):"Present"]})]}),d()&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Me,{className:"h-4 w-4"}),s.jsx("span",{children:d()})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.education_level&&s.jsx(Ee,{className:l(e.education_level),children:e.education_level}),e.education_type&&s.jsx(Ee,{variant:"outline",children:e.education_type}),e.status&&s.jsx(Ee,{variant:"secondary",children:e.status})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:e.is_featured?"text-yellow-500":"text-gray-400",children:s.jsx(Bt,{className:`h-4 w-4 ${e.is_featured?"fill-current":""}`})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>t(e),children:s.jsx(wn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"text-red-500 hover:text-red-700",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]})}),s.jsxs(U,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.grade&&s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx(Kn,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.grade}),s.jsx("div",{className:"text-xs text-gray-500",children:"Grade"})]}),e.credits&&s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx(Ci,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.credits}),s.jsx("div",{className:"text-xs text-gray-500",children:"Credits"})]}),e.skills_acquired&&e.skills_acquired.length>0&&s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx(ta,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.skills_acquired.length}),s.jsx("div",{className:"text-xs text-gray-500",children:"Skills"})]}),e.courses_completed&&e.courses_completed.length>0&&s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx(lt,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.courses_completed.length}),s.jsx("div",{className:"text-xs text-gray-500",children:"Courses"})]})]}),e.description&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a?e.description:`${e.description.substring(0,200)}${e.description.length>200?"...":""}`}),e.description.length>200&&s.jsx($,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>i(!a),children:a?"Show less":"Show more"})]}),e.thesis_title&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Thesis"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:e.thesis_title}),e.thesis_description&&s.jsx("p",{className:"text-sm text-gray-600",children:e.thesis_description}),e.advisor_name&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Advisor: ",e.advisor_name]})]})]}),e.skills_acquired&&e.skills_acquired.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills Acquired"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills_acquired.map((u,f)=>s.jsx(Ee,{variant:"secondary",className:"text-xs",children:u},f))})]}),e.courses_completed&&e.courses_completed.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Notable Courses"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:e.courses_completed.map((u,f)=>s.jsxs("div",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx(Ci,{className:"h-3 w-3 mt-1 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:u})]},f))})]}),e.honors_awards&&e.honors_awards.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Honors & Awards"}),s.jsx("ul",{className:"space-y-1",children:e.honors_awards.map((u,f)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx(Kn,{className:"h-3 w-3 mt-1 text-yellow-500 flex-shrink-0"}),s.jsx("span",{children:u})]},f))})]}),e.institution_website&&s.jsx("div",{className:"flex justify-start",children:s.jsx($,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:e.institution_website,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(FU,{className:"h-4 w-4 mr-1"}),"Institution Website"]})})})]})]})}function Wpe({certification:e,onEdit:t,onDelete:r,onToggleFeatured:n}){const[a,i]=y.useState(!1),o=h=>Za(new Date(h),"MMM yyyy"),l=h=>{switch(h){case"Professional":return"bg-blue-100 text-blue-800";case"Technical":return"bg-green-100 text-green-800";case"Academic":return"bg-purple-100 text-purple-800";case"Vendor":return"bg-orange-100 text-orange-800";case"Industry":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},c=h=>{switch(h){case"Expert":return"bg-red-100 text-red-800";case"Advanced":return"bg-orange-100 text-orange-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Beginner":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"Valid":return s.jsx(bn,{className:"h-4 w-4 text-green-500"});case"Permanent":return s.jsx(t8,{className:"h-4 w-4 text-blue-500"});case"Expiring Soon":return s.jsx(al,{className:"h-4 w-4 text-yellow-500"});case"Expired":return s.jsx(_l,{className:"h-4 w-4 text-red-500"});default:return s.jsx(Me,{className:"h-4 w-4 text-gray-500"})}},u=h=>{switch(h){case"Valid":return"bg-green-100 text-green-800";case"Permanent":return"bg-blue-100 text-blue-800";case"Expiring Soon":return"bg-yellow-100 text-yellow-800";case"Expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=()=>{if(!e.expiry_date)return"No Expiration";if(e.status==="Expired")return`Expired ${o(e.expiry_date)}`;if(e.days_until_expiry!==void 0&&e.days_until_expiry!==null){if(e.days_until_expiry<=30)return`Expires in ${e.days_until_expiry} days`;if(e.days_until_expiry<=90)return`Expires in ${Math.round(e.days_until_expiry/30)} months`}return`Expires ${o(e.expiry_date)}`};return s.jsxs(z,{className:`hover:shadow-lg transition-shadow duration-200 ${e.is_featured?"ring-2 ring-yellow-400":""}`,children:[s.jsx(q,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Kn,{className:"h-5 w-5 text-gray-500"}),s.jsx(K,{className:"text-lg",children:e.name}),e.is_featured&&s.jsx(Bt,{className:"h-5 w-5 text-yellow-500 fill-current"})]}),s.jsxs("div",{className:"space-y-2",children:[e.issuing_organization&&s.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:s.jsx("span",{className:"font-medium",children:e.issuing_organization})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[e.issue_date&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsxs("span",{children:["Issued ",o(e.issue_date)]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[d(e.status),s.jsx("span",{children:f()})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Ee,{className:u(e.status),children:e.status||"Unknown"}),e.certification_type&&s.jsx(Ee,{className:l(e.certification_type),children:e.certification_type}),e.difficulty_level&&s.jsx(Ee,{className:c(e.difficulty_level),children:e.difficulty_level}),e.verification_status==="Verified"&&s.jsxs(Ee,{variant:"secondary",className:"bg-green-100 text-green-800",children:[s.jsx(bn,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:()=>n(e.id),className:e.is_featured?"text-yellow-500":"text-gray-400",children:s.jsx(Bt,{className:`h-4 w-4 ${e.is_featured?"fill-current":""}`})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>t(e),children:s.jsx(wn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"text-red-500 hover:text-red-700",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]})}),s.jsxs(U,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.exam_score&&s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx(Dn,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.exam_score}),s.jsx("div",{className:"text-xs text-gray-500",children:"Score"})]}),e.study_hours&&s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx(Me,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),s.jsxs("div",{className:"text-sm font-medium",children:[e.study_hours,"h"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Study Time"})]}),e.continuing_education_units&&s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx(ct,{className:"h-5 w-5 mx-auto text-purple-600 mb-1"}),s.jsx("div",{className:"text-sm font-medium",children:e.continuing_education_units}),s.jsx("div",{className:"text-xs text-gray-500",children:"CEUs"})]}),e.cost&&s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx(rr,{className:"h-5 w-5 mx-auto text-orange-600 mb-1"}),s.jsxs("div",{className:"text-sm font-medium",children:[e.cost.toLocaleString()," ",e.currency]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Cost"})]})]}),e.description&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a?e.description:`${e.description.substring(0,200)}${e.description.length>200?"...":""}`}),e.description.length>200&&s.jsx($,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>i(!a),children:a?"Show less":"Show more"})]}),e.skills_validated&&e.skills_validated.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills Validated"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills_validated.map((h,m)=>s.jsx(Ee,{variant:"secondary",className:"text-xs",children:h},m))})]}),e.prerequisites&&e.prerequisites.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Prerequisites"}),s.jsx("ul",{className:"space-y-1",children:e.prerequisites.map((h,m)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[s.jsx(Ci,{className:"h-3 w-3 mt-1 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:h})]},m))})]}),(e.credential_id||e.credential_url)&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Credential Information"}),s.jsxs("div",{className:"space-y-2",children:[e.credential_id&&s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"ID:"})," ",e.credential_id]}),e.credential_url&&s.jsx($,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:e.credential_url,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(dw,{className:"h-4 w-4 mr-1"}),"View Credential"]})})]})]}),e.renewal_required&&s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 rounded-lg",children:[s.jsx(al,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Renewal Required"}),s.jsx("p",{className:"text-xs text-yellow-600",children:"This certification requires periodic renewal"})]})]})}),(e.status==="Expiring Soon"||e.status==="Expired")&&s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${e.status==="Expired"?"bg-red-50":"bg-yellow-50"}`,children:[e.status==="Expired"?s.jsx(_l,{className:"h-5 w-5 text-red-600"}):s.jsx(al,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${e.status==="Expired"?"text-red-800":"text-yellow-800"}`,children:e.status==="Expired"?"Certification Expired":"Expiring Soon"}),s.jsx("p",{className:`text-xs ${e.status==="Expired"?"text-red-600":"text-yellow-600"}`,children:e.status==="Expired"?"This certification has expired and may need renewal":"Consider renewing this certification soon"})]})]})})]})]})}const xk={modern:KU,classic:lt,creative:Ti,technical:vO,academic:il},Vpe={tech:vO,consulting:Kl,creative:Ti,academic:il,general:Oi},Hpe={modern:"Clean, contemporary designs perfect for tech and startup roles",classic:"Traditional, professional layouts for corporate and executive positions",creative:"Vibrant, artistic designs for creative and design roles",technical:"Code-focused layouts emphasizing technical skills and projects",academic:"Research-oriented formats for academic and scientific positions"};function qpe({templates:e,selectedTemplate:t,onSelectTemplate:r,onPreviewTemplate:n,loading:a=!1}){const[i,o]=y.useState("all"),l=[...new Set(e.map(f=>f.template_type))],c=[...new Set(e.map(f=>f.industry_focus))],d=()=>i==="all"?e:l.includes(i)?e.filter(f=>f.template_type===i):c.includes(i)?e.filter(f=>f.industry_focus===i):e,u=({template:f})=>{var g;const h=xk[f.template_type]||lt,m=Vpe[f.industry_focus]||Oi,p=(t==null?void 0:t.id)===f.id;return s.jsxs(z,{className:`cursor-pointer transition-all hover:shadow-md ${p?"ring-2 ring-blue-500 shadow-md":""}`,onClick:()=>r(f),children:[s.jsxs(q,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(h,{className:"h-5 w-5 text-blue-600"}),s.jsx(K,{className:"text-lg",children:f.name})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[f.is_premium&&s.jsx(GN,{className:"h-4 w-4 text-yellow-500"}),p&&s.jsx(Bt,{className:"h-4 w-4 text-blue-500"})]})]}),s.jsx(Ae,{className:"line-clamp-2",children:f.description})]}),s.jsxs(U,{className:"space-y-3",children:[s.jsx("div",{className:"aspect-[3/4] bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:f.preview_image_url?s.jsx("img",{src:f.preview_image_url,alt:`${f.name} preview`,className:"w-full h-full object-cover rounded-lg"}):s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(lt,{className:"h-12 w-12 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Preview not available"})]})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Ee,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(h,{className:"h-3 w-3"}),f.template_type]}),s.jsxs(Ee,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(m,{className:"h-3 w-3"}),f.industry_focus]}),f.is_premium&&s.jsxs(Ee,{variant:"default",className:"flex items-center gap-1",children:[s.jsx(GN,{className:"h-3 w-3"}),"Premium"]})]}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Sections:"})," ",((g=f.sections_config.sections)==null?void 0:g.join(", "))||"Standard"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Emphasis:"})," ",f.sections_config.emphasis||"Balanced"]})]}),s.jsxs("div",{className:"flex gap-2",children:[n&&s.jsxs($,{variant:"outline",size:"sm",onClick:v=>{v.stopPropagation(),n(f)},className:"flex-1",children:[s.jsx(yo,{className:"h-4 w-4 mr-1"}),"Preview"]}),s.jsx($,{variant:p?"default":"outline",size:"sm",onClick:v=>{v.stopPropagation(),r(f)},className:"flex-1",children:p?"Selected":"Select"})]})]})]})};return a?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((f,h)=>s.jsxs(z,{className:"animate-pulse",children:[s.jsxs(q,{children:[s.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]}),s.jsx(U,{children:s.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg"})})]},h))}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Hg,{value:i,onValueChange:o,children:[s.jsxs(zd,{className:"grid w-full grid-cols-3 lg:grid-cols-6",children:[s.jsx(At,{value:"all",children:"All Templates"}),l.map(f=>{const h=xk[f]||lt;return s.jsxs(At,{value:f,className:"flex items-center gap-1",children:[s.jsx(h,{className:"h-4 w-4"}),s.jsx("span",{className:"capitalize",children:f})]},f)})]}),s.jsxs($t,{value:i,className:"mt-6",children:[l.includes(i)&&s.jsx(z,{className:"mb-6",children:s.jsx(U,{className:"pt-6",children:s.jsx("p",{className:"text-sm text-gray-600",children:Hpe[i]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d().length===0?s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(lt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Templates Found"}),s.jsx("p",{className:"text-gray-500",children:"No templates available for the selected filter."})]}):d().map(f=>s.jsx(u,{template:f},f.id))})]})]}),t&&s.jsxs(z,{className:"border-blue-200 bg-blue-50",children:[s.jsx(q,{className:"pb-3",children:s.jsxs(K,{className:"flex items-center gap-2 text-blue-900",children:[s.jsx(Bt,{className:"h-5 w-5"}),"Selected Template"]})}),s.jsx(U,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900",children:t.name}),s.jsx("p",{className:"text-sm text-blue-600",children:t.description})]}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>r(t),className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[s.jsx(ua,{className:"h-4 w-4 mr-1"}),"Generate CV"]})]})})]})]})}function Kpe(){var dS,fS;const[e,t]=y.useState("overview"),[r,n]=y.useState(!1),[a,i]=y.useState(!1),[o,l]=y.useState(!1),[c,d]=y.useState(""),[u,f]=y.useState("all"),[h,m]=y.useState(""),[p,g]=y.useState("all"),[v,x]=y.useState(null),{profiles:b,loading:w}=qg(),{applications:j,loading:S,getApplicationStats:N}=fL(),{skills:_,loading:E,getSkillsByCategory:k,getSkillStats:P,deleteSkill:A,refetch:C}=vhe(),O=((dS=b.find(L=>L.is_active))==null?void 0:dS.id)||((fS=b[0])==null?void 0:fS.id)||null,I=v||O,{motivationTexts:R,loading:T,createMotivationText:M,updateMotivationText:D,deleteMotivationText:F,duplicateMotivationText:H,setAsDefault:Z,getAllPurposes:W}=yhe(I),{projects:se,loading:he,deleteProject:ge,toggleFeatured:le}=xhe(v),{experiences:J,loading:be,deleteExperience:Y}=bhe(v),{tags:te,loading:ae,getAllCategories:V}=whe(v);jhe(v);const{education:ke,loading:xe,deleteEducation:nt,toggleFeatured:Je}=She(v),{certifications:jt,loading:ui,deleteCertification:cn,toggleFeatured:mc,getExpiringSoon:oS}=Nhe(v),{timeline:lS,loading:w3}=_he(v),{templates:j3,loading:S3}=Che(),{generations:ev,loading:N3,recordDownload:_3,recordMetric:C3}=Ehe(v),{analytics:cS,summary:un,loading:pc}=khe(v),Wd=N(),E3=b.filter(L=>L.is_active),tv=j.filter(L=>{const ye=c===""||L.company_name.toLowerCase().includes(c.toLowerCase())||L.job_title.toLowerCase().includes(c.toLowerCase()),di=u==="all"||L.status===u;return ye&&di}),rv=_.filter(L=>{const ye=h===""||L.skill_name.toLowerCase().includes(h.toLowerCase()),di=p==="all"||L.category===p;return ye&&di}),k3=L=>{switch(L){case 1:return"bg-red-50 border-red-200 text-red-900";case 2:return"bg-orange-50 border-orange-200 text-orange-900";case 3:return"bg-yellow-50 border-yellow-200 text-yellow-900";case 4:return"bg-blue-50 border-blue-200 text-blue-900";case 5:return"bg-green-50 border-green-200 text-green-900";default:return"bg-gray-50 border-gray-200 text-gray-900"}},P3=async L=>{if(confirm("Are you sure you want to delete this skill?"))try{await A(L),C()}catch(ye){console.error("Failed to delete skill:",ye)}},A3=L=>{console.log("Edit skill:",L)},uS=L=>{switch(L){case"applied":return"bg-blue-100 text-blue-700";case"interview":return"bg-yellow-100 text-yellow-700";case"offered":return"bg-green-100 text-green-700";case"accepted":return"bg-green-100 text-green-700";case"rejected":return"bg-red-100 text-red-700";case"withdrawn":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CV & Resume Manager"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your professional profiles and track job applications"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs($,{variant:"outline",size:"sm",children:[s.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Versions"]}),s.jsxs($,{size:"sm",onClick:()=>n(!0),children:[s.jsx(Oe,{className:"mr-2 h-4 w-4"}),"New CV Profile"]})]})]}),s.jsxs(Hg,{value:e,onValueChange:t,className:"space-y-6",children:[s.jsxs(zd,{className:"grid w-full grid-cols-8",children:[s.jsxs(At,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-4 w-4"}),"Overview"]}),s.jsxs(At,{value:"profiles",className:"flex items-center gap-2",children:[s.jsx(cs,{className:"h-4 w-4"}),"Profiles"]}),s.jsxs(At,{value:"applications",className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"h-4 w-4"}),"Applications"]}),s.jsxs(At,{value:"skills",className:"flex items-center gap-2",children:[s.jsx(Ss,{className:"h-4 w-4"}),"Skills"]}),s.jsxs(At,{value:"analytics",className:"flex items-center gap-2",children:[s.jsx(Ci,{className:"h-4 w-4"}),"Analytics"]}),s.jsxs(At,{value:"motivation",className:"flex items-center gap-2",children:[s.jsx(QN,{className:"h-4 w-4"}),"Motivation Texts"]}),s.jsxs(At,{value:"enhanced",className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-4 w-4"}),"Enhanced CV"]}),s.jsxs(At,{value:"education",className:"flex items-center gap-2",children:[s.jsx(il,{className:"h-4 w-4"}),"Education"]}),s.jsxs(At,{value:"generation",className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"h-4 w-4"}),"CV Generation"]}),s.jsxs(At,{value:"analytics",className:"flex items-center gap-2",children:[s.jsx(Wi,{className:"h-4 w-4"}),"Analytics"]})]}),s.jsxs($t,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(z,{children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium text-gray-600",children:"CV Profiles"}),s.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:s.jsx(lt,{className:"h-4 w-4 text-blue-600"})})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:b.length}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[E3.length," active profiles"]})]})]}),s.jsxs(z,{children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium text-gray-600",children:"Applications"}),s.jsx("div",{className:"p-2 rounded-full bg-green-100",children:s.jsx(Oi,{className:"h-4 w-4 text-green-600"})})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:Wd.total}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Wd.pending," in progress"]})]})]}),s.jsxs(z,{children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium text-gray-600",children:"Interview Rate"}),s.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:s.jsx(Ss,{className:"h-4 w-4 text-purple-600"})})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[Wd.interviewRate,"%"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Success rate"})]})]}),s.jsxs(z,{children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),s.jsx("div",{className:"p-2 rounded-full bg-orange-100",children:s.jsx(Ci,{className:"h-4 w-4 text-orange-600"})})]}),s.jsxs(U,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[Wd.successRate,"%"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Offers received"})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Recent Applications"}),s.jsx(Ae,{children:"Your latest job applications"})]}),s.jsx(U,{children:S?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((L,ye)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},ye))}):j.length>0?s.jsx("div",{className:"space-y-4",children:j.slice(0,3).map(L=>{var ye;return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:L.job_title}),s.jsx("p",{className:"text-sm text-gray-500",children:L.company_name})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded ${uS(L.status)}`,children:((ye=J0[L.status])==null?void 0:ye.label)||L.status}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ff(new Date(L.application_date),{addSuffix:!0})})]})]},L.id)})}):s.jsx("div",{className:"text-center py-4 text-gray-500",children:s.jsx("p",{children:"No applications yet"})})})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"CV Profiles"}),s.jsx(Ae,{children:"Manage your different CV versions"})]}),s.jsx(U,{children:w?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((L,ye)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},ye))}):b.length>0?s.jsx("div",{className:"space-y-4",children:b.slice(0,3).map(L=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:L.title}),L.is_active&&s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-700",children:"Active"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:L.target_role||"No target role specified"}),s.jsxs("p",{className:"text-xs text-gray-400",children:["Updated ",Ff(new Date(L.updated_at),{addSuffix:!0})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx($,{variant:"ghost",size:"sm",children:s.jsx(wn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",children:s.jsx($h,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",children:s.jsx(ua,{className:"h-4 w-4"})})]})]},L.id))}):s.jsxs("div",{className:"text-center py-4 text-gray-500",children:[s.jsx("p",{children:"No CV profiles yet"}),s.jsx($,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>n(!0),children:"Create your first profile"})]})})]})]})]}),s.jsx($t,{value:"profiles",className:"space-y-6",children:s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"CV Profiles"}),s.jsx(Ae,{children:"Create and manage different versions of your CV for different roles"})]}),s.jsx(U,{children:w?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((L,ye)=>s.jsxs("div",{className:"animate-pulse border rounded-lg p-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]},ye))}):b.length>0?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(L=>s.jsxs(z,{className:"hover:shadow-md transition-shadow",children:[s.jsx(q,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(K,{className:"text-lg",children:L.title}),L.target_role&&s.jsx(Ae,{className:"mt-1",children:L.target_role})]}),L.is_active&&s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-700",children:"Active"})]})}),s.jsxs(U,{className:"pt-0",children:[L.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:L.description}),L.key_attributes&&L.key_attributes.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Key Attributes:"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[L.key_attributes.slice(0,3).map((ye,di)=>s.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:ye},di)),L.key_attributes.length>3&&s.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded",children:["+",L.key_attributes.length-3," more"]})]})]}),s.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500",children:s.jsxs("span",{children:["Updated ",Ff(new Date(L.updated_at),{addSuffix:!0})]})}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsxs($,{variant:"outline",size:"sm",className:"flex-1",children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),"Edit"]}),s.jsx($,{variant:"ghost",size:"sm",children:s.jsx($h,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",children:s.jsx(ua,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]})]},L.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(lt,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No CV profiles yet"}),s.jsx("p",{className:"text-sm mb-4",children:"Create your first CV profile to get started"}),s.jsxs($,{onClick:()=>n(!0),children:[s.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Create CV Profile"]})]})})]})}),s.jsxs($t,{value:"applications",className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(oe,{placeholder:"Search applications...",value:c,onChange:L=>d(L.target.value),className:"pl-10 w-full sm:w-64"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{value:u,onChange:L=>f(L.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Filter by application status",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"applied",children:"Applied"}),s.jsx("option",{value:"interview",children:"Interview"}),s.jsx("option",{value:"offered",children:"Offered"}),s.jsx("option",{value:"accepted",children:"Accepted"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"withdrawn",children:"Withdrawn"})]})]})]}),s.jsxs($,{onClick:()=>i(!0),children:[s.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Add Application"]})]}),s.jsxs(z,{children:[s.jsx(q,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx(K,{children:"Job Applications"}),s.jsx(Ae,{children:"Track your job applications and their status"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[tv.length," of ",j.length," applications"]})]})}),s.jsx(U,{children:S?s.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((L,ye)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},ye))}):tv.length>0?s.jsx("div",{className:"space-y-4",children:tv.map(L=>{var ye;return s.jsxs("div",{className:"flex items-start justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start sm:items-center gap-2 flex-col sm:flex-row",children:[s.jsx("h3",{className:"font-medium text-lg",children:L.job_title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${uS(L.status)}`,children:((ye=J0[L.status])==null?void 0:ye.label)||L.status})]}),s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:L.company_name}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Applied: ",new Date(L.application_date).toLocaleDateString()]}),s.jsx("span",{className:"hidden sm:block",children:"•"}),s.jsx("span",{children:Ff(new Date(L.application_date),{addSuffix:!0})}),L.salary_range&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"hidden sm:block",children:"•"}),s.jsx("span",{className:"text-green-600 font-medium",children:L.salary_range})]})]}),L.job_url&&s.jsx("a",{href:L.job_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline inline-block mt-1",children:"View Job Posting →"})]}),(L.interview_notes||L.job_highlights)&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[L.job_highlights&&s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Job Highlights:"}),s.jsx("p",{className:"text-sm text-gray-700",children:L.job_highlights})]}),L.interview_notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Interview Notes:"}),s.jsx("p",{className:"text-sm text-gray-700",children:L.interview_notes})]})]})]}),s.jsxs("div",{className:"flex gap-1 ml-4",children:[s.jsx($,{variant:"ghost",size:"sm",title:"Edit Application",children:s.jsx(wn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",title:"Delete Application",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]},L.id)})}):c||u!=="all"?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Di,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No applications found matching your criteria"}),s.jsx($,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{d(""),f("all")},children:"Clear Filters"})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Oi,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No job applications yet"}),s.jsx("p",{className:"text-sm mt-1",children:"Start tracking your job search progress"}),s.jsxs($,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>i(!0),children:[s.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Add Your First Application"]})]})})]})]}),s.jsxs($t,{value:"skills",className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(oe,{placeholder:"Search skills...",value:h,onChange:L=>m(L.target.value),className:"pl-10 w-full sm:w-64"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{value:p,onChange:L=>g(L.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Filter by skill category",children:[s.jsx("option",{value:"all",children:"All Categories"}),Object.keys(k()).map(L=>s.jsx("option",{value:L,children:L},L))]})]})]}),s.jsxs($,{onClick:()=>l(!0),children:[s.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Add Skill"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsx(z,{children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:P().total}),s.jsx("p",{className:"text-sm text-gray-600",children:"Total Skills"})]}),s.jsx(Ss,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(z,{children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:P().highlighted}),s.jsx("p",{className:"text-sm text-gray-600",children:"Highlighted"})]}),s.jsx(Bt,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(z,{children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:P().averageLevel}),s.jsx("p",{className:"text-sm text-gray-600",children:"Avg Level"})]}),s.jsx(Ci,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(z,{children:s.jsx(U,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:P().categories}),s.jsx("p",{className:"text-sm text-gray-600",children:"Categories"})]}),s.jsx(Rh,{className:"h-8 w-8 text-purple-500"})]})})})]}),s.jsxs(z,{children:[s.jsx(q,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsxs("div",{children:[s.jsx(K,{children:"Skills & Competencies"}),s.jsx(Ae,{children:"Kammarkollegiet competency scale (1-5)"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[rv.length," of ",_.length," skills"]})]})}),s.jsx(U,{children:E?s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((L,ye)=>s.jsxs("div",{className:"animate-pulse p-4 border rounded-lg",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},ye))}):rv.length>0?s.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:rv.map(L=>{var ye,di;return s.jsx("div",{className:`p-4 border rounded-lg transition-all hover:shadow-md ${k3(L.skill_level)} ${L.is_highlighted?"ring-2 ring-yellow-400 ring-offset-1":""}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:L.skill_name}),L.is_highlighted&&s.jsx(Bt,{className:"h-4 w-4 text-yellow-600"})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-sm font-medium",children:["Nivå ",L.skill_level,": ",(ye=X0[L.skill_level])==null?void 0:ye.label]})}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(di=X0[L.skill_level])==null?void 0:di.description})]}),L.category&&s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded",children:L.category})}),L.years_of_experience&&s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[L.years_of_experience," år erfarenhet"]})]}),s.jsxs("div",{className:"flex gap-1 ml-2",children:[s.jsx($,{variant:"ghost",size:"sm",title:"Edit Skill",onClick:()=>A3(L),children:s.jsx(wn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",title:"Delete Skill",onClick:()=>P3(L.id),children:s.jsx(Xr,{className:"h-4 w-4"})})]})]})},L.id)})}):h||p!=="all"?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Di,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No skills found matching your criteria"}),s.jsx($,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{m(""),g("all")},children:"Clear Filters"})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ss,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No skills added yet"}),s.jsx("p",{className:"text-sm mt-1",children:"Start building your competency profile"}),s.jsxs($,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>l(!0),children:[s.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Add Your First Skill"]})]})})]})]}),s.jsx($t,{value:"analytics",className:"space-y-6",children:s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Application Analytics"}),s.jsx(Ae,{children:"Insights into your job search performance"})]}),s.jsx(U,{children:s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ci,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Analytics coming soon"}),s.jsx("p",{className:"text-sm mb-4",children:"Detailed analytics will be available when you have more data"})]})})]})}),s.jsxs($t,{value:"motivation",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Motivation Texts"}),s.jsx("p",{className:"text-gray-600",children:"Manage your motivation texts for different types of applications"})]}),v&&s.jsx(x3,{cvProfileId:v,onCreateMotivationText:M,existingPurposes:W()})]}),b.length>0&&s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Select CV Profile"}),s.jsx(Ae,{children:"Choose which CV profile to manage motivation texts for"})]}),s.jsx(U,{children:s.jsxs("select",{value:v||"",onChange:L=>x(L.target.value||null),className:"w-full p-2 border rounded-md","aria-label":"Select CV Profile",children:[s.jsx("option",{value:"",children:"Select a CV profile..."}),b.map(L=>s.jsx("option",{value:L.id,children:L.title},L.id))]})})]}),v&&s.jsx("div",{className:"space-y-4",children:T?s.jsx(z,{children:s.jsx(U,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading motivation texts..."})]})})}):R.length===0?s.jsx(z,{children:s.jsx(U,{className:"p-6",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(QN,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No motivation texts yet"}),s.jsx("p",{className:"text-sm mb-4",children:"Create your first motivation text to get started"})]})})}):s.jsx("div",{className:"grid gap-4",children:R.map(L=>s.jsx(Fpe,{motivationText:L,onUpdate:D,onDelete:F,onDuplicate:H,onSetAsDefault:Z,existingPurposes:W(),cvProfileId:v,onCreateMotivationText:M},L.id))})})]}),s.jsxs($t,{value:"enhanced",className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Enhanced CV Management"}),s.jsx("p",{className:"text-gray-600",children:"Advanced project and experience management with technology tracking"})]})}),b.length>0&&s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Select CV Profile"}),s.jsx(Ae,{children:"Choose which CV profile to manage enhanced features for"})]}),s.jsx(U,{children:s.jsxs("select",{value:v||"",onChange:L=>x(L.target.value||null),className:"w-full p-2 border rounded-md","aria-label":"Select CV Profile",children:[s.jsx("option",{value:"",children:"Select a CV profile..."}),b.map(L=>s.jsx("option",{value:L.id,children:L.title},L.id))]})})]}),v&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Enhanced Projects"}),s.jsxs($,{onClick:()=>{},children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Project"]})]}),he?s.jsx(z,{children:s.jsx(U,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading projects..."})]})})}):se.length===0?s.jsx(z,{children:s.jsx(U,{className:"p-6",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Oi,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),s.jsx("p",{className:"text-sm mb-4",children:"Create your first enhanced project to get started"})]})})}):s.jsx("div",{className:"grid gap-6",children:se.map(L=>s.jsx(zpe,{project:L,onEdit:ye=>{},onDelete:ge,onToggleFeatured:le,onAddAchievement:ye=>{}},L.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Enhanced Experiences"}),s.jsxs($,{onClick:()=>{},children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Experience"]})]}),be?s.jsx(z,{children:s.jsx(U,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading experiences..."})]})})}):J.length===0?s.jsx(z,{children:s.jsx(U,{className:"p-6",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Ss,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No experiences yet"}),s.jsx("p",{className:"text-sm mb-4",children:"Create your first enhanced experience to get started"})]})})}):s.jsx("div",{className:"grid gap-6",children:J.map(L=>s.jsx(Bpe,{experience:L,onEdit:ye=>{},onDelete:Y,onAddAchievement:ye=>{}},L.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Technology Tags"}),s.jsxs($,{onClick:()=>{},children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Technology"]})]}),ae?s.jsx(z,{children:s.jsx(U,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading technology tags..."})]})})}):te.length===0?s.jsx(z,{children:s.jsx(U,{className:"p-6",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(ct,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No technology tags yet"}),s.jsx("p",{className:"text-sm mb-4",children:"Technology tags will be automatically created when you add them to projects and experiences"})]})})}):s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsx(K,{children:"Technology Overview"}),s.jsx(Ae,{children:"Your most used technologies across projects and experiences"})]}),s.jsx(U,{children:s.jsx("div",{className:"space-y-4",children:V().map(L=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:L}),s.jsx("div",{className:"flex flex-wrap gap-2",children:te.filter(ye=>ye.category===L).slice(0,10).map(ye=>s.jsxs(Ee,{variant:"secondary",className:"text-xs",style:{backgroundColor:ye.color+"20",color:ye.color},children:[ye.name," (",ye.usage_count,")"]},ye.id))})]},L))})})]})]})]})]}),s.jsx($t,{value:"education",className:"space-y-6",children:v?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(il,{className:"h-5 w-5"}),"Education"]}),s.jsxs($,{size:"sm",onClick:()=>{},children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Education"]})]}),s.jsx(Ae,{children:"Manage educational background and qualifications"})]}),s.jsx(U,{children:xe?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Loading education..."})}):ke.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ci,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No education entries yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Add your educational background to get started"})]}):s.jsx("div",{className:"grid gap-4",children:ke.map(L=>s.jsx(Upe,{education:L,onEdit:ye=>{},onDelete:ye=>nt(ye),onToggleFeatured:ye=>Je(ye)},L.id))})})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Ss,{className:"h-5 w-5"}),"Certifications",oS().length>0&&s.jsxs(Ee,{variant:"destructive",children:[oS().length," Expiring Soon"]})]}),s.jsxs($,{size:"sm",onClick:()=>{},children:[s.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Add Certification"]})]}),s.jsx(Ae,{children:"Track professional certifications and their expiry dates"})]}),s.jsx(U,{children:ui?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Loading certifications..."})}):jt.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ss,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No certifications yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Add professional certifications to track your credentials"})]}):s.jsx("div",{className:"grid gap-4",children:jt.map(L=>s.jsx(Wpe,{certification:L,onEdit:ye=>{},onDelete:ye=>cn(ye),onToggleFeatured:ye=>mc(ye)},L.id))})})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-5 w-5"}),"Education Timeline"]}),s.jsx(Ae,{children:"Visual timeline of educational achievements and certifications"})]}),s.jsx(U,{children:w3?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Loading timeline..."})}):lS.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500",children:"No timeline data available"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Add education or certifications to see your timeline"})]}):s.jsx("div",{className:"space-y-4",children:lS.map((L,ye)=>s.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b last:border-b-0",children:[s.jsx("div",{className:"flex-shrink-0 w-20 text-sm text-gray-500 font-medium",children:L.start_date?new Date(L.start_date).getFullYear():"N/A"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ee,{variant:L.item_type==="education"?"default":"secondary",children:L.item_type==="education"?"Education":"Certification"}),s.jsx("h4",{className:"font-medium",children:L.title})]}),s.jsx("p",{className:"text-sm text-gray-600",children:L.institution_provider}),L.end_date&&!L.is_ongoing&&s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Completed: ",new Date(L.end_date).getFullYear()]}),L.is_ongoing&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ongoing"})]})]},ye))})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(il,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Select a CV profile to manage education and certifications"})]})}),s.jsx($t,{value:"generation",className:"space-y-6",children:v?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"h-5 w-5"}),"CV Templates"]}),s.jsx(Ae,{children:"Choose from professional templates designed for different industries and roles"})]}),s.jsx(U,{children:s.jsx(qpe,{templates:j3,selectedTemplate:null,onSelectTemplate:L=>{C3("template_view",1,{template_id:L.id})},loading:S3})})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(lt,{className:"h-5 w-5"}),"Recent Generations"]}),s.jsxs(Ee,{variant:"secondary",children:[ev.length," total"]})]}),s.jsx(Ae,{children:"Your recently generated CVs and their download status"})]}),s.jsx(U,{children:N3?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Loading generations..."})}):ev.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No CV generations yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Generate your first professional CV using the templates above"})]}):s.jsx("div",{className:"space-y-4",children:ev.slice(0,5).map(L=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-medium",children:[L.output_format.toUpperCase()," CV - ",new Date(L.created_at).toLocaleDateString()]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",s.jsx(Ee,{variant:L.generation_status==="completed"?"default":"secondary",children:L.generation_status}),L.download_count>0&&s.jsxs("span",{className:"ml-2",children:["• Downloaded ",L.download_count," times"]})]})]}),s.jsx("div",{className:"flex gap-2",children:L.file_url&&s.jsxs($,{variant:"outline",size:"sm",onClick:()=>_3(L.id),children:[s.jsx(ua,{className:"h-4 w-4 mr-1"}),"Download"]})})]},L.id))})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ti,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Select a CV profile to generate professional CVs"})]})}),s.jsx($t,{value:"analytics",className:"space-y-6",children:v?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(z,{children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"CV Generations"}),s.jsx(lt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:pc?"...":(un==null?void 0:un.total_generations)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total generated CVs"})]})]}),s.jsxs(z,{children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Downloads"}),s.jsx(ua,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-2xl font-bold",children:pc?"...":(un==null?void 0:un.total_downloads)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total downloads"})]})]}),s.jsxs(z,{children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Most Used Template"}),s.jsx(Ti,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-lg font-bold truncate",children:pc?"...":(un==null?void 0:un.most_used_template)||"None"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Preferred template"})]})]}),s.jsxs(z,{children:[s.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(K,{className:"text-sm font-medium",children:"Popular Format"}),s.jsx(lt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(U,{children:[s.jsx("div",{className:"text-lg font-bold",children:pc?"...":((un==null?void 0:un.most_popular_format)||"None").toUpperCase()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Most downloaded format"})]})]})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-5 w-5"}),"Recent Activity"]}),s.jsx(Ae,{children:"Your CV generation and download activity over the last 30 days"})]}),s.jsx(U,{children:pc?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Loading analytics..."})}):cS.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No activity data yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Generate and download CVs to see analytics"})]}):s.jsx("div",{className:"space-y-4",children:cS.slice(0,10).map(L=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[L.metric_type==="generation"&&s.jsx(lt,{className:"h-5 w-5 text-blue-500"}),L.metric_type==="download"&&s.jsx(ua,{className:"h-5 w-5 text-green-500"}),L.metric_type==="view"&&s.jsx(yo,{className:"h-5 w-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium capitalize",children:L.metric_type}),s.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(L.recorded_at).toLocaleDateString()," at"," ",new Date(L.recorded_at).toLocaleTimeString()]})]})]}),s.jsxs(Ee,{variant:"outline",children:["Value: ",L.metric_value]})]},L.id))})})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Wi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Select a CV profile to view analytics and insights"})]})})]}),s.jsx(Phe,{open:r,onOpenChange:n}),s.jsx(Ohe,{open:a,onOpenChange:i}),s.jsx(The,{open:o,onOpenChange:l,onSkillCreated:C})]})}const b3=y.forwardRef(({className:e,orientation:t="horizontal",...r},n)=>s.jsx("div",{ref:n,className:Se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));b3.displayName="Separator";const Mo=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];function Gpe(){const{user:e}=gr(),{toast:t}=uc(),[r,n]=y.useState(()=>{const g=new Date;return{year:g.getFullYear(),month:g.getMonth()+1}}),[a,i]=y.useState({billing_percentage:94,absence_percentage:15}),[o,l]=y.useState(!1),[c,d]=y.useState(!1);y.useEffect(()=>{(async()=>{if(e)try{d(!0);const{data:v,error:x}=await G.from("monthly_settings").select("billing_percentage, absence_percentage").eq("user_id",e.id).eq("year",r.year).eq("month",r.month).single();if(v&&!x)console.log(`Loading settings for ${r.month}/${r.year}:`,v),i({billing_percentage:v.billing_percentage,absence_percentage:v.absence_percentage});else{console.log(`No specific settings for ${r.month}/${r.year}, using defaults`);const{data:b,error:w}=await G.from("user_profiles").select("debit_rate_monthly, absence_percentage").eq("id",e.id).single();i(b&&!w?{billing_percentage:b.debit_rate_monthly||94,absence_percentage:b.absence_percentage||15}:{billing_percentage:94,absence_percentage:15})}}catch(v){console.error("Error loading monthly settings:",v),i({billing_percentage:94,absence_percentage:15})}finally{d(!1)}})()},[e,r.year,r.month]);const u=g=>{n(v=>{let x=v.month+(g==="next"?1:-1),b=v.year;return x>12?(x=1,b++):x<1&&(x=12,b--),{year:b,month:x}})},f=async()=>{if(e)try{l(!0),console.log(`🔄 Saving settings for ${Mo[r.month-1]} ${r.year}:`,{month:r.month,year:r.year,settings:a});const{error:g}=await G.from("monthly_settings").upsert({user_id:e.id,year:r.year,month:r.month,billing_percentage:a.billing_percentage,absence_percentage:a.absence_percentage,updated_at:new Date().toISOString()},{onConflict:"user_id,year,month"});if(g)throw g;console.log(`✅ Successfully saved settings for ${Mo[r.month-1]} ${r.year}`),t({title:"Sparade månadsspecifika inställningar",description:`Inställningar för ${Mo[r.month-1]} ${r.year} har sparats`})}catch(g){console.error("Error saving monthly settings:",g),t({title:"Fel vid sparande",description:g instanceof Error?`Databasfel: ${g.message}. Kontrollera att monthly_settings tabellen existerar.`:"Kunde inte spara månadsspecifika inställningar.",variant:"destructive"})}finally{l(!1)}},h=8*5*4.33,m=Math.round(h*(1-a.absence_percentage/100)),p=Math.round(m*(a.billing_percentage/100));return s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5"}),"Månadsspecifika inställningar"]}),s.jsx(Ae,{children:"Konfigurera debiteringsgrad och frånvaro per månad för noggrannare prognoser. Varje månad kan ha unika inställningar."})]}),s.jsxs(U,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:[s.jsx($,{variant:"ghost",size:"icon",onClick:()=>u("prev"),className:"h-8 w-8",children:s.jsx(cw,{className:"h-4 w-4"})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("h3",{className:"font-semibold text-lg",children:[Mo[r.month-1]," ",r.year]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Månadsspecifika inställningar"})]}),s.jsx($,{variant:"ghost",size:"icon",onClick:()=>u("next"),className:"h-8 w-8",children:s.jsx(uw,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"billing_percentage",children:"Debiteringsgrad (%)"}),s.jsx(oe,{id:"billing_percentage",type:"number",min:"0",max:"100",step:"1",value:a.billing_percentage,onChange:g=>i(v=>({...v,billing_percentage:parseFloat(g.target.value)>=0?parseFloat(g.target.value):0}))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Procent av arbetstimmar som faktiskt debiteras denna månad"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"absence_percentage",children:"Frånvaroprocent (%)"}),s.jsx(oe,{id:"absence_percentage",type:"number",min:"0",max:"100",step:"1",value:a.absence_percentage,onChange:g=>i(v=>({...v,absence_percentage:parseFloat(g.target.value)>=0?parseFloat(g.target.value):0}))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Förväntad frånvaro för denna månad (semester, sjukdom, etc.)"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium",children:["Beräkning för ",Mo[r.month-1]]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2 text-sm",children:[s.jsxs("p",{children:["• Arbetstimmar: ",Math.round(h)," timmar"]}),s.jsxs("p",{children:["• Efter frånvaro (",a.absence_percentage,"%): ",m," timmar"]}),s.jsxs("p",{children:["• Debiterbara timmar (",a.billing_percentage,"%): ",p," timmar"]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs($,{onClick:f,disabled:o||c,className:"flex items-center gap-2",children:[s.jsx(bO,{className:"w-4 h-4"}),o?"Sparar...":`Spara för ${Mo[r.month-1]}`]})})]})]})}function Ype(){const{user:e}=gr(),{toast:t}=uc(),[r,n]=y.useState(!0),[a,i]=y.useState(!1),[o,l]=y.useState(!1),[c,d]=y.useState({id:"",company_name:"",company_motto:"",hourly_rate:500,currency:"SEK",timezone:"Europe/Stockholm",debit_rate_monthly:0,absence_percentage:15,work_hours_per_day:8,work_days_per_week:5}),u=y.useCallback(async()=>{if(e)try{n(!0);const{data:m,error:p}=await G.from("user_profiles").select("*").eq("id",e==null?void 0:e.id).single();if(p&&p.code!=="PGRST116")throw p;m&&d({id:m.id,company_name:m.company_name||"",company_motto:m.company_motto||"",hourly_rate:m.hourly_rate||500,currency:m.currency||"SEK",timezone:m.timezone||"Europe/Stockholm",debit_rate_monthly:0,absence_percentage:15,work_hours_per_day:8,work_days_per_week:5})}catch(m){console.error("Error loading settings:",m),t({title:"Fel",description:"Kunde inte ladda inställningar",variant:"destructive"})}finally{n(!1)}},[e,t]);y.useEffect(()=>{u()},[u]);const f=async()=>{try{i(!0);const{error:m}=await G.from("user_profiles").upsert({id:e==null?void 0:e.id,company_name:c.company_name,company_motto:c.company_motto,hourly_rate:c.hourly_rate,currency:c.currency,timezone:c.timezone,debit_rate_monthly:c.debit_rate_monthly,absence_percentage:c.absence_percentage,work_hours_per_day:c.work_hours_per_day,work_days_per_week:c.work_days_per_week,updated_at:new Date().toISOString()});if(m)throw m;t({title:"Sparade inställningar",description:"Dina inställningar har uppdaterats"})}catch(m){console.error("Error saving settings:",m),t({title:"Fel",description:"Kunde inte spara inställningar",variant:"destructive"})}finally{i(!1)}},h=(m,p)=>{d(g=>({...g,[m]:p}))};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Nl,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Laddar inställningar..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Inställningar"}),s.jsx("p",{className:"text-muted-foreground",children:"Hantera dina konto- och applikationsinställningar"})]}),s.jsx($,{onClick:f,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Nl,{className:"w-4 h-4 mr-2 animate-spin"}),"Sparar..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bO,{className:"w-4 h-4 mr-2"}),"Spara ändringar"]})})]}),s.jsxs(Hg,{defaultValue:"profile",className:"space-y-6",children:[s.jsxs(zd,{className:"grid w-full grid-cols-4",children:[s.jsxs(At,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(cs,{className:"w-4 h-4"}),"Profil"]}),s.jsxs(At,{value:"timetracking",className:"flex items-center gap-2",children:[s.jsx(Me,{className:"w-4 h-4"}),"Tidrapportering"]}),s.jsxs(At,{value:"billing",className:"flex items-center gap-2",children:[s.jsx(rr,{className:"w-4 h-4"}),"Fakturering"]}),s.jsxs(At,{value:"preferences",className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"w-4 h-4"}),"Preferenser"]})]}),s.jsx($t,{value:"profile",className:"space-y-6",children:s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Kl,{className:"w-5 h-5"}),"Företagsinformation"]}),s.jsx(Ae,{children:"Grundläggande information om ditt företag"})]}),s.jsxs(U,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"company_name",children:"Företagsnamn"}),s.jsx(oe,{id:"company_name",value:c.company_name,onChange:m=>h("company_name",m.target.value),placeholder:"Mitt Konsultföretag AB"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"currency",children:"Valuta"}),s.jsx(oe,{id:"currency",value:c.currency,onChange:m=>h("currency",m.target.value),placeholder:"SEK"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"company_motto",children:"Företagsmotto"}),s.jsx(oe,{id:"company_motto",value:c.company_motto,onChange:m=>h("company_motto",m.target.value),placeholder:"Bygger framtiden, ett projekt i taget."})]})]})]})}),s.jsxs($t,{value:"timetracking",className:"space-y-6",children:[s.jsx(Gpe,{}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"w-5 h-5"}),"Grundinställningar för tidrapportering"]}),s.jsx(Ae,{children:"Standardinställningar som används som bas för månadsspecifika inställningar"})]}),s.jsxs(U,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Arbetstider"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"work_hours_per_day",children:"Arbetstimmar per dag"}),s.jsx(oe,{id:"work_hours_per_day",type:"number",min:"1",max:"24",step:"0.5",value:c.work_hours_per_day,onChange:m=>h("work_hours_per_day",parseFloat(m.target.value))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard arbetstimmar per arbetsdag"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"work_days_per_week",children:"Arbetsdagar per vecka"}),s.jsx(oe,{id:"work_days_per_week",type:"number",min:"1",max:"7",value:c.work_days_per_week,onChange:m=>h("work_days_per_week",parseInt(m.target.value))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Antal arbetsdagar per vecka"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Ekonomiska inställningar"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"debit_rate_monthly",children:"Debiteringsgrad (%)"}),s.jsx(oe,{id:"debit_rate_monthly",type:"number",min:"0",max:"100",step:"1",value:c.debit_rate_monthly,onChange:m=>h("debit_rate_monthly",parseFloat(m.target.value)),placeholder:"94"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Procent av arbetstimmar som faktiskt debiteras (t.ex. 94% av 170h = 160h)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"absence_percentage",children:"Frånvaroprocent (%)"}),s.jsx(oe,{id:"absence_percentage",type:"number",min:"0",max:"100",step:"1",value:c.absence_percentage,onChange:m=>h("absence_percentage",parseFloat(m.target.value))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Uppskattad procent av frånvaro (semester, sjukdom, etc.)"})]})]})]}),s.jsx(b3,{}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Beräkningsexempel"}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("p",{children:["• Arbetstimmar per månad: ",Math.round(c.work_hours_per_day*c.work_days_per_week*4.33)," timmar"]}),s.jsxs("p",{children:["• Effektiva timmar (efter frånvaro): ",Math.round(c.work_hours_per_day*c.work_days_per_week*4.33*(1-c.absence_percentage/100))," timmar"]}),s.jsxs("p",{children:["• Debiterbara timmar (",c.debit_rate_monthly,"%): ",Math.round(c.work_hours_per_day*c.work_days_per_week*4.33*(1-c.absence_percentage/100)*(c.debit_rate_monthly/100))," timmar"]}),c.hourly_rate>0&&s.jsxs("p",{children:["• Uppskattad månadsomsättning: ",Math.round(c.work_hours_per_day*c.work_days_per_week*4.33*(1-c.absence_percentage/100)*(c.debit_rate_monthly/100)*c.hourly_rate).toLocaleString("sv-SE")," SEK"]})]})]})]})]})]}),s.jsxs($t,{value:"billing",className:"space-y-6",children:[s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"w-5 h-5"}),"Faktureringsinställningar"]}),s.jsx(Ae,{children:"Inställningar för priser och fakturering"})]}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"hourly_rate",children:"Timpris (SEK)"}),s.jsx(oe,{id:"hourly_rate",type:"number",min:"0",step:"50",value:c.hourly_rate,onChange:m=>h("hourly_rate",parseFloat(m.target.value))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ditt standardtimpris för konsultarbete"})]})})]}),s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(e8,{className:"w-5 h-5"}),"Fortnox Integration"]}),s.jsx(Ae,{children:"Konfigurera Fortnox API för att exportera fakturor direkt"})]}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium",children:"Fortnox API"}),uu()?s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:"Konfigurerad"}):s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Inte konfigurerad"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:uu()?"Du kan nu exportera fakturor direkt till Fortnox.":"Ställ in dina API-uppgifter för att aktivera Fortnox-export."})]}),s.jsx($,{variant:"outline",onClick:()=>l(!0),children:uu()?"Hantera":"Konfigurera"})]})})]})]}),s.jsx($t,{value:"preferences",className:"space-y-6",children:s.jsxs(z,{children:[s.jsxs(q,{children:[s.jsxs(K,{className:"flex items-center gap-2",children:[s.jsx(Ti,{className:"w-5 h-5"}),"Applikationspreferenser"]}),s.jsx(Ae,{children:"Anpassa applikationens utseende och beteende"})]}),s.jsx(U,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(re,{htmlFor:"timezone",children:"Tidszon"}),s.jsx(oe,{id:"timezone",value:c.timezone,onChange:m=>h("timezone",m.target.value),placeholder:"Europe/Stockholm"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Din lokala tidszon för tiddisplay"})]})})]})})]}),s.jsx(dL,{open:o,onOpenChange:l})]})}function Xpe(){const{user:e,loading:t,signOut:r}=gr(),[n,a]=y.useState(!1);y.useEffect(()=>{const l=localStorage.getItem("darkMode");l&&a(JSON.parse(l))},[]),y.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(n)),n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const i=async()=>{await r()},o=()=>{a(!n)};return t?s.jsx("div",{className:`min-h-screen flex items-center justify-center ${n?"bg-slate-900":"bg-slate-50"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:n?"text-white":"text-slate-900",children:"Loading..."})]})}):e?s.jsx(s6,{children:s.jsx(eW,{isDarkMode:n,onToggleDarkMode:o,onSignOut:i,user:e,children:s.jsxs(QB,{children:[s.jsx($n,{path:"/",element:s.jsx(rde,{isDarkMode:n})}),s.jsx($n,{path:"/time-tracking",element:s.jsx(lde,{isDarkMode:n})}),s.jsx($n,{path:"/budget",element:s.jsx(xde,{isDarkMode:n})}),s.jsx($n,{path:"/cash-flow",element:s.jsx(bde,{isDarkMode:n})}),s.jsx($n,{path:"/projects",element:s.jsx(wde,{})}),s.jsx($n,{path:"/clients",element:s.jsx(jde,{})}),s.jsx($n,{path:"/analytics",element:s.jsx(rhe,{})}),s.jsx($n,{path:"/cv-manager",element:s.jsx(Kpe,{})}),s.jsx($n,{path:"/invoicing",element:s.jsx(phe,{})}),s.jsx($n,{path:"/settings",element:s.jsx(Ype,{})})]})})}):s.jsx(c8,{isDarkMode:n})}DA(document.getElementById("root")).render(s.jsx(y.StrictMode,{children:s.jsx(Xpe,{})}));
