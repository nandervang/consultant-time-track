var G$=Object.defineProperty;var V$=(e,t,r)=>t in e?G$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Bu=(e,t,r)=>V$(e,typeof t!="symbol"?t+"":t,r);function Y$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function un(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function X$(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var JP={exports:{}},Ch={},QP={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=Symbol.for("react.element"),J$=Symbol.for("react.portal"),Q$=Symbol.for("react.fragment"),Z$=Symbol.for("react.strict_mode"),eR=Symbol.for("react.profiler"),tR=Symbol.for("react.provider"),rR=Symbol.for("react.context"),nR=Symbol.for("react.forward_ref"),iR=Symbol.for("react.suspense"),aR=Symbol.for("react.memo"),oR=Symbol.for("react.lazy"),u1=Symbol.iterator;function sR(e){return e===null||typeof e!="object"?null:(e=u1&&e[u1]||e["@@iterator"],typeof e=="function"?e:null)}var ZP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eC=Object.assign,tC={};function Fs(e,t,r){this.props=e,this.context=t,this.refs=tC,this.updater=r||ZP}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rC(){}rC.prototype=Fs.prototype;function j0(e,t,r){this.props=e,this.context=t,this.refs=tC,this.updater=r||ZP}var S0=j0.prototype=new rC;S0.constructor=j0;eC(S0,Fs.prototype);S0.isPureReactComponent=!0;var d1=Array.isArray,nC=Object.prototype.hasOwnProperty,N0={current:null},iC={key:!0,ref:!0,__self:!0,__source:!0};function aC(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)nC.call(t,n)&&!iC.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Yc,type:e,key:a,ref:o,props:i,_owner:N0.current}}function lR(e,t){return{$$typeof:Yc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function E0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yc}function cR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var f1=/\/+/g;function Om(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cR(""+e.key):t.toString(36)}function Md(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yc:case J$:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Om(o,0):n,d1(i)?(r="",e!=null&&(r=e.replace(f1,"$&/")+"/"),Md(i,t,r,"",function(u){return u})):i!=null&&(E0(i)&&(i=lR(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(f1,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",d1(e))for(var s=0;s<e.length;s++){a=e[s];var c=n+Om(a,s);o+=Md(a,t,r,c,i)}else if(c=sR(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=n+Om(a,s++),o+=Md(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zu(e,t,r){if(e==null)return e;var n=[],i=0;return Md(e,n,"","",function(a){return t.call(r,a,i++)}),n}function uR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cr={current:null},$d={transition:null},dR={ReactCurrentDispatcher:cr,ReactCurrentBatchConfig:$d,ReactCurrentOwner:N0};function oC(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:zu,forEach:function(e,t,r){zu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zu(e,function(){t++}),t},toArray:function(e){return zu(e,function(t){return t})||[]},only:function(e){if(!E0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Fs;be.Fragment=Q$;be.Profiler=eR;be.PureComponent=j0;be.StrictMode=Z$;be.Suspense=iR;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dR;be.act=oC;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eC({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=N0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)nC.call(t,c)&&!iC.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Yc,type:e.type,key:i,ref:a,props:n,_owner:o}};be.createContext=function(e){return e={$$typeof:rR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tR,_context:e},e.Consumer=e};be.createElement=aC;be.createFactory=function(e){var t=aC.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:nR,render:e}};be.isValidElement=E0;be.lazy=function(e){return{$$typeof:oR,_payload:{_status:-1,_result:e},_init:uR}};be.memo=function(e,t){return{$$typeof:aR,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=$d.transition;$d.transition={};try{e()}finally{$d.transition=t}};be.unstable_act=oC;be.useCallback=function(e,t){return cr.current.useCallback(e,t)};be.useContext=function(e){return cr.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return cr.current.useDeferredValue(e)};be.useEffect=function(e,t){return cr.current.useEffect(e,t)};be.useId=function(){return cr.current.useId()};be.useImperativeHandle=function(e,t,r){return cr.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return cr.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return cr.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return cr.current.useMemo(e,t)};be.useReducer=function(e,t,r){return cr.current.useReducer(e,t,r)};be.useRef=function(e){return cr.current.useRef(e)};be.useState=function(e){return cr.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return cr.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return cr.current.useTransition()};be.version="18.3.1";QP.exports=be;var x=QP.exports;const Fe=un(x),_h=Y$({__proto__:null,default:Fe},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR=x,hR=Symbol.for("react.element"),pR=Symbol.for("react.fragment"),mR=Object.prototype.hasOwnProperty,gR=fR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vR={key:!0,ref:!0,__self:!0,__source:!0};function sC(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)mR.call(t,n)&&!vR.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:hR,type:e,key:a,ref:o,props:i,_owner:gR.current}}Ch.Fragment=pR;Ch.jsx=sC;Ch.jsxs=sC;JP.exports=Ch;var l=JP.exports,lC={exports:{}},Rr={},cC={exports:{}},uC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,F){var B=I.length;I.push(F);e:for(;0<B;){var J=B-1>>>1,L=I[J];if(0<i(L,F))I[J]=F,I[B]=L,B=J;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var F=I[0],B=I.pop();if(B!==F){I[0]=B;e:for(var J=0,L=I.length,ne=L>>>1;J<ne;){var ce=2*(J+1)-1,he=I[ce],oe=ce+1,ge=I[oe];if(0>i(he,B))oe<L&&0>i(ge,he)?(I[J]=ge,I[oe]=B,J=oe):(I[J]=he,I[ce]=B,J=ce);else if(oe<L&&0>i(ge,B))I[J]=ge,I[oe]=B,J=oe;else break e}}return F}function i(I,F){var B=I.sortIndex-F.sortIndex;return B!==0?B:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=I)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function j(I){if(g=!1,w(I),!m)if(r(c)!==null)m=!0,T(S);else{var F=r(u);F!==null&&R(j,F.startTime-I)}}function S(I,F){m=!1,g&&(g=!1,v(C),C=-1),p=!0;var B=h;try{for(w(F),f=r(c);f!==null&&(!(f.expirationTime>F)||I&&!O());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var L=J(f.expirationTime<=F);F=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),w(F)}else n(c);f=r(c)}if(f!==null)var ne=!0;else{var ce=r(u);ce!==null&&R(j,ce.startTime-F),ne=!1}return ne}finally{f=null,h=B,p=!1}}var N=!1,E=null,C=-1,P=5,k=-1;function O(){return!(e.unstable_now()-k<P)}function _(){if(E!==null){var I=e.unstable_now();k=I;var F=!0;try{F=E(!0,I)}finally{F?A():(N=!1,E=null)}}else N=!1}var A;if(typeof b=="function")A=function(){b(_)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=_,A=function(){M.postMessage(null)}}else A=function(){y(_,0)};function T(I){E=I,N||(N=!0,A())}function R(I,F){C=y(function(){I(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,T(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var B=h;h=F;try{return I()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=h;h=I;try{return F()}finally{h=B}},e.unstable_scheduleCallback=function(I,F,B){var J=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?J+B:J):B=J,I){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=B+L,I={id:d++,callback:F,priorityLevel:I,startTime:B,expirationTime:L,sortIndex:-1},B>J?(I.sortIndex=B,t(u,I),r(c)===null&&I===r(u)&&(g?(v(C),C=-1):g=!0,R(j,B-J))):(I.sortIndex=L,t(c,I),m||p||(m=!0,T(S))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var F=h;return function(){var B=h;h=F;try{return I.apply(this,arguments)}finally{h=B}}}})(uC);cC.exports=uC;var yR=cC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR=x,Ir=yR;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dC=new Set,oc={};function bo(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(oc[e]=t,e=0;e<t.length;e++)dC.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lv=Object.prototype.hasOwnProperty,bR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h1={},p1={};function wR(e){return lv.call(p1,e)?!0:lv.call(h1,e)?!1:bR.test(e)?p1[e]=!0:(h1[e]=!0,!1)}function jR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SR(e,t,r,n){if(t===null||typeof t>"u"||jR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ur(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new ur(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new ur(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new ur(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new ur(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new ur(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new ur(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new ur(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new ur(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new ur(e,5,!1,e.toLowerCase(),null,!1,!1)});var P0=/[\-:]([a-z])/g;function C0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P0,C0);Ft[t]=new ur(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P0,C0);Ft[t]=new ur(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P0,C0);Ft[t]=new ur(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new ur(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new ur(e,1,!1,e.toLowerCase(),null,!0,!0)});function _0(e,t,r,n){var i=Ft.hasOwnProperty(t)?Ft[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SR(t,r,i,n)&&(r=null),n||i===null?wR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Si=xR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uu=Symbol.for("react.element"),Ho=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),k0=Symbol.for("react.strict_mode"),cv=Symbol.for("react.profiler"),fC=Symbol.for("react.provider"),hC=Symbol.for("react.context"),O0=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),dv=Symbol.for("react.suspense_list"),A0=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),pC=Symbol.for("react.offscreen"),m1=Symbol.iterator;function ul(e){return e===null||typeof e!="object"?null:(e=m1&&e[m1]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Am;function Il(e){if(Am===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Am=t&&t[1]||""}return`
`+Am+e}var Tm=!1;function Dm(e,t){if(!e||Tm)return"";Tm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{Tm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Il(e):""}function NR(e){switch(e.tag){case 5:return Il(e.type);case 16:return Il("Lazy");case 13:return Il("Suspense");case 19:return Il("SuspenseList");case 0:case 2:case 15:return e=Dm(e.type,!1),e;case 11:return e=Dm(e.type.render,!1),e;case 1:return e=Dm(e.type,!0),e;default:return""}}function fv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qo:return"Fragment";case Ho:return"Portal";case cv:return"Profiler";case k0:return"StrictMode";case uv:return"Suspense";case dv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hC:return(e.displayName||"Context")+".Consumer";case fC:return(e._context.displayName||"Context")+".Provider";case O0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A0:return t=e.displayName||null,t!==null?t:fv(e.type)||"Memo";case Fi:t=e._payload,e=e._init;try{return fv(e(t))}catch{}}return null}function ER(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fv(t);case 8:return t===k0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PR(e){var t=mC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wu(e){e._valueTracker||(e._valueTracker=PR(e))}function gC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hv(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function g1(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ua(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vC(e,t){t=t.checked,t!=null&&_0(e,"checked",t,!1)}function pv(e,t){vC(e,t);var r=ua(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mv(e,t.type,r):t.hasOwnProperty("defaultValue")&&mv(e,t.type,ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function v1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mv(e,t,r){(t!=="number"||Jd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ml=Array.isArray;function is(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ua(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function y1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(Ml(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ua(r)}}function yC(e,t){var r=ua(t.value),n=ua(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function x1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hu,bC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hu=Hu||document.createElement("div"),Hu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CR=["Webkit","ms","Moz","O"];Object.keys(Wl).forEach(function(e){CR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wl[t]=Wl[e]})});function wC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wl.hasOwnProperty(e)&&Wl[e]?(""+t).trim():t+"px"}function jC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=wC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var _R=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yv(e,t){if(t){if(_R[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function xv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bv=null;function T0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wv=null,as=null,os=null;function b1(e){if(e=Qc(e)){if(typeof wv!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Dh(t),wv(e.stateNode,e.type,t))}}function SC(e){as?os?os.push(e):os=[e]:as=e}function NC(){if(as){var e=as,t=os;if(os=as=null,b1(e),t)for(e=0;e<t.length;e++)b1(t[e])}}function EC(e,t){return e(t)}function PC(){}var Im=!1;function CC(e,t,r){if(Im)return e(t,r);Im=!0;try{return EC(e,t,r)}finally{Im=!1,(as!==null||os!==null)&&(PC(),NC())}}function lc(e,t){var r=e.stateNode;if(r===null)return null;var n=Dh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var jv=!1;if(fi)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){jv=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{jv=!1}function kR(e,t,r,n,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Hl=!1,Qd=null,Zd=!1,Sv=null,OR={onError:function(e){Hl=!0,Qd=e}};function AR(e,t,r,n,i,a,o,s,c){Hl=!1,Qd=null,kR.apply(OR,arguments)}function TR(e,t,r,n,i,a,o,s,c){if(AR.apply(this,arguments),Hl){if(Hl){var u=Qd;Hl=!1,Qd=null}else throw Error(q(198));Zd||(Zd=!0,Sv=u)}}function wo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _C(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w1(e){if(wo(e)!==e)throw Error(q(188))}function DR(e){var t=e.alternate;if(!t){if(t=wo(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return w1(i),e;if(a===n)return w1(i),t;a=a.sibling}throw Error(q(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function kC(e){return e=DR(e),e!==null?OC(e):null}function OC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=OC(e);if(t!==null)return t;e=e.sibling}return null}var AC=Ir.unstable_scheduleCallback,j1=Ir.unstable_cancelCallback,IR=Ir.unstable_shouldYield,MR=Ir.unstable_requestPaint,rt=Ir.unstable_now,$R=Ir.unstable_getCurrentPriorityLevel,D0=Ir.unstable_ImmediatePriority,TC=Ir.unstable_UserBlockingPriority,ef=Ir.unstable_NormalPriority,RR=Ir.unstable_LowPriority,DC=Ir.unstable_IdlePriority,kh=null,zn=null;function LR(e){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(kh,e,void 0,(e.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:zR,FR=Math.log,BR=Math.LN2;function zR(e){return e>>>=0,e===0?32:31-(FR(e)/BR|0)|0}var qu=64,Ku=4194304;function $l(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=$l(s):(a&=o,a!==0&&(n=$l(a)))}else o=r&~i,o!==0?n=$l(o):a!==0&&(n=$l(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-En(t),i=1<<r,n|=e[r],t&=~i;return n}function UR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-En(a),s=1<<o,c=i[o];c===-1?(!(s&r)||s&n)&&(i[o]=UR(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function Nv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function IC(){var e=qu;return qu<<=1,!(qu&4194240)&&(qu=64),e}function Mm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-En(t),e[t]=r}function HR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-En(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function I0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-En(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Oe=0;function MC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $C,M0,RC,LC,FC,Ev=!1,Gu=[],Yi=null,Xi=null,Ji=null,cc=new Map,uc=new Map,Ui=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S1(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(t.pointerId)}}function fl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Qc(t),t!==null&&M0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function KR(e,t,r,n,i){switch(t){case"focusin":return Yi=fl(Yi,e,t,r,n,i),!0;case"dragenter":return Xi=fl(Xi,e,t,r,n,i),!0;case"mouseover":return Ji=fl(Ji,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return cc.set(a,fl(cc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,uc.set(a,fl(uc.get(a)||null,e,t,r,n,i)),!0}return!1}function BC(e){var t=Ha(e.target);if(t!==null){var r=wo(t);if(r!==null){if(t=r.tag,t===13){if(t=_C(r),t!==null){e.blockedOn=t,FC(e.priority,function(){RC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bv=n,r.target.dispatchEvent(n),bv=null}else return t=Qc(r),t!==null&&M0(t),e.blockedOn=r,!1;t.shift()}return!0}function N1(e,t,r){Rd(e)&&r.delete(t)}function GR(){Ev=!1,Yi!==null&&Rd(Yi)&&(Yi=null),Xi!==null&&Rd(Xi)&&(Xi=null),Ji!==null&&Rd(Ji)&&(Ji=null),cc.forEach(N1),uc.forEach(N1)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ev||(Ev=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,GR)))}function dc(e){function t(i){return hl(i,e)}if(0<Gu.length){hl(Gu[0],e);for(var r=1;r<Gu.length;r++){var n=Gu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yi!==null&&hl(Yi,e),Xi!==null&&hl(Xi,e),Ji!==null&&hl(Ji,e),cc.forEach(t),uc.forEach(t),r=0;r<Ui.length;r++)n=Ui[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ui.length&&(r=Ui[0],r.blockedOn===null);)BC(r),r.blockedOn===null&&Ui.shift()}var ss=Si.ReactCurrentBatchConfig,rf=!0;function VR(e,t,r,n){var i=Oe,a=ss.transition;ss.transition=null;try{Oe=1,$0(e,t,r,n)}finally{Oe=i,ss.transition=a}}function YR(e,t,r,n){var i=Oe,a=ss.transition;ss.transition=null;try{Oe=4,$0(e,t,r,n)}finally{Oe=i,ss.transition=a}}function $0(e,t,r,n){if(rf){var i=Pv(e,t,r,n);if(i===null)qm(e,t,n,nf,r),S1(e,n);else if(KR(i,e,t,r,n))n.stopPropagation();else if(S1(e,n),t&4&&-1<qR.indexOf(e)){for(;i!==null;){var a=Qc(i);if(a!==null&&$C(a),a=Pv(e,t,r,n),a===null&&qm(e,t,n,nf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else qm(e,t,n,null,r)}}var nf=null;function Pv(e,t,r,n){if(nf=null,e=T0(n),e=Ha(e),e!==null)if(t=wo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_C(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nf=e,null}function zC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($R()){case D0:return 1;case TC:return 4;case ef:case RR:return 16;case DC:return 536870912;default:return 16}default:return 16}}var Ki=null,R0=null,Ld=null;function UC(){if(Ld)return Ld;var e,t=R0,r=t.length,n,i="value"in Ki?Ki.value:Ki.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Ld=i.slice(e,1<n?1-n:void 0)}function Fd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vu(){return!0}function E1(){return!1}function Lr(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vu:E1,this.isPropagationStopped=E1,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L0=Lr(Bs),Jc=Je({},Bs,{view:0,detail:0}),XR=Lr(Jc),$m,Rm,pl,Oh=Je({},Jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pl&&(pl&&e.type==="mousemove"?($m=e.screenX-pl.screenX,Rm=e.screenY-pl.screenY):Rm=$m=0,pl=e),$m)},movementY:function(e){return"movementY"in e?e.movementY:Rm}}),P1=Lr(Oh),JR=Je({},Oh,{dataTransfer:0}),QR=Lr(JR),ZR=Je({},Jc,{relatedTarget:0}),Lm=Lr(ZR),eL=Je({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),tL=Lr(eL),rL=Je({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nL=Lr(rL),iL=Je({},Bs,{data:0}),C1=Lr(iL),aL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sL[e])?!!t[e]:!1}function F0(){return lL}var cL=Je({},Jc,{key:function(e){if(e.key){var t=aL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F0,charCode:function(e){return e.type==="keypress"?Fd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uL=Lr(cL),dL=Je({},Oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_1=Lr(dL),fL=Je({},Jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F0}),hL=Lr(fL),pL=Je({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),mL=Lr(pL),gL=Je({},Oh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vL=Lr(gL),yL=[9,13,27,32],B0=fi&&"CompositionEvent"in window,ql=null;fi&&"documentMode"in document&&(ql=document.documentMode);var xL=fi&&"TextEvent"in window&&!ql,WC=fi&&(!B0||ql&&8<ql&&11>=ql),k1=" ",O1=!1;function HC(e,t){switch(e){case"keyup":return yL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ko=!1;function bL(e,t){switch(e){case"compositionend":return qC(t);case"keypress":return t.which!==32?null:(O1=!0,k1);case"textInput":return e=t.data,e===k1&&O1?null:e;default:return null}}function wL(e,t){if(Ko)return e==="compositionend"||!B0&&HC(e,t)?(e=UC(),Ld=R0=Ki=null,Ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return WC&&t.locale!=="ko"?null:t.data;default:return null}}var jL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jL[e.type]:t==="textarea"}function KC(e,t,r,n){SC(n),t=af(t,"onChange"),0<t.length&&(r=new L0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kl=null,fc=null;function SL(e){n_(e,0)}function Ah(e){var t=Yo(e);if(gC(t))return e}function NL(e,t){if(e==="change")return t}var GC=!1;if(fi){var Fm;if(fi){var Bm="oninput"in document;if(!Bm){var T1=document.createElement("div");T1.setAttribute("oninput","return;"),Bm=typeof T1.oninput=="function"}Fm=Bm}else Fm=!1;GC=Fm&&(!document.documentMode||9<document.documentMode)}function D1(){Kl&&(Kl.detachEvent("onpropertychange",VC),fc=Kl=null)}function VC(e){if(e.propertyName==="value"&&Ah(fc)){var t=[];KC(t,fc,e,T0(e)),CC(SL,t)}}function EL(e,t,r){e==="focusin"?(D1(),Kl=t,fc=r,Kl.attachEvent("onpropertychange",VC)):e==="focusout"&&D1()}function PL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ah(fc)}function CL(e,t){if(e==="click")return Ah(t)}function _L(e,t){if(e==="input"||e==="change")return Ah(t)}function kL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:kL;function hc(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!lv.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function I1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function M1(e,t){var r=I1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=I1(r)}}function YC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?YC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function XC(){for(var e=window,t=Jd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jd(e.document)}return t}function z0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OL(e){var t=XC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&YC(r.ownerDocument.documentElement,r)){if(n!==null&&z0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=M1(r,a);var o=M1(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AL=fi&&"documentMode"in document&&11>=document.documentMode,Go=null,Cv=null,Gl=null,_v=!1;function $1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_v||Go==null||Go!==Jd(n)||(n=Go,"selectionStart"in n&&z0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gl&&hc(Gl,n)||(Gl=n,n=af(Cv,"onSelect"),0<n.length&&(t=new L0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Go)))}function Yu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vo={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},zm={},JC={};fi&&(JC=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Th(e){if(zm[e])return zm[e];if(!Vo[e])return e;var t=Vo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in JC)return zm[e]=t[r];return e}var QC=Th("animationend"),ZC=Th("animationiteration"),e_=Th("animationstart"),t_=Th("transitionend"),r_=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ma(e,t){r_.set(e,t),bo(t,[e])}for(var Um=0;Um<R1.length;Um++){var Wm=R1[Um],TL=Wm.toLowerCase(),DL=Wm[0].toUpperCase()+Wm.slice(1);ma(TL,"on"+DL)}ma(QC,"onAnimationEnd");ma(ZC,"onAnimationIteration");ma(e_,"onAnimationStart");ma("dblclick","onDoubleClick");ma("focusin","onFocus");ma("focusout","onBlur");ma(t_,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function L1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TR(n,t,void 0,e),e.currentTarget=null}function n_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;L1(i,s,u),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;L1(i,s,u),a=c}}}if(Zd)throw e=Sv,Zd=!1,Sv=null,e}function We(e,t){var r=t[Dv];r===void 0&&(r=t[Dv]=new Set);var n=e+"__bubble";r.has(n)||(i_(t,e,2,!1),r.add(n))}function Hm(e,t,r){var n=0;t&&(n|=4),i_(r,e,n,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[Xu]){e[Xu]=!0,dC.forEach(function(r){r!=="selectionchange"&&(IL.has(r)||Hm(r,!1,e),Hm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xu]||(t[Xu]=!0,Hm("selectionchange",!1,t))}}function i_(e,t,r,n){switch(zC(t)){case 1:var i=VR;break;case 4:i=YR;break;default:i=$0}r=i.bind(null,t,r,e),i=void 0,!jv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function qm(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ha(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}CC(function(){var u=a,d=T0(r),f=[];e:{var h=r_.get(e);if(h!==void 0){var p=L0,m=e;switch(e){case"keypress":if(Fd(r)===0)break e;case"keydown":case"keyup":p=uL;break;case"focusin":m="focus",p=Lm;break;case"focusout":m="blur",p=Lm;break;case"beforeblur":case"afterblur":p=Lm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=QR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hL;break;case QC:case ZC:case e_:p=tL;break;case t_:p=mL;break;case"scroll":p=XR;break;case"wheel":p=vL;break;case"copy":case"cut":case"paste":p=nL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_1}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,v!==null&&(j=lc(b,v),j!=null&&g.push(mc(b,j,w)))),y)break;b=b.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==bv&&(m=r.relatedTarget||r.fromElement)&&(Ha(m)||m[hi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Ha(m):null,m!==null&&(y=wo(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=P1,j="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=_1,j="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?h:Yo(p),w=m==null?h:Yo(m),h=new g(j,b+"leave",p,r,d),h.target=y,h.relatedTarget=w,j=null,Ha(d)===u&&(g=new g(v,b+"enter",m,r,d),g.target=w,g.relatedTarget=y,j=g),y=j,p&&m)t:{for(g=p,v=m,b=0,w=g;w;w=_o(w))b++;for(w=0,j=v;j;j=_o(j))w++;for(;0<b-w;)g=_o(g),b--;for(;0<w-b;)v=_o(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=_o(g),v=_o(v)}g=null}else g=null;p!==null&&F1(f,h,p,g,!1),m!==null&&y!==null&&F1(f,y,m,g,!0)}}e:{if(h=u?Yo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=NL;else if(A1(h))if(GC)S=_L;else{S=PL;var N=EL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=CL);if(S&&(S=S(e,u))){KC(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&mv(h,"number",h.value)}switch(N=u?Yo(u):window,e){case"focusin":(A1(N)||N.contentEditable==="true")&&(Go=N,Cv=u,Gl=null);break;case"focusout":Gl=Cv=Go=null;break;case"mousedown":_v=!0;break;case"contextmenu":case"mouseup":case"dragend":_v=!1,$1(f,r,d);break;case"selectionchange":if(AL)break;case"keydown":case"keyup":$1(f,r,d)}var E;if(B0)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ko?HC(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(WC&&r.locale!=="ko"&&(Ko||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ko&&(E=UC()):(Ki=d,R0="value"in Ki?Ki.value:Ki.textContent,Ko=!0)),N=af(u,C),0<N.length&&(C=new C1(C,e,null,r,d),f.push({event:C,listeners:N}),E?C.data=E:(E=qC(r),E!==null&&(C.data=E)))),(E=xL?bL(e,r):wL(e,r))&&(u=af(u,"onBeforeInput"),0<u.length&&(d=new C1("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}n_(f,t)})}function mc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function af(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=lc(e,r),a!=null&&n.unshift(mc(e,a,i)),a=lc(e,t),a!=null&&n.push(mc(e,a,i))),e=e.return}return n}function _o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function F1(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&u!==null&&(s=u,i?(c=lc(r,a),c!=null&&o.unshift(mc(r,c,s))):i||(c=lc(r,a),c!=null&&o.push(mc(r,c,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ML=/\r\n?/g,$L=/\u0000|\uFFFD/g;function B1(e){return(typeof e=="string"?e:""+e).replace(ML,`
`).replace($L,"")}function Ju(e,t,r){if(t=B1(t),B1(e)!==t&&r)throw Error(q(425))}function of(){}var kv=null,Ov=null;function Av(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tv=typeof setTimeout=="function"?setTimeout:void 0,RL=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,LL=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(e){return z1.resolve(null).then(e).catch(FL)}:Tv;function FL(e){setTimeout(function(){throw e})}function Km(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),dc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);dc(t)}function Qi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function U1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zs=Math.random().toString(36).slice(2),$n="__reactFiber$"+zs,gc="__reactProps$"+zs,hi="__reactContainer$"+zs,Dv="__reactEvents$"+zs,BL="__reactListeners$"+zs,zL="__reactHandles$"+zs;function Ha(e){var t=e[$n];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hi]||r[$n]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=U1(e);e!==null;){if(r=e[$n])return r;e=U1(e)}return t}e=r,r=e.parentNode}return null}function Qc(e){return e=e[$n]||e[hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Dh(e){return e[gc]||null}var Iv=[],Xo=-1;function ga(e){return{current:e}}function qe(e){0>Xo||(e.current=Iv[Xo],Iv[Xo]=null,Xo--)}function Be(e,t){Xo++,Iv[Xo]=e.current,e.current=t}var da={},Jt=ga(da),yr=ga(!1),oo=da;function vs(e,t){var r=e.type.contextTypes;if(!r)return da;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function xr(e){return e=e.childContextTypes,e!=null}function sf(){qe(yr),qe(Jt)}function W1(e,t,r){if(Jt.current!==da)throw Error(q(168));Be(Jt,t),Be(yr,r)}function a_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(q(108,ER(e)||"Unknown",i));return Je({},r,n)}function lf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,oo=Jt.current,Be(Jt,e),Be(yr,yr.current),!0}function H1(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=a_(e,t,oo),n.__reactInternalMemoizedMergedChildContext=e,qe(yr),qe(Jt),Be(Jt,e)):qe(yr),Be(yr,r)}var ei=null,Ih=!1,Gm=!1;function o_(e){ei===null?ei=[e]:ei.push(e)}function UL(e){Ih=!0,o_(e)}function va(){if(!Gm&&ei!==null){Gm=!0;var e=0,t=Oe;try{var r=ei;for(Oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ei=null,Ih=!1}catch(i){throw ei!==null&&(ei=ei.slice(e+1)),AC(D0,va),i}finally{Oe=t,Gm=!1}}return null}var Jo=[],Qo=0,cf=null,uf=0,Kr=[],Gr=0,so=null,ni=1,ii="";function Ma(e,t){Jo[Qo++]=uf,Jo[Qo++]=cf,cf=e,uf=t}function s_(e,t,r){Kr[Gr++]=ni,Kr[Gr++]=ii,Kr[Gr++]=so,so=e;var n=ni;e=ii;var i=32-En(n)-1;n&=~(1<<i),r+=1;var a=32-En(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ni=1<<32-En(t)+i|r<<i|n,ii=a+e}else ni=1<<a|r<<i|n,ii=e}function U0(e){e.return!==null&&(Ma(e,1),s_(e,1,0))}function W0(e){for(;e===cf;)cf=Jo[--Qo],Jo[Qo]=null,uf=Jo[--Qo],Jo[Qo]=null;for(;e===so;)so=Kr[--Gr],Kr[Gr]=null,ii=Kr[--Gr],Kr[Gr]=null,ni=Kr[--Gr],Kr[Gr]=null}var Or=null,_r=null,Ke=!1,xn=null;function l_(e,t){var r=Yr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function q1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Or=e,_r=Qi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Or=e,_r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=so!==null?{id:ni,overflow:ii}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Or=e,_r=null,!0):!1;default:return!1}}function Mv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $v(e){if(Ke){var t=_r;if(t){var r=t;if(!q1(e,t)){if(Mv(e))throw Error(q(418));t=Qi(r.nextSibling);var n=Or;t&&q1(e,t)?l_(n,r):(e.flags=e.flags&-4097|2,Ke=!1,Or=e)}}else{if(Mv(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ke=!1,Or=e}}}function K1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Or=e}function Qu(e){if(e!==Or)return!1;if(!Ke)return K1(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Av(e.type,e.memoizedProps)),t&&(t=_r)){if(Mv(e))throw c_(),Error(q(418));for(;t;)l_(e,t),t=Qi(t.nextSibling)}if(K1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_r=Qi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_r=null}}else _r=Or?Qi(e.stateNode.nextSibling):null;return!0}function c_(){for(var e=_r;e;)e=Qi(e.nextSibling)}function ys(){_r=Or=null,Ke=!1}function H0(e){xn===null?xn=[e]:xn.push(e)}var WL=Si.ReactCurrentBatchConfig;function ml(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function Zu(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function G1(e){var t=e._init;return t(e._payload)}function u_(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=ra(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,b,w,j){return b===null||b.tag!==6?(b=eg(w,v.mode,j),b.return=v,b):(b=i(b,w),b.return=v,b)}function c(v,b,w,j){var S=w.type;return S===qo?d(v,b,w.props.children,j,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fi&&G1(S)===b.type)?(j=i(b,w.props),j.ref=ml(v,b,w),j.return=v,j):(j=Kd(w.type,w.key,w.props,null,v.mode,j),j.ref=ml(v,b,w),j.return=v,j)}function u(v,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=tg(w,v.mode,j),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function d(v,b,w,j,S){return b===null||b.tag!==7?(b=eo(w,v.mode,j,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=eg(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Uu:return w=Kd(b.type,b.key,b.props,null,v.mode,w),w.ref=ml(v,null,b),w.return=v,w;case Ho:return b=tg(b,v.mode,w),b.return=v,b;case Fi:var j=b._init;return f(v,j(b._payload),w)}if(Ml(b)||ul(b))return b=eo(b,v.mode,w,null),b.return=v,b;Zu(v,b)}return null}function h(v,b,w,j){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(v,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uu:return w.key===S?c(v,b,w,j):null;case Ho:return w.key===S?u(v,b,w,j):null;case Fi:return S=w._init,h(v,b,S(w._payload),j)}if(Ml(w)||ul(w))return S!==null?null:d(v,b,w,j,null);Zu(v,w)}return null}function p(v,b,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(w)||null,s(b,v,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Uu:return v=v.get(j.key===null?w:j.key)||null,c(b,v,j,S);case Ho:return v=v.get(j.key===null?w:j.key)||null,u(b,v,j,S);case Fi:var N=j._init;return p(v,b,w,N(j._payload),S)}if(Ml(j)||ul(j))return v=v.get(w)||null,d(b,v,j,S,null);Zu(b,j)}return null}function m(v,b,w,j){for(var S=null,N=null,E=b,C=b=0,P=null;E!==null&&C<w.length;C++){E.index>C?(P=E,E=null):P=E.sibling;var k=h(v,E,w[C],j);if(k===null){E===null&&(E=P);break}e&&E&&k.alternate===null&&t(v,E),b=a(k,b,C),N===null?S=k:N.sibling=k,N=k,E=P}if(C===w.length)return r(v,E),Ke&&Ma(v,C),S;if(E===null){for(;C<w.length;C++)E=f(v,w[C],j),E!==null&&(b=a(E,b,C),N===null?S=E:N.sibling=E,N=E);return Ke&&Ma(v,C),S}for(E=n(v,E);C<w.length;C++)P=p(E,v,C,w[C],j),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?C:P.key),b=a(P,b,C),N===null?S=P:N.sibling=P,N=P);return e&&E.forEach(function(O){return t(v,O)}),Ke&&Ma(v,C),S}function g(v,b,w,j){var S=ul(w);if(typeof S!="function")throw Error(q(150));if(w=S.call(w),w==null)throw Error(q(151));for(var N=S=null,E=b,C=b=0,P=null,k=w.next();E!==null&&!k.done;C++,k=w.next()){E.index>C?(P=E,E=null):P=E.sibling;var O=h(v,E,k.value,j);if(O===null){E===null&&(E=P);break}e&&E&&O.alternate===null&&t(v,E),b=a(O,b,C),N===null?S=O:N.sibling=O,N=O,E=P}if(k.done)return r(v,E),Ke&&Ma(v,C),S;if(E===null){for(;!k.done;C++,k=w.next())k=f(v,k.value,j),k!==null&&(b=a(k,b,C),N===null?S=k:N.sibling=k,N=k);return Ke&&Ma(v,C),S}for(E=n(v,E);!k.done;C++,k=w.next())k=p(E,v,C,k.value,j),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?C:k.key),b=a(k,b,C),N===null?S=k:N.sibling=k,N=k);return e&&E.forEach(function(_){return t(v,_)}),Ke&&Ma(v,C),S}function y(v,b,w,j){if(typeof w=="object"&&w!==null&&w.type===qo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Uu:e:{for(var S=w.key,N=b;N!==null;){if(N.key===S){if(S=w.type,S===qo){if(N.tag===7){r(v,N.sibling),b=i(N,w.props.children),b.return=v,v=b;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fi&&G1(S)===N.type){r(v,N.sibling),b=i(N,w.props),b.ref=ml(v,N,w),b.return=v,v=b;break e}r(v,N);break}else t(v,N);N=N.sibling}w.type===qo?(b=eo(w.props.children,v.mode,j,w.key),b.return=v,v=b):(j=Kd(w.type,w.key,w.props,null,v.mode,j),j.ref=ml(v,b,w),j.return=v,v=j)}return o(v);case Ho:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=tg(w,v.mode,j),b.return=v,v=b}return o(v);case Fi:return N=w._init,y(v,b,N(w._payload),j)}if(Ml(w))return m(v,b,w,j);if(ul(w))return g(v,b,w,j);Zu(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(v,b.sibling),b=i(b,w),b.return=v,v=b):(r(v,b),b=eg(w,v.mode,j),b.return=v,v=b),o(v)):r(v,b)}return y}var xs=u_(!0),d_=u_(!1),df=ga(null),ff=null,Zo=null,q0=null;function K0(){q0=Zo=ff=null}function G0(e){var t=df.current;qe(df),e._currentValue=t}function Rv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ls(e,t){ff=e,q0=Zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gr=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(q0!==e)if(e={context:e,memoizedValue:t,next:null},Zo===null){if(ff===null)throw Error(q(308));Zo=e,ff.dependencies={lanes:0,firstContext:e}}else Zo=Zo.next=e;return t}var qa=null;function V0(e){qa===null?qa=[e]:qa.push(e)}function f_(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,V0(t)):(r.next=i.next,i.next=r),t.interleaved=r,pi(e,n)}function pi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bi=!1;function Y0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function si(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,pi(e,r)}return i=n.interleaved,i===null?(t.next=t,V0(n)):(t.next=i.next,i.next=t),n.interleaved=t,pi(e,r)}function Bd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I0(e,r)}}function V1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hf(e,t,r,n){var i=e.updateQueue;Bi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(h=t,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Je({},f,h);break e;case 2:Bi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);co|=o,e.lanes=o,e.memoizedState=f}}function Y1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(q(191,i));i.call(n)}}}var Zc={},Un=ga(Zc),vc=ga(Zc),yc=ga(Zc);function Ka(e){if(e===Zc)throw Error(q(174));return e}function X0(e,t){switch(Be(yc,t),Be(vc,e),Be(Un,Zc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vv(t,e)}qe(Un),Be(Un,t)}function bs(){qe(Un),qe(vc),qe(yc)}function p_(e){Ka(yc.current);var t=Ka(Un.current),r=vv(t,e.type);t!==r&&(Be(vc,e),Be(Un,r))}function J0(e){vc.current===e&&(qe(Un),qe(vc))}var Ye=ga(0);function pf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vm=[];function Q0(){for(var e=0;e<Vm.length;e++)Vm[e]._workInProgressVersionPrimary=null;Vm.length=0}var zd=Si.ReactCurrentDispatcher,Ym=Si.ReactCurrentBatchConfig,lo=0,Xe=null,pt=null,St=null,mf=!1,Vl=!1,xc=0,HL=0;function Ht(){throw Error(q(321))}function Z0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cn(e[r],t[r]))return!1;return!0}function ex(e,t,r,n,i,a){if(lo=a,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zd.current=e===null||e.memoizedState===null?VL:YL,e=r(n,i),Vl){a=0;do{if(Vl=!1,xc=0,25<=a)throw Error(q(301));a+=1,St=pt=null,t.updateQueue=null,zd.current=XL,e=r(n,i)}while(Vl)}if(zd.current=gf,t=pt!==null&&pt.next!==null,lo=0,St=pt=Xe=null,mf=!1,t)throw Error(q(300));return e}function tx(){var e=xc!==0;return xc=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Xe.memoizedState=St=e:St=St.next=e,St}function sn(){if(pt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=St===null?Xe.memoizedState:St.next;if(t!==null)St=t,pt=e;else{if(e===null)throw Error(q(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},St===null?Xe.memoizedState=St=e:St=St.next=e}return St}function bc(e,t){return typeof t=="function"?t(e):t}function Xm(e){var t=sn(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=pt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,c=null,u=a;do{var d=u.lane;if((lo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,o=n):c=c.next=f,Xe.lanes|=d,co|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=s,Cn(n,t.memoizedState)||(gr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Xe.lanes|=a,co|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jm(e){var t=sn(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Cn(a,t.memoizedState)||(gr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function m_(){}function g_(e,t){var r=Xe,n=sn(),i=t(),a=!Cn(n.memoizedState,i);if(a&&(n.memoizedState=i,gr=!0),n=n.queue,rx(x_.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||St!==null&&St.memoizedState.tag&1){if(r.flags|=2048,wc(9,y_.bind(null,r,n,i,t),void 0,null),Et===null)throw Error(q(349));lo&30||v_(r,t,i)}return i}function v_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function y_(e,t,r,n){t.value=r,t.getSnapshot=n,b_(t)&&w_(e)}function x_(e,t,r){return r(function(){b_(t)&&w_(e)})}function b_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cn(e,r)}catch{return!0}}function w_(e){var t=pi(e,1);t!==null&&Pn(t,e,1,-1)}function X1(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:e},t.queue=e,e=e.dispatch=GL.bind(null,Xe,e),[t.memoizedState,e]}function wc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function j_(){return sn().memoizedState}function Ud(e,t,r,n){var i=In();Xe.flags|=e,i.memoizedState=wc(1|t,r,void 0,n===void 0?null:n)}function Mh(e,t,r,n){var i=sn();n=n===void 0?null:n;var a=void 0;if(pt!==null){var o=pt.memoizedState;if(a=o.destroy,n!==null&&Z0(n,o.deps)){i.memoizedState=wc(t,r,a,n);return}}Xe.flags|=e,i.memoizedState=wc(1|t,r,a,n)}function J1(e,t){return Ud(8390656,8,e,t)}function rx(e,t){return Mh(2048,8,e,t)}function S_(e,t){return Mh(4,2,e,t)}function N_(e,t){return Mh(4,4,e,t)}function E_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P_(e,t,r){return r=r!=null?r.concat([e]):null,Mh(4,4,E_.bind(null,t,e),r)}function nx(){}function C_(e,t){var r=sn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Z0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function __(e,t){var r=sn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Z0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function k_(e,t,r){return lo&21?(Cn(r,t)||(r=IC(),Xe.lanes|=r,co|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gr=!0),e.memoizedState=r)}function qL(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var n=Ym.transition;Ym.transition={};try{e(!1),t()}finally{Oe=r,Ym.transition=n}}function O_(){return sn().memoizedState}function KL(e,t,r){var n=ta(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},A_(e))T_(t,r);else if(r=f_(e,t,r,n),r!==null){var i=or();Pn(r,e,n,i),D_(r,t,n)}}function GL(e,t,r){var n=ta(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(A_(e))T_(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Cn(s,o)){var c=t.interleaved;c===null?(i.next=i,V0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=f_(e,t,i,n),r!==null&&(i=or(),Pn(r,e,n,i),D_(r,t,n))}}function A_(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function T_(e,t){Vl=mf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function D_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I0(e,r)}}var gf={readContext:on,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},VL={readContext:on,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:J1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ud(4194308,4,E_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ud(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ud(4,2,e,t)},useMemo:function(e,t){var r=In();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=In();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KL.bind(null,Xe,e),[n.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:X1,useDebugValue:nx,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=X1(!1),t=e[0];return e=qL.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Xe,i=In();if(Ke){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),Et===null)throw Error(q(349));lo&30||v_(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,J1(x_.bind(null,n,a,e),[e]),n.flags|=2048,wc(9,y_.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=In(),t=Et.identifierPrefix;if(Ke){var r=ii,n=ni;r=(n&~(1<<32-En(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=HL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YL={readContext:on,useCallback:C_,useContext:on,useEffect:rx,useImperativeHandle:P_,useInsertionEffect:S_,useLayoutEffect:N_,useMemo:__,useReducer:Xm,useRef:j_,useState:function(){return Xm(bc)},useDebugValue:nx,useDeferredValue:function(e){var t=sn();return k_(t,pt.memoizedState,e)},useTransition:function(){var e=Xm(bc)[0],t=sn().memoizedState;return[e,t]},useMutableSource:m_,useSyncExternalStore:g_,useId:O_,unstable_isNewReconciler:!1},XL={readContext:on,useCallback:C_,useContext:on,useEffect:rx,useImperativeHandle:P_,useInsertionEffect:S_,useLayoutEffect:N_,useMemo:__,useReducer:Jm,useRef:j_,useState:function(){return Jm(bc)},useDebugValue:nx,useDeferredValue:function(e){var t=sn();return pt===null?t.memoizedState=e:k_(t,pt.memoizedState,e)},useTransition:function(){var e=Jm(bc)[0],t=sn().memoizedState;return[e,t]},useMutableSource:m_,useSyncExternalStore:g_,useId:O_,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Lv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $h={isMounted:function(e){return(e=e._reactInternals)?wo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=or(),i=ta(e),a=si(n,i);a.payload=t,r!=null&&(a.callback=r),t=Zi(e,a,i),t!==null&&(Pn(t,e,i,n),Bd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=or(),i=ta(e),a=si(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Zi(e,a,i),t!==null&&(Pn(t,e,i,n),Bd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=or(),n=ta(e),i=si(r,n);i.tag=2,t!=null&&(i.callback=t),t=Zi(e,i,n),t!==null&&(Pn(t,e,n,r),Bd(t,e,n))}};function Q1(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!hc(r,n)||!hc(i,a):!0}function I_(e,t,r){var n=!1,i=da,a=t.contextType;return typeof a=="object"&&a!==null?a=on(a):(i=xr(t)?oo:Jt.current,n=t.contextTypes,a=(n=n!=null)?vs(e,i):da),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$h,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Z1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&$h.enqueueReplaceState(t,t.state,null)}function Fv(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Y0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=on(a):(a=xr(t)?oo:Jt.current,i.context=vs(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Lv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$h.enqueueReplaceState(i,i.state,null),hf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ws(e,t){try{var r="",n=t;do r+=NR(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Qm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var JL=typeof WeakMap=="function"?WeakMap:Map;function M_(e,t,r){r=si(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yf||(yf=!0,Xv=n),Bv(e,t)},r}function $_(e,t,r){r=si(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Bv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Bv(e,t),typeof n!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ej(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new JL;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=d3.bind(null,e,t,r),t.then(e,e))}function tj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rj(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=si(-1,1),t.tag=2,Zi(r,t,1))),r.lanes|=1),e)}var QL=Si.ReactCurrentOwner,gr=!1;function ir(e,t,r,n){t.child=e===null?d_(t,null,r,n):xs(t,e.child,r,n)}function nj(e,t,r,n,i){r=r.render;var a=t.ref;return ls(t,i),n=ex(e,t,r,n,a,i),r=tx(),e!==null&&!gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(Ke&&r&&U0(t),t.flags|=1,ir(e,t,n,i),t.child)}function ij(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!dx(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,R_(e,t,a,n,i)):(e=Kd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:hc,r(o,n)&&e.ref===t.ref)return mi(e,t,i)}return t.flags|=1,e=ra(a,n),e.ref=t.ref,e.return=t,t.child=e}function R_(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(hc(a,n)&&e.ref===t.ref)if(gr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(gr=!0);else return t.lanes=e.lanes,mi(e,t,i)}return zv(e,t,r,n,i)}function L_(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(ts,Nr),Nr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Be(ts,Nr),Nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Be(ts,Nr),Nr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Be(ts,Nr),Nr|=n;return ir(e,t,i,r),t.child}function F_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zv(e,t,r,n,i){var a=xr(r)?oo:Jt.current;return a=vs(t,a),ls(t,i),r=ex(e,t,r,n,a,i),n=tx(),e!==null&&!gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(Ke&&n&&U0(t),t.flags|=1,ir(e,t,r,i),t.child)}function aj(e,t,r,n,i){if(xr(r)){var a=!0;lf(t)}else a=!1;if(ls(t,i),t.stateNode===null)Wd(e,t),I_(t,r,n),Fv(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=on(u):(u=xr(r)?oo:Jt.current,u=vs(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==u)&&Z1(t,o,n,u),Bi=!1;var h=t.memoizedState;o.state=h,hf(t,n,o,i),c=t.memoizedState,s!==n||h!==c||yr.current||Bi?(typeof d=="function"&&(Lv(t,r,d,n),c=t.memoizedState),(s=Bi||Q1(t,r,s,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,h_(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:gn(t.type,s),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=on(c):(c=xr(r)?oo:Jt.current,c=vs(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&Z1(t,o,n,c),Bi=!1,h=t.memoizedState,o.state=h,hf(t,n,o,i);var m=t.memoizedState;s!==f||h!==m||yr.current||Bi?(typeof p=="function"&&(Lv(t,r,p,n),m=t.memoizedState),(u=Bi||Q1(t,r,u,n,h,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Uv(e,t,r,n,a,i)}function Uv(e,t,r,n,i,a){F_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&H1(t,r,!1),mi(e,t,a);n=t.stateNode,QL.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xs(t,e.child,null,a),t.child=xs(t,null,s,a)):ir(e,t,s,a),t.memoizedState=n.state,i&&H1(t,r,!0),t.child}function B_(e){var t=e.stateNode;t.pendingContext?W1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&W1(e,t.context,!1),X0(e,t.containerInfo)}function oj(e,t,r,n,i){return ys(),H0(i),t.flags|=256,ir(e,t,r,n),t.child}var Wv={dehydrated:null,treeContext:null,retryLane:0};function Hv(e){return{baseLanes:e,cachePool:null,transitions:null}}function z_(e,t,r){var n=t.pendingProps,i=Ye.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Be(Ye,i&1),e===null)return $v(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Fh(o,n,0,null),e=eo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hv(r),t.memoizedState=Wv,e):ix(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return ZL(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ra(i,c),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ra(s,a):(a=eo(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Hv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Wv,n}return a=e.child,e=a.sibling,n=ra(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ix(e,t){return t=Fh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ed(e,t,r,n){return n!==null&&H0(n),xs(t,e.child,null,r),e=ix(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZL(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Qm(Error(q(422))),ed(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Fh({mode:"visible",children:n.children},i,0,null),a=eo(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&xs(t,e.child,null,o),t.child.memoizedState=Hv(o),t.memoizedState=Wv,a);if(!(t.mode&1))return ed(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(q(419)),n=Qm(a,n,void 0),ed(e,t,o,n)}if(s=(o&e.childLanes)!==0,gr||s){if(n=Et,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,pi(e,i),Pn(n,e,i,-1))}return ux(),n=Qm(Error(q(421))),ed(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=f3.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,_r=Qi(i.nextSibling),Or=t,Ke=!0,xn=null,e!==null&&(Kr[Gr++]=ni,Kr[Gr++]=ii,Kr[Gr++]=so,ni=e.id,ii=e.overflow,so=t),t=ix(t,n.children),t.flags|=4096,t)}function sj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rv(e.return,t,r)}function Zm(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function U_(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ir(e,t,n.children,r),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sj(e,r,t);else if(e.tag===19)sj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Be(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&pf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Zm(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Zm(t,!0,r,null,a);break;case"together":Zm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=ra(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ra(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function e3(e,t,r){switch(t.tag){case 3:B_(t),ys();break;case 5:p_(t);break;case 1:xr(t.type)&&lf(t);break;case 4:X0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Be(df,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Be(Ye,Ye.current&1),t.flags|=128,null):r&t.child.childLanes?z_(e,t,r):(Be(Ye,Ye.current&1),e=mi(e,t,r),e!==null?e.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return U_(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,L_(e,t,r)}return mi(e,t,r)}var W_,qv,H_,q_;W_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qv=function(){};H_=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ka(Un.current);var a=null;switch(r){case"input":i=hv(e,i),n=hv(e,n),a=[];break;case"select":i=Je({},i,{value:void 0}),n=Je({},n,{value:void 0}),a=[];break;case"textarea":i=gv(e,i),n=gv(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=of)}yv(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&We("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};q_=function(e,t,r,n){r!==n&&(t.flags|=4)};function gl(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function t3(e,t,r){var n=t.pendingProps;switch(W0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return xr(t.type)&&sf(),qt(t),null;case 3:return n=t.stateNode,bs(),qe(yr),qe(Jt),Q0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(Zv(xn),xn=null))),qv(e,t),qt(t),null;case 5:J0(t);var i=Ka(yc.current);if(r=t.type,e!==null&&t.stateNode!=null)H_(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return qt(t),null}if(e=Ka(Un.current),Qu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[$n]=t,n[gc]=a,e=(t.mode&1)!==0,r){case"dialog":We("cancel",n),We("close",n);break;case"iframe":case"object":case"embed":We("load",n);break;case"video":case"audio":for(i=0;i<Rl.length;i++)We(Rl[i],n);break;case"source":We("error",n);break;case"img":case"image":case"link":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"input":g1(n,a),We("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},We("invalid",n);break;case"textarea":y1(n,a),We("invalid",n)}yv(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Ju(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Ju(n.textContent,s,e),i=["children",""+s]):oc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&We("scroll",n)}switch(r){case"input":Wu(n),v1(n,a,!0);break;case"textarea":Wu(n),x1(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=of)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[$n]=t,e[gc]=n,W_(e,t,!1,!1),t.stateNode=e;e:{switch(o=xv(r,n),r){case"dialog":We("cancel",e),We("close",e),i=n;break;case"iframe":case"object":case"embed":We("load",e),i=n;break;case"video":case"audio":for(i=0;i<Rl.length;i++)We(Rl[i],e);i=n;break;case"source":We("error",e),i=n;break;case"img":case"image":case"link":We("error",e),We("load",e),i=n;break;case"details":We("toggle",e),i=n;break;case"input":g1(e,n),i=hv(e,n),We("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Je({},n,{value:void 0}),We("invalid",e);break;case"textarea":y1(e,n),i=gv(e,n),We("invalid",e);break;default:i=n}yv(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?jC(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bC(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&sc(e,c):typeof c=="number"&&sc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(oc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&We("scroll",e):c!=null&&_0(e,a,c,o))}switch(r){case"input":Wu(e),v1(e,n,!1);break;case"textarea":Wu(e),x1(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ua(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?is(e,!!n.multiple,a,!1):n.defaultValue!=null&&is(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=of)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)q_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=Ka(yc.current),Ka(Un.current),Qu(t)){if(n=t.stateNode,r=t.memoizedProps,n[$n]=t,(a=n.nodeValue!==r)&&(e=Or,e!==null))switch(e.tag){case 3:Ju(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ju(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$n]=t,t.stateNode=n}return qt(t),null;case 13:if(qe(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&_r!==null&&t.mode&1&&!(t.flags&128))c_(),ys(),t.flags|=98560,a=!1;else if(a=Qu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[$n]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),a=!1}else xn!==null&&(Zv(xn),xn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?mt===0&&(mt=3):ux())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return bs(),qv(e,t),e===null&&pc(t.stateNode.containerInfo),qt(t),null;case 10:return G0(t.type._context),qt(t),null;case 17:return xr(t.type)&&sf(),qt(t),null;case 19:if(qe(Ye),a=t.memoizedState,a===null)return qt(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)gl(a,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pf(e),o!==null){for(t.flags|=128,gl(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Be(Ye,Ye.current&1|2),t.child}e=e.sibling}a.tail!==null&&rt()>js&&(t.flags|=128,n=!0,gl(a,!1),t.lanes=4194304)}else{if(!n)if(e=pf(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ke)return qt(t),null}else 2*rt()-a.renderingStartTime>js&&r!==1073741824&&(t.flags|=128,n=!0,gl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=rt(),t.sibling=null,r=Ye.current,Be(Ye,n?r&1|2:r&1),t):(qt(t),null);case 22:case 23:return cx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Nr&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function r3(e,t){switch(W0(t),t.tag){case 1:return xr(t.type)&&sf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bs(),qe(yr),qe(Jt),Q0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return J0(t),null;case 13:if(qe(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ye),null;case 4:return bs(),null;case 10:return G0(t.type._context),null;case 22:case 23:return cx(),null;case 24:return null;default:return null}}var td=!1,Gt=!1,n3=typeof WeakSet=="function"?WeakSet:Set,Z=null;function es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ze(e,t,n)}else r.current=null}function Kv(e,t,r){try{r()}catch(n){Ze(e,t,n)}}var lj=!1;function i3(e,t){if(kv=rf,e=XC(),z0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===i&&(s=o),h===a&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ov={focusedElem:e,selectionRange:r},rf=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gn(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){Ze(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return m=lj,lj=!1,m}function Yl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Kv(t,r,a)}i=i.next}while(i!==n)}}function Rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function K_(e){var t=e.alternate;t!==null&&(e.alternate=null,K_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[gc],delete t[Dv],delete t[BL],delete t[zL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function G_(e){return e.tag===5||e.tag===3||e.tag===4}function cj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=of));else if(n!==4&&(e=e.child,e!==null))for(Vv(e,t,r),e=e.sibling;e!==null;)Vv(e,t,r),e=e.sibling}function Yv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Yv(e,t,r),e=e.sibling;e!==null;)Yv(e,t,r),e=e.sibling}var It=null,vn=!1;function Ai(e,t,r){for(r=r.child;r!==null;)V_(e,t,r),r=r.sibling}function V_(e,t,r){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(kh,r)}catch{}switch(r.tag){case 5:Gt||es(r,t);case 6:var n=It,i=vn;It=null,Ai(e,t,r),It=n,vn=i,It!==null&&(vn?(e=It,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):It.removeChild(r.stateNode));break;case 18:It!==null&&(vn?(e=It,r=r.stateNode,e.nodeType===8?Km(e.parentNode,r):e.nodeType===1&&Km(e,r),dc(e)):Km(It,r.stateNode));break;case 4:n=It,i=vn,It=r.stateNode.containerInfo,vn=!0,Ai(e,t,r),It=n,vn=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Kv(r,t,o),i=i.next}while(i!==n)}Ai(e,t,r);break;case 1:if(!Gt&&(es(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ze(r,t,s)}Ai(e,t,r);break;case 21:Ai(e,t,r);break;case 22:r.mode&1?(Gt=(n=Gt)||r.memoizedState!==null,Ai(e,t,r),Gt=n):Ai(e,t,r);break;default:Ai(e,t,r)}}function uj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new n3),t.forEach(function(n){var i=h3.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:It=s.stateNode,vn=!1;break e;case 3:It=s.stateNode.containerInfo,vn=!0;break e;case 4:It=s.stateNode.containerInfo,vn=!0;break e}s=s.return}if(It===null)throw Error(q(160));V_(a,o,i),It=null,vn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ze(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Y_(t,e),t=t.sibling}function Y_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),Tn(e),n&4){try{Yl(3,e,e.return),Rh(3,e)}catch(g){Ze(e,e.return,g)}try{Yl(5,e,e.return)}catch(g){Ze(e,e.return,g)}}break;case 1:pn(t,e),Tn(e),n&512&&r!==null&&es(r,r.return);break;case 5:if(pn(t,e),Tn(e),n&512&&r!==null&&es(r,r.return),e.flags&32){var i=e.stateNode;try{sc(i,"")}catch(g){Ze(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&vC(i,a),xv(s,o);var u=xv(s,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?jC(i,f):d==="dangerouslySetInnerHTML"?bC(i,f):d==="children"?sc(i,f):_0(i,d,f,u)}switch(s){case"input":pv(i,a);break;case"textarea":yC(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?is(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?is(i,!!a.multiple,a.defaultValue,!0):is(i,!!a.multiple,a.multiple?[]:"",!1))}i[gc]=a}catch(g){Ze(e,e.return,g)}}break;case 6:if(pn(t,e),Tn(e),n&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ze(e,e.return,g)}}break;case 3:if(pn(t,e),Tn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dc(t.containerInfo)}catch(g){Ze(e,e.return,g)}break;case 4:pn(t,e),Tn(e);break;case 13:pn(t,e),Tn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(sx=rt())),n&4&&uj(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Gt=(u=Gt)||d,pn(t,e),Gt=u):pn(t,e),Tn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:Yl(4,h,h.return);break;case 1:es(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ze(n,r,g)}}break;case 5:es(h,h.return);break;case 22:if(h.memoizedState!==null){fj(f);continue}}p!==null?(p.return=h,Z=p):fj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=wC("display",o))}catch(g){Ze(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ze(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(t,e),Tn(e),n&4&&uj(e);break;case 21:break;default:pn(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(G_(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(sc(i,""),n.flags&=-33);var a=cj(e);Yv(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=cj(e);Vv(e,s,o);break;default:throw Error(q(161))}}catch(c){Ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a3(e,t,r){Z=e,X_(e)}function X_(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var i=Z,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||td;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Gt;s=td;var u=Gt;if(td=o,(Gt=c)&&!u)for(Z=i;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?hj(i):c!==null?(c.return=o,Z=c):hj(i);for(;a!==null;)Z=a,X_(a),a=a.sibling;Z=i,td=s,Gt=u}dj(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Z=a):dj(e)}}function dj(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||Rh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Gt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:gn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Y1(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Y1(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Gt||t.flags&512&&Gv(t)}catch(h){Ze(t,t.return,h)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function fj(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function hj(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Rh(4,t)}catch(c){Ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ze(t,i,c)}}var a=t.return;try{Gv(t)}catch(c){Ze(t,a,c)}break;case 5:var o=t.return;try{Gv(t)}catch(c){Ze(t,o,c)}}}catch(c){Ze(t,t.return,c)}if(t===e){Z=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Z=s;break}Z=t.return}}var o3=Math.ceil,vf=Si.ReactCurrentDispatcher,ax=Si.ReactCurrentOwner,rn=Si.ReactCurrentBatchConfig,Ne=0,Et=null,ot=null,Lt=0,Nr=0,ts=ga(0),mt=0,jc=null,co=0,Lh=0,ox=0,Xl=null,pr=null,sx=0,js=1/0,Qn=null,yf=!1,Xv=null,ea=null,rd=!1,Gi=null,xf=0,Jl=0,Jv=null,Hd=-1,qd=0;function or(){return Ne&6?rt():Hd!==-1?Hd:Hd=rt()}function ta(e){return e.mode&1?Ne&2&&Lt!==0?Lt&-Lt:WL.transition!==null?(qd===0&&(qd=IC()),qd):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:zC(e.type)),e):1}function Pn(e,t,r,n){if(50<Jl)throw Jl=0,Jv=null,Error(q(185));Xc(e,r,n),(!(Ne&2)||e!==Et)&&(e===Et&&(!(Ne&2)&&(Lh|=r),mt===4&&Wi(e,Lt)),br(e,n),r===1&&Ne===0&&!(t.mode&1)&&(js=rt()+500,Ih&&va()))}function br(e,t){var r=e.callbackNode;WR(e,t);var n=tf(e,e===Et?Lt:0);if(n===0)r!==null&&j1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&j1(r),t===1)e.tag===0?UL(pj.bind(null,e)):o_(pj.bind(null,e)),LL(function(){!(Ne&6)&&va()}),r=null;else{switch(MC(n)){case 1:r=D0;break;case 4:r=TC;break;case 16:r=ef;break;case 536870912:r=DC;break;default:r=ef}r=ik(r,J_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function J_(e,t){if(Hd=-1,qd=0,Ne&6)throw Error(q(327));var r=e.callbackNode;if(cs()&&e.callbackNode!==r)return null;var n=tf(e,e===Et?Lt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bf(e,n);else{t=n;var i=Ne;Ne|=2;var a=Z_();(Et!==e||Lt!==t)&&(Qn=null,js=rt()+500,Za(e,t));do try{c3();break}catch(s){Q_(e,s)}while(!0);K0(),vf.current=a,Ne=i,ot!==null?t=0:(Et=null,Lt=0,t=mt)}if(t!==0){if(t===2&&(i=Nv(e),i!==0&&(n=i,t=Qv(e,i))),t===1)throw r=jc,Za(e,0),Wi(e,n),br(e,rt()),r;if(t===6)Wi(e,n);else{if(i=e.current.alternate,!(n&30)&&!s3(i)&&(t=bf(e,n),t===2&&(a=Nv(e),a!==0&&(n=a,t=Qv(e,a))),t===1))throw r=jc,Za(e,0),Wi(e,n),br(e,rt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:$a(e,pr,Qn);break;case 3:if(Wi(e,n),(n&130023424)===n&&(t=sx+500-rt(),10<t)){if(tf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){or(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tv($a.bind(null,e,pr,Qn),t);break}$a(e,pr,Qn);break;case 4:if(Wi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-En(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=rt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*o3(n/1960))-n,10<n){e.timeoutHandle=Tv($a.bind(null,e,pr,Qn),n);break}$a(e,pr,Qn);break;case 5:$a(e,pr,Qn);break;default:throw Error(q(329))}}}return br(e,rt()),e.callbackNode===r?J_.bind(null,e):null}function Qv(e,t){var r=Xl;return e.current.memoizedState.isDehydrated&&(Za(e,t).flags|=256),e=bf(e,t),e!==2&&(t=pr,pr=r,t!==null&&Zv(t)),e}function Zv(e){pr===null?pr=e:pr.push.apply(pr,e)}function s3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Cn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~ox,t&=~Lh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-En(t),n=1<<r;e[r]=-1,t&=~n}}function pj(e){if(Ne&6)throw Error(q(327));cs();var t=tf(e,0);if(!(t&1))return br(e,rt()),null;var r=bf(e,t);if(e.tag!==0&&r===2){var n=Nv(e);n!==0&&(t=n,r=Qv(e,n))}if(r===1)throw r=jc,Za(e,0),Wi(e,t),br(e,rt()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$a(e,pr,Qn),br(e,rt()),null}function lx(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(js=rt()+500,Ih&&va())}}function uo(e){Gi!==null&&Gi.tag===0&&!(Ne&6)&&cs();var t=Ne;Ne|=1;var r=rn.transition,n=Oe;try{if(rn.transition=null,Oe=1,e)return e()}finally{Oe=n,rn.transition=r,Ne=t,!(Ne&6)&&va()}}function cx(){Nr=ts.current,qe(ts)}function Za(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,RL(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(W0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sf();break;case 3:bs(),qe(yr),qe(Jt),Q0();break;case 5:J0(n);break;case 4:bs();break;case 13:qe(Ye);break;case 19:qe(Ye);break;case 10:G0(n.type._context);break;case 22:case 23:cx()}r=r.return}if(Et=e,ot=e=ra(e.current,null),Lt=Nr=t,mt=0,jc=null,ox=Lh=co=0,pr=Xl=null,qa!==null){for(t=0;t<qa.length;t++)if(r=qa[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}qa=null}return e}function Q_(e,t){do{var r=ot;try{if(K0(),zd.current=gf,mf){for(var n=Xe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mf=!1}if(lo=0,St=pt=Xe=null,Vl=!1,xc=0,ax.current=null,r===null||r.return===null){mt=1,jc=t,ot=null;break}e:{var a=e,o=r.return,s=r,c=t;if(t=Lt,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=tj(o);if(p!==null){p.flags&=-257,rj(p,o,s,a,t),p.mode&1&&ej(a,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){ej(a,u,t),ux();break e}c=Error(q(426))}}else if(Ke&&s.mode&1){var y=tj(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),rj(y,o,s,a,t),H0(ws(c,s));break e}}a=c=ws(c,s),mt!==4&&(mt=2),Xl===null?Xl=[a]:Xl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=M_(a,c,t);V1(a,v);break e;case 1:s=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ea===null||!ea.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=$_(a,s,t);V1(a,j);break e}}a=a.return}while(a!==null)}tk(r)}catch(S){t=S,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function Z_(){var e=vf.current;return vf.current=gf,e===null?gf:e}function ux(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||!(co&268435455)&&!(Lh&268435455)||Wi(Et,Lt)}function bf(e,t){var r=Ne;Ne|=2;var n=Z_();(Et!==e||Lt!==t)&&(Qn=null,Za(e,t));do try{l3();break}catch(i){Q_(e,i)}while(!0);if(K0(),Ne=r,vf.current=n,ot!==null)throw Error(q(261));return Et=null,Lt=0,mt}function l3(){for(;ot!==null;)ek(ot)}function c3(){for(;ot!==null&&!IR();)ek(ot)}function ek(e){var t=nk(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,t===null?tk(e):ot=t,ax.current=null}function tk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=r3(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ot=null;return}}else if(r=t3(r,t,Nr),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);mt===0&&(mt=5)}function $a(e,t,r){var n=Oe,i=rn.transition;try{rn.transition=null,Oe=1,u3(e,t,r,n)}finally{rn.transition=i,Oe=n}return null}function u3(e,t,r,n){do cs();while(Gi!==null);if(Ne&6)throw Error(q(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(HR(e,a),e===Et&&(ot=Et=null,Lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rd||(rd=!0,ik(ef,function(){return cs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=rn.transition,rn.transition=null;var o=Oe;Oe=1;var s=Ne;Ne|=4,ax.current=null,i3(e,r),Y_(r,e),OL(Ov),rf=!!kv,Ov=kv=null,e.current=r,a3(r),MR(),Ne=s,Oe=o,rn.transition=a}else e.current=r;if(rd&&(rd=!1,Gi=e,xf=i),a=e.pendingLanes,a===0&&(ea=null),LR(r.stateNode),br(e,rt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(yf)throw yf=!1,e=Xv,Xv=null,e;return xf&1&&e.tag!==0&&cs(),a=e.pendingLanes,a&1?e===Jv?Jl++:(Jl=0,Jv=e):Jl=0,va(),null}function cs(){if(Gi!==null){var e=MC(xf),t=rn.transition,r=Oe;try{if(rn.transition=null,Oe=16>e?16:e,Gi===null)var n=!1;else{if(e=Gi,Gi=null,xf=0,Ne&6)throw Error(q(331));var i=Ne;for(Ne|=4,Z=e.current;Z!==null;){var a=Z,o=a.child;if(Z.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Yl(8,d,a)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,p=d.return;if(K_(d),d===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Z=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Z=o;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Yl(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Z=v;break e}Z=a.return}}var b=e.current;for(Z=b;Z!==null;){o=Z;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Z=w;else e:for(o=b;Z!==null;){if(s=Z,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Rh(9,s)}}catch(S){Ze(s,s.return,S)}if(s===o){Z=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,Z=j;break e}Z=s.return}}if(Ne=i,va(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(kh,e)}catch{}n=!0}return n}finally{Oe=r,rn.transition=t}}return!1}function mj(e,t,r){t=ws(r,t),t=M_(e,t,1),e=Zi(e,t,1),t=or(),e!==null&&(Xc(e,1,t),br(e,t))}function Ze(e,t,r){if(e.tag===3)mj(e,e,r);else for(;t!==null;){if(t.tag===3){mj(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ea===null||!ea.has(n))){e=ws(r,e),e=$_(t,e,1),t=Zi(t,e,1),e=or(),t!==null&&(Xc(t,1,e),br(t,e));break}}t=t.return}}function d3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=or(),e.pingedLanes|=e.suspendedLanes&r,Et===e&&(Lt&r)===r&&(mt===4||mt===3&&(Lt&130023424)===Lt&&500>rt()-sx?Za(e,0):ox|=r),br(e,t)}function rk(e,t){t===0&&(e.mode&1?(t=Ku,Ku<<=1,!(Ku&130023424)&&(Ku=4194304)):t=1);var r=or();e=pi(e,t),e!==null&&(Xc(e,t,r),br(e,r))}function f3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),rk(e,r)}function h3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),rk(e,r)}var nk;nk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||yr.current)gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gr=!1,e3(e,t,r);gr=!!(e.flags&131072)}else gr=!1,Ke&&t.flags&1048576&&s_(t,uf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wd(e,t),e=t.pendingProps;var i=vs(t,Jt.current);ls(t,r),i=ex(null,t,n,e,i,r);var a=tx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(n)?(a=!0,lf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Y0(t),i.updater=$h,t.stateNode=i,i._reactInternals=t,Fv(t,n,e,r),t=Uv(null,t,n,!0,a,r)):(t.tag=0,Ke&&a&&U0(t),ir(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wd(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=m3(n),e=gn(n,e),i){case 0:t=zv(null,t,n,e,r);break e;case 1:t=aj(null,t,n,e,r);break e;case 11:t=nj(null,t,n,e,r);break e;case 14:t=ij(null,t,n,gn(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),zv(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),aj(e,t,n,i,r);case 3:e:{if(B_(t),e===null)throw Error(q(387));n=t.pendingProps,a=t.memoizedState,i=a.element,h_(e,t),hf(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ws(Error(q(423)),t),t=oj(e,t,n,r,i);break e}else if(n!==i){i=ws(Error(q(424)),t),t=oj(e,t,n,r,i);break e}else for(_r=Qi(t.stateNode.containerInfo.firstChild),Or=t,Ke=!0,xn=null,r=d_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ys(),n===i){t=mi(e,t,r);break e}ir(e,t,n,r)}t=t.child}return t;case 5:return p_(t),e===null&&$v(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Av(n,i)?o=null:a!==null&&Av(n,a)&&(t.flags|=32),F_(e,t),ir(e,t,o,r),t.child;case 6:return e===null&&$v(t),null;case 13:return z_(e,t,r);case 4:return X0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xs(t,null,n,r):ir(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),nj(e,t,n,i,r);case 7:return ir(e,t,t.pendingProps,r),t.child;case 8:return ir(e,t,t.pendingProps.children,r),t.child;case 12:return ir(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Be(df,n._currentValue),n._currentValue=o,a!==null)if(Cn(a.value,o)){if(a.children===i.children&&!yr.current){t=mi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=si(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Rv(a.return,r,t),s.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(q(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Rv(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ir(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ls(t,r),i=on(i),n=n(i),t.flags|=1,ir(e,t,n,r),t.child;case 14:return n=t.type,i=gn(n,t.pendingProps),i=gn(n.type,i),ij(e,t,n,i,r);case 15:return R_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gn(n,i),Wd(e,t),t.tag=1,xr(n)?(e=!0,lf(t)):e=!1,ls(t,r),I_(t,n,i),Fv(t,n,i,r),Uv(null,t,n,!0,e,r);case 19:return U_(e,t,r);case 22:return L_(e,t,r)}throw Error(q(156,t.tag))};function ik(e,t){return AC(e,t)}function p3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(e,t,r,n){return new p3(e,t,r,n)}function dx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m3(e){if(typeof e=="function")return dx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===O0)return 11;if(e===A0)return 14}return 2}function ra(e,t){var r=e.alternate;return r===null?(r=Yr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kd(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")dx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qo:return eo(r.children,i,a,t);case k0:o=8,i|=8;break;case cv:return e=Yr(12,r,t,i|2),e.elementType=cv,e.lanes=a,e;case uv:return e=Yr(13,r,t,i),e.elementType=uv,e.lanes=a,e;case dv:return e=Yr(19,r,t,i),e.elementType=dv,e.lanes=a,e;case pC:return Fh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fC:o=10;break e;case hC:o=9;break e;case O0:o=11;break e;case A0:o=14;break e;case Fi:o=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Yr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function eo(e,t,r,n){return e=Yr(7,e,n,t),e.lanes=r,e}function Fh(e,t,r,n){return e=Yr(22,e,n,t),e.elementType=pC,e.lanes=r,e.stateNode={isHidden:!1},e}function eg(e,t,r){return e=Yr(6,e,null,t),e.lanes=r,e}function tg(e,t,r){return t=Yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g3(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mm(0),this.expirationTimes=Mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fx(e,t,r,n,i,a,o,s,c){return e=new g3(e,t,r,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Yr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y0(a),e}function v3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ho,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ak(e){if(!e)return da;e=e._reactInternals;e:{if(wo(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(xr(r))return a_(e,r,t)}return t}function ok(e,t,r,n,i,a,o,s,c){return e=fx(r,n,!0,e,i,a,o,s,c),e.context=ak(null),r=e.current,n=or(),i=ta(r),a=si(n,i),a.callback=t??null,Zi(r,a,i),e.current.lanes=i,Xc(e,i,n),br(e,n),e}function Bh(e,t,r,n){var i=t.current,a=or(),o=ta(i);return r=ak(r),t.context===null?t.context=r:t.pendingContext=r,t=si(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zi(i,t,o),e!==null&&(Pn(e,i,o,a),Bd(e,i,o)),o}function wf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hx(e,t){gj(e,t),(e=e.alternate)&&gj(e,t)}function y3(){return null}var sk=typeof reportError=="function"?reportError:function(e){console.error(e)};function px(e){this._internalRoot=e}zh.prototype.render=px.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Bh(e,t,null,null)};zh.prototype.unmount=px.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uo(function(){Bh(null,e,null,null)}),t[hi]=null}};function zh(e){this._internalRoot=e}zh.prototype.unstable_scheduleHydration=function(e){if(e){var t=LC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ui.length&&t!==0&&t<Ui[r].priority;r++);Ui.splice(r,0,e),r===0&&BC(e)}};function mx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vj(){}function x3(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=wf(o);a.call(u)}}var o=ok(t,n,e,0,null,!1,!1,"",vj);return e._reactRootContainer=o,e[hi]=o.current,pc(e.nodeType===8?e.parentNode:e),uo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=wf(c);s.call(u)}}var c=fx(e,0,!1,null,null,!1,!1,"",vj);return e._reactRootContainer=c,e[hi]=c.current,pc(e.nodeType===8?e.parentNode:e),uo(function(){Bh(t,c,r,n)}),c}function Wh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=wf(o);s.call(c)}}Bh(t,o,e,i)}else o=x3(r,t,e,i,n);return wf(o)}$C=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$l(t.pendingLanes);r!==0&&(I0(t,r|1),br(t,rt()),!(Ne&6)&&(js=rt()+500,va()))}break;case 13:uo(function(){var n=pi(e,1);if(n!==null){var i=or();Pn(n,e,1,i)}}),hx(e,1)}};M0=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var r=or();Pn(t,e,134217728,r)}hx(e,134217728)}};RC=function(e){if(e.tag===13){var t=ta(e),r=pi(e,t);if(r!==null){var n=or();Pn(r,e,t,n)}hx(e,t)}};LC=function(){return Oe};FC=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};wv=function(e,t,r){switch(t){case"input":if(pv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Dh(n);if(!i)throw Error(q(90));gC(n),pv(n,i)}}}break;case"textarea":yC(e,r);break;case"select":t=r.value,t!=null&&is(e,!!r.multiple,t,!1)}};EC=lx;PC=uo;var b3={usingClientEntryPoint:!1,Events:[Qc,Yo,Dh,SC,NC,lx]},vl={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w3={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kC(e),e===null?null:e.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||y3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{kh=nd.inject(w3),zn=nd}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b3;Rr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mx(t))throw Error(q(200));return v3(e,t,null,r)};Rr.createRoot=function(e,t){if(!mx(e))throw Error(q(299));var r=!1,n="",i=sk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=fx(e,1,!1,null,null,r,!1,n,i),e[hi]=t.current,pc(e.nodeType===8?e.parentNode:e),new px(t)};Rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=kC(t),e=e===null?null:e.stateNode,e};Rr.flushSync=function(e){return uo(e)};Rr.hydrate=function(e,t,r){if(!Uh(t))throw Error(q(200));return Wh(null,e,t,!0,r)};Rr.hydrateRoot=function(e,t,r){if(!mx(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=sk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ok(t,null,e,1,r??null,i,!1,a,o),e[hi]=t.current,pc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new zh(t)};Rr.render=function(e,t,r){if(!Uh(t))throw Error(q(200));return Wh(null,e,t,!1,r)};Rr.unmountComponentAtNode=function(e){if(!Uh(e))throw Error(q(40));return e._reactRootContainer?(uo(function(){Wh(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0):!1};Rr.unstable_batchedUpdates=lx;Rr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Uh(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Wh(e,t,r,!1,n)};Rr.version="18.3.1-next-f1338f8080-20240426";function lk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lk)}catch(e){console.error(e)}}lk(),lC.exports=Rr;var eu=lC.exports;const ck=un(eu);var uk,yj=eu;uk=yj.createRoot,yj.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}var Vi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vi||(Vi={}));const xj="popstate";function j3(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return ey("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:jf(i)}return N3(t,r,null,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S3(){return Math.random().toString(36).substr(2,8)}function bj(e,t){return{usr:e.state,key:e.key,idx:t}}function ey(e,t,r,n){return r===void 0&&(r=null),Sc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Us(t):t,{state:r,key:t&&t.key||n||S3()})}function jf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Us(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function N3(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Vi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Sc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Vi.Pop;let y=d(),v=y==null?null:y-u;u=y,c&&c({action:s,location:g.location,delta:v})}function h(y,v){s=Vi.Push;let b=ey(g.location,y,v);u=d()+1;let w=bj(b,u),j=g.createHref(b);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}a&&c&&c({action:s,location:g.location,delta:1})}function p(y,v){s=Vi.Replace;let b=ey(g.location,y,v);u=d();let w=bj(b,u),j=g.createHref(b);o.replaceState(w,"",j),a&&c&&c({action:s,location:g.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:jf(y);return b=b.replace(/ $/,"%20"),tt(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return s},get location(){return e(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(xj,f),c=y,()=>{i.removeEventListener(xj,f),c=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return o.go(y)}};return g}var wj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wj||(wj={}));function E3(e,t,r){return r===void 0&&(r="/"),P3(e,t,r)}function P3(e,t,r,n){let i=typeof t=="string"?Us(t):t,a=Ss(i.pathname||"/",r);if(a==null)return null;let o=fk(e);C3(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=L3(a);s=$3(o[c],u)}return s}function fk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let c={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=na([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(tt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fk(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:I3(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let c of hk(a.path))i(a,o,c)}),t}function hk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=hk(n.join("/")),s=[];return s.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function C3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:M3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _3=/^:[\w-]+$/,k3=3,O3=2,A3=1,T3=10,D3=-2,jj=e=>e==="*";function I3(e,t){let r=e.split("/"),n=r.length;return r.some(jj)&&(n+=D3),t&&(n+=O3),r.filter(i=>!jj(i)).reduce((i,a)=>i+(_3.test(a)?k3:a===""?A3:T3),n)}function M3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function $3(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],u=s===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=ty({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:na([a,f.pathname]),pathnameBase:U3(na([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=na([a,f.pathnameBase]))}return o}function ty(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=R3(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function R3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),dk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function L3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ss(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function F3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Us(e):e;return{pathname:r?r.startsWith("/")?r:B3(r,t):t,search:W3(n),hash:H3(i)}}function B3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rg(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pk(e,t){let r=z3(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mk(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Us(e):(i=Sc({},e),tt(!i.pathname||!i.pathname.includes("?"),rg("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),rg("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),rg("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let c=F3(i,s),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const na=e=>e.join("/").replace(/\/\/+/g,"/"),U3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function q3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gk=["post","put","patch","delete"];new Set(gk);const K3=["get",...gk];new Set(K3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}const Hh=x.createContext(null),vk=x.createContext(null),ya=x.createContext(null),qh=x.createContext(null),xa=x.createContext({outlet:null,matches:[],isDataRoute:!1}),yk=x.createContext(null);function G3(e,t){let{relative:r}=t===void 0?{}:t;tu()||tt(!1);let{basename:n,navigator:i}=x.useContext(ya),{hash:a,pathname:o,search:s}=Kh(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:na([n,o])),i.createHref({pathname:c,search:s,hash:a})}function tu(){return x.useContext(qh)!=null}function ru(){return tu()||tt(!1),x.useContext(qh).location}function xk(e){x.useContext(ya).static||x.useLayoutEffect(e)}function V3(){let{isDataRoute:e}=x.useContext(xa);return e?c4():Y3()}function Y3(){tu()||tt(!1);let e=x.useContext(Hh),{basename:t,future:r,navigator:n}=x.useContext(ya),{matches:i}=x.useContext(xa),{pathname:a}=ru(),o=JSON.stringify(pk(i,r.v7_relativeSplatPath)),s=x.useRef(!1);return xk(()=>{s.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=mk(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:na([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,a,e])}const X3=x.createContext(null);function J3(e){let t=x.useContext(xa).outlet;return t&&x.createElement(X3.Provider,{value:e},t)}function Kh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(ya),{matches:i}=x.useContext(xa),{pathname:a}=ru(),o=JSON.stringify(pk(i,n.v7_relativeSplatPath));return x.useMemo(()=>mk(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Q3(e,t){return Z3(e,t)}function Z3(e,t,r,n){tu()||tt(!1);let{navigator:i}=x.useContext(ya),{matches:a}=x.useContext(xa),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ru(),d;if(t){var f;let y=typeof t=="string"?Us(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||tt(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=E3(e,{pathname:p}),g=i4(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:na([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:na([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&g?x.createElement(qh.Provider,{value:{location:Nc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vi.Pop}},g):g}function e4(){let e=l4(),t=q3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:i},r):null,null)}const t4=x.createElement(e4,null);class r4 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(xa.Provider,{value:this.props.routeContext},x.createElement(yk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n4(e){let{routeContext:t,match:r,children:n}=e,i=x.useContext(Hh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(xa.Provider,{value:t},n)}function i4(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(i=r)==null?void 0:i.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,g=null,y=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||t4,c&&(u<0&&h===0?(u4("route-fallback"),m=!0,y=null):u===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=g:m?w=y:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(n4,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(r4,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var bk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bk||{}),wk=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wk||{});function a4(e){let t=x.useContext(Hh);return t||tt(!1),t}function o4(e){let t=x.useContext(vk);return t||tt(!1),t}function s4(e){let t=x.useContext(xa);return t||tt(!1),t}function jk(e){let t=s4(),r=t.matches[t.matches.length-1];return r.route.id||tt(!1),r.route.id}function l4(){var e;let t=x.useContext(yk),r=o4(),n=jk();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function c4(){let{router:e}=a4(bk.UseNavigateStable),t=jk(wk.UseNavigateStable),r=x.useRef(!1);return xk(()=>{r.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Nc({fromRouteId:t},a)))},[e,t])}const Sj={};function u4(e,t,r){Sj[e]||(Sj[e]=!0)}function d4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function f4(e){return J3(e.context)}function Dn(e){tt(!1)}function h4(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Vi.Pop,navigator:a,static:o=!1,future:s}=e;tu()&&tt(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:a,static:o,future:Nc({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof n=="string"&&(n=Us(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=x.useMemo(()=>{let y=Ss(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:m},navigationType:i}},[c,d,f,h,p,m,i]);return g==null?null:x.createElement(ya.Provider,{value:u},x.createElement(qh.Provider,{children:r,value:g}))}function p4(e){let{children:t,location:r}=e;return Q3(ry(t),r)}new Promise(()=>{});function ry(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,i)=>{if(!x.isValidElement(n))return;let a=[...t,i];if(n.type===x.Fragment){r.push.apply(r,ry(n.props.children,a));return}n.type!==Dn&&tt(!1),!n.props.index||!n.props.children||tt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ry(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(this,arguments)}function Sk(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function m4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g4(e,t){return e.button===0&&(!t||t==="_self")&&!m4(e)}const v4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],x4="6";try{window.__reactRouterVersion=x4}catch{}const b4=x.createContext({isTransitioning:!1}),w4="startTransition",Nj=_h[w4];function j4(e){let{basename:t,children:r,future:n,window:i}=e,a=x.useRef();a.current==null&&(a.current=j3({window:i,v5Compat:!0}));let o=a.current,[s,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&Nj?Nj(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>d4(n),[n]),x.createElement(h4,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const S4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E4=x.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Sk(t,v4),{basename:p}=x.useContext(ya),m,g=!1;if(typeof u=="string"&&N4.test(u)&&(m=u,S4))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Ss(j.pathname,p);j.origin===w.origin&&S!=null?u=S+j.search+j.hash:g=!0}catch{}let y=G3(u,{relative:i}),v=_4(u,{replace:o,state:s,target:c,preventScrollReset:d,relative:i,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||v(w)}return x.createElement("a",Sf({},h,{href:m||y,onClick:g||a?n:b,ref:r,target:c}))}),P4=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:c,viewTransition:u,children:d}=t,f=Sk(t,y4),h=Kh(c,{relative:f.relative}),p=ru(),m=x.useContext(vk),{navigator:g,basename:y}=x.useContext(ya),v=m!=null&&k4(h)&&u===!0,b=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=p.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),j=j?j.toLowerCase():null,b=b.toLowerCase()),j&&y&&(j=Ss(j,y)||j);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=w===b||!o&&w.startsWith(b)&&w.charAt(S)==="/",E=j!=null&&(j===b||!o&&j.startsWith(b)&&j.charAt(b.length)==="/"),C={isActive:N,isPending:E,isTransitioning:v},P=N?n:void 0,k;typeof a=="function"?k=a(C):k=[a,N?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(C):s;return x.createElement(E4,Sf({},f,{"aria-current":P,className:k,ref:r,style:O,to:c,viewTransition:u}),typeof d=="function"?d(C):d)});var ny;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ny||(ny={}));var Ej;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ej||(Ej={}));function C4(e){let t=x.useContext(Hh);return t||tt(!1),t}function _4(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,c=V3(),u=ru(),d=Kh(e,{relative:o});return x.useCallback(f=>{if(g4(f,r)){f.preventDefault();let h=n!==void 0?n:jf(u)===jf(d);c(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,c,d,n,i,r,e,a,o,s])}function k4(e,t){t===void 0&&(t={});let r=x.useContext(b4);r==null&&tt(!1);let{basename:n}=C4(ny.useViewTransitionState),i=Kh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=Ss(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ss(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ty(i.pathname,o)!=null||ty(i.pathname,a)!=null}const O4="modulepreload",A4=function(e){return"/"+e},Pj={},nu=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=A4(c),c in Pj)return;Pj[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":O4,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},T4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nu(async()=>{const{default:n}=await Promise.resolve().then(()=>Ws);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class gx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class D4 extends gx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cj extends gx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _j extends gx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var iy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(iy||(iy={}));var I4=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};class M4{constructor(t,{headers:r={},customFetch:n,region:i=iy.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=T4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return I4(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=r;let s={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(s["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(s["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(s["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:d}).catch(g=>{throw new D4(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Cj(f);if(!f.ok)throw new _j(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return p==="application/json"?m=yield f.json():p==="application/octet-stream"?m=yield f.blob():p==="text/event-stream"?m=f:p==="multipart/form-data"?m=yield f.formData():m=yield f.text(),{data:m,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof _j||i instanceof Cj?i.context:void 0}}})}}var mr={},vx={},Gh={},iu={},Vh={},Yh={},$4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ns=$4();const R4=Ns.fetch,Nk=Ns.fetch.bind(Ns),Ek=Ns.Headers,L4=Ns.Request,F4=Ns.Response,Ws=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ek,Request:L4,Response:F4,default:Nk,fetch:R4},Symbol.toStringTag,{value:"Module"})),B4=X$(Ws);var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});let z4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xh.default=z4;var Pk=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yh,"__esModule",{value:!0});const U4=Pk(B4),W4=Pk(Xh);let H4=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=U4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,c,u;let d=null,f=null,h=null,p=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const y=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,p=200,m="OK")}catch{a.status===404&&y===""?(p=204,m="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,m="OK"),d&&this.shouldThrowOnError)throw new W4.default(d)}return{error:d,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Yh.default=H4;var q4=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vh,"__esModule",{value:!0});const K4=q4(Yh);let G4=class extends K4.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Vh.default=G4;var V4=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iu,"__esModule",{value:!0});const Y4=V4(Vh);let X4=class extends Y4.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};iu.default=X4;var J4=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gh,"__esModule",{value:!0});const yl=J4(iu);let Q4=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new yl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(o.length>0){const s=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new yl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new yl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new yl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new yl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Gh.default=Q4;var Ck=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vx,"__esModule",{value:!0});const Z4=Ck(Gh),eF=Ck(iu);let tF=class _k{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new Z4.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _k(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let s;const c=new URL(`${this.url}/rpc/${t}`);let u;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(s="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new eF.default({method:s,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};vx.default=tF;var Hs=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mr,"__esModule",{value:!0});mr.PostgrestError=mr.PostgrestBuilder=mr.PostgrestTransformBuilder=mr.PostgrestFilterBuilder=mr.PostgrestQueryBuilder=mr.PostgrestClient=void 0;const kk=Hs(vx);mr.PostgrestClient=kk.default;const Ok=Hs(Gh);mr.PostgrestQueryBuilder=Ok.default;const Ak=Hs(iu);mr.PostgrestFilterBuilder=Ak.default;const Tk=Hs(Vh);mr.PostgrestTransformBuilder=Tk.default;const Dk=Hs(Yh);mr.PostgrestBuilder=Dk.default;const Ik=Hs(Xh);mr.PostgrestError=Ik.default;var rF=mr.default={PostgrestClient:kk.default,PostgrestQueryBuilder:Ok.default,PostgrestFilterBuilder:Ak.default,PostgrestTransformBuilder:Tk.default,PostgrestBuilder:Dk.default,PostgrestError:Ik.default};const{PostgrestClient:nF,PostgrestQueryBuilder:Ace,PostgrestFilterBuilder:Tce,PostgrestTransformBuilder:Dce,PostgrestBuilder:Ice,PostgrestError:Mce}=rF;class iF{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const aF="2.15.1",oF=`realtime-js/${aF}`,sF="1.0.0",ay=1e4,lF=1e3,cF=100;var Ql;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ql||(Ql={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yn||(yn={}));var oy;(function(e){e.websocket="websocket"})(oy||(oy={}));var Wa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wa||(Wa={}));class uF{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class Mk{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Re||(Re={}));const kj=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=dF(o,e,t,i),a),{})},dF=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?$k(a,o):sy(o)},$k=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return mF(t,r)}switch(e){case Re.bool:return fF(t);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return hF(t);case Re.json:case Re.jsonb:return pF(t);case Re.timestamp:return gF(t);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return sy(t);default:return sy(t)}},sy=e=>e,fF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>$k(t,s))}return e},gF=e=>typeof e=="string"?e.replace(" ","T"):e,Rk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ng{constructor(t,r,n={},i=ay){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Oj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Oj||(Oj={}));class Zl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zl.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Zl.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Zl.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),m=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(s[u]=m),g.length>0&&(c[u]=g)}else s[u]=d}),this.syncDiff(a,{joins:s,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),d.length>0){const f=t[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}n(s,d,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,i(s,u,c),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Aj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Aj||(Aj={}));var ec;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ec||(ec={}));var Zn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class yx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ng(this,yn.join,this.params,this.timeout),this.rejoinTimer=new Mk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Zl(this),this.broadcastEndpointURL=Rk(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:a,presence:o,private:s}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[ec.PRESENCE]&&this.bindings[ec.PRESENCE].length>0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:s};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(Zn.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Zn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t==null||t(Zn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,y=[];for(let v=0;v<g;v++){const b=m[v],{filter:{event:w,schema:j,table:S,filter:N}}=b,E=h&&h[v];if(E&&E.event===w&&E.schema===j&&E.table===S&&E.filter===N)y.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=ft.errored,t==null||t(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Zn.SUBSCRIBED);return}}).receive("error",h=>{this.state=ft.errored,t==null||t(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ft.joined&&t===ec.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ft.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ng(this,yn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ng(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>cF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=yn;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var m,g,y,v,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:y,commit_timestamp:v,type:b,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&yx.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yn.close,{},t)}_onError(t){this._on(yn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=kj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=kj(t.columns,t.old_record)),r}}const Tj=()=>{},id={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vF=[1e3,2e3,5e3,1e4],yF=1e4,xF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bF{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ay,this.transport=null,this.heartbeatIntervalMs=id.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Tj,this.ref=0,this.reconnectTimer=null,this.logger=Tj,this.conn=null,this.sendBuffer=[],this.serializer=new uF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>nu(async()=>{const{default:s}=await Promise.resolve().then(()=>Ws);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${oy.websocket}`,this.httpEndpoint=Rk(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iF.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sF}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ql.connecting:return Wa.Connecting;case Ql.open:return Wa.Open;case Ql.closing:return Wa.Closing;default:return Wa.Closed}}isConnected(){return this.connectionState()===Wa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new yx(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(lF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},id.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(yn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([xF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:oF};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(yn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},id.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ay,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:id.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(s=t==null?void 0:t.reconnectAfterMs)!==null&&s!==void 0?s:d=>vF[d-1]||yF,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class xx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wF extends xx{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ly extends xx{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var jF=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};const Lk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nu(async()=>{const{default:n}=await Promise.resolve().then(()=>Ws);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},SF=()=>jF(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nu(()=>Promise.resolve().then(()=>Ws),void 0)).Response:Response}),cy=e=>{if(Array.isArray(e))return e.map(r=>cy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=cy(n)}),t},NF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var jo=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};const ig=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EF=(e,t,r)=>jo(void 0,void 0,void 0,function*(){const n=yield SF();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new wF(ig(i),a,o))}).catch(i=>{t(new ly(ig(i),i))}):t(new ly(ig(e),e))}),PF=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(NF(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function au(e,t,r,n,i,a){return jo(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,PF(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>EF(c,s,n))})})}function Nf(e,t,r,n){return jo(this,void 0,void 0,function*(){return au(e,"GET",t,r,n)})}function Mn(e,t,r,n,i){return jo(this,void 0,void 0,function*(){return au(e,"POST",t,n,i,r)})}function uy(e,t,r,n,i){return jo(this,void 0,void 0,function*(){return au(e,"PUT",t,n,i,r)})}function CF(e,t,r,n){return jo(this,void 0,void 0,function*(){return au(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fk(e,t,r,n,i){return jo(this,void 0,void 0,function*(){return au(e,"DELETE",t,n,i,r)})}var rr=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};const _F={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kF{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Lk(i)}uploadOrUpdate(t,r,n,i){return rr(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Dj),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?uy:Mn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(ht(a))return{data:null,error:a};throw a}})}upload(t,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return rr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Dj.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield uy(this.fetch,s.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(ht(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return rr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Mn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new xx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}update(t,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return rr(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}copy(t,r,n){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield Mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return rr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Mn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return rr(this,void 0,void 0,function*(){try{const i=yield Mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}download(t,r){return rr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const s=this._getFinalPath(t);return{data:yield(yield Nf(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(ht(s))return{data:null,error:s};throw s}})}info(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Nf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cy(n),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}exists(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield CF(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ht(n)&&n instanceof ly){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Fk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}list(t,r,n){return rr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_F),r),{prefix:t||""});return{data:yield Mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ht(i))return{data:null,error:i};throw i}})}listV2(t,r){return rr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Mn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const OF="2.11.0",AF={"X-Client-Info":`storage-js/${OF}`};var ko=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};class TF{constructor(t,r={},n,i){const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},AF),r),this.fetch=Lk(n)}listBuckets(){return ko(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ht(t))return{data:null,error:t};throw t}})}getBucket(t){return ko(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ko(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ko(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ko(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ko(this,void 0,void 0,function*(){try{return{data:yield Fk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ht(r))return{data:null,error:r};throw r}})}}class DF extends TF{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new kF(this.url,this.headers,t,this.fetch)}}const IF="2.56.0";let Ll="";typeof Deno<"u"?Ll="deno":typeof document<"u"?Ll="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ll="react-native":Ll="node";const MF={"X-Client-Info":`supabase-js-${Ll}/${IF}`},$F={headers:MF},RF={schema:"public"},LF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FF={};var BF=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};const zF=e=>{let t;return e?t=e:typeof fetch>"u"?t=Nk:t=fetch,(...r)=>t(...r)},UF=()=>typeof Headers>"u"?Ek:Headers,WF=(e,t,r)=>{const n=zF(r),i=UF();return(a,o)=>BF(void 0,void 0,void 0,function*(){var s;const c=(s=yield t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var HF=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};function qF(e){return e.endsWith("/")?e:e+"/"}function KF(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>HF(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Bk="2.71.1",Uo=30*1e3,dy=3,ag=dy*Uo,GF="http://localhost:9999",VF="supabase.auth.token",YF={"X-Client-Info":`gotrue-js/${Bk}`},fy="X-Supabase-Api-Version",zk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JF=10*60*1e3;class bx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QF extends bx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ZF(e){return me(e)&&e.name==="AuthApiError"}class Uk extends bx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ba extends bx{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ri extends ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eB(e){return me(e)&&e.name==="AuthSessionMissingError"}class ad extends ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class od extends ba{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class sd extends ba{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tB(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ij extends ba{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hy extends ba{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function og(e){return me(e)&&e.name==="AuthRetryableFetchError"}class Mj extends ba{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class py extends ba{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$j=` 	
\r=`.split(""),rB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$j.length;t+=1)e[$j[t].charCodeAt(0)]=-2;for(let t=0;t<Ef.length;t+=1)e[Ef[t].charCodeAt(0)]=t;return e})();function Rj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ef[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ef[n]),t.queuedBits-=6}}function Wk(e,t,r){const n=rB[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lj(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{aB(o,n,r)};for(let o=0;o<e.length;o+=1)Wk(e.charCodeAt(o),i,a);return t.join("")}function nB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iB(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}nB(n,t)}}function aB(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function oB(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Wk(e.charCodeAt(i),r,n);return new Uint8Array(t)}function sB(e){const t=[];return iB(e,r=>t.push(r)),new Uint8Array(t)}function lB(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Rj(i,r,n)),Rj(null,r,n),t.join("")}function cB(e){return Math.round(Date.now()/1e3)+e}function uB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mn=()=>typeof window<"u"&&typeof document<"u",Aa={tested:!1,writable:!1},Hk=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Aa.tested)return Aa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Aa.tested=!0,Aa.writable=!0}catch{Aa.tested=!0,Aa.writable=!1}return Aa.writable};function dB(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const qk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nu(async()=>{const{default:n}=await Promise.resolve().then(()=>Ws);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ta=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ti=async(e,t)=>{await e.removeItem(t)};class Jh{constructor(){this.promise=new Jh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Jh.promiseConstructor=Promise;function sg(e){const t=e.split(".");if(t.length!==3)throw new py("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!XF.test(t[n]))throw new py("JWT not in base64url format");return{header:JSON.parse(Lj(t[0])),payload:JSON.parse(Lj(t[1])),signature:oB(t[2]),raw:{header:t[0],payload:t[1]}}}async function hB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pB(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function mB(e){return("0"+e.toString(16)).substr(-2)}function gB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,mB).join("")}async function vB(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function yB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await vB(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Oo(e,t,r=!1){const n=gB();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Wo(e,`${t}-code-verifier`,i);const a=await yB(n);return[a,n===a?"plain":"s256"]}const xB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bB(e){const t=e.headers.get(fy);if(!t||!t.match(xB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ao(e){if(!SB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fj(e){return JSON.parse(JSON.stringify(e))}var NB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Ra=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EB=[502,503,504];async function Bj(e){var t;if(!fB(e))throw new hy(Ra(e),0);if(EB.includes(e.status))throw new hy(Ra(e),e.status);let r;try{r=await e.json()}catch(a){throw new Uk(Ra(a),a)}let n;const i=bB(e);if(i&&i.getTime()>=zk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mj(Ra(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ri}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Mj(Ra(r),e.status,r.weak_password.reasons);throw new QF(Ra(r),e.status||500,n)}const PB=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ye(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[fy]||(a[fy]=zk["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await CB(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function CB(e,t,r,n,i,a){const o=PB(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new hy(Ra(c),0)}if(s.ok||await Bj(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await Bj(c)}}function Jn(e){var t;let r=null;AB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cB(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function zj(e){const t=Jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _B(e){return{data:e,error:null}}function kB(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=NB(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function OB(e){return e}function AB(e){return e.access_token&&e.refresh_token&&e.expires_in}const cg=["global","local","others"];var TB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class DB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=qk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=cg[0]){if(cg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cg.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hi})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=TB(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:kB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hi})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:OB});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ao(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hi})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ao(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hi})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ao(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hi})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ao(t.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ao(t.userId),Ao(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}function Uj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function IB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const To={debug:!!(globalThis&&Hk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class MB extends Kk{}async function $B(e,t,r){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),To.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{To.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw To.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(To.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}IB();const RB={url:GF,storageKey:VF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wj(e,t,r){return await r()}const Do={};class Ec{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ec.nextInstanceID,Ec.nextInstanceID+=1,this.instanceID>0&&mn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},RB),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new DB({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=qk(i.fetch),this.lock=i.lock||Wj,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:mn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$B:this.lock=Wj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Hk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Uj(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Uj(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Do[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Do[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Do[this.storageKey]=Object.assign(Object.assign({},Do[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=dB(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),tB(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?{error:r}:{error:new Uk("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jn}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Oo(this.storage,this.storageKey)),a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Jn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Jn})}else throw new od("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zj})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zj})}else throw new od("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ad}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,o,s,c,u,d,f,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:b,options:w}=t;let j;if(mn())if(typeof v=="object")j=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(m),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:y,error:v}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:lB(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Jn});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ad}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(me(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Ta(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Jn});if(await Ti(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ad}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(me(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jn}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ad}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Oo(this.storage,this.storageKey));const{error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new od("You must provide either an email or phone number.")}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Jn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Oo(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:_B})}catch(a){if(me(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ri;const{error:i}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new od("You must provide either an email or phone number and a type")}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ta(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ag:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ta(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=lg()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hi}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ri}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Hi})})}catch(r){if(me(r))return eB(r)&&(await this._removeSession(),await Ti(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ri;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await Oo(this.storage,this.storageKey));const{data:u,error:d}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:Hi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ri;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=sg(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ri;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!mn())throw new sd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new sd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ij("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ij("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!a||!s||!o||!u)throw new sd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ta(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(ZF(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Ti(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=uB(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Oo(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(me(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return mn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pB(async i=>(i>0&&await hB(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&og(a)&&Date.now()+o-n<Uo})}catch(n){if(this._debug(r,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),mn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ta(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ta(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Wo(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:lg()}else if(i&&!i.user&&!i.user){const o=await Ta(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ti(this.storage,this.storageKey+"-user"),await Wo(this.storage,this.storageKey,i)):i.user=lg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ag;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ag}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),og(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jh;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Ri;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),me(a)){const o={session:null,error:a};return og(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Wo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Fj(i);await Wo(this.storage,this.storageKey,a)}else{const i=Fj(r);await Wo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ti(this.storage,this.storageKey),await Ti(this.storage,this.storageKey+"-code-verifier"),await Ti(this.storage,this.storageKey+"-user"),this.userStorage&&await Ti(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Uo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Uo}ms, refresh threshold is ${dy} ticks`),i<=dy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Oo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:s}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=sg(i.access_token);let s=null;o.aal&&(s=o.aal);let c=s;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+JF>i)return n;const{data:a,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=sg(n);r!=null&&r.allowExpired||wB(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const d=jB(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,sB(`${s}.${c}`)))throw new py("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}Ec.nextInstanceID=0;const LB=Ec;class FB extends LB{constructor(t){super(t)}}var BB=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})};class zB{constructor(t,r,n){var i,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const s=qF(t),c=new URL(s);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:RF,realtime:FF,auth:Object.assign(Object.assign({},LF),{storageKey:u}),global:$F},f=KF(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=WF(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new nF(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new DF(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new M4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return BB(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:s,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FB({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:s,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new bF(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UB=(e,t,r)=>new zB(e,t,r);function WB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}WB()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HB="https://eloldmdciulxzwsnlvci.supabase.co",qB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVsb2xkbWRjaXVseHp3c25sdmNpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMDkxMDYsImV4cCI6MjA2MDU4NTEwNn0.gh9vAFWK_kmkpYYC5NOgi4rs4lSQY7KhMs6UqPuX5nI",le=UB(HB,qB);function Fr(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[i,a]=x.useState(!0);return x.useEffect(()=>{le.auth.getSession().then(({data:{session:m}})=>{n(m),t((m==null?void 0:m.user)??null),a(!1)});const{data:{subscription:p}}=le.auth.onAuthStateChange((m,g)=>{n(g),t((g==null?void 0:g.user)??null),a(!1)});return()=>p.unsubscribe()},[]),{user:e,session:r,loading:i,signUp:async(p,m)=>{const{data:g,error:y}=await le.auth.signUp({email:p,password:m});return{data:g,error:y}},signIn:async(p,m)=>{const{data:g,error:y}=await le.auth.signInWithPassword({email:p,password:m});return{data:g,error:y}},signOut:async()=>{const{error:p}=await le.auth.signOut();return{error:p}},resetPassword:async p=>{try{const{error:m}=await le.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(m)throw m;return{error:null}}catch(m){return{error:m}}},updatePassword:async p=>{try{const{error:m}=await le.auth.updateUser({password:p});if(m)throw m;return{error:null}}catch(m){return{error:m}}},getUserProfile:async()=>{if(!e)return null;try{const{data:p,error:m}=await le.from("user_profiles").select("*").eq("id",e.id).single();if(m&&m.code!=="PGRST116")throw m;return p}catch(p){return console.error("Error fetching user profile:",p),null}},updateUserProfile:async p=>{if(!e)return{error:new Error("No user logged in")};try{const{data:m,error:g}=await le.from("user_profiles").upsert({id:e.id,...p}).select().single();if(g)throw g;return{data:m,error:null}}catch(m){return{data:null,error:m}}}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:c,...u},d)=>x.createElement("svg",{ref:d,...KB,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${GB(e)}`,s].join(" "),...u},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ie("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=ie("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ie("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ie("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ie("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=ie("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=ie("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=ie("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ie("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=ie("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=ie("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ie("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=ie("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=ie("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=ie("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function v6({isDarkMode:e}){const[t,r]=x.useState(!1),[n,i]=x.useState(""),[a,o]=x.useState(""),[s,c]=x.useState(!1),[u,d]=x.useState(null),{signIn:f,signUp:h}=Fr(),p=async m=>{m.preventDefault(),c(!0),d(null);try{const{error:g}=t?await h(n,a):await f(n,a);g&&d(g.message)}catch{d("An unexpected error occurred")}finally{c(!1)}};return l.jsx("div",{className:`min-h-screen flex items-center justify-center transition-colors duration-200 ${e?"bg-slate-900":"bg-slate-50"}`,children:l.jsxs("div",{className:`max-w-md w-full mx-4 p-8 rounded-xl shadow-lg border transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:`inline-flex p-3 rounded-full mb-4 ${e?"bg-blue-900":"bg-blue-100"}`,children:l.jsx(Ie,{className:`w-8 h-8 ${e?"text-blue-400":"text-blue-600"}`})}),l.jsx("h1",{className:`text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:"Consultant Dashboard"}),l.jsx("p",{className:`text-sm mt-2 ${e?"text-slate-400":"text-slate-600"}`,children:t?"Create your account":"Sign in to your account"})]}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Email"}),l.jsx("input",{type:"email",value:n,onChange:m=>i(m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`,placeholder:"Enter your email",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Password"}),l.jsx("input",{type:"password",value:a,onChange:m=>o(m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`,placeholder:"Enter your password",required:!0,minLength:6})]}),u&&l.jsx("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:u}),l.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2.5 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:s?l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[t?l.jsx(p6,{className:"w-4 h-4"}):l.jsx(r6,{className:"w-4 h-4"}),t?"Sign Up":"Sign In"]})})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>r(!t),className:`text-sm transition-colors duration-200 ${e?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"}`,children:t?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}function e2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=e2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function je(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=e2(e))&&(n&&(n+=" "),n+=t);return n}const kx="-",y6=e=>{const t=b6(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split(kx);return s[0]===""&&s.length!==1&&s.shift(),t2(s,t)||x6(o)},getConflictingClassGroupIds:(o,s)=>{const c=r[o]||[];return s&&n[o]?[...c,...n[o]]:c}}},t2=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?t2(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(kx);return(o=t.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},Kj=/^\[(.+)\]$/,x6=e=>{if(Kj.test(e)){const t=Kj.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},b6=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)my(r[i],n,i,t);return n},my=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:Gj(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(w6(i)){my(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{my(o,Gj(t,a),r,n)})})},Gj=(e,t)=>{let r=e;return t.split(kx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},w6=e=>e.isThemeGetter,j6=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},gy="!",vy=":",S6=vy.length,N6=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const a=[];let o=0,s=0,c=0,u;for(let m=0;m<i.length;m++){let g=i[m];if(o===0&&s===0){if(g===vy){a.push(i.slice(c,m)),c=m+S6;continue}if(g==="/"){u=m;continue}}g==="["?o++:g==="]"?o--:g==="("?s++:g===")"&&s--}const d=a.length===0?i:i.substring(c),f=E6(d),h=f!==d,p=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const i=t+vy,a=n;n=o=>o.startsWith(i)?a(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},E6=e=>e.endsWith(gy)?e.substring(0,e.length-1):e.startsWith(gy)?e.substring(1):e,P6=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let a=[];return n.forEach(o=>{o[0]==="["||t[o]?(i.push(...a.sort(),o),a=[]):a.push(o)}),i.push(...a.sort()),i}},C6=e=>({cache:j6(e.cacheSize),parseClassName:N6(e),sortModifiers:P6(e),...y6(e)}),_6=/\s+/,k6=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],s=e.trim().split(_6);let c="";for(let u=s.length-1;u>=0;u-=1){const d=s[u],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let y=!!g,v=n(y?m.substring(0,g):m);if(!v){if(!y){c=d+(c.length>0?" "+c:c);continue}if(v=n(m),!v){c=d+(c.length>0?" "+c:c);continue}y=!1}const b=a(h).join(":"),w=p?b+gy:b,j=w+v;if(o.includes(j))continue;o.push(j);const S=i(v,y);for(let N=0;N<S.length;++N){const E=S[N];o.push(w+E)}c=d+(c.length>0?" "+c:c)}return c};function O6(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=r2(t))&&(n&&(n+=" "),n+=r);return n}const r2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=r2(e[n]))&&(r&&(r+=" "),r+=t);return r};function A6(e,...t){let r,n,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=C6(u),n=r.cache.get,i=r.cache.set,a=s,s(c)}function s(c){const u=n(c);if(u)return u;const d=k6(c,r);return i(c,d),d}return function(){return a(O6.apply(null,arguments))}}const ut=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},n2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,i2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,T6=/^\d+\/\d+$/,D6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,I6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Io=e=>T6.test(e),ve=e=>!!e&&!Number.isNaN(Number(e)),Di=e=>!!e&&Number.isInteger(Number(e)),ug=e=>e.endsWith("%")&&ve(e.slice(0,-1)),Xn=e=>D6.test(e),L6=()=>!0,F6=e=>I6.test(e)&&!M6.test(e),a2=()=>!1,B6=e=>$6.test(e),z6=e=>R6.test(e),U6=e=>!te(e)&&!re(e),W6=e=>Gs(e,l2,a2),te=e=>n2.test(e),Da=e=>Gs(e,c2,F6),dg=e=>Gs(e,V6,ve),Vj=e=>Gs(e,o2,a2),H6=e=>Gs(e,s2,z6),ld=e=>Gs(e,u2,B6),re=e=>i2.test(e),xl=e=>Vs(e,c2),q6=e=>Vs(e,Y6),Yj=e=>Vs(e,o2),K6=e=>Vs(e,l2),G6=e=>Vs(e,s2),cd=e=>Vs(e,u2,!0),Gs=(e,t,r)=>{const n=n2.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Vs=(e,t,r=!1)=>{const n=i2.exec(e);return n?n[1]?t(n[1]):r:!1},o2=e=>e==="position"||e==="percentage",s2=e=>e==="image"||e==="url",l2=e=>e==="length"||e==="size"||e==="bg-size",c2=e=>e==="length",V6=e=>e==="number",Y6=e=>e==="family-name",u2=e=>e==="shadow",X6=()=>{const e=ut("color"),t=ut("font"),r=ut("text"),n=ut("font-weight"),i=ut("tracking"),a=ut("leading"),o=ut("breakpoint"),s=ut("container"),c=ut("spacing"),u=ut("radius"),d=ut("shadow"),f=ut("inset-shadow"),h=ut("text-shadow"),p=ut("drop-shadow"),m=ut("blur"),g=ut("perspective"),y=ut("aspect"),v=ut("ease"),b=ut("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...j(),re,te],N=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],C=()=>[re,te,c],P=()=>[Io,"full","auto",...C()],k=()=>[Di,"none","subgrid",re,te],O=()=>["auto",{span:["full",Di,re,te]},Di,re,te],_=()=>[Di,"auto",re,te],A=()=>["auto","min","max","fr",re,te],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...C()],R=()=>[Io,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],I=()=>[e,re,te],F=()=>[...j(),Yj,Vj,{position:[re,te]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",K6,W6,{size:[re,te]}],L=()=>[ug,xl,Da],ne=()=>["","none","full",u,re,te],ce=()=>["",ve,xl,Da],he=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[ve,ug,Yj,Vj],tr=()=>["","none",m,re,te],X=()=>["none",ve,re,te],ue=()=>["none",ve,re,te],pe=()=>[ve,re,te],z=()=>[Io,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xn],breakpoint:[Xn],color:[L6],container:[Xn],"drop-shadow":[Xn],ease:["in","out","in-out"],font:[U6],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xn],shadow:[Xn],spacing:["px",ve],text:[Xn],"text-shadow":[Xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Io,te,re,y]}],container:["container"],columns:[{columns:[ve,te,re,s]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Di,"auto",re,te]}],basis:[{basis:[Io,"full","auto",s,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ve,Io,"auto","initial","none",te]}],grow:[{grow:["",ve,re,te]}],shrink:[{shrink:["",ve,re,te]}],order:[{order:[Di,"first","last","none",re,te]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:R()}],w:[{w:[s,"screen",...R()]}],"min-w":[{"min-w":[s,"screen","none",...R()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...R()]}],h:[{h:["screen","lh",...R()]}],"min-h":[{"min-h":["screen","lh","none",...R()]}],"max-h":[{"max-h":["screen","lh",...R()]}],"font-size":[{text:["base",r,xl,Da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,re,dg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ug,te]}],"font-family":[{font:[q6,te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,re,te]}],"line-clamp":[{"line-clamp":[ve,"none",re,dg]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",re,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[ve,"from-font","auto",re,Da]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[ve,"auto",re,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Di,re,te],radial:["",re,te],conic:[Di,re,te]},G6,H6]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ve,re,te]}],"outline-w":[{outline:["",ve,xl,Da]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",d,cd,ld]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",f,cd,ld]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[ve,Da]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",h,cd,ld]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[ve,re,te]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[re,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,te]}],filter:[{filter:["","none",re,te]}],blur:[{blur:tr()}],brightness:[{brightness:[ve,re,te]}],contrast:[{contrast:[ve,re,te]}],"drop-shadow":[{"drop-shadow":["","none",p,cd,ld]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",ve,re,te]}],"hue-rotate":[{"hue-rotate":[ve,re,te]}],invert:[{invert:["",ve,re,te]}],saturate:[{saturate:[ve,re,te]}],sepia:[{sepia:["",ve,re,te]}],"backdrop-filter":[{"backdrop-filter":["","none",re,te]}],"backdrop-blur":[{"backdrop-blur":tr()}],"backdrop-brightness":[{"backdrop-brightness":[ve,re,te]}],"backdrop-contrast":[{"backdrop-contrast":[ve,re,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ve,re,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ve,re,te]}],"backdrop-invert":[{"backdrop-invert":["",ve,re,te]}],"backdrop-opacity":[{"backdrop-opacity":[ve,re,te]}],"backdrop-saturate":[{"backdrop-saturate":[ve,re,te]}],"backdrop-sepia":[{"backdrop-sepia":["",ve,re,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ve,"initial",re,te]}],ease:[{ease:["linear","initial",v,re,te]}],delay:[{delay:[ve,re,te]}],animate:[{animate:["none",b,re,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,re,te]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:pe()}],"skew-x":[{"skew-x":pe()}],"skew-y":[{"skew-y":pe()}],transform:[{transform:[re,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,te]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[ve,xl,Da,dg]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},J6=A6(X6);function Ae(...e){return J6(je(e))}function Xj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function d2(...e){return t=>{let r=!1;const n=e.map(i=>{const a=Xj(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Xj(e[i],null)}}}}function No(...e){return x.useCallback(d2(...e),e)}function Ox(e){const t=Z6(e),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,s=x.Children.toArray(a),c=s.find(t5);if(c){const u=c.props.children,d=s.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var Q6=Ox("Slot");function Z6(e){const t=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=n5(i),s=r5(a,i.props);return i.type!==x.Fragment&&(s.ref=n?d2(n,o):o),x.cloneElement(i,s)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var e5=Symbol("radix.slottable");function t5(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===e5}function r5(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{const c=a(...s);return i(...s),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function n5(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Jj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Qj=je,f2=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Qj(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=Jj(d)||Jj(f);return i[u][h]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...a,...s}[g]):{...a,...s}[g]===y})?[...u,f,h]:u},[]);return Qj(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},i5=f2("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?Q6:"button";return l.jsx(o,{className:Ae(i5({variant:t,size:r,className:e})),ref:a,...i})});W.displayName="Button";const a5=[{name:"Dashboard",href:"/",icon:t6},{name:"Time Tracking",href:"/time-tracking",icon:Ie},{name:"Budget",href:"/budget",icon:lr},{name:"Cash Flow",href:"/cash-flow",icon:Qt},{name:"Projects",href:"/projects",icon:Zh},{name:"Analytics",href:"/analytics",icon:ou},{name:"Clients",href:"/clients",icon:wa},{name:"Invoicing",href:"/invoicing",icon:So},{name:"Settings",href:"/settings",icon:tp}];function o5({collapsed:e,onToggle:t,isDarkMode:r}){return l.jsxs("div",{className:Ae("flex flex-col h-full border-r transition-all duration-300",e?"w-16":"w-64","bg-card border-border"),children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[!e&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:l.jsx(ou,{className:"w-5 h-5 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-semibold text-sm",children:"ConsultantHub"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),l.jsx(W,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:e?l.jsx(Ex,{className:"h-4 w-4"}):l.jsx(Nx,{className:"h-4 w-4"})})]}),l.jsx("nav",{className:"flex-1 p-2",children:l.jsx("ul",{className:"space-y-1",children:a5.map(n=>{const i=n.icon;return l.jsx("li",{children:l.jsxs(P4,{to:n.href,className:({isActive:a})=>Ae("flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors","hover:bg-accent hover:text-accent-foreground",a?"bg-primary text-primary-foreground":"text-muted-foreground",e?"justify-center":""),title:e?n.name:void 0,children:[l.jsx(i,{className:"h-4 w-4 flex-shrink-0"}),!e&&l.jsx("span",{children:n.name})]})},n.name)})})}),l.jsx("div",{className:"p-4 border-t border-border",children:!e&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("p",{children:"© 2025 ConsultantHub"}),l.jsx("p",{children:"v1.0.0"})]})})]})}const fe=x.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));fe.displayName="Input";function s5({isDarkMode:e,onToggleDarkMode:t,onSignOut:r,user:n}){var i;return l.jsxs("header",{className:Ae("flex items-center justify-between px-6 py-4 border-b","bg-background border-border"),children:[l.jsx("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(fe,{placeholder:"Search...",className:"pl-10"})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(W,{variant:"ghost",size:"icon",className:"relative",children:[l.jsx(VB,{className:"h-4 w-4"}),l.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 bg-red-500 rounded-full"})]}),l.jsx(W,{variant:"ghost",size:"icon",onClick:t,children:e?l.jsx(h6,{className:"h-4 w-4"}):l.jsx(s6,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex items-center gap-3 ml-4 pl-4 border-l border-border",children:[l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("p",{className:"text-sm font-medium",children:((i=n==null?void 0:n.email)==null?void 0:i.split("@")[0])||"User"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:(n==null?void 0:n.email)||"user@example.com"})]}),l.jsx(W,{variant:"ghost",size:"icon",className:"rounded-full",children:l.jsx(Ks,{className:"h-4 w-4"})}),l.jsx(W,{variant:"ghost",size:"icon",onClick:r,children:l.jsx(n6,{className:"h-4 w-4"})})]})]})]})}function l5({isDarkMode:e,onToggleDarkMode:t,onSignOut:r,user:n,children:i}){const[a,o]=x.useState(!1);return l.jsxs("div",{className:Ae("h-screen flex",e?"dark":""),children:[l.jsx(o5,{collapsed:a,onToggle:()=>o(!a),isDarkMode:e}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(s5,{isDarkMode:e,onToggleDarkMode:t,onSignOut:r,user:n}),l.jsx("main",{className:"flex-1 overflow-auto p-6 bg-muted/30",children:i||l.jsx(f4,{})})]})]})}function yy(e,t){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},yy(e,t)}function h2(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yy(e,t)}function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},de.apply(null,arguments)}function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function c5(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u5(e){var t=c5(e,"string");return Pc(t)=="symbol"?t:t+""}function d5(e,t,r){return(t=u5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){d5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var tS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),rS=function(){return Math.random().toString(36).substring(7).split("").join(".")},nS={INIT:"@@redux/INIT"+rS(),REPLACE:"@@redux/REPLACE"+rS()};function f5(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p2(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fr(1));return r(p2)(e,t)}if(typeof e!="function")throw new Error(fr(2));var i=e,a=t,o=[],s=o,c=!1;function u(){s===o&&(s=o.slice())}function d(){if(c)throw new Error(fr(3));return a}function f(g){if(typeof g!="function")throw new Error(fr(4));if(c)throw new Error(fr(5));var y=!0;return u(),s.push(g),function(){if(y){if(c)throw new Error(fr(6));y=!1,u();var b=s.indexOf(g);s.splice(b,1),o=null}}}function h(g){if(!f5(g))throw new Error(fr(7));if(typeof g.type>"u")throw new Error(fr(8));if(c)throw new Error(fr(9));try{c=!0,a=i(a,g)}finally{c=!1}for(var y=o=s,v=0;v<y.length;v++){var b=y[v];b()}return g}function p(g){if(typeof g!="function")throw new Error(fr(10));i=g,h({type:nS.REPLACE})}function m(){var g,y=f;return g={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(fr(11));function w(){b.next&&b.next(d())}w();var j=y(w);return{unsubscribe:j}}},g[tS]=function(){return this},g}return h({type:nS.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:p},n[tS]=m,n}function iS(e,t){return function(){return t(e.apply(this,arguments))}}function aS(e,t){if(typeof e=="function")return iS(e,t);if(typeof e!="object"||e===null)throw new Error(fr(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=iS(i,t))}return r}function m2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function h5(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(fr(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map(function(c){return c(o)});return a=m2.apply(void 0,s)(i.dispatch),eS(eS({},i),{},{dispatch:a})}}}var g2=Fe.createContext(null);function p5(e){e()}var v2=p5,m5=function(t){return v2=t},g5=function(){return v2};function v5(){var e=g5(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var i=t;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=t;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,o=r={callback:i,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!a||t===null||(a=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var oS={notify:function(){},get:function(){return[]}};function y2(e,t){var r,n=oS;function i(f){return c(),n.subscribe(f)}function a(){n.notify()}function o(){d.onStateChange&&d.onStateChange()}function s(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=v5())}function u(){r&&(r(),r=void 0,n.clear(),n=oS)}var d={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:o,isSubscribed:s,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return d}var x2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect;function y5(e){var t=e.store,r=e.context,n=e.children,i=x.useMemo(function(){var s=y2(t);return{store:t,subscription:s}},[t]),a=x.useMemo(function(){return t.getState()},[t]);x2(function(){var s=i.subscription;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),a!==t.getState()&&s.notifyNestedSubs(),function(){s.tryUnsubscribe(),s.onStateChange=null}},[i,a]);var o=r||g2;return Fe.createElement(o.Provider,{value:i},n)}function _f(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b2={exports:{}},Te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=typeof Symbol=="function"&&Symbol.for,Ax=_t?Symbol.for("react.element"):60103,Tx=_t?Symbol.for("react.portal"):60106,np=_t?Symbol.for("react.fragment"):60107,ip=_t?Symbol.for("react.strict_mode"):60108,ap=_t?Symbol.for("react.profiler"):60114,op=_t?Symbol.for("react.provider"):60109,sp=_t?Symbol.for("react.context"):60110,Dx=_t?Symbol.for("react.async_mode"):60111,lp=_t?Symbol.for("react.concurrent_mode"):60111,cp=_t?Symbol.for("react.forward_ref"):60112,up=_t?Symbol.for("react.suspense"):60113,x5=_t?Symbol.for("react.suspense_list"):60120,dp=_t?Symbol.for("react.memo"):60115,fp=_t?Symbol.for("react.lazy"):60116,b5=_t?Symbol.for("react.block"):60121,w5=_t?Symbol.for("react.fundamental"):60117,j5=_t?Symbol.for("react.responder"):60118,S5=_t?Symbol.for("react.scope"):60119;function Br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ax:switch(e=e.type,e){case Dx:case lp:case np:case ap:case ip:case up:return e;default:switch(e=e&&e.$$typeof,e){case sp:case cp:case fp:case dp:case op:return e;default:return t}}case Tx:return t}}}function w2(e){return Br(e)===lp}Te.AsyncMode=Dx;Te.ConcurrentMode=lp;Te.ContextConsumer=sp;Te.ContextProvider=op;Te.Element=Ax;Te.ForwardRef=cp;Te.Fragment=np;Te.Lazy=fp;Te.Memo=dp;Te.Portal=Tx;Te.Profiler=ap;Te.StrictMode=ip;Te.Suspense=up;Te.isAsyncMode=function(e){return w2(e)||Br(e)===Dx};Te.isConcurrentMode=w2;Te.isContextConsumer=function(e){return Br(e)===sp};Te.isContextProvider=function(e){return Br(e)===op};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ax};Te.isForwardRef=function(e){return Br(e)===cp};Te.isFragment=function(e){return Br(e)===np};Te.isLazy=function(e){return Br(e)===fp};Te.isMemo=function(e){return Br(e)===dp};Te.isPortal=function(e){return Br(e)===Tx};Te.isProfiler=function(e){return Br(e)===ap};Te.isStrictMode=function(e){return Br(e)===ip};Te.isSuspense=function(e){return Br(e)===up};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===np||e===lp||e===ap||e===ip||e===up||e===x5||typeof e=="object"&&e!==null&&(e.$$typeof===fp||e.$$typeof===dp||e.$$typeof===op||e.$$typeof===sp||e.$$typeof===cp||e.$$typeof===w5||e.$$typeof===j5||e.$$typeof===S5||e.$$typeof===b5)};Te.typeOf=Br;b2.exports=Te;var N5=b2.exports,Ix=N5,E5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},P5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},C5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},j2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Mx={};Mx[Ix.ForwardRef]=C5;Mx[Ix.Memo]=j2;function sS(e){return Ix.isMemo(e)?j2:Mx[e.$$typeof]||E5}var _5=Object.defineProperty,k5=Object.getOwnPropertyNames,lS=Object.getOwnPropertySymbols,O5=Object.getOwnPropertyDescriptor,A5=Object.getPrototypeOf,cS=Object.prototype;function S2(e,t,r){if(typeof t!="string"){if(cS){var n=A5(t);n&&n!==cS&&S2(e,n,r)}var i=k5(t);lS&&(i=i.concat(lS(t)));for(var a=sS(e),o=sS(t),s=0;s<i.length;++s){var c=i[s];if(!P5[c]&&!(r&&r[c])&&!(o&&o[c])&&!(a&&a[c])){var u=O5(t,c);try{_5(e,c,u)}catch{}}}}return e}var T5=S2;const uS=un(T5);var N2={exports:{}},Me={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp=60103,pp=60106,lu=60107,cu=60108,uu=60114,du=60109,fu=60110,hu=60112,pu=60113,$x=60120,mu=60115,gu=60116,E2=60121,P2=60122,C2=60117,_2=60129,k2=60131;if(typeof Symbol=="function"&&Symbol.for){var Tt=Symbol.for;hp=Tt("react.element"),pp=Tt("react.portal"),lu=Tt("react.fragment"),cu=Tt("react.strict_mode"),uu=Tt("react.profiler"),du=Tt("react.provider"),fu=Tt("react.context"),hu=Tt("react.forward_ref"),pu=Tt("react.suspense"),$x=Tt("react.suspense_list"),mu=Tt("react.memo"),gu=Tt("react.lazy"),E2=Tt("react.block"),P2=Tt("react.server.block"),C2=Tt("react.fundamental"),_2=Tt("react.debug_trace_mode"),k2=Tt("react.legacy_hidden")}function _n(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hp:switch(e=e.type,e){case lu:case uu:case cu:case pu:case $x:return e;default:switch(e=e&&e.$$typeof,e){case fu:case hu:case gu:case mu:case du:return e;default:return t}}case pp:return t}}}var D5=du,I5=hp,M5=hu,$5=lu,R5=gu,L5=mu,F5=pp,B5=uu,z5=cu,U5=pu;Me.ContextConsumer=fu;Me.ContextProvider=D5;Me.Element=I5;Me.ForwardRef=M5;Me.Fragment=$5;Me.Lazy=R5;Me.Memo=L5;Me.Portal=F5;Me.Profiler=B5;Me.StrictMode=z5;Me.Suspense=U5;Me.isAsyncMode=function(){return!1};Me.isConcurrentMode=function(){return!1};Me.isContextConsumer=function(e){return _n(e)===fu};Me.isContextProvider=function(e){return _n(e)===du};Me.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hp};Me.isForwardRef=function(e){return _n(e)===hu};Me.isFragment=function(e){return _n(e)===lu};Me.isLazy=function(e){return _n(e)===gu};Me.isMemo=function(e){return _n(e)===mu};Me.isPortal=function(e){return _n(e)===pp};Me.isProfiler=function(e){return _n(e)===uu};Me.isStrictMode=function(e){return _n(e)===cu};Me.isSuspense=function(e){return _n(e)===pu};Me.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lu||e===uu||e===_2||e===cu||e===pu||e===$x||e===k2||typeof e=="object"&&e!==null&&(e.$$typeof===gu||e.$$typeof===mu||e.$$typeof===du||e.$$typeof===fu||e.$$typeof===hu||e.$$typeof===C2||e.$$typeof===E2||e[0]===P2)};Me.typeOf=_n;N2.exports=Me;var W5=N2.exports,H5=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],q5=["reactReduxForwardedRef"],K5=[],G5=[null,null];function V5(e,t){var r=e[1];return[t.payload,r+1]}function dS(e,t,r){x2(function(){return e.apply(void 0,t)},r)}function Y5(e,t,r,n,i,a,o){e.current=n,t.current=i,r.current=!1,a.current&&(a.current=null,o())}function X5(e,t,r,n,i,a,o,s,c,u){if(e){var d=!1,f=null,h=function(){if(!d){var g=t.getState(),y,v;try{y=n(g,i.current)}catch(b){v=b,f=b}v||(f=null),y===a.current?o.current||c():(a.current=y,s.current=y,o.current=!0,u({type:"STORE_UPDATED",payload:{error:v}}))}};r.onStateChange=h,r.trySubscribe(),h();var p=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return p}}var J5=function(){return[null,0]};function Q5(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,i=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,a=r.methodName,o=a===void 0?"connectAdvanced":a,s=r.renderCountProp,c=s===void 0?void 0:s,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,f=r.storeKey,h=f===void 0?"store":f;r.withRef;var p=r.forwardRef,m=p===void 0?!1:p,g=r.context,y=g===void 0?g2:g,v=_f(r,H5),b=y;return function(j){var S=j.displayName||j.name||"Component",N=i(S),E=de({},v,{getDisplayName:i,methodName:o,renderCountProp:c,shouldHandleStateChanges:d,storeKey:h,displayName:N,wrappedComponentName:S,WrappedComponent:j}),C=v.pure;function P(D){return e(D.dispatch,E)}var k=C?x.useMemo:function(D){return D()};function O(D){var M=x.useMemo(function(){var cl=D.reactReduxForwardedRef,km=_f(D,q5);return[D.context,cl,km]},[D]),T=M[0],R=M[1],I=M[2],F=x.useMemo(function(){return T&&T.Consumer&&W5.isContextConsumer(Fe.createElement(T.Consumer,null))?T:b},[T,b]),B=x.useContext(F),J=!!D.store&&!!D.store.getState&&!!D.store.dispatch;B&&B.store;var L=J?D.store:B.store,ne=x.useMemo(function(){return P(L)},[L]),ce=x.useMemo(function(){if(!d)return G5;var cl=y2(L,J?null:B.subscription),km=cl.notifyNestedSubs.bind(cl);return[cl,km]},[L,J,B]),he=ce[0],oe=ce[1],ge=x.useMemo(function(){return J?B:de({},B,{subscription:he})},[J,B,he]),tr=x.useReducer(V5,K5,J5),X=tr[0],ue=X[0],pe=tr[1];if(ue&&ue.error)throw ue.error;var z=x.useRef(),wt=x.useRef(I),Pe=x.useRef(),Wt=x.useRef(!1),At=k(function(){return Pe.current&&I===wt.current?Pe.current:ne(L.getState(),I)},[L,ue,I]);dS(Y5,[wt,z,Wt,I,At,Pe,oe]),dS(X5,[d,L,he,ne,wt,z,Wt,Pe,oe,pe],[L,he,ne]);var hn=x.useMemo(function(){return Fe.createElement(j,de({},At,{ref:R}))},[R,j,At]),Fu=x.useMemo(function(){return d?Fe.createElement(F.Provider,{value:ge},hn):hn},[F,hn,ge]);return Fu}var _=C?Fe.memo(O):O;if(_.WrappedComponent=j,_.displayName=O.displayName=N,m){var A=Fe.forwardRef(function(M,T){return Fe.createElement(_,de({},M,{reactReduxForwardedRef:T}))});return A.displayName=N,A.WrappedComponent=j,uS(A,j)}return uS(_,j)}}function fS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fg(e,t){if(fS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!fS(e[r[i]],t[r[i]]))return!1;return!0}function Z5(e,t){var r={},n=function(o){var s=e[o];typeof s=="function"&&(r[o]=function(){return t(s.apply(void 0,arguments))})};for(var i in e)n(i);return r}function Rx(e){return function(r,n){var i=e(r,n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function hS(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function O2(e,t){return function(n,i){i.displayName;var a=function(s,c){return a.dependsOnOwnProps?a.mapToProps(s,c):a.mapToProps(s)};return a.dependsOnOwnProps=!0,a.mapToProps=function(s,c){a.mapToProps=e,a.dependsOnOwnProps=hS(e);var u=a(s,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=hS(u),u=a(s,c)),u},a}}function ez(e){return typeof e=="function"?O2(e):void 0}function tz(e){return e?void 0:Rx(function(t){return{dispatch:t}})}function rz(e){return e&&typeof e=="object"?Rx(function(t){return Z5(e,t)}):void 0}const nz=[ez,tz,rz];function iz(e){return typeof e=="function"?O2(e):void 0}function az(e){return e?void 0:Rx(function(){return{}})}const oz=[iz,az];function sz(e,t,r){return de({},r,e,t)}function lz(e){return function(r,n){n.displayName;var i=n.pure,a=n.areMergedPropsEqual,o=!1,s;return function(u,d,f){var h=e(u,d,f);return o?(!i||!a(h,s))&&(s=h):(o=!0,s=h),s}}}function cz(e){return typeof e=="function"?lz(e):void 0}function uz(e){return e?void 0:function(){return sz}}const dz=[cz,uz];var fz=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function hz(e,t,r,n){return function(a,o){return r(e(a,o),t(n,o),o)}}function pz(e,t,r,n,i){var a=i.areStatesEqual,o=i.areOwnPropsEqual,s=i.areStatePropsEqual,c=!1,u,d,f,h,p;function m(w,j){return u=w,d=j,f=e(u,d),h=t(n,d),p=r(f,h,d),c=!0,p}function g(){return f=e(u,d),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function y(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function v(){var w=e(u,d),j=!s(w,f);return f=w,j&&(p=r(f,h,d)),p}function b(w,j){var S=!o(j,d),N=!a(w,u,j,d);return u=w,d=j,S&&N?g():S?y():N?v():p}return function(j,S){return c?b(j,S):m(j,S)}}function mz(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,a=_f(t,fz),o=r(e,a),s=n(e,a),c=i(e,a),u=a.pure?pz:hz;return u(o,s,c,e,a)}var gz=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function hg(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(a,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function vz(e,t){return e===t}function yz(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?Q5:r,i=t.mapStateToPropsFactories,a=i===void 0?oz:i,o=t.mapDispatchToPropsFactories,s=o===void 0?nz:o,c=t.mergePropsFactories,u=c===void 0?dz:c,d=t.selectorFactory,f=d===void 0?mz:d;return function(p,m,g,y){y===void 0&&(y={});var v=y,b=v.pure,w=b===void 0?!0:b,j=v.areStatesEqual,S=j===void 0?vz:j,N=v.areOwnPropsEqual,E=N===void 0?fg:N,C=v.areStatePropsEqual,P=C===void 0?fg:C,k=v.areMergedPropsEqual,O=k===void 0?fg:k,_=_f(v,gz),A=hg(p,a,"mapStateToProps"),D=hg(m,s,"mapDispatchToProps"),M=hg(g,u,"mergeProps");return n(f,de({methodName:"connect",getDisplayName:function(R){return"Connect("+R+")"},shouldHandleStateChanges:!!p,initMapStateToProps:A,initMapDispatchToProps:D,initMergeProps:M,pure:w,areStatesEqual:S,areOwnPropsEqual:E,areStatePropsEqual:P,areMergedPropsEqual:O},_))}}const A2=yz();m5(eu.unstable_batchedUpdates);function xz(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function T2(e,t){var r=x.useState(function(){return{inputs:t,result:e()}})[0],n=x.useRef(!0),i=x.useRef(r),a=n.current||!!(t&&i.current.inputs&&xz(t,i.current.inputs)),o=a?i.current:{inputs:t,result:e()};return x.useEffect(function(){n.current=!1,i.current=o},[o]),o.result}function bz(e,t){return T2(function(){return e},t)}var Se=T2,se=bz,wz="Invariant failed";function D2(e,t){throw new Error(wz)}var Sn=function(t){var r=t.top,n=t.right,i=t.bottom,a=t.left,o=n-a,s=i-r,c={top:r,right:n,bottom:i,left:a,width:o,height:s,x:a,y:r,center:{x:(n+a)/2,y:(i+r)/2}};return c},Lx=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},pS=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},jz=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},pg={top:0,right:0,bottom:0,left:0},Fx=function(t){var r=t.borderBox,n=t.margin,i=n===void 0?pg:n,a=t.border,o=a===void 0?pg:a,s=t.padding,c=s===void 0?pg:s,u=Sn(Lx(r,i)),d=Sn(pS(r,o)),f=Sn(pS(d,c));return{marginBox:u,borderBox:Sn(r),paddingBox:d,contentBox:f,margin:i,border:o,padding:c}},Ur=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&D2(),i},Sz=function(){return{x:window.pageXOffset,y:window.pageYOffset}},kf=function(t,r){var n=t.borderBox,i=t.border,a=t.margin,o=t.padding,s=jz(n,r);return Fx({borderBox:s,border:i,margin:a,padding:o})},Of=function(t,r){return r===void 0&&(r=Sz()),kf(t,r)},I2=function(t,r){var n={top:Ur(r.marginTop),right:Ur(r.marginRight),bottom:Ur(r.marginBottom),left:Ur(r.marginLeft)},i={top:Ur(r.paddingTop),right:Ur(r.paddingRight),bottom:Ur(r.paddingBottom),left:Ur(r.paddingLeft)},a={top:Ur(r.borderTopWidth),right:Ur(r.borderRightWidth),bottom:Ur(r.borderBottomWidth),left:Ur(r.borderLeftWidth)};return Fx({borderBox:t,margin:n,padding:i,border:a})},M2=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return I2(r,n)},mS=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Nz(e,t){return!!(e===t||mS(e)&&mS(t))}function Ez(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Nz(e[r],t[r]))return!1;return!0}function Pt(e,t){t===void 0&&(t=Ez);var r,n=[],i,a=!1;function o(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return a&&r===this&&t(s,n)||(i=e.apply(this,s),a=!0,r=this,n=s),i}return o}var Cc=function(t){var r=[],n=null,i=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];r=s,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function $2(e,t){}$2.bind(null,"warn");$2.bind(null,"error");function ia(){}function Pz(e,t){return de({},e,{},t)}function Xr(e,t,r){var n=t.map(function(i){var a=Pz(r,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){n.forEach(function(a){a()})}}var Cz="Invariant failed";function Af(e){this.message=e}Af.prototype.toString=function(){return this.message};function K(e,t){throw new Af(Cz)}var _z=function(e){h2(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=ia,n.onWindowError=function(s){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=s.error;u instanceof Af&&s.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(s){n.callbacks=s},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=Xr(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(i){if(i instanceof Af){this.setState({});return}throw i},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Fe.Component),kz=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Tf=function(t){return t+1},Oz=function(t){return`
  You have lifted an item in position `+Tf(t.source.index)+`
`},R2=function(t,r){var n=t.droppableId===r.droppableId,i=Tf(t.index),a=Tf(r.index);return n?`
      You have moved the item from position `+i+`
      to position `+a+`
    `:`
    You have moved the item from position `+i+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},L2=function(t,r,n){var i=r.droppableId===n.droppableId;return i?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},Az=function(t){var r=t.destination;if(r)return R2(t.source,r);var n=t.combine;return n?L2(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},gS=function(t){return`
  The item has returned to its starting position
  of `+Tf(t.index)+`
`},Tz=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+gS(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+R2(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+L2(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+gS(t.source)+`
  `},Gd={dragHandleUsageInstructions:kz,onDragStart:Oz,onDragUpdate:Az,onDragEnd:Tz},Ct={x:0,y:0},Rt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},kr=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},aa=function(t,r){return t.x===r.x&&t.y===r.y},Ys=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},fo=function(t,r,n){var i;return n===void 0&&(n=0),i={},i[t]=r,i[t==="x"?"y":"x"]=n,i},_c=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},vS=function(t,r){return Math.min.apply(Math,r.map(function(n){return _c(t,n)}))},F2=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},Dz=function(e,t){var r=Sn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},vu=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},yS=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},Iz={top:0,right:0,bottom:0,left:0},Mz=function(t,r){return r?vu(t,r.scroll.diff.displacement):t},$z=function(t,r,n){if(n&&n.increasedBy){var i;return de({},t,(i={},i[r.end]=t[r.end]+n.increasedBy[r.line],i))}return t},Rz=function(t,r){return r&&r.shouldClipSubject?Dz(r.pageMarginBox,t):Sn(t)},Ps=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,i=e.frame,a=Mz(t.marginBox,i),o=$z(a,n,r),s=Rz(o,i);return{page:t,withPlaceholder:r,active:s}},Bx=function(e,t){e.frame||K();var r=e.frame,n=kr(t,r.scroll.initial),i=Ys(n),a=de({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:i},max:r.scroll.max}}),o=Ps({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),s=de({},e,{frame:a,subject:o});return s};function Df(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function zx(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function ja(e,t){if(e.find)return e.find(t);var r=zx(e,t);if(r!==-1)return e[r]}function B2(e){return Array.prototype.slice.call(e)}var z2=Pt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),U2=Pt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),mp=Pt(function(e){return Df(e)}),Lz=Pt(function(e){return Df(e)}),Xs=Pt(function(e,t){var r=Lz(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return r});function Ux(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function gp(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var vp=Pt(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),Fz=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var o=Ux(a);if(!o)return null;function s(g){var y={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return de({},a,{at:y})}var c=a.displaced.all,u=c.length?c[0]:null;if(t)return u?s(u):null;var d=vp(r,i);if(!u){if(!d.length)return null;var f=d[d.length-1];return s(f.descriptor.id)}var h=zx(d,function(g){return g.descriptor.id===u});h===-1&&K();var p=h-1;if(p<0)return null;var m=d[p];return s(m.descriptor.id)},Js=function(e,t){return e.descriptor.droppableId===t.descriptor.id},W2={point:Ct,value:0},kc={invisible:{},visible:{},all:[]},Bz={displaced:kc,displacedBy:W2,at:null},nn=function(e,t){return function(r){return e<=r&&r<=t}},H2=function(e){var t=nn(e.top,e.bottom),r=nn(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(i)return!0;var a=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),s=a&&o;if(s)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,d=c&&u;if(d)return!0;var f=c&&o||u&&a;return f}},zz=function(e){var t=nn(e.top,e.bottom),r=nn(e.left,e.right);return function(n){var i=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return i}},Wx={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},q2={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Uz=function(e){return function(t){var r=nn(t.top,t.bottom),n=nn(t.left,t.right);return function(i){return e===Wx?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)}}},Wz=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Ct;return vu(t,n)},Hz=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},qz=function(t,r,n){return n(r)(t)},Hx=function(t){var r=t.target,n=t.destination,i=t.viewport,a=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,s=a?Wz(r,n):r;return Hz(s,n,o)&&qz(s,i,o)},Kz=function(t){return Hx(de({},t,{isVisibleThroughFrameFn:H2}))},K2=function(t){return Hx(de({},t,{isVisibleThroughFrameFn:zz}))},Gz=function(t){return Hx(de({},t,{isVisibleThroughFrameFn:Uz(t.destination.axis)}))},Vz=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var i=r.invisible,a=r.visible;if(i[t])return!1;var o=a[t];return o?o.shouldAnimate:!0};function Yz(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Sn(Lx(r,n))}function Oc(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,i=e.viewport,a=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,u){var d=Yz(u,n),f=u.descriptor.id;c.all.push(f);var h=Kz({target:d,destination:r,viewport:i,withDroppableDisplacement:!0});if(!h)return c.invisible[u.descriptor.id]=!0,c;var p=Vz(f,o,a),m={draggableId:f,shouldAnimate:p};return c.visible[f]=m,c},{all:[],visible:{},invisible:{}})}function Xz(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function xS(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,i=e.destination,a=Xz(t,{inHomeList:r});return{displaced:kc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function If(e){var t=e.draggable,r=e.insideDestination,n=e.destination,i=e.viewport,a=e.displacedBy,o=e.last,s=e.index,c=e.forceShouldAnimate,u=Js(t,n);if(s==null)return xS({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var d=ja(r,function(g){return g.descriptor.index===s});if(!d)return xS({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var f=vp(t,r),h=r.indexOf(d),p=f.slice(h),m=Oc({afterDragging:p,destination:n,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:c});return{displaced:m,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function fa(e,t){return!!t.effected[e]}var Jz=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,i=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var o=i.draggableId,s=n[o],c=s.descriptor.index,u=fa(o,a);return u?t?c:c-1:t?c+1:c},Qz=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,i=e.location;if(!n.length)return null;var a=i.index,o=t?a+1:a-1,s=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return o<s||o>u?null:o},Zz=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,i=e.draggables,a=e.destination,o=e.insideDestination,s=e.previousImpact,c=e.viewport,u=e.afterCritical,d=s.at;if(d||K(),d.type==="REORDER"){var f=Qz({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:o});return f==null?null:If({draggable:n,insideDestination:o,destination:a,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:f})}var h=Jz({isMovingForward:t,destination:a,displaced:s.displaced,draggables:i,combine:d.combine,afterCritical:u});return h==null?null:If({draggable:n,insideDestination:o,destination:a,viewport:c,last:s.displaced,displacedBy:s.displacedBy,index:h})},eU=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,i=e.displacedBy,a=!!(t.visible[n]||t.invisible[n]);return fa(n,r)?a?Ct:Ys(i.point):a?i.point:Ct},tU=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,i=gp(r);i||K();var a=i.draggableId,o=n[a].page.borderBox.center,s=eU({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return Rt(o,s)},G2=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},rU=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},qx=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},bS=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return fo(r.line,n.marginBox[r.end]+G2(r,i),qx(r,n.marginBox,i))},wS=function(t){var r=t.axis,n=t.moveRelativeTo,i=t.isMoving;return fo(r.line,n.marginBox[r.start]-rU(r,i),qx(r,n.marginBox,i))},nU=function(t){var r=t.axis,n=t.moveInto,i=t.isMoving;return fo(r.line,n.contentBox[r.start]+G2(r,i),qx(r,n.contentBox,i))},iU=function(e){var t=e.impact,r=e.draggable,n=e.draggables,i=e.droppable,a=e.afterCritical,o=Xs(i.descriptor.id,n),s=r.page,c=i.axis;if(!o.length)return nU({axis:c,moveInto:i.page,isMoving:s});var u=t.displaced,d=t.displacedBy,f=u.all[0];if(f){var h=n[f];if(fa(f,a))return wS({axis:c,moveRelativeTo:h.page,isMoving:s});var p=kf(h.page,d.point);return wS({axis:c,moveRelativeTo:p,isMoving:s})}var m=o[o.length-1];if(m.descriptor.id===r.descriptor.id)return s.borderBox.center;if(fa(m.descriptor.id,a)){var g=kf(m.page,Ys(a.displacedBy.point));return bS({axis:c,moveRelativeTo:g,isMoving:s})}return bS({axis:c,moveRelativeTo:m.page,isMoving:s})},xy=function(e,t){var r=e.frame;return r?Rt(t,r.scroll.diff.displacement):t},aU=function(t){var r=t.impact,n=t.draggable,i=t.droppable,a=t.draggables,o=t.afterCritical,s=n.page.borderBox.center,c=r.at;return!i||!c?s:c.type==="REORDER"?iU({impact:r,draggable:n,draggables:a,droppable:i,afterCritical:o}):tU({impact:r,draggables:a,afterCritical:o})},yp=function(e){var t=aU(e),r=e.droppable,n=r?xy(r,t):t;return n},V2=function(e,t){var r=kr(t,e.scroll.initial),n=Ys(r),i=Sn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:i,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return a};function jS(e,t){return e.map(function(r){return t[r]})}function oU(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var sU=function(e){var t=e.impact,r=e.viewport,n=e.destination,i=e.draggables,a=e.maxScrollChange,o=V2(r,Rt(r.scroll.current,a)),s=n.frame?Bx(n,Rt(n.frame.scroll.current,a)):n,c=t.displaced,u=Oc({afterDragging:jS(c.all,i),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),d=Oc({afterDragging:jS(c.all,i),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},h={},p=[c,u,d];c.all.forEach(function(g){var y=oU(g,p);if(y){h[g]=y;return}f[g]=!0});var m=de({},t,{displaced:{all:c.all,invisible:f,visible:h}});return m},lU=function(e,t){return Rt(e.scroll.diff.displacement,t)},Kx=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,i=lU(n,t),a=kr(i,r.page.borderBox.center);return Rt(r.client.borderBox.center,a)},Y2=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,i=e.viewport,a=e.withDroppableDisplacement,o=e.onlyOnMainAxis,s=o===void 0?!1:o,c=kr(n,t.page.borderBox.center),u=vu(t.page.borderBox,c),d={target:u,destination:r,withDroppableDisplacement:a,viewport:i};return s?Gz(d):K2(d)},cU=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.draggables,a=e.previousImpact,o=e.viewport,s=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=Xs(n.descriptor.id,i),f=Js(r,n),h=Fz({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:a})||Zz({isMovingForward:t,isInHomeList:f,draggable:r,draggables:i,destination:n,insideDestination:d,previousImpact:a,viewport:o,afterCritical:u});if(!h)return null;var p=yp({impact:h,draggable:r,droppable:n,draggables:i,afterCritical:u}),m=Y2({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(m){var g=Kx({pageBorderBoxCenter:p,draggable:r,viewport:o});return{clientSelection:g,impact:h,scrollJumpRequest:null}}var y=kr(p,s),v=sU({impact:h,viewport:o,destination:n,draggables:i,maxScrollChange:y});return{clientSelection:c,impact:v,scrollJumpRequest:y}},nr=function(t){var r=t.subject.active;return r||K(),r},uU=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,i=e.droppables,a=e.viewport,o=n.subject.active;if(!o)return null;var s=n.axis,c=nn(o[s.start],o[s.end]),u=mp(i).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return H2(a.frame)(nr(f))}).filter(function(f){var h=nr(f);return t?o[s.crossAxisEnd]<h[s.crossAxisEnd]:h[s.crossAxisStart]<o[s.crossAxisStart]}).filter(function(f){var h=nr(f),p=nn(h[s.start],h[s.end]);return c(h[s.start])||c(h[s.end])||p(o[s.start])||p(o[s.end])}).sort(function(f,h){var p=nr(f)[s.crossAxisStart],m=nr(h)[s.crossAxisStart];return t?p-m:m-p}).filter(function(f,h,p){return nr(f)[s.crossAxisStart]===nr(p[0])[s.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var h=nn(nr(f)[s.start],nr(f)[s.end]);return h(r[s.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,h){return nr(f)[s.start]-nr(h)[s.start]})[0]:u.sort(function(f,h){var p=vS(r,yS(nr(f))),m=vS(r,yS(nr(h)));return p!==m?p-m:nr(f)[s.start]-nr(h)[s.start]})[0]},SS=function(t,r){var n=t.page.borderBox.center;return fa(t.descriptor.id,r)?kr(n,r.displacedBy.point):n},dU=function(t,r){var n=t.page.borderBox;return fa(t.descriptor.id,r)?vu(n,Ys(r.displacedBy.point)):n},fU=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,i=e.insideDestination,a=e.afterCritical,o=i.filter(function(s){return K2({target:dU(s,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(s,c){var u=_c(t,xy(n,SS(s,a))),d=_c(t,xy(n,SS(c,a)));return u<d?-1:d<u?1:s.descriptor.index-c.descriptor.index});return o[0]||null},yu=Pt(function(t,r){var n=r[t.line];return{value:n,point:fo(t.line,n)}}),hU=function(t,r,n){var i=t.axis;if(t.descriptor.mode==="virtual")return fo(i.line,r[i.line]);var a=t.subject.page.contentBox[i.size],o=Xs(t.descriptor.id,n),s=o.reduce(function(d,f){return d+f.client.marginBox[i.size]},0),c=s+r[i.line],u=c-a;return u<=0?null:fo(i.line,u)},X2=function(t,r){return de({},t,{scroll:de({},t.scroll,{max:r})})},J2=function(t,r,n){var i=t.frame;Js(r,t)&&K(),t.subject.withPlaceholder&&K();var a=yu(t.axis,r.displaceBy).point,o=hU(t,a,n),s={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!i){var c=Ps({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return de({},t,{subject:c})}var u=o?Rt(i.scroll.max,o):i.scroll.max,d=X2(i,u),f=Ps({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:d});return de({},t,{subject:f,frame:d})},pU=function(t){var r=t.subject.withPlaceholder;r||K();var n=t.frame;if(!n){var i=Ps({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return de({},t,{subject:i})}var a=r.oldFrameMaxScroll;a||K();var o=X2(n,a),s=Ps({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return de({},t,{subject:s,frame:o})},mU=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,i=e.draggable,a=e.draggables,o=e.destination,s=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:kc,displacedBy:W2,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=yp({impact:u,draggable:i,droppable:o,draggables:a,afterCritical:c}),f=Js(i,o)?o:J2(o,i,a),h=Y2({draggable:i,destination:f,newPageBorderBoxCenter:d,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?u:null}var p=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],m=function(){var y=r.descriptor.index;return r.descriptor.id===i.descriptor.id||p?y:y+1}(),g=yu(o.axis,i.displaceBy);return If({draggable:i,insideDestination:n,destination:o,viewport:s,displacedBy:g,last:kc,index:m})},gU=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,i=e.isOver,a=e.draggables,o=e.droppables,s=e.viewport,c=e.afterCritical,u=uU({isMovingForward:t,pageBorderBoxCenter:r,source:i,droppables:o,viewport:s});if(!u)return null;var d=Xs(u.descriptor.id,a),f=fU({pageBorderBoxCenter:r,viewport:s,destination:u,insideDestination:d,afterCritical:c}),h=mU({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:d,viewport:s,afterCritical:c});if(!h)return null;var p=yp({impact:h,draggable:n,droppable:u,draggables:a,afterCritical:c}),m=Kx({pageBorderBoxCenter:p,draggable:n,viewport:s});return{clientSelection:m,impact:h,scrollJumpRequest:null}},Ar=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},vU=function(t,r){var n=Ar(t);return n?r[n]:null},yU=function(e){var t=e.state,r=e.type,n=vU(t.impact,t.dimensions.droppables),i=!!n,a=t.dimensions.droppables[t.critical.droppable.id],o=n||a,s=o.axis.direction,c=s==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||s==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!i)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,p=h.draggables,m=h.droppables;return c?cU({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:o,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):gU({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:o,draggables:p,droppables:m,viewport:t.viewport,afterCritical:t.afterCritical})};function La(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Q2(e){var t=nn(e.top,e.bottom),r=nn(e.left,e.right);return function(i){return t(i.y)&&r(i.x)}}function xU(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function bU(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,i=r.page.borderBox.center,a=n.map(function(o){var s=o.axis,c=fo(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:_c(i,c)}}).sort(function(o,s){return s.distance-o.distance});return a[0]?a[0].id:null}function wU(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,i=mp(n).filter(function(a){if(!a.isEnabled)return!1;var o=a.subject.active;if(!o||!xU(t,o))return!1;if(Q2(o)(t.center))return!0;var s=a.axis,c=o.center[s.crossAxisLine],u=t[s.crossAxisStart],d=t[s.crossAxisEnd],f=nn(o[s.crossAxisStart],o[s.crossAxisEnd]),h=f(u),p=f(d);return!h&&!p?!0:h?u<c:d>c});return i.length?i.length===1?i[0].descriptor.id:bU({pageBorderBox:t,draggable:r,candidates:i}):null}var Z2=function(t,r){return Sn(vu(t,r))},jU=function(e,t){var r=e.frame;return r?Z2(t,r.scroll.diff.value):t};function eO(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function SU(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var NU=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,i=e.insideDestination,a=e.last,o=e.viewport,s=e.afterCritical,c=n.axis,u=yu(n.axis,r.displaceBy),d=u.value,f=t[c.start],h=t[c.end],p=vp(r,i),m=ja(p,function(y){var v=y.descriptor.id,b=y.page.borderBox.center[c.line],w=fa(v,s),j=eO({displaced:a,id:v});return w?j?h<=b:f<b-d:j?h<=b+d:f<b}),g=SU({draggable:r,closest:m,inHomeList:Js(r,n)});return If({draggable:r,insideDestination:i,destination:n,viewport:o,last:a,displacedBy:u,index:g})},EU=4,PU=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,i=e.destination,a=e.insideDestination,o=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,c=yu(i.axis,t.displaceBy),u=c.value,d=r[s.start],f=r[s.end],h=vp(t,a),p=ja(h,function(g){var y=g.descriptor.id,v=g.page.borderBox,b=v[s.size],w=b/EU,j=fa(y,o),S=eO({displaced:n.displaced,id:y});return j?S?f>v[s.start]+w&&f<v[s.end]-w:d>v[s.start]-u+w&&d<v[s.end]-u-w:S?f>v[s.start]+u+w&&f<v[s.end]+u-w:d>v[s.start]+w&&d<v[s.end]-w});if(!p)return null;var m={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}};return m},tO=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,i=e.droppables,a=e.previousImpact,o=e.viewport,s=e.afterCritical,c=Z2(r.page.borderBox,t),u=wU({pageBorderBox:c,draggable:r,droppables:i});if(!u)return Bz;var d=i[u],f=Xs(d.descriptor.id,n),h=jU(d,c);return PU({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:a,destination:d,insideDestination:f,afterCritical:s})||NU({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:d,insideDestination:f,last:a.displaced,viewport:o,afterCritical:s})},Gx=function(e,t){var r;return de({},e,(r={},r[t.descriptor.id]=t,r))},CU=function(t){var r=t.previousImpact,n=t.impact,i=t.droppables,a=Ar(r),o=Ar(n);if(!a||a===o)return i;var s=i[a];if(!s.subject.withPlaceholder)return i;var c=pU(s);return Gx(i,c)},_U=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,i=e.previousImpact,a=e.impact,o=CU({previousImpact:i,impact:a,droppables:n}),s=Ar(a);if(!s)return o;var c=n[s];if(Js(t,c)||c.subject.withPlaceholder)return o;var u=J2(c,t,r);return Gx(o,u)},tc=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,i=e.viewport,a=e.impact,o=e.scrollJumpRequest,s=i||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,d=kr(u,t.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:Rt(t.initial.client.borderBoxCenter,d)},h={selection:Rt(f.selection,s.scroll.current),borderBoxCenter:Rt(f.borderBoxCenter,s.scroll.current),offset:Rt(f.offset,s.scroll.diff.value)},p={client:f,page:h};if(t.phase==="COLLECTING")return de({phase:"COLLECTING"},t,{dimensions:c,viewport:s,current:p});var m=c.draggables[t.critical.draggable.id],g=a||tO({pageOffset:h.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),y=_U({draggable:m,impact:g,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),v=de({},t,{current:p,dimensions:{draggables:c.draggables,droppables:y},impact:g,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return v};function kU(e,t){return e.map(function(r){return t[r]})}var rO=function(e){var t=e.impact,r=e.viewport,n=e.draggables,i=e.destination,a=e.forceShouldAnimate,o=t.displaced,s=kU(o.all,n),c=Oc({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:o});return de({},t,{displaced:c})},nO=function(e){var t=e.impact,r=e.draggable,n=e.droppable,i=e.draggables,a=e.viewport,o=e.afterCritical,s=yp({impact:t,draggable:r,draggables:i,droppable:n,afterCritical:o});return Kx({pageBorderBoxCenter:s,draggable:r,viewport:a})},iO=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&K();var i=t.impact,a=n||t.viewport,o=r||t.dimensions,s=o.draggables,c=o.droppables,u=s[t.critical.draggable.id],d=Ar(i);d||K();var f=c[d],h=rO({impact:i,viewport:a,destination:f,draggables:s}),p=nO({impact:h,draggable:u,droppable:f,draggables:s,viewport:a,afterCritical:t.afterCritical});return tc({impact:h,clientSelection:p,state:t,dimensions:o,viewport:a})},OU=function(e){return{index:e.index,droppableId:e.droppableId}},aO=function(e){var t=e.draggable,r=e.home,n=e.draggables,i=e.viewport,a=yu(r.axis,t.displaceBy),o=Xs(r.descriptor.id,n),s=o.indexOf(t);s===-1&&K();var c=o.slice(s+1),u=c.reduce(function(p,m){return p[m.descriptor.id]=!0,p},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:u},f=Oc({afterDragging:c,destination:r,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:a,at:{type:"REORDER",destination:OU(t.descriptor)}};return{impact:h,afterCritical:d}},AU=function(e,t){return{draggables:e.draggables,droppables:Gx(e.droppables,t)}},TU=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,i=kf(t.client,r),a=Of(i,n),o=de({},t,{placeholder:de({},t.placeholder,{client:i}),client:i,page:a});return o},DU=function(e){var t=e.frame;return t||K(),t},IU=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,i=n.scroll.diff.value;return t.map(function(a){var o=a.descriptor.droppableId,s=r[o],c=DU(s),u=c.scroll.diff.value,d=Rt(i,u),f=TU({draggable:a,offset:d,initialWindowScroll:n.scroll.initial});return f})},MU=function(e){var t=e.state,r=e.published,n=r.modified.map(function(w){var j=t.dimensions.droppables[w.droppableId],S=Bx(j,w.scroll);return S}),i=de({},t.dimensions.droppables,{},z2(n)),a=U2(IU({additions:r.additions,updatedDroppables:i,viewport:t.viewport})),o=de({},t.dimensions.draggables,{},a);r.removals.forEach(function(w){delete o[w]});var s={droppables:i,draggables:o},c=Ar(t.impact),u=c?s.droppables[c]:null,d=s.draggables[t.critical.draggable.id],f=s.droppables[t.critical.droppable.id],h=aO({draggable:d,home:f,draggables:o,viewport:t.viewport}),p=h.impact,m=h.afterCritical,g=u&&u.isCombineEnabled?t.impact:p,y=tO({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m}),v=de({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:y,onLiftImpact:p,dimensions:s,afterCritical:m,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return v;var b=de({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return b},by=function(t){return t.movementMode==="SNAP"},mg=function(t,r,n){var i=AU(t.dimensions,r);return!by(t)||n?tc({state:t,dimensions:i}):iO({state:t,dimensions:i})};function gg(e){return e.isDragging&&e.movementMode==="SNAP"?de({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var NS={phase:"IDLE",completed:null,shouldFlush:!1},$U=function(e,t){if(e===void 0&&(e=NS),t.type==="FLUSH")return de({},NS,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&K();var r=t.payload,n=r.critical,i=r.clientSelection,a=r.viewport,o=r.dimensions,s=r.movementMode,c=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],d={selection:i,borderBoxCenter:c.client.borderBox.center,offset:Ct},f={client:d,page:{selection:Rt(d.selection,a.scroll.initial),borderBoxCenter:Rt(d.selection,a.scroll.initial),offset:Rt(d.selection,a.scroll.diff.value)}},h=mp(o.droppables).every(function(pe){return!pe.isFixedOnPage}),p=aO({draggable:c,home:u,draggables:o.draggables,viewport:a}),m=p.impact,g=p.afterCritical,y={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:h,impact:m,afterCritical:g,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return y}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&K();var v=de({phase:"COLLECTING"},e,{phase:"COLLECTING"});return v}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||K(),MU({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;La(e)||K();var b=t.payload.client;return aa(b,e.current.client.selection)?e:tc({state:e,clientSelection:b,impact:by(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return gg(e);La(e)||K();var w=t.payload,j=w.id,S=w.newScroll,N=e.dimensions.droppables[j];if(!N)return e;var E=Bx(N,S);return mg(e,E,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;La(e)||K();var C=t.payload,P=C.id,k=C.isEnabled,O=e.dimensions.droppables[P];O||K(),O.isEnabled===k&&K();var _=de({},O,{isEnabled:k});return mg(e,_,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;La(e)||K();var A=t.payload,D=A.id,M=A.isCombineEnabled,T=e.dimensions.droppables[D];T||K(),T.isCombineEnabled===M&&K();var R=de({},T,{isCombineEnabled:M});return mg(e,R,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;La(e)||K(),e.isWindowScrollAllowed||K();var I=t.payload.newScroll;if(aa(e.viewport.scroll.current,I))return gg(e);var F=V2(e.viewport,I);return by(e)?iO({state:e,viewport:F}):tc({state:e,viewport:F})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!La(e))return e;var B=t.payload.maxScroll;if(aa(B,e.viewport.scroll.max))return e;var J=de({},e.viewport,{scroll:de({},e.viewport.scroll,{max:B})});return de({phase:"DRAGGING"},e,{viewport:J})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&K();var L=yU({state:e,type:t.type});return L?tc({state:e,impact:L.impact,clientSelection:L.clientSelection,scrollJumpRequest:L.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var ne=t.payload.reason;e.phase!=="COLLECTING"&&K();var ce=de({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:ne});return ce}if(t.type==="DROP_ANIMATE"){var he=t.payload,oe=he.completed,ge=he.dropDuration,tr=he.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||K();var X={phase:"DROP_ANIMATING",completed:oe,dropDuration:ge,newHomeClientOffset:tr,dimensions:e.dimensions};return X}if(t.type==="DROP_COMPLETE"){var ue=t.payload.completed;return{phase:"IDLE",completed:ue,shouldFlush:!1}}return e},RU=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},LU=function(t){return{type:"LIFT",payload:t}},FU=function(t){return{type:"INITIAL_PUBLISH",payload:t}},BU=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},zU=function(){return{type:"COLLECTION_STARTING",payload:null}},UU=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},WU=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},HU=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},oO=function(t){return{type:"MOVE",payload:t}},qU=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},KU=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},GU=function(){return{type:"MOVE_UP",payload:null}},VU=function(){return{type:"MOVE_DOWN",payload:null}},YU=function(){return{type:"MOVE_RIGHT",payload:null}},XU=function(){return{type:"MOVE_LEFT",payload:null}},Vx=function(){return{type:"FLUSH",payload:null}},JU=function(t){return{type:"DROP_ANIMATE",payload:t}},Yx=function(t){return{type:"DROP_COMPLETE",payload:t}},sO=function(t){return{type:"DROP",payload:t}},QU=function(t){return{type:"DROP_PENDING",payload:t}},lO=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},ZU=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(i){return function(a){if(a.type!=="LIFT"){i(a);return}var o=a.payload,s=o.id,c=o.clientSelection,u=o.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(Yx({completed:d.completed})),r().phase!=="IDLE"&&K(),n(Vx()),n(RU({draggableId:s,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},h={draggableId:s,scrollOptions:f},p=e.startPublishing(h),m=p.critical,g=p.dimensions,y=p.viewport;n(FU({critical:m,dimensions:g,clientSelection:c,movementMode:u,viewport:y}))}}}},eW=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Xx={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ac={opacity:{drop:0,combining:.7},scale:{drop:.75}},Jx={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ia=Jx.outOfTheWay+"s "+Xx.outOfTheWay,rc={fluid:"opacity "+Ia,snap:"transform "+Ia+", opacity "+Ia,drop:function(t){var r=t+"s "+Xx.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Ia,placeholder:"height "+Ia+", width "+Ia+", margin "+Ia},ES=function(t){return aa(t,Ct)?null:"translate("+t.x+"px, "+t.y+"px)"},wy={moveTo:ES,drop:function(t,r){var n=ES(t);return n?r?n+" scale("+Ac.scale.drop+")":n:null}},jy=Jx.minDropTime,cO=Jx.maxDropTime,tW=cO-jy,PS=1500,rW=.6,nW=function(e){var t=e.current,r=e.destination,n=e.reason,i=_c(t,r);if(i<=0)return jy;if(i>=PS)return cO;var a=i/PS,o=jy+tW*a,s=n==="CANCEL"?o*rW:o;return Number(s.toFixed(2))},iW=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,i=e.viewport,a=e.afterCritical,o=n.draggables,s=n.droppables,c=Ar(t),u=c?s[c]:null,d=s[r.descriptor.droppableId],f=nO({impact:t,draggable:r,draggables:o,afterCritical:a,droppable:u||d,viewport:i}),h=kr(f,r.client.borderBox.center);return h},aW=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,i=e.home,a=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var s=rO({draggables:t,impact:o,destination:i,viewport:a,forceShouldAnimate:!0});return{impact:s,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=de({},n,{displaced:kc});return{impact:c,didDropInsideDroppable:!0}},oW=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var a=t(),o=i.payload.reason;if(a.phase==="COLLECTING"){r(QU({reason:o}));return}if(a.phase!=="IDLE"){var s=a.phase==="DROP_PENDING"&&a.isWaiting;s&&K(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||K();var c=a.critical,u=a.dimensions,d=u.draggables[a.critical.draggable.id],f=aW({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),h=f.impact,p=f.didDropInsideDroppable,m=p?Ux(h):null,g=p?gp(h):null,y={index:c.draggable.index,droppableId:c.droppable.id},v={draggableId:d.descriptor.id,type:d.descriptor.type,source:y,reason:o,mode:a.movementMode,destination:m,combine:g},b=iW({impact:h,draggable:d,dimensions:u,viewport:a.viewport,afterCritical:a.afterCritical}),w={critical:a.critical,afterCritical:a.afterCritical,result:v,impact:h},j=!aa(a.current.client.offset,b)||!!v.combine;if(!j){r(Yx({completed:w}));return}var S=nW({current:a.current.client.offset,destination:b,reason:o}),N={newHomeClientOffset:b,dropDuration:S,completed:w};r(JU(N))}}}},uO=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function sW(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function lW(e){var t=e.onWindowScroll;function r(){t(uO())}var n=Cc(r),i=sW(n),a=ia;function o(){return a!==ia}function s(){o()&&K(),a=Xr(window,[i])}function c(){o()||K(),n.cancel(),a(),a=ia}return{start:s,stop:c,isActive:o}}var cW=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},uW=function(e){var t=lW({onWindowScroll:function(n){e.dispatch(qU({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&cW(n)&&t.stop(),r(n)}}},dW=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),i=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return i.wasCalled=function(){return t},i},fW=function(){var e=[],t=function(a){var o=zx(e,function(u){return u.timerId===a});o===-1&&K();var s=e.splice(o,1),c=s[0];c.callback()},r=function(a){var o=setTimeout(function(){return t(o)}),s={timerId:o,callback:a};e.push(s)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},hW=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},pW=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},mW=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,i=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&i},bl=function(t,r){r()},ud=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},vg=function(t,r,n,i){if(!t){n(i(r));return}var a=dW(n),o={announce:a};t(r,o),a.wasCalled()||n(i(r))},gW=function(e,t){var r=fW(),n=null,i=function(h,p){n&&K(),bl("onBeforeCapture",function(){var m=e().onBeforeCapture;if(m){var g={draggableId:h,mode:p};m(g)}})},a=function(h,p){n&&K(),bl("onBeforeDragStart",function(){var m=e().onBeforeDragStart;m&&m(ud(h,p))})},o=function(h,p){n&&K();var m=ud(h,p);n={mode:p,lastCritical:h,lastLocation:m.source,lastCombine:null},r.add(function(){bl("onDragStart",function(){return vg(e().onDragStart,m,t,Gd.onDragStart)})})},s=function(h,p){var m=Ux(p),g=gp(p);n||K();var y=!mW(h,n.lastCritical);y&&(n.lastCritical=h);var v=!hW(n.lastLocation,m);v&&(n.lastLocation=m);var b=!pW(n.lastCombine,g);if(b&&(n.lastCombine=g),!(!y&&!v&&!b)){var w=de({},ud(h,n.mode),{combine:g,destination:m});r.add(function(){bl("onDragUpdate",function(){return vg(e().onDragUpdate,w,t,Gd.onDragUpdate)})})}},c=function(){n||K(),r.flush()},u=function(h){n||K(),n=null,bl("onDragEnd",function(){return vg(e().onDragEnd,h,t,Gd.onDragEnd)})},d=function(){if(n){var h=de({},ud(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(h)}};return{beforeCapture:i,beforeStart:a,start:o,update:s,flush:c,drop:u,abort:d}},vW=function(e,t){var r=gW(e,t);return function(n){return function(i){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var o=a.payload.critical;r.beforeStart(o,a.payload.movementMode),i(a),r.start(o,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var s=a.payload.completed.result;r.flush(),i(a),r.drop(s);return}if(i(a),a.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},yW=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&K(),e.dispatch(Yx({completed:n.completed}))}}},xW=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(i){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),i(a),a.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(lO())}};r=requestAnimationFrame(function(){r=null,t=Xr(window,[o])})}}}},bW=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},wW=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var i=n.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},jW=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},SW=function(e){return function(t){return function(r){return function(n){if(jW(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var i=t.getState();i.phase!=="DRAGGING"&&K(),e.start(i);return}r(n),e.scroll(t.getState())}}}},NW=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(sO({reason:n.reason})))}}}},EW=m2,PW=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,i=e.getResponders,a=e.announce,o=e.autoScroller;return p2($U,EW(h5(eW(n),bW(t),ZU(t),oW,yW,xW,NW,SW(o),uW,wW(r),vW(i,a))))},yg=function(){return{additions:{},removals:{},modified:{}}};function CW(e){var t=e.registry,r=e.callbacks,n=yg(),i=null,a=function(){i||(r.collectionStarting(),i=requestAnimationFrame(function(){i=null;var d=n,f=d.additions,h=d.removals,p=d.modified,m=Object.keys(f).map(function(v){return t.draggable.getById(v).getDimension(Ct)}).sort(function(v,b){return v.descriptor.index-b.descriptor.index}),g=Object.keys(p).map(function(v){var b=t.droppable.getById(v),w=b.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:w}}),y={additions:m,removals:Object.keys(h),modified:g};n=yg(),r.publish(y)}))},o=function(d){var f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],a()},s=function(d){var f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],a()},c=function(){i&&(cancelAnimationFrame(i),i=null,n=yg())};return{add:o,remove:s,stop:c}}var dO=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,i=e.width,a=kr({x:r,y:t},{x:i,y:n}),o={x:Math.max(0,a.x),y:Math.max(0,a.y)};return o},fO=function(){var e=document.documentElement;return e||K(),e},hO=function(){var e=fO(),t=dO({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},_W=function(){var e=uO(),t=hO(),r=e.y,n=e.x,i=fO(),a=i.clientWidth,o=i.clientHeight,s=n+a,c=r+o,u=Sn({top:r,left:n,right:s,bottom:c}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Ct,displacement:Ct}}};return d},kW=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,i=_W(),a=i.scroll.current,o=t.droppable,s=n.droppable.getAllByType(o.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(a,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(a)}),u={draggables:U2(c),droppables:z2(s)},d={dimensions:u,critical:t,viewport:i};return d};function CS(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var OW=function(e,t){var r=null,n=CW({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(p,m){e.droppable.exists(p)||K(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},a=function(p,m){r&&(e.droppable.exists(p)||K(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},o=function(p,m){r&&(e.droppable.exists(p)||K(),t.updateDroppableScroll({id:p,newScroll:m}))},s=function(p,m){r&&e.droppable.getById(p).callbacks.scroll(m)},c=function(){if(r){n.stop();var p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(m){return m.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(p){r||K();var m=r.critical.draggable;p.type==="ADDITION"&&CS(e,m,p.value)&&n.add(p.value),p.type==="REMOVAL"&&CS(e,m,p.value)&&n.remove(p.value)},d=function(p){r&&K();var m=e.draggable.getById(p.draggableId),g=e.droppable.getById(m.descriptor.droppableId),y={draggable:m.descriptor,droppable:g.descriptor},v=e.subscribe(u);return r={critical:y,unsubscribe:v},kW({critical:y,registry:e,scrollOptions:p.scrollOptions})},f={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:s,updateDroppableScroll:o,startPublishing:d,stopPublishing:c};return f},pO=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},AW=function(e){window.scrollBy(e.x,e.y)},TW=Pt(function(e){return mp(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),DW=function(t,r){var n=ja(TW(r),function(i){return i.frame||K(),Q2(i.frame.pageMarginBox)(t)});return n},IW=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var i=n[r];return i.frame?i:null}var a=DW(t,n);return a},oa={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},MW=function(e,t){var r=e[t.size]*oa.startFromPercentage,n=e[t.size]*oa.maxScrollAtPercentage,i={startScrollingFrom:r,maxScrollValueAt:n};return i},mO=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,i=r-t;if(i===0)return 0;var a=n-t,o=a/i;return o},Qx=1,$W=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return oa.maxPixelScroll;if(e===t.startScrollingFrom)return Qx;var r=mO({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,i=oa.maxPixelScroll*oa.ease(n);return Math.ceil(i)},_S=oa.durationDampening.accelerateAt,kS=oa.durationDampening.stopDampeningAt,RW=function(e,t){var r=t,n=kS,i=Date.now(),a=i-r;if(a>=kS)return e;if(a<_S)return Qx;var o=mO({startOfRange:_S,endOfRange:n,current:a}),s=e*oa.ease(o);return Math.ceil(s)},OS=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,i=e.shouldUseTimeDampening,a=$W(t,r);return a===0?0:i?Math.max(RW(a,n),Qx):a},AS=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,i=e.axis,a=e.shouldUseTimeDampening,o=MW(t,i),s=r[i.end]<r[i.start];return s?OS({distanceToEdge:r[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a}):-1*OS({distanceToEdge:r[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a})},LW=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,i=r.height>t.height,a=r.width>t.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}},FW=F2(function(e){return e===0?0:e}),gO=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,i=e.center,a=e.shouldUseTimeDampening,o={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},s=AS({container:r,distanceToEdges:o,dragStartTime:t,axis:Wx,shouldUseTimeDampening:a}),c=AS({container:r,distanceToEdges:o,dragStartTime:t,axis:q2,shouldUseTimeDampening:a}),u=FW({x:c,y:s});if(aa(u,Ct))return null;var d=LW({container:r,subject:n,proposedScroll:u});return d?aa(d,Ct)?null:d:null},BW=F2(function(e){return e===0?0:e>0?1:-1}),Zx=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,i=t.change,a=Rt(r,i),o={x:e(a.x,n.x),y:e(a.y,n.y)};return aa(o,Ct)?null:o}}(),vO=function(t){var r=t.max,n=t.current,i=t.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=BW(i),s=Zx({max:a,current:n,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},eb=function(t,r){return vO({current:t.scroll.current,max:t.scroll.max,change:r})},zW=function(t,r){if(!eb(t,r))return null;var n=t.scroll.max,i=t.scroll.current;return Zx({current:i,max:n,change:r})},tb=function(t,r){var n=t.frame;return n?vO({current:n.scroll.current,max:n.scroll.max,change:r}):!1},UW=function(t,r){var n=t.frame;return!n||!tb(t,r)?null:Zx({current:n.scroll.current,max:n.scroll.max,change:r})},WW=function(e){var t=e.viewport,r=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=gO({dragStartTime:i,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return o&&eb(t,o)?o:null},HW=function(e){var t=e.droppable,r=e.subject,n=e.center,i=e.dragStartTime,a=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var s=gO({dragStartTime:i,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return s&&tb(t,s)?s:null},TS=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,i=e.scrollWindow,a=e.scrollDroppable,o=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id],c=s.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=WW({dragStartTime:r,viewport:u,subject:c,center:o,shouldUseTimeDampening:n});if(d){i(d);return}}var f=IW({center:o,destination:Ar(t.impact),droppables:t.dimensions.droppables});if(f){var h=HW({dragStartTime:r,droppable:f,subject:c,center:o,shouldUseTimeDampening:n});h&&a(f.descriptor.id,h)}},qW=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Cc(t),i=Cc(r),a=null,o=function(d){a||K();var f=a,h=f.shouldUseTimeDampening,p=f.dragStartTime;TS({state:d,scrollWindow:n,scrollDroppable:i,dragStartTime:p,shouldUseTimeDampening:h})},s=function(d){a&&K();var f=Date.now(),h=!1,p=function(){h=!0};TS({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),a={dragStartTime:f,shouldUseTimeDampening:h},h&&o(d)},c=function(){a&&(n.cancel(),i.cancel(),a=null)};return{start:s,stop:c,scroll:o}},KW=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,i=function(u,d){var f=Rt(u.current.client.selection,d);t({client:f})},a=function(u,d){if(!tb(u,d))return d;var f=UW(u,d);if(!f)return r(u.descriptor.id,d),null;var h=kr(d,f);r(u.descriptor.id,h);var p=kr(d,h);return p},o=function(u,d,f){if(!u||!eb(d,f))return f;var h=zW(d,f);if(!h)return n(f),null;var p=kr(f,h);n(p);var m=kr(f,p);return m},s=function(u){var d=u.scrollJumpRequest;if(d){var f=Ar(u.impact);f||K();var h=a(u.dimensions.droppables[f],d);if(h){var p=u.viewport,m=o(u.isWindowScrollAllowed,p,h);m&&i(u,m)}}};return s},GW=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,i=qW({scrollWindow:r,scrollDroppable:t}),a=KW({move:n,scrollWindow:r,scrollDroppable:t}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&a(u)}},s={scroll:o,start:i.start,stop:i.stop};return s},Cs="data-rbd",_s=function(){var e=Cs+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Sy=function(){var e=Cs+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),VW=function(){var e=Cs+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),DS={contextId:Cs+"-scroll-container-context-id"},YW=function(t){return function(r){return"["+r+'="'+t+'"]'}},wl=function(t,r){return t.map(function(n){var i=n.styles[r];return i?n.selector+" { "+i+" }":""}).join(" ")},XW="pointer-events: none;",JW=function(e){var t=YW(e),r=function(){var s=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(_s.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:s,dragging:XW,dropAnimating:s}}}(),n=function(){var s=`
      transition: `+rc.outOfTheWay+`;
    `;return{selector:t(Sy.contextId),styles:{dragging:s,dropAnimating:s,userCancel:s}}}(),i={selector:t(VW.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,i,a];return{always:wl(o,"always"),resting:wl(o,"resting"),dragging:wl(o,"dragging"),dropAnimating:wl(o,"dropAnimating"),userCancel:wl(o,"userCancel")}},Tr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?x.useLayoutEffect:x.useEffect,xg=function(){var t=document.querySelector("head");return t||K(),t},IS=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function QW(e,t){var r=Se(function(){return JW(e)},[e]),n=x.useRef(null),i=x.useRef(null),a=se(Pt(function(f){var h=i.current;h||K(),h.textContent=f}),[]),o=se(function(f){var h=n.current;h||K(),h.textContent=f},[]);Tr(function(){!n.current&&!i.current||K();var f=IS(t),h=IS(t);return n.current=f,i.current=h,f.setAttribute(Cs+"-always",e),h.setAttribute(Cs+"-dynamic",e),xg().appendChild(f),xg().appendChild(h),o(r.always),a(r.resting),function(){var p=function(g){var y=g.current;y||K(),xg().removeChild(y),g.current=null};p(n),p(i)}},[t,o,a,r.always,r.resting,e]);var s=se(function(){return a(r.dragging)},[a,r.dragging]),c=se(function(f){if(f==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),u=se(function(){i.current&&a(r.resting)},[a,r.resting]),d=Se(function(){return{dragging:s,dropping:c,resting:u}},[s,c,u]);return d}var yO=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function xp(e){return e instanceof yO(e).HTMLElement}function ZW(e,t){var r="["+_s.contextId+'="'+e+'"]',n=B2(document.querySelectorAll(r));if(!n.length)return null;var i=ja(n,function(a){return a.getAttribute(_s.draggableId)===t});return!i||!xp(i)?null:i}function e8(e){var t=x.useRef({}),r=x.useRef(null),n=x.useRef(null),i=x.useRef(!1),a=se(function(h,p){var m={id:h,focus:p};return t.current[h]=m,function(){var y=t.current,v=y[h];v!==m&&delete y[h]}},[]),o=se(function(h){var p=ZW(e,h);p&&p!==document.activeElement&&p.focus()},[e]),s=se(function(h,p){r.current===h&&(r.current=p)},[]),c=se(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&o(h)}))},[o]),u=se(function(h){r.current=null;var p=document.activeElement;p&&p.getAttribute(_s.draggableId)===h&&(r.current=h)},[]);Tr(function(){return i.current=!0,function(){i.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var d=Se(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:s}},[a,u,c,s]);return d}function t8(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var p=t.indexOf(f);p!==-1&&t.splice(p,1)}}function n(f){t.length&&t.forEach(function(h){return h(f)})}function i(f){return e.draggables[f]||null}function a(f){var h=i(f);return h||K(),h}var o={register:function(h){e.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,p){var m=e.draggables[p.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var p=h.descriptor.id,m=i(p);m&&h.uniqueId===m.uniqueId&&(delete e.draggables[p],n({type:"REMOVAL",value:h}))},getById:a,findById:i,exists:function(h){return!!i(h)},getAllByType:function(h){return Df(e.draggables).filter(function(p){return p.descriptor.type===h})}};function s(f){return e.droppables[f]||null}function c(f){var h=s(f);return h||K(),h}var u={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var p=s(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:s,exists:function(h){return!!s(h)},getAllByType:function(h){return Df(e.droppables).filter(function(p){return p.descriptor.type===h})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:r,clean:d}}function r8(){var e=Se(t8,[]);return x.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var rb=Fe.createContext(null),Mf=function(){var e=document.body;return e||K(),e},n8={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},i8=function(t){return"rbd-announcement-"+t};function a8(e){var t=Se(function(){return i8(e)},[e]),r=x.useRef(null);x.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),de(a.style,n8),Mf().appendChild(a),function(){setTimeout(function(){var c=Mf();c.contains(a)&&c.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var n=se(function(i){var a=r.current;if(a){a.textContent=i;return}},[]);return n}var o8=0,s8={separator:"::"};function nb(e,t){return t===void 0&&(t=s8),Se(function(){return""+e+t.separator+o8++},[t.separator,e])}function l8(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function c8(e){var t=e.contextId,r=e.text,n=nb("hidden-text",{separator:"-"}),i=Se(function(){return l8({contextId:t,uniqueId:n})},[n,t]);return x.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=r,o.style.display="none",Mf().appendChild(o),function(){var c=Mf();c.contains(o)&&c.removeChild(o)}},[i,r]),i}var bp=Fe.createContext(null);function xO(e){var t=x.useRef(e);return x.useEffect(function(){t.current=e}),t}function u8(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&K();var s={abandon:o};return e=s,s}function i(){e||K(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:r,claim:n,release:i,tryAbandon:a}}var d8=9,f8=13,ib=27,bO=32,h8=33,p8=34,m8=35,g8=36,v8=37,y8=38,x8=39,b8=40,dd,w8=(dd={},dd[f8]=!0,dd[d8]=!0,dd),wO=function(e){w8[e.keyCode]&&e.preventDefault()},wp=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=ja(t,function(n){return"on"+n in document});return r||e}(),jO=0,MS=5;function j8(e,t){return Math.abs(t.x-e.x)>=MS||Math.abs(t.y-e.y)>=MS}var $S={type:"IDLE"};function S8(e){var t=e.cancel,r=e.completed,n=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(o){var s=o.button,c=o.clientX,u=o.clientY;if(s===jO){var d={x:c,y:u},f=n();if(f.type==="DRAGGING"){o.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&K();var h=f.point;if(j8(h,d)){o.preventDefault();var p=f.actions.fluidLift(d);i({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(o){var s=n();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var s=n();if(s.type==="PENDING"){t();return}if(o.keyCode===ib){o.preventDefault(),t();return}wO(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var s=n();if(s.type==="IDLE"&&K(),s.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:wp,fn:t}]}function N8(e){var t=x.useRef($S),r=x.useRef(ia),n=Se(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===jO&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var p=e.tryGetLock(h,o,{sourceEvent:f});if(p){f.preventDefault();var m={x:f.clientX,y:f.clientY};r.current(),u(p,m)}}}}}},[e]),i=Se(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),a=se(function(){var f={passive:!1,capture:!0};r.current=Xr(window,[i,n],f)},[i,n]),o=se(function(){var d=t.current;d.type!=="IDLE"&&(t.current=$S,r.current(),a())},[a]),s=se(function(){var d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),c=se(function(){var f={capture:!0,passive:!1},h=S8({cancel:s,completed:o,getPhase:function(){return t.current},setPhase:function(m){t.current=m}});r.current=Xr(window,h,f)},[s,o]),u=se(function(f,h){t.current.type!=="IDLE"&&K(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);Tr(function(){return a(),function(){r.current()}},[a])}var Mo;function E8(){}var P8=(Mo={},Mo[p8]=!0,Mo[h8]=!0,Mo[g8]=!0,Mo[m8]=!0,Mo);function C8(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===ib){a.preventDefault(),r();return}if(a.keyCode===bO){a.preventDefault(),n();return}if(a.keyCode===b8){a.preventDefault(),e.moveDown();return}if(a.keyCode===y8){a.preventDefault(),e.moveUp();return}if(a.keyCode===x8){a.preventDefault(),e.moveRight();return}if(a.keyCode===v8){a.preventDefault(),e.moveLeft();return}if(P8[a.keyCode]){a.preventDefault();return}wO(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:wp,fn:r}]}function _8(e){var t=x.useRef(E8),r=Se(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==bO)return;var o=e.findClosestDraggableId(a);if(!o)return;var s=e.tryGetLock(o,d,{sourceEvent:a});if(!s)return;a.preventDefault();var c=!0,u=s.snapLift();t.current();function d(){c||K(),c=!1,t.current(),n()}t.current=Xr(window,C8(u,d),{capture:!0,passive:!1})}}},[e]),n=se(function(){var a={passive:!1,capture:!0};t.current=Xr(window,[r],a)},[r]);Tr(function(){return n(),function(){t.current()}},[n])}var bg={type:"IDLE"},k8=120,O8=.15;function A8(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(r().type!=="DRAGGING"){t();return}i.keyCode===ib&&i.preventDefault(),t()}},{eventName:wp,fn:t}]}function T8(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var s=a.touches[0],c=s.clientX,u=s.clientY,d={x:c,y:u};a.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:function(a){var o=n();if(o.type!=="DRAGGING"){t();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var o=n();o.type==="IDLE"&&K();var s=a.touches[0];if(s){var c=s.force>=O8;if(c){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&t();return}if(u){if(o.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:wp,fn:t}]}function D8(e){var t=x.useRef(bg),r=x.useRef(ia),n=se(function(){return t.current},[]),i=se(function(p){t.current=p},[]),a=Se(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var m=e.findClosestDraggableId(p);if(m){var g=e.tryGetLock(m,s,{sourceEvent:p});if(g){var y=p.touches[0],v=y.clientX,b=y.clientY,w={x:v,y:b};r.current(),f(g,w)}}}}}},[e]),o=se(function(){var p={capture:!0,passive:!1};r.current=Xr(window,[a],p)},[a]),s=se(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(bg),r.current(),o())},[o,i]),c=se(function(){var h=t.current;s(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[s]),u=se(function(){var p={capture:!0,passive:!1},m={cancel:c,completed:s,getPhase:n},g=Xr(window,T8(m),p),y=Xr(window,A8(m),p);r.current=function(){g(),y()}},[c,n,s]),d=se(function(){var p=n();p.type!=="PENDING"&&K();var m=p.actions.fluidLift(p.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[n,i]),f=se(function(p,m){n().type!=="IDLE"&&K();var g=setTimeout(d,k8);i({type:"PENDING",point:m,actions:p,longPressTimerId:g}),u()},[u,n,i,d]);Tr(function(){return o(),function(){r.current();var m=n();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(bg))}},[n,o,i]),Tr(function(){var p=Xr(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var I8={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function SO(e,t){if(t==null)return!1;var r=!!I8[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:SO(e,t.parentElement)}function M8(e,t){var r=t.target;return xp(r)?SO(e,r):!1}var $8=function(e){return Sn(e.getBoundingClientRect()).center};function R8(e){return e instanceof yO(e).Element}var L8=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=ja(t,function(n){return n in Element.prototype});return r||e}();function NO(e,t){return e==null?null:e[L8](t)?e:NO(e.parentElement,t)}function F8(e,t){return e.closest?e.closest(t):NO(e,t)}function B8(e){return"["+_s.contextId+'="'+e+'"]'}function z8(e,t){var r=t.target;if(!R8(r))return null;var n=B8(e),i=F8(r,n);return!i||!xp(i)?null:i}function U8(e,t){var r=z8(e,t);return r?r.getAttribute(_s.draggableId):null}function W8(e,t){var r="["+Sy.contextId+'="'+e+'"]',n=B2(document.querySelectorAll(r)),i=ja(n,function(a){return a.getAttribute(Sy.id)===t});return!i||!xp(i)?null:i}function H8(e){e.preventDefault()}function fd(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function EO(e){var t=e.lockAPI,r=e.store,n=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!pO(r.getState(),i))}function q8(e){var t=e.lockAPI,r=e.contextId,n=e.store,i=e.registry,a=e.draggableId,o=e.forceSensorStop,s=e.sourceEvent,c=EO({lockAPI:t,store:n,registry:i,draggableId:a});if(!c)return null;var u=i.draggable.getById(a),d=W8(r,u.descriptor.id);if(!d||s&&!u.options.canDragInteractiveElements&&M8(d,s))return null;var f=t.claim(o||ia),h="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function m(){return t.isActive(f)}function g(N,E){fd({expected:N,phase:h,isLockActive:m,shouldWarn:!0})&&n.dispatch(E())}var y=g.bind(null,"DRAGGING");function v(N){function E(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(E(),h!=="PRE_DRAG"&&K()),n.dispatch(LU(N.liftActionArgs)),h="DRAGGING";function C(P,k){if(k===void 0&&(k={shouldBlockNextClick:!1}),N.cleanup(),k.shouldBlockNextClick){var O=Xr(window,[{eventName:"click",fn:H8,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}E(),n.dispatch(sO({reason:P}))}return de({isActive:function(){return fd({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(k){return C("DROP",k)},cancel:function(k){return C("CANCEL",k)}},N.actions)}function b(N){var E=Cc(function(P){y(function(){return oO({client:P})})}),C=v({liftActionArgs:{id:a,clientSelection:N,movementMode:"FLUID"},cleanup:function(){return E.cancel()},actions:{move:E}});return de({},C,{move:E})}function w(){var N={moveUp:function(){return y(GU)},moveRight:function(){return y(YU)},moveDown:function(){return y(VU)},moveLeft:function(){return y(XU)}};return v({liftActionArgs:{id:a,clientSelection:$8(d),movementMode:"SNAP"},cleanup:ia,actions:N})}function j(){var N=fd({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0});N&&t.release()}var S={isActive:function(){return fd({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:b,snapLift:w,abort:j};return S}var K8=[N8,_8,D8];function G8(e){var t=e.contextId,r=e.store,n=e.registry,i=e.customSensors,a=e.enableDefaultSensors,o=[].concat(a?K8:[],i||[]),s=x.useState(function(){return u8()})[0],c=se(function(b,w){b.isDragging&&!w.isDragging&&s.tryAbandon()},[s]);Tr(function(){var b=r.getState(),w=r.subscribe(function(){var j=r.getState();c(b,j),b=j});return w},[s,r,c]),Tr(function(){return s.tryAbandon},[s.tryAbandon]);for(var u=se(function(v){return EO({lockAPI:s,registry:n,store:r,draggableId:v})},[s,n,r]),d=se(function(v,b,w){return q8({lockAPI:s,registry:n,contextId:t,store:r,draggableId:v,forceSensorStop:b,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[t,s,n,r]),f=se(function(v){return U8(t,v)},[t]),h=se(function(v){var b=n.draggable.findById(v);return b?b.options:null},[n.draggable]),p=se(function(){s.isClaimed()&&(s.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Vx()))},[s,r]),m=se(s.isClaimed,[s]),g=Se(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:m}},[u,d,f,h,p,m]),y=0;y<o.length;y++)o[y](g)}var V8=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function jl(e){return e.current||K(),e.current}function Y8(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,i=e.nonce,a=e.dragHandleUsageInstructions,o=x.useRef(null),s=xO(e),c=se(function(){return V8(s.current)},[s]),u=a8(t),d=c8({contextId:t,text:a}),f=QW(t,i),h=se(function(P){jl(o).dispatch(P)},[]),p=Se(function(){return aS({publishWhileDragging:BU,updateDroppableScroll:UU,updateDroppableIsEnabled:WU,updateDroppableIsCombineEnabled:HU,collectionStarting:zU},h)},[h]),m=r8(),g=Se(function(){return OW(m,p)},[m,p]),y=Se(function(){return GW(de({scrollWindow:AW,scrollDroppable:g.scrollDroppable},aS({move:oO},h)))},[g.scrollDroppable,h]),v=e8(t),b=Se(function(){return PW({announce:u,autoScroller:y,dimensionMarshal:g,focusMarshal:v,getResponders:c,styleMarshal:f})},[u,y,g,v,c,f]);o.current=b;var w=se(function(){var P=jl(o),k=P.getState();k.phase!=="IDLE"&&P.dispatch(Vx())},[]),j=se(function(){var P=jl(o).getState();return P.isDragging||P.phase==="DROP_ANIMATING"},[]),S=Se(function(){return{isDragging:j,tryAbort:w}},[j,w]);r(S);var N=se(function(P){return pO(jl(o).getState(),P)},[]),E=se(function(){return La(jl(o).getState())},[]),C=Se(function(){return{marshal:g,focus:v,contextId:t,canLift:N,isMovementAllowed:E,dragHandleUsageInstructionsId:d,registry:m}},[t,g,d,v,N,E,m]);return G8({contextId:t,store:b,registry:m,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),x.useEffect(function(){return w},[w]),Fe.createElement(bp.Provider,{value:C},Fe.createElement(y5,{context:rb,store:b},e.children))}var X8=0;function J8(){return Se(function(){return""+X8++},[])}function Q8(e){var t=J8(),r=e.dragHandleUsageInstructions||Gd.dragHandleUsageInstructions;return Fe.createElement(_z,null,function(n){return Fe.createElement(Y8,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var PO=function(t){return function(r){return t===r}},Z8=PO("scroll"),e9=PO("auto"),RS=function(t,r){return r(t.overflowX)||r(t.overflowY)},t9=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return RS(n,Z8)||RS(n,e9)},r9=function(){return!1},n9=function e(t){return t==null?null:t===document.body?r9()?t:null:t===document.documentElement?null:t9(t)?t:e(t.parentElement)},Ny=function(e){return{x:e.scrollLeft,y:e.scrollTop}},i9=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},a9=function(e){var t=n9(e),r=i9(e);return{closestScrollable:t,isFixedOnPage:r}},o9=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,i=e.isFixedOnPage,a=e.direction,o=e.client,s=e.page,c=e.closest,u=function(){if(!c)return null;var p=c.scrollSize,m=c.client,g=dO({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:g,diff:{value:Ct,displacement:Ct}}}}(),d=a==="vertical"?Wx:q2,f=Ps({page:s,withPlaceholder:null,axis:d,frame:u}),h={descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:d,isEnabled:r,client:o,page:s,frame:u,subject:f};return h},s9=function(t,r){var n=M2(t);if(!r||t!==r)return n;var i=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,o=i+r.scrollHeight,s=a+r.scrollWidth,c={top:i,right:s,bottom:o,left:a},u=Lx(c,n.border),d=Fx({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},l9=function(e){var t=e.ref,r=e.descriptor,n=e.env,i=e.windowScroll,a=e.direction,o=e.isDropDisabled,s=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,d=s9(t,u),f=Of(d,i),h=function(){if(!u)return null;var m=M2(u),g={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:m,page:Of(m,i),scroll:Ny(u),scrollSize:g,shouldClipSubject:c}}(),p=o9({descriptor:r,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:f,closest:h});return p},c9={passive:!1},u9={passive:!0},LS=function(e){return e.shouldPublishImmediately?c9:u9};function $f(e){var t=x.useContext(e);return t||K(),t}var hd=function(t){return t&&t.env.closestScrollable||null};function d9(e){var t=x.useRef(null),r=$f(bp),n=nb("droppable"),i=r.registry,a=r.marshal,o=xO(e),s=Se(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=x.useRef(s),u=Se(function(){return Pt(function(j,S){t.current||K();var N={x:j,y:S};a.updateDroppableScroll(s.id,N)})},[s.id,a]),d=se(function(){var j=t.current;return!j||!j.env.closestScrollable?Ct:Ny(j.env.closestScrollable)},[]),f=se(function(){var j=d();u(j.x,j.y)},[d,u]),h=Se(function(){return Cc(f)},[f]),p=se(function(){var j=t.current,S=hd(j);j&&S||K();var N=j.scrollOptions;if(N.shouldPublishImmediately){f();return}h()},[h,f]),m=se(function(j,S){t.current&&K();var N=o.current,E=N.getDroppableRef();E||K();var C=a9(E),P={ref:E,descriptor:s,env:C,scrollOptions:S};t.current=P;var k=l9({ref:E,descriptor:s,env:C,windowScroll:j,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),O=C.closestScrollable;return O&&(O.setAttribute(DS.contextId,r.contextId),O.addEventListener("scroll",p,LS(P.scrollOptions))),k},[r.contextId,s,p,o]),g=se(function(){var j=t.current,S=hd(j);return j&&S||K(),Ny(S)},[]),y=se(function(){var j=t.current;j||K();var S=hd(j);t.current=null,S&&(h.cancel(),S.removeAttribute(DS.contextId),S.removeEventListener("scroll",p,LS(j.scrollOptions)))},[p,h]),v=se(function(j){var S=t.current;S||K();var N=hd(S);N||K(),N.scrollTop+=j.y,N.scrollLeft+=j.x},[]),b=Se(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:y,scroll:v}},[y,m,g,v]),w=Se(function(){return{uniqueId:n,descriptor:s,callbacks:b}},[b,s,n]);Tr(function(){return c.current=w.descriptor,i.droppable.register(w),function(){t.current&&y(),i.droppable.unregister(w)}},[b,s,y,w,a,i.droppable]),Tr(function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Tr(function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function wg(){}var FS={width:0,height:0,margin:Iz},f9=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate;return r||i==="close"?FS:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},h9=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,i=t.animate,a=f9({isAnimatingOpenOnMount:r,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?rc.placeholder:null}};function p9(e){var t=x.useRef(null),r=se(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,i=e.onTransitionEnd,a=e.onClose,o=e.contextId,s=x.useState(e.animate==="open"),c=s[0],u=s[1];x.useEffect(function(){return c?n!=="open"?(r(),u(!1),wg):t.current?wg:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):wg},[n,c,r]);var d=se(function(h){h.propertyName==="height"&&(i(),n==="close"&&a())},[n,a,i]),f=h9({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Fe.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})}var m9=Fe.memo(p9),ab=Fe.createContext(null),g9=function(e){h2(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(i,a){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},t}(Fe.PureComponent),BS={dragging:5e3,dropAnimating:4500},v9=function(t,r){return r?rc.drop(r.duration):t?rc.snap:rc.fluid},y9=function(t,r){return t?r?Ac.opacity.drop:Ac.opacity.combining:null},x9=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function b9(e){var t=e.dimension,r=t.client,n=e.offset,i=e.combineWith,a=e.dropping,o=!!i,s=x9(e),c=!!a,u=c?wy.drop(n,o):wy.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:v9(s,a),transform:u,opacity:y9(o,c),zIndex:c?BS.dropAnimating:BS.dragging,pointerEvents:"none"};return d}function w9(e){return{transform:wy.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function j9(e){return e.type==="DRAGGING"?b9(e):w9(e)}function S9(e,t,r){r===void 0&&(r=Ct);var n=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=I2(i,n),o=Of(a,r),s={client:a,tagName:t.tagName.toLowerCase(),display:n.display},c={x:a.marginBox.width,y:a.marginBox.height},u={descriptor:e,placeholder:s,displaceBy:c,client:a,page:o};return u}function N9(e){var t=nb("draggable"),r=e.descriptor,n=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,o=e.shouldRespectForcePress,s=e.isEnabled,c=Se(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:s}},[a,s,o]),u=se(function(p){var m=i();return m||K(),S9(r,m,p)},[r,i]),d=Se(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),f=x.useRef(d),h=x.useRef(!0);Tr(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),Tr(function(){if(h.current){h.current=!1;return}var p=f.current;f.current=d,n.draggable.update(d,p)},[d,n.draggable])}function E9(e){e.preventDefault()}function P9(e){var t=x.useRef(null),r=se(function(P){t.current=P},[]),n=se(function(){return t.current},[]),i=$f(bp),a=i.contextId,o=i.dragHandleUsageInstructionsId,s=i.registry,c=$f(ab),u=c.type,d=c.droppableId,f=Se(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),h=e.children,p=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,y=e.canDragInteractiveElements,v=e.isClone,b=e.mapped,w=e.dropAnimationFinished;if(!v){var j=Se(function(){return{descriptor:f,registry:s,getDraggableRef:n,canDragInteractiveElements:y,shouldRespectForcePress:g,isEnabled:m}},[f,s,n,y,g,m]);N9(j)}var S=Se(function(){return m?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:E9}:null},[a,o,p,m]),N=se(function(P){b.type==="DRAGGING"&&b.dropping&&P.propertyName==="transform"&&w()},[w,b]),E=Se(function(){var P=j9(b),k=b.type==="DRAGGING"&&b.dropping?N:null,O={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:P,onTransitionEnd:k},dragHandleProps:S};return O},[a,S,p,b,N,r]),C=Se(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(E,b.snapshot,C)}var CO=function(e,t){return e===t},_O=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},C9=function(t){return t.combine?t.combine.draggableId:null},_9=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function k9(){var e=Pt(function(i,a){return{x:i,y:a}}),t=Pt(function(i,a,o,s,c){return{isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:s,combineTargetFor:null}}),r=Pt(function(i,a,o,s,c,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:i,dimension:o,forceShouldAnimate:d,snapshot:t(a,s,c,u,null)}}}),n=function(a,o){if(a.isDragging){if(a.critical.draggable.id!==o.draggableId)return null;var s=a.current.client.offset,c=a.dimensions.draggables[o.draggableId],u=Ar(a.impact),d=_9(a.impact),f=a.forceShouldAnimate;return r(e(s.x,s.y),a.movementMode,c,o.isClone,u,d,f)}if(a.phase==="DROP_ANIMATING"){var h=a.completed;if(h.result.draggableId!==o.draggableId)return null;var p=o.isClone,m=a.dimensions.draggables[o.draggableId],g=h.result,y=g.mode,v=_O(g),b=C9(g),w=a.dropDuration,j={duration:w,curve:Xx.drop,moveTo:a.newHomeClientOffset,opacity:b?Ac.opacity.drop:null,scale:b?Ac.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:m,dropping:j,draggingOver:v,combineWith:b,mode:y,forceShouldAnimate:null,snapshot:t(y,p,v,b,j)}}}return null};return n}function kO(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var O9={mapped:{type:"SECONDARY",offset:Ct,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:kO(null)}};function A9(){var e=Pt(function(o,s){return{x:o,y:s}}),t=Pt(kO),r=Pt(function(o,s,c){return s===void 0&&(s=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:s,shouldAnimateDisplacement:c,snapshot:t(s)}}}),n=function(s){return s?r(Ct,s,!0):null},i=function(s,c,u,d){var f=u.displaced.visible[s],h=!!(d.inVirtualList&&d.effected[s]),p=gp(u),m=p&&p.draggableId===s?c:null;if(!f){if(!h)return n(m);if(u.displaced.invisible[s])return null;var g=Ys(d.displacedBy.point),y=e(g.x,g.y);return r(y,m,!0)}if(h)return n(m);var v=u.displacedBy.point,b=e(v.x,v.y);return r(b,m,f.shouldAnimate)},a=function(s,c){if(s.isDragging)return s.critical.draggable.id===c.draggableId?null:i(c.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){var u=s.completed;return u.result.draggableId===c.draggableId?null:i(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return a}var T9=function(){var t=k9(),r=A9(),n=function(a,o){return t(a,o)||r(a,o)||O9};return n},D9={dropAnimationFinished:lO},I9=A2(T9,D9,null,{context:rb,pure:!0,areStatePropsEqual:CO})(P9);function OO(e){var t=$f(ab),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Fe.createElement(I9,e)}function M9(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Fe.createElement(OO,de({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function $9(e){var t=x.useContext(bp);t||K();var r=t.contextId,n=t.isMovementAllowed,i=x.useRef(null),a=x.useRef(null),o=e.children,s=e.droppableId,c=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,m=e.snapshot,g=e.useClone,y=e.updateViewportMaxScroll,v=e.getContainerForClone,b=se(function(){return i.current},[]),w=se(function(O){i.current=O},[]);se(function(){return a.current},[]);var j=se(function(O){a.current=O},[]),S=se(function(){n()&&y({maxScroll:hO()})},[n,y]);d9({droppableId:s,type:c,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:b});var N=Fe.createElement(g9,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(O){var _=O.onClose,A=O.data,D=O.animate;return Fe.createElement(m9,{placeholder:A,onClose:_,innerRef:j,animate:D,contextId:r,onTransitionEnd:S})}),E=Se(function(){return{innerRef:w,placeholder:N,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}},[r,s,N,w]),C=g?g.dragging.draggableId:null,P=Se(function(){return{droppableId:s,type:c,isUsingCloneFor:C}},[s,C,c]);function k(){if(!g)return null;var O=g.dragging,_=g.render,A=Fe.createElement(OO,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(D,M){return _(D,M,O)});return ck.createPortal(A,v())}return Fe.createElement(ab.Provider,{value:P},o(E,m),k())}var jg=function(t,r){return t===r.droppable.type},zS=function(t,r){return r.draggables[t.draggable.id]},R9=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=de({},t,{shouldAnimatePlaceholder:!1}),n=Pt(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=Pt(function(o,s,c,u,d,f){var h=d.descriptor.id,p=d.descriptor.droppableId===o;if(p){var m=f?{render:f,dragging:n(d.descriptor)}:null,g={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:m}}if(!s)return r;if(!u)return t;var y={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}}),a=function(s,c){var u=c.droppableId,d=c.type,f=!c.isDropDisabled,h=c.renderClone;if(s.isDragging){var p=s.critical;if(!jg(d,p))return r;var m=zS(p,s.dimensions),g=Ar(s.impact)===u;return i(u,f,g,g,m,h)}if(s.phase==="DROP_ANIMATING"){var y=s.completed;if(!jg(d,y.critical))return r;var v=zS(y.critical,s.dimensions);return i(u,f,_O(y.result)===u,Ar(y.impact)===u,v,h)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){var b=s.completed;if(!jg(d,b.critical))return r;var w=Ar(b.impact)===u,j=!!(b.impact.at&&b.impact.at.type==="COMBINE"),S=b.critical.droppable.id===u;return w?j?t:r:S?t:r}return r};return a},L9={updateViewportMaxScroll:KU};function F9(){return document.body||K(),document.body}var B9={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:F9},AO=A2(R9,L9,null,{context:rb,pure:!0,areStatePropsEqual:CO})($9);AO.defaultProps=B9;const U=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));U.displayName="Card";const G=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ae("flex flex-col space-y-1.5 p-6",e),...t}));G.displayName="CardHeader";const Y=x.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:Ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));Y.displayName="CardTitle";const Xt=x.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));Xt.displayName="CardDescription";const H=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ae("p-6 pt-0",e),...t}));H.displayName="CardContent";const z9=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ae("flex items-center p-6 pt-0",e),...t}));z9.displayName="CardFooter";function U9(e){const[t,r]=x.useState([]),[n,i]=x.useState(!0),[a,o]=x.useState(null),s=[{widget_type:"company-motto",title:"Company Motto",position_x:0,position_y:0,width:3,height:1,config:{motto:"Building the future, one project at a time."}},{widget_type:"monthly-expenses",title:"Monthly Expenses",position_x:0,position_y:1,width:1,height:1},{widget_type:"time-logged",title:"Time Logged",position_x:1,position_y:1,width:1,height:1},{widget_type:"quick-stats",title:"Quick Stats",position_x:2,position_y:1,width:1,height:1},{widget_type:"revenue-chart",title:"Revenue Chart",position_x:0,position_y:2,width:2,height:1},{widget_type:"recent-activities",title:"Recent Activities",position_x:2,position_y:2,width:1,height:1},{widget_type:"projects-overview",title:"Projects Overview",position_x:0,position_y:3,width:2,height:1},{widget_type:"cash-flow",title:"Cash Flow",position_x:2,position_y:3,width:1,height:1},{widget_type:"cash-flow-projections",title:"Cash Flow Projections",position_x:0,position_y:4,width:2,height:1}],c=y=>({id:y.id,type:y.widget_type,title:y.title,size:{w:y.width,h:y.height},position:{x:y.position_x,y:y.position_y,w:y.width,h:y.height},config:y.config}),u=async()=>{if(!e){i(!1);return}try{i(!0),o(null);const{data:y,error:v}=await le.from("dashboard_widgets").select("*").eq("user_id",e).eq("is_visible",!0).order("position_y",{ascending:!0}).order("position_x",{ascending:!0});if(v)throw v;if(!y||y.length===0){await d();return}const b=y.map(c);r(b)}catch(y){console.error("Error fetching widgets:",y),o(y instanceof Error?y.message:"Failed to load widgets"),f()}finally{i(!1)}},d=async()=>{if(e)try{const y=s.map(j=>({...j,user_id:e})),{data:v,error:b}=await le.from("dashboard_widgets").insert(y).select();if(b)throw b;const w=v.map(c);r(w)}catch(y){console.error("Error creating default widgets:",y),f()}},f=()=>{const y=localStorage.getItem(`widgets_${e}`);if(y)try{r(JSON.parse(y))}catch(v){console.error("Error loading widgets from localStorage:",v);const b=s.map((w,j)=>({id:(j+1).toString(),type:w.widget_type,title:w.title,size:{w:w.width,h:w.height},position:{x:w.position_x,y:w.position_y,w:w.width,h:w.height},config:w.config}));r(b)}},h=async y=>{if(r(y),e){localStorage.setItem(`widgets_${e}`,JSON.stringify(y));try{const v=y.map(b=>({id:b.id,position_x:b.position.x,position_y:b.position.y,width:b.size.w,height:b.size.h,title:b.title,config:b.config}));for(const b of v)await le.from("dashboard_widgets").update(b).eq("id",b.id).eq("user_id",e)}catch(v){console.error("Error saving widgets to Supabase:",v),o("Failed to save widget positions")}}},p=async y=>{if(e)try{const v={user_id:e,widget_type:y.type,title:y.title,position_x:y.position.x,position_y:y.position.y,width:y.size.w,height:y.size.h,config:y.config||{}},{data:b,error:w}=await le.from("dashboard_widgets").insert([v]).select().single();if(w)throw w;const j=c(b),S=[...t,j];r(S),localStorage.setItem(`widgets_${e}`,JSON.stringify(S))}catch(v){console.error("Error adding widget:",v),o("Failed to add widget");const b=[...t,y];r(b),localStorage.setItem(`widgets_${e}`,JSON.stringify(b))}},m=async y=>{if(e)try{const{error:v}=await le.from("dashboard_widgets").delete().eq("id",y).eq("user_id",e);if(v)throw v;const b=t.filter(w=>w.id!==y);r(b),localStorage.setItem(`widgets_${e}`,JSON.stringify(b))}catch(v){console.error("Error removing widget:",v),o("Failed to remove widget");const b=t.filter(w=>w.id!==y);r(b),localStorage.setItem(`widgets_${e}`,JSON.stringify(b))}},g=async(y,v)=>{if(e)try{const b={};v.title&&(b.title=v.title),v.config&&(b.config=v.config),v.position&&(b.position_x=v.position.x,b.position_y=v.position.y),v.size&&(b.width=v.size.w,b.height=v.size.h);const{error:w}=await le.from("dashboard_widgets").update(b).eq("id",y).eq("user_id",e);if(w)throw w;const j=t.map(S=>S.id===y?{...S,...v}:S);r(j),localStorage.setItem(`widgets_${e}`,JSON.stringify(j))}catch(b){console.error("Error updating widget:",b),o("Failed to update widget");const w=t.map(j=>j.id===y?{...j,...v}:j);r(w),localStorage.setItem(`widgets_${e}`,JSON.stringify(w))}};return x.useEffect(()=>{u()},[e]),{widgets:t,loading:n,error:a,updateWidgets:h,addWidget:p,removeWidget:m,updateWidget:g,refetch:u}}function W9({widget:e,isDarkMode:t}){var d;const[r,n]=x.useState(!1),[i,a]=x.useState(((d=e.config)==null?void 0:d.motto)||"Building the future, one project at a time."),[o,s]=x.useState(i),c=()=>{a(o),n(!1)},u=()=>{s(i),n(!1)};return l.jsx(U,{className:"h-full",children:l.jsx(H,{className:"p-6 flex items-center justify-center h-full",children:l.jsx("div",{className:"text-center w-full",children:r?l.jsxs("div",{className:"space-y-4",children:[l.jsx(fe,{value:o,onChange:f=>s(f.target.value),className:"text-center text-lg font-medium",placeholder:"Enter your company motto..."}),l.jsxs("div",{className:"flex justify-center gap-2",children:[l.jsxs(W,{size:"sm",onClick:c,children:[l.jsx(Vk,{className:"h-4 w-4 mr-1"}),"Save"]}),l.jsxs(W,{size:"sm",variant:"outline",onClick:u,children:[l.jsx(_x,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center leading-tight",children:i}),l.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"opacity-60 hover:opacity-100",children:[l.jsx(l6,{className:"h-4 w-4 mr-1"}),"Edit Motto"]})]})})})})}const V=e=>typeof e!="number"||isNaN(e)?"0 kr":new Intl.NumberFormat("sv-SE",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e)+" kr";function H9({widget:e,isDarkMode:t}){return l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-2",children:l.jsxs(Y,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(lr,{className:"h-4 w-4"}),"Monthly Expenses"]})}),l.jsx(H,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-2xl font-bold",children:V(4850)}),l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Qt,{className:"h-4 w-4 text-red-500"}),l.jsxs("span",{className:"text-red-500",children:[Math.abs(15.476190476190476).toFixed(1),"%"]}),l.jsx("span",{className:"text-muted-foreground",children:"vs last month"})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last month: ",V(4200)]})]})})]})}function Zt(){const{user:e}=Fr(),[t,r]=x.useState([]),[n,i]=x.useState(!0),[a,o]=x.useState(null);x.useEffect(()=>{e?s():(r([]),i(!1))},[e]);const s=async()=>{try{i(!0);const{data:f,error:h}=await le.from("time_entries").select(`
          *,
          project:projects(*)
        `).eq("user_id",e.id).order("date",{ascending:!1});if(h)throw h;r(f||[])}catch(f){o(f instanceof Error?f.message:"An error occurred")}finally{i(!1)}};return{entries:t,loading:n,error:a,createTimeEntry:async f=>{try{const{data:h,error:p}=await le.from("time_entries").insert({...f,user_id:e.id}).select(`
          *,
          project:projects(*)
        `).single();if(p)throw p;return r(m=>[h,...m]),{data:h,error:null}}catch(h){const p=h instanceof Error?h.message:"Failed to create time entry";return o(p),{data:null,error:p}}},updateTimeEntry:async(f,h)=>{try{const{data:p,error:m}=await le.from("time_entries").update(h).eq("id",f).eq("user_id",e.id).select(`
          *,
          project:projects(*)
        `).single();if(m)throw m;return r(g=>g.map(y=>y.id===f?p:y)),{data:p,error:null}}catch(p){const m=p instanceof Error?p.message:"Failed to update time entry";return o(m),{data:null,error:m}}},deleteTimeEntry:async f=>{try{const{error:h}=await le.from("time_entries").delete().eq("id",f).eq("user_id",e.id);if(h)throw h;return r(p=>p.filter(m=>m.id!==f)),{error:null}}catch(h){const p=h instanceof Error?h.message:"Failed to delete time entry";return o(p),{error:p}}},refetch:s}}function q9(){const{entries:e}=Zt(),{user:t}=Fr(),[r,n]=x.useState({billing_percentage:94,absence_percentage:15});x.useEffect(()=>{(async()=>{if(t)try{const b=new Date,w=b.getFullYear(),j=b.getMonth()+1,{data:S,error:N}=await le.from("monthly_settings").select("billing_percentage, absence_percentage").eq("user_id",t.id).eq("year",w).eq("month",j).single();if(S&&!N)n({billing_percentage:S.billing_percentage,absence_percentage:S.absence_percentage});else{const{data:E,error:C}=await le.from("user_profiles").select("debit_rate_monthly, absence_percentage").eq("id",t.id).single();E&&!C&&n({billing_percentage:E.debit_rate_monthly||94,absence_percentage:E.absence_percentage||15})}}catch(b){console.error("Error loading user settings:",b)}})()},[t]);const i=new Date,a=i.getMonth(),o=i.getFullYear(),c=e.filter(v=>{const b=new Date(v.date+"T00:00:00");return b.getMonth()===a&&b.getFullYear()===o}).reduce((v,b)=>v+b.hours,0),u=new Date(o,a+1,0).getDate(),p=Array.from({length:u},(v,b)=>{const w=new Date(o,a,b+1);return w.getDay()!==0&&w.getDay()!==6}).filter(Boolean).length*8*(1-r.absence_percentage/100)*(r.billing_percentage/100),m=p>0?c/p*100:0,g=Math.max(0,p-c),y=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];return l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-2",children:l.jsxs(Y,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Loggad tid - ",y[a]]})}),l.jsx(H,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-2xl font-bold",children:[c.toFixed(1),"h"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Framsteg mot mål"}),l.jsxs("span",{className:"text-muted-foreground",children:[m.toFixed(0),"%"]})]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(m,100)}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-muted-foreground",children:g>0?`${g.toFixed(0)}h kvar till mål`:"Målet nått!"})]}),l.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(zt,{className:"h-3 w-3"}),l.jsxs("span",{children:["Mål: ",p.toFixed(0),"h debiterbara timmar"]})]}),l.jsxs("div",{children:["Debiteringsgrad: ",r.billing_percentage,"% | Frånvaro: ",r.absence_percentage,"%"]})]})]})})]})}function K9(){const{entries:e}=Zt(),{user:t}=Fr(),[r,n]=x.useState({billing_percentage:94,absence_percentage:15});x.useEffect(()=>{(async()=>{if(t)try{const p=new Date,m=p.getFullYear(),g=p.getMonth()+1,{data:y,error:v}=await le.from("monthly_settings").select("billing_percentage, absence_percentage").eq("user_id",t.id).eq("year",m).eq("month",g).single();if(y&&!v)n({billing_percentage:y.billing_percentage,absence_percentage:y.absence_percentage});else{const{data:b,error:w}=await le.from("user_profiles").select("debit_rate_monthly, absence_percentage").eq("id",t.id).single();b&&!w&&n({billing_percentage:b.debit_rate_monthly||94,absence_percentage:b.absence_percentage||15})}}catch(p){console.error("Error loading user settings:",p)}})()},[t]);const i=new Date().toISOString().split("T")[0],a=e.filter(h=>h.date===i),o=a.reduce((h,p)=>h+p.hours,0),s=21,c=s*8*(1-r.absence_percentage/100)*(r.billing_percentage/100)/s,u=c>0?o/c*100:0,d=Math.max(0,c-o),f=()=>u>=100?"text-green-600":u>=75?"text-blue-600":u>=50?"text-yellow-600":"text-gray-600";return l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-2",children:l.jsxs(Y,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Dagens timmar"]})}),l.jsx(H,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:`text-3xl font-bold ${f()}`,children:[o.toFixed(1),"h"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Dagsmål"}),l.jsxs("span",{className:"text-muted-foreground",children:[u.toFixed(0),"%"]})]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${u>=100?"bg-green-500":u>=75?"bg-blue-500":u>=50?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.min(u,100)}%`}})})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-muted-foreground",children:d>0?`${d.toFixed(1)}h kvar till mål`:u>=100?"Dagsmål uppnått!":"På rätt spår"})]}),l.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(zt,{className:"h-3 w-3"}),l.jsxs("span",{children:["Mål: ",c.toFixed(1),"h debiterbara/dag"]})]}),l.jsxs("div",{children:[a.length," ",a.length===1?"registrering":"registreringar"," idag"]})]})]})})]})}var jp={},TO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(TO);var ob={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ob);var sb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(sb);var Sp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,o="",s="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const u=r[a];s?u==="\\"&&a+1<i?(a++,o+=r[a]):u===s?s="":o+=u:c?u==='"'||u==="'"?s=u:u==="]"?(c=!1,n.push(o),o=""):o+=u:u==="["?(c=!0,o&&(n.push(o),o="")):u==="."?o&&(n.push(o),o=""):o+=u,a++}return o&&n.push(o),n}e.toPath=t})(Sp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TO,r=ob,n=sb,i=Sp;function a(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?r.isDeepKey(c)?a(s,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?u:d}}}function o(s,c,u){if(c.length===0)return u;let d=s;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(jp);var G9=jp.get;const ha=un(G9);var DO={exports:{}},$e={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb=Symbol.for("react.transitional.element"),cb=Symbol.for("react.portal"),Np=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),Cp=Symbol.for("react.consumer"),_p=Symbol.for("react.context"),kp=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),Tp=Symbol.for("react.memo"),Dp=Symbol.for("react.lazy"),V9=Symbol.for("react.view_transition"),Y9=Symbol.for("react.client.reference");function dn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lb:switch(e=e.type,e){case Np:case Pp:case Ep:case Op:case Ap:case V9:return e;default:switch(e=e&&e.$$typeof,e){case _p:case kp:case Dp:case Tp:return e;case Cp:return e;default:return t}}case cb:return t}}}$e.ContextConsumer=Cp;$e.ContextProvider=_p;$e.Element=lb;$e.ForwardRef=kp;$e.Fragment=Np;$e.Lazy=Dp;$e.Memo=Tp;$e.Portal=cb;$e.Profiler=Pp;$e.StrictMode=Ep;$e.Suspense=Op;$e.SuspenseList=Ap;$e.isContextConsumer=function(e){return dn(e)===Cp};$e.isContextProvider=function(e){return dn(e)===_p};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lb};$e.isForwardRef=function(e){return dn(e)===kp};$e.isFragment=function(e){return dn(e)===Np};$e.isLazy=function(e){return dn(e)===Dp};$e.isMemo=function(e){return dn(e)===Tp};$e.isPortal=function(e){return dn(e)===cb};$e.isProfiler=function(e){return dn(e)===Pp};$e.isStrictMode=function(e){return dn(e)===Ep};$e.isSuspense=function(e){return dn(e)===Op};$e.isSuspenseList=function(e){return dn(e)===Ap};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Np||e===Pp||e===Ep||e===Op||e===Ap||typeof e=="object"&&e!==null&&(e.$$typeof===Dp||e.$$typeof===Tp||e.$$typeof===_p||e.$$typeof===Cp||e.$$typeof===kp||e.$$typeof===Y9||e.getModuleId!==void 0)};$e.typeOf=dn;DO.exports=$e;var X9=DO.exports,Nt=e=>e===0?0:e>0?1:-1,wr=e=>typeof e=="number"&&e!=+e,Ga=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Q=e=>(typeof e=="number"||e instanceof Number)&&!wr(e),Hn=e=>Q(e)||typeof e=="string",J9=0,Tc=e=>{var t=++J9;return"".concat(e||"").concat(t)},sr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Q(t)&&typeof t!="string")return n;var a;if(Ga(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return wr(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},IO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},US=(e,t)=>Q(e)&&Q(t)?r=>e+r*(t-e):()=>t;function $t(e,t,r){return Q(e)&&Q(t)?e+r*(t-e):t}function MO(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ha(n,t))===r)}var Ue=e=>e===null||typeof e>"u",xu=e=>Ue(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Q9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ub(e){if(typeof e!="string")return!1;var t=Q9;return t.includes(e)}var Z9=["viewBox","children"],WS=["points","pathLength"],Sg={svg:Z9,polygon:WS,polyline:WS},db=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{ub(i)&&(n[i]=a=>r[i](r,a))}),n},e7=(e,t,r)=>n=>(e(t,r,n),null),Ip=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];ub(i)&&typeof a=="function"&&(n||(n={}),n[i]=e7(a,t,r))}),n},t7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function $O(e){if(typeof e!="string")return!1;var t=t7;return t.includes(e)}function kn(e){var t=Object.entries(e).filter(r=>{var[n]=r;return $O(n)});return Object.fromEntries(t)}var HS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",qS=null,Ng=null,RO=e=>{if(e===qS&&Array.isArray(Ng))return Ng;var t=[];return x.Children.forEach(e,r=>{Ue(r)||(X9.isFragment(r)?t=t.concat(RO(r.props.children)):t.push(r))}),Ng=t,qS=e,t};function bu(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>HS(i)):n=[HS(t)],RO(e).forEach(i=>{var a=ha(i,"type.displayName")||ha(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var Mp=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,r7=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(Sg==null?void 0:Sg[n]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),s=typeof e!="function"&&(!!n&&a.includes(t)||$O(t)),c=!!r&&ub(t);return o||s||c},ze=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;r7((o=n)===null||o===void 0?void 0:o[a],a,t,r)&&(i[a]=n[a])}),i},n7=["children","width","height","viewBox","className","style","title","desc"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function i7(e,t){if(e==null)return{};var r,n,i=a7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function a7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LO=x.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:c,desc:u}=e,d=i7(e,n7),f=a||{width:n,height:i,x:0,y:0},h=je("recharts-surface",o);return x.createElement("svg",Ey({},ze(d,!0,"svg"),{className:h,width:n,height:i,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,u),r)}),o7=["children","className"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function s7(e,t){if(e==null)return{};var r,n,i=l7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nt=x.forwardRef((e,t)=>{var{children:r,className:n}=e,i=s7(e,o7),a=je("recharts-layer",n);return x.createElement("g",Py({className:a},ze(i,!0),{ref:t}),r)}),c7=x.createContext(null);function Le(e){return function(){return e}}const FO=Math.cos,Rf=Math.sin,On=Math.sqrt,Lf=Math.PI,$p=2*Lf,Cy=Math.PI,_y=2*Cy,Fa=1e-6,u7=_y-Fa;function BO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function d7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BO;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class f7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BO:d7(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-t,u=i-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Fa)if(!(Math.abs(f*c-u*d)>Fa)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=i-s,g=c*c+u*u,y=p*p+m*m,v=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((Cy-Math.acos((g+h-y)/(2*v*b)))/2),j=w/b,S=w/v;Math.abs(j-1)>Fa&&this._append`L${t+j*d},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),u=t+s,d=r+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fa||Math.abs(this._y1-d)>Fa)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%_y+_y),h>u7?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Fa&&this._append`A${n},${n},0,${+(h>=Cy)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function fb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new f7(t)}function hb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rp(e){return new zO(e)}function UO(e){return e[0]}function WO(e){return e[1]}function HO(e,t){var r=Le(!0),n=null,i=Rp,a=null,o=fb(s);e=typeof e=="function"?e:e===void 0?UO:Le(e),t=typeof t=="function"?t:t===void 0?WO:Le(t);function s(c){var u,d=(c=hb(c)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(p)return a=null,p+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Le(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Le(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Le(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function pd(e,t,r){var n=null,i=Le(!0),a=null,o=Rp,s=null,c=fb(u);e=typeof e=="function"?e:e===void 0?UO:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WO:Le(+r);function u(f){var h,p,m,g=(f=hb(f)).length,y,v=!1,b,w=new Array(g),j=new Array(g);for(a==null&&(s=o(b=c())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],j[m]);s.lineEnd(),s.areaEnd()}v&&(w[h]=+e(y,h,f),j[h]=+t(y,h,f),s.point(n?+n(y,h,f):w[h],r?+r(y,h,f):j[h]))}if(b)return s=null,b+""||null}function d(){return HO().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Le(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class qO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function h7(e){return new qO(e,!0)}function p7(e){return new qO(e,!1)}const pb={draw(e,t){const r=On(t/Lf);e.moveTo(r,0),e.arc(0,0,r,0,$p)}},m7={draw(e,t){const r=On(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},KO=On(1/3),g7=KO*2,v7={draw(e,t){const r=On(t/g7),n=r*KO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},y7={draw(e,t){const r=On(t),n=-r/2;e.rect(n,n,r,r)}},x7=.8908130915292852,GO=Rf(Lf/10)/Rf(7*Lf/10),b7=Rf($p/10)*GO,w7=-FO($p/10)*GO,j7={draw(e,t){const r=On(t*x7),n=b7*r,i=w7*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=$p*a/5,s=FO(o),c=Rf(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*i,c*n+s*i)}e.closePath()}},Eg=On(3),S7={draw(e,t){const r=-On(t/(Eg*3));e.moveTo(0,r*2),e.lineTo(-Eg*r,-r),e.lineTo(Eg*r,-r),e.closePath()}},Wr=-.5,Hr=On(3)/2,ky=1/On(12),N7=(ky/2+1)*3,E7={draw(e,t){const r=On(t/N7),n=r/2,i=r*ky,a=n,o=r*ky+r,s=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(Wr*n-Hr*i,Hr*n+Wr*i),e.lineTo(Wr*a-Hr*o,Hr*a+Wr*o),e.lineTo(Wr*s-Hr*c,Hr*s+Wr*c),e.lineTo(Wr*n+Hr*i,Wr*i-Hr*n),e.lineTo(Wr*a+Hr*o,Wr*o-Hr*a),e.lineTo(Wr*s+Hr*c,Wr*c-Hr*s),e.closePath()}};function P7(e,t){let r=null,n=fb(i);e=typeof e=="function"?e:Le(e||pb),t=typeof t=="function"?t:Le(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Le(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Le(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ff(){}function Bf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VO(e){this._context=e}VO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C7(e){return new VO(e)}function YO(e){this._context=e}YO.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _7(e){return new YO(e)}function XO(e){this._context=e}XO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k7(e){return new XO(e)}function JO(e){this._context=e}JO.prototype={areaStart:Ff,areaEnd:Ff,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function O7(e){return new JO(e)}function KS(e){return e<0?-1:1}function GS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(KS(a)+KS(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function VS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Pg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function zf(e){this._context=e}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pg(this,this._t0,VS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pg(this,VS(this,r=GS(this,e,t)),r);break;default:Pg(this,this._t0,r=GS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function QO(e){this._context=new ZO(e)}(QO.prototype=Object.create(zf.prototype)).point=function(e,t){zf.prototype.point.call(this,t,e)};function ZO(e){this._context=e}ZO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function A7(e){return new zf(e)}function T7(e){return new QO(e)}function eA(e){this._context=e}eA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=YS(e),i=YS(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YS(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function D7(e){return new eA(e)}function Lp(e,t){this._context=e,this._t=t}Lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function I7(e){return new Lp(e,.5)}function M7(e){return new Lp(e,0)}function $7(e){return new Lp(e,1)}function ks(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Oy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function R7(e,t){return e[t]}function L7(e){const t=[];return t.key=e,t}function F7(){var e=Le([]),t=Oy,r=ks,n=R7;function i(a){var o=Array.from(e.apply(this,arguments),L7),s,c=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,d=hb(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Le(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Le(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Oy:typeof a=="function"?a:Le(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ks,i):r},i}function B7(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ks(e,t)}}function z7(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}ks(e,t)}}function U7(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=e[t[m]],y=g[n][1]||0,v=g[n-1][1]||0;p+=y-v}c+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,ks(e,t)}}var W7=["type","size","sizeType"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){H7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H7(e,t,r){return(t=q7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G7(e,t){if(e==null)return{};var r,n,i=V7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tA={symbolCircle:pb,symbolCross:m7,symbolDiamond:v7,symbolSquare:y7,symbolStar:j7,symbolTriangle:S7,symbolWye:E7},Y7=Math.PI/180,X7=e=>{var t="symbol".concat(xu(e));return tA[t]||pb},J7=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Y7;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Q7=(e,t)=>{tA["symbol".concat(xu(e))]=t},rA=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=G7(e,W7),a=JS(JS({},i),{},{type:t,size:r,sizeType:n}),o=()=>{var f=X7(t),h=P7().type(f).size(J7(r,n,t));return h()},{className:s,cx:c,cy:u}=a,d=ze(a,!0);return c===+c&&u===+u&&r===+r?x.createElement("path",Ay({},d,{className:je("recharts-symbols",s),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};rA.registerSymbol=Q7;var nA={},iA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(iA);var mb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(mb);var aA={},Fp={},oA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(oA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oA;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Fp);var sA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(sA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fp,r=sA;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(aA);var lA={},cA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jp;function r(n){return function(i){return t.get(i,n)}}e.property=r})(cA);var uA={},Cg={},_g={},gb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(gb);var vb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(vb);var Bp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Bp);var QS;function Z7(){return QS||(QS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yb(),r=gb,n=vb,i=Bp;function a(f,h,p){return typeof p!="function"?t.isMatch(f,h):o(f,h,function m(g,y,v,b,w,j){const S=p(g,y,v,b,w,j);return S!==void 0?!!S:o(g,y,m,j)},new Map)}function o(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return s(f,h,p,m);case"function":return Object.keys(h).length>0?o(f,{...h},p,m):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function s(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,m);if(h instanceof Map)return c(f,h,p,m);if(h instanceof Set)return d(f,h,p,m);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let y=0;y<g.length;y++){const v=g[y];if(!n.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!p(f[v],h[v],v,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function c(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,y]of h.entries()){const v=f.get(g);if(p(v,y,g,f,h,m)===!1)return!1}return!0}function u(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let y=0;y<h.length;y++){const v=h[y];let b=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const j=f[w];let S=!1;if(p(j,v,y,f,h,m)&&(S=!0),S){g.add(w),b=!0;break}}if(!b)return!1}return!0}function d(f,h,p,m){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,m):!1}e.isMatchWith=a,e.isSetMatch=d}(_g)),_g}var ZS;function yb(){return ZS||(ZS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z7();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(Cg)),Cg}var dA={},xb={},bb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(bb);var zp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(zp);var Up={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",S="[object Int8Array]",N="[object Int16Array]",E="[object Int32Array]",C="[object BigInt64Array]",P="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=P,e.float64ArrayTag=k,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=E,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(Up);var fA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(fA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bb,r=zp,n=Up,i=vb,a=fA;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,h,p=new Map,m=void 0){const g=m==null?void 0:m(d,f,h,p);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const y=new Array(d.length);p.set(d,y);for(let v=0;v<d.length;v++)y[v]=s(d[v],v,h,p,m);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;p.set(d,y);for(const[v,b]of d)y.set(v,s(b,v,h,p,m));return y}if(d instanceof Set){const y=new Set;p.set(d,y);for(const v of d)y.add(s(v,void 0,h,p,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,y);for(let v=0;v<d.length;v++)y[v]=s(d[v],v,h,p,m);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,y),c(y,d,h,p,m),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return p.set(d,y),c(y,d,h,p,m),y}if(d instanceof Blob){const y=new Blob([d],{type:d.type});return p.set(d,y),c(y,d,h,p,m),y}if(d instanceof Error){const y=new d.constructor;return p.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,h,p,m),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return p.set(d,y),c(y,d,h,p,m),y}return d}function c(d,f,h=d,p,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const v=g[y],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=s(f[v],v,h,p,m))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(xb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xb;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(dA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yb(),r=dA;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(uA);var hA={},pA={},mA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xb,r=Up;function n(i,a){return t.cloneDeepWith(i,(o,s,c,u)=>{const d=a==null?void 0:a(o,s,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(mA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mA;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(pA);var gA={},wb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(wb);var vA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zp;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(vA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ob,r=wb,n=vA,i=Sp;function a(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?c=i.toPath(s):c=[s],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(gA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yb(),r=sb,n=pA,i=jp,a=gA;function o(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,s);return d===void 0?a.has(u,s):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(hA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mb,r=cA,n=uA,i=hA;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(lA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iA,r=mb,n=aA,i=lA;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(nA);var eH=nA.uniqBy;const eN=un(eH);function tH(e,t,r){return t===!0?eN(e,r):typeof t=="function"?eN(e,t):e}var yA={exports:{}},xA={},bA={exports:{}},wA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=x;function rH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nH=typeof Object.is=="function"?Object.is:rH,iH=Os.useState,aH=Os.useEffect,oH=Os.useLayoutEffect,sH=Os.useDebugValue;function lH(e,t){var r=t(),n=iH({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return oH(function(){i.value=r,i.getSnapshot=t,kg(i)&&a({inst:i})},[e,r,t]),aH(function(){return kg(i)&&a({inst:i}),e(function(){kg(i)&&a({inst:i})})},[e]),sH(r),r}function kg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nH(e,r)}catch{return!0}}function cH(e,t){return t()}var uH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cH:lH;wA.useSyncExternalStore=Os.useSyncExternalStore!==void 0?Os.useSyncExternalStore:uH;bA.exports=wA;var dH=bA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp=x,fH=dH;function hH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pH=typeof Object.is=="function"?Object.is:hH,mH=fH.useSyncExternalStore,gH=Wp.useRef,vH=Wp.useEffect,yH=Wp.useMemo,xH=Wp.useDebugValue;xA.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=gH(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=yH(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,pH(d,p))return m;var g=n(p);return i!==void 0&&i(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var s=mH(e,a[0],a[1]);return vH(function(){o.hasValue=!0,o.value=s},[s]),xH(s),s};yA.exports=xA;var bH=yA.exports,jb=x.createContext(null),wH=e=>e,it=()=>{var e=x.useContext(jb);return e?e.store.dispatch:wH},Vd=()=>{},jH=()=>Vd,SH=(e,t)=>e===t;function ae(e){var t=x.useContext(jb);return bH.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:jH,t?t.store.getState:Vd,t?t.store.getState:Vd,t?e:Vd,SH)}function NH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function EH(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function PH(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var tN=e=>Array.isArray(e)?e:[e];function CH(e){const t=Array.isArray(e[0])?e[0]:e;return PH(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _H(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var kH=class{constructor(e){this.value=e}deref(){return this.value}},OH=typeof WeakRef<"u"?WeakRef:kH,AH=0,rN=1;function md(){return{s:AH,v:void 0,o:null,p:null}}function jA(e,t={}){let r=md();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var f;let s=r;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const y=g.get(m);y===void 0?(s=md(),g.set(m,s)):s=y}else{let g=s.p;g===null&&(s.p=g=new Map);const y=g.get(m);y===void 0?(s=md(),g.set(m,s)):s=y}}const u=s;let d;if(s.s===rN)d=s.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new OH(d):d}return u.s=rN,u.v=d,d}return o.clearCache=()=>{r=md(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function TH(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),NH(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=jA,argsMemoizeOptions:m=[]}=d,g=tN(h),y=tN(m),v=CH(i),b=f(function(){return a++,u.apply(null,arguments)},...g),w=p(function(){o++;const S=_H(v,arguments);return s=b.apply(null,S),s},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var $=TH(jA),DH=Object.assign((e,t=$)=>{EH(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>DH}),SA={},NA={},EA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(EA);var PA={},Sb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Sb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(PA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EA,r=PA,n=Sp;function i(a,o,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,m)=>{let g=p;for(let y=0;y<m.length&&g!=null;++y)g=g[m[y]];return g},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(p.criteria[g],m.criteria[g],s[g]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(NA);var CA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,c)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&c<a?o(d,c+1):i.push(d)}};return o(r,0),i}e.flatten=t})(CA);var Nb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wb,r=Fp,n=gb,i=Bp;function a(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?i.eq(c[s],o):!1}e.isIterateeCall=a})(Nb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NA,r=CA,n=Nb;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(SA);var IH=SA.sortBy;const Hp=un(IH);var _A=e=>e.legend.settings,MH=e=>e.legend.size,$H=e=>e.legend.payload;$([$H,_A],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Hp(n,r):n});var gd=1;function RH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>gd||Math.abs(o.left-t.left)>gd||Math.abs(o.top-t.top)>gd||Math.abs(o.width-t.width)>gd)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Dt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var LH=typeof Symbol=="function"&&Symbol.observable||"@@observable",nN=LH,Og=()=>Math.random().toString(36).substring(7).split("").join("."),FH={INIT:`@@redux/INIT${Og()}`,REPLACE:`@@redux/REPLACE${Og()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Og()}`},Uf=FH;function Eb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function kA(e,t,r){if(typeof e!="function")throw new Error(Dt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Dt(1));return r(kA)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,c=!1;function u(){o===a&&(o=new Map,a.forEach((y,v)=>{o.set(v,y)}))}function d(){if(c)throw new Error(Dt(3));return i}function f(y){if(typeof y!="function")throw new Error(Dt(4));if(c)throw new Error(Dt(5));let v=!0;u();const b=s++;return o.set(b,y),function(){if(v){if(c)throw new Error(Dt(6));v=!1,u(),o.delete(b),a=null}}}function h(y){if(!Eb(y))throw new Error(Dt(7));if(typeof y.type>"u")throw new Error(Dt(8));if(typeof y.type!="string")throw new Error(Dt(17));if(c)throw new Error(Dt(9));try{c=!0,i=n(i,y)}finally{c=!1}return(a=o).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(Dt(10));n=y,h({type:Uf.REPLACE})}function m(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Dt(11));function b(){const j=v;j.next&&j.next(d())}return b(),{unsubscribe:y(b)}},[nN](){return this}}}return h({type:Uf.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[nN]:m}}function BH(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Uf.INIT})>"u")throw new Error(Dt(12));if(typeof r(void 0,{type:Uf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function OA(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{BH(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=o[f],m=h(p,s);if(typeof m>"u")throw s&&s.type,new Error(Dt(14));u[f]=m,c=c||m!==p}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Wf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function zH(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Dt(15))};const o={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},s=e.map(c=>c(o));return a=Wf(...s)(i.dispatch),{...i,dispatch:a}}}function AA(e){return Eb(e)&&"type"in e&&typeof e.type=="string"}var TA=Symbol.for("immer-nothing"),iN=Symbol.for("immer-draftable"),Mr=Symbol.for("immer-state");function wn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var As=Object.getPrototypeOf;function ho(e){return!!e&&!!e[Mr]}function gi(e){var t;return e?DA(e)||Array.isArray(e)||!!e[iN]||!!((t=e.constructor)!=null&&t[iN])||Kp(e)||Gp(e):!1}var UH=Object.prototype.constructor.toString();function DA(e){if(!e||typeof e!="object")return!1;const t=As(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===UH}function Hf(e,t){qp(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function qp(e){const t=e[Mr];return t?t.type_:Array.isArray(e)?1:Kp(e)?2:Gp(e)?3:0}function Ty(e,t){return qp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IA(e,t,r){const n=qp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function WH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Kp(e){return e instanceof Map}function Gp(e){return e instanceof Set}function Ba(e){return e.copy_||e.base_}function Dy(e,t){if(Kp(e))return new Map(e);if(Gp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=DA(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Mr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(As(e),n)}else{const n=As(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Pb(e,t=!1){return Vp(e)||ho(e)||!gi(e)||(qp(e)>1&&(e.set=e.add=e.clear=e.delete=HH),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Pb(n,!0))),e}function HH(){wn(2)}function Vp(e){return Object.isFrozen(e)}var qH={};function po(e){const t=qH[e];return t||wn(0,e),t}var Dc;function MA(){return Dc}function KH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aN(e,t){t&&(po("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Iy(e){My(e),e.drafts_.forEach(GH),e.drafts_=null}function My(e){e===Dc&&(Dc=e.parent_)}function oN(e){return Dc=KH(Dc,e)}function GH(e){const t=e[Mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function sN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Mr].modified_&&(Iy(t),wn(4)),gi(e)&&(e=qf(t,e),t.parent_||Kf(t,e)),t.patches_&&po("Patches").generateReplacementPatches_(r[Mr].base_,e,t.patches_,t.inversePatches_)):e=qf(t,r,[]),Iy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==TA?e:void 0}function qf(e,t,r){if(Vp(t))return t;const n=t[Mr];if(!n)return Hf(t,(i,a)=>lN(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Kf(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Hf(a,(s,c)=>lN(e,n,i,s,c,r,o)),Kf(e,i,!1),r&&e.patches_&&po("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function lN(e,t,r,n,i,a,o){if(ho(i)){const s=a&&t&&t.type_!==3&&!Ty(t.assigned_,n)?a.concat(n):void 0,c=qf(e,i,s);if(IA(r,n,c),ho(c))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(gi(i)&&!Vp(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qf(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Kf(e,i)}}function Kf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Pb(t,r)}function VH(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:MA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Cb;r&&(i=[n],a=Ic);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var Cb={get(e,t){if(t===Mr)return e;const r=Ba(e);if(!Ty(r,t))return YH(e,r,t);const n=r[t];return e.finalized_||!gi(n)?n:n===Ag(e.base_,t)?(Tg(e),e.copy_[t]=Ry(n,e)):n},has(e,t){return t in Ba(e)},ownKeys(e){return Reflect.ownKeys(Ba(e))},set(e,t,r){const n=$A(Ba(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ag(Ba(e),t),a=i==null?void 0:i[Mr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(WH(r,i)&&(r!==void 0||Ty(e.base_,t)))return!0;Tg(e),$y(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ag(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Tg(e),$y(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ba(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){wn(11)},getPrototypeOf(e){return As(e.base_)},setPrototypeOf(){wn(12)}},Ic={};Hf(Cb,(e,t)=>{Ic[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ic.deleteProperty=function(e,t){return Ic.set.call(this,e,t,void 0)};Ic.set=function(e,t,r){return Cb.set.call(this,e[0],t,r,e[0])};function Ag(e,t){const r=e[Mr];return(r?Ba(r):e)[t]}function YH(e,t,r){var i;const n=$A(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function $A(e,t){if(!(t in e))return;let r=As(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=As(r)}}function $y(e){e.modified_||(e.modified_=!0,e.parent_&&$y(e.parent_))}function Tg(e){e.copy_||(e.copy_=Dy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var XH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(c=a,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&wn(6),n!==void 0&&typeof n!="function"&&wn(7);let i;if(gi(t)){const a=oN(this),o=Ry(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?Iy(a):My(a)}return aN(a,n),sN(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===TA&&(i=void 0),this.autoFreeze_&&Pb(i,!0),n){const a=[],o=[];po("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else wn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){gi(e)||wn(8),ho(e)&&(e=li(e));const t=oN(this),r=Ry(e,void 0);return r[Mr].isManual_=!0,My(t),r}finishDraft(e,t){const r=e&&e[Mr];(!r||!r.isManual_)&&wn(9);const{scope_:n}=r;return aN(n,t),sN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=po("Patches").applyPatches_;return ho(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Ry(e,t){const r=Kp(e)?po("MapSet").proxyMap_(e,t):Gp(e)?po("MapSet").proxySet_(e,t):VH(e,t);return(t?t.scope_:MA()).drafts_.push(r),r}function li(e){return ho(e)||wn(10,e),RA(e)}function RA(e){if(!gi(e)||Vp(e))return e;const t=e[Mr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Dy(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Dy(e,!0);return Hf(r,(n,i)=>{IA(r,n,RA(i))}),t&&(t.finalized_=!1),r}var $r=new XH,LA=$r.produce;$r.produceWithPatches.bind($r);$r.setAutoFreeze.bind($r);$r.setUseStrictShallowCopy.bind($r);$r.applyPatches.bind($r);$r.createDraft.bind($r);$r.finishDraft.bind($r);function FA(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var JH=FA(),QH=FA,ZH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wf:Wf.apply(null,arguments)};function ln(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Dr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>AA(n)&&n.type===e,r}var BA=class Fl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fl.prototype)}static get[Symbol.species](){return Fl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fl(...t[0].concat(this)):new Fl(...t.concat(this))}};function cN(e){return gi(e)?LA(e,()=>{}):e}function vd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function eq(e){return typeof e=="boolean"}var tq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new BA;return r&&(eq(r)?o.push(JH):o.push(QH(r.extraArgument))),o},rq="RTK_autoBatch",uN=e=>t=>{setTimeout(t,e)},nq=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uN(10):e.type==="callback"?e.queueNotification:uN(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return s.add(d),()=>{h(),s.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[rq]),a=!i,a&&(o||(o=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},iq=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new BA(e);return n&&i.push(nq(typeof n=="object"?n:void 0)),i};function aq(e){const t=tq(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Eb(r))s=OA(r);else throw new Error(Dr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Wf;i&&(u=ZH({trace:!1,...typeof i=="object"&&i}));const d=zH(...c),f=iq(d);let h=typeof o=="function"?o(f):f();const p=u(...h);return kA(s,a,p)}function zA(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Dr(28));if(s in t)throw new Error(Dr(29));return t[s]=o,i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function oq(e){return typeof e=="function"}function sq(e,t){let[r,n,i]=zA(t),a;if(oq(e))a=()=>cN(e());else{const s=cN(e);a=()=>s}function o(s=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(ho(d)){const p=f(d,c);return p===void 0?d:p}else{if(gi(d))return LA(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},s)}return o.getInitialState=a,o}var lq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cq=(e=21)=>{let t="",r=e;for(;r--;)t+=lq[Math.random()*64|0];return t},uq=Symbol.for("rtk-slice-createasyncthunk");function dq(e,t){return`${e}/${t}`}function fq({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[uq];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Dr(11));const s=(typeof i.reducers=="function"?i.reducers(pq()):i.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,S){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(Dr(12));if(N in u.sliceCaseReducersByType)throw new Error(Dr(13));return u.sliceCaseReducersByType[N]=S,d},addMatcher(j,S){return u.sliceMatchers.push({matcher:j,reducer:S}),d},exposeAction(j,S){return u.actionCreators[j]=S,d},exposeCaseReducer(j,S){return u.sliceCaseReducersByName[j]=S,d}};c.forEach(j=>{const S=s[j],N={reducerName:j,type:dq(a,j),createNotation:typeof i.reducers=="function"};gq(S)?yq(N,S,d,t):mq(N,S,d)});function f(){const[j={},S=[],N=void 0]=typeof i.extraReducers=="function"?zA(i.extraReducers):[i.extraReducers],E={...j,...u.sliceCaseReducersByType};return sq(i.initialState,C=>{for(let P in E)C.addCase(P,E[P]);for(let P of u.sliceMatchers)C.addMatcher(P.matcher,P.reducer);for(let P of S)C.addMatcher(P.matcher,P.reducer);N&&C.addDefaultCase(N)})}const h=j=>j,p=new Map,m=new WeakMap;let g;function y(j,S){return g||(g=f()),g(j,S)}function v(){return g||(g=f()),g.getInitialState()}function b(j,S=!1){function N(C){let P=C[j];return typeof P>"u"&&S&&(P=vd(m,N,v)),P}function E(C=h){const P=vd(p,S,()=>new WeakMap);return vd(P,C,()=>{const k={};for(const[O,_]of Object.entries(i.selectors??{}))k[O]=hq(_,C,()=>vd(m,C,v),S);return k})}return{reducerPath:j,getSelectors:E,get selectors(){return E(N)},selectSlice:N}}const w={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(j,{reducerPath:S,...N}={}){const E=S??o;return j.inject({reducerPath:E,reducer:y},N),{...w,...b(E,!0)}}};return w}}function hq(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var zr=fq();function pq(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function mq({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!vq(n))throw new Error(Dr(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ln(e,o):ln(e))}function gq(e){return e._reducerDefinitionType==="asyncThunk"}function vq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yq({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Dr(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:c,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),s&&n.addCase(f.pending,s),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||yd,pending:s||yd,rejected:c||yd,settled:u||yd})}function yd(){}var xq="task",UA="listener",WA="completed",_b="cancelled",bq=`task-${_b}`,wq=`task-${WA}`,Ly=`${UA}-${_b}`,jq=`${UA}-${WA}`,Yp=class{constructor(e){Bu(this,"name","TaskAbortError");Bu(this,"message");this.code=e,this.message=`${xq} ${_b} (reason: ${e})`}},kb=(e,t)=>{if(typeof e!="function")throw new TypeError(Dr(32))},Gf=()=>{},HA=(e,t=Gf)=>(e.catch(t),e),qA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),to=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ro=e=>{if(e.aborted){const{reason:t}=e;throw new Yp(t)}};function KA(e,t){let r=Gf;return new Promise((n,i)=>{const a=()=>i(new Yp(e.reason));if(e.aborted){a();return}r=qA(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Gf})}var Sq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Yp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Vf=e=>t=>HA(KA(e,t).then(r=>(ro(e),r))),GA=e=>{const t=Vf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:us}=Object,dN={},Xp="listenerMiddleware",Nq=(e,t)=>{const r=n=>qA(e,()=>to(n,e.reason));return(n,i)=>{kb(n);const a=new AbortController;r(a);const o=Sq(async()=>{ro(e),ro(a.signal);const s=await n({pause:Vf(a.signal),delay:GA(a.signal),signal:a.signal});return ro(a.signal),s},()=>to(a,wq));return i!=null&&i.autoJoin&&t.push(o.catch(Gf)),{result:Vf(e)(o),cancel(){to(a,bq)}}}},Eq=(e,t)=>{const r=async(n,i)=>{ro(t);let a=()=>{};const s=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&s.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await KA(t,Promise.race(s));return ro(t),c}finally{a()}};return(n,i)=>HA(r(n,i))},VA=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=ln(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Dr(21));return kb(a),{predicate:i,type:t,effect:a}},YA=us(e=>{const{type:t,predicate:r,effect:n}=VA(e);return{id:cq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Dr(22))}}},{withTypes:()=>YA}),fN=(e,t)=>{const{type:r,effect:n,predicate:i}=VA(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Fy=e=>{e.pending.forEach(t=>{to(t,Ly)})},Pq=e=>()=>{e.forEach(Fy),e.clear()},hN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},XA=us(ln(`${Xp}/add`),{withTypes:()=>XA}),Cq=ln(`${Xp}/removeAll`),JA=us(ln(`${Xp}/remove`),{withTypes:()=>JA}),_q=(...e)=>{console.error(`${Xp}/error`,...e)},wu=(e={})=>{const t=new Map,{extra:r,onError:n=_q}=e;kb(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&Fy(d)}),a=d=>{const f=fN(t,d)??YA(d);return i(f)};us(a,{withTypes:()=>a});const o=d=>{const f=fN(t,d);return f&&(f.unsubscribe(),d.cancelActive&&Fy(f)),!!f};us(o,{withTypes:()=>o});const s=async(d,f,h,p)=>{const m=new AbortController,g=Eq(a,m.signal),y=[];try{d.pending.add(m),await Promise.resolve(d.effect(f,us({},h,{getOriginalState:p,condition:(v,b)=>g(v,b).then(Boolean),take:g,delay:GA(m.signal),pause:Vf(m.signal),extra:r,signal:m.signal,fork:Nq(m.signal,y),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,b,w)=>{v!==m&&(to(v,Ly),w.delete(v))})},cancel:()=>{to(m,Ly),d.pending.delete(m)},throwIfCancelled:()=>{ro(m.signal)}})))}catch(v){v instanceof Yp||hN(n,v,{raisedBy:"effect"})}finally{await Promise.all(y),to(m,jq),d.pending.delete(m)}},c=Pq(t);return{middleware:d=>f=>h=>{if(!AA(h))return f(h);if(XA.match(h))return a(h.payload);if(Cq.match(h)){c();return}if(JA.match(h))return o(h.payload);let p=d.getState();const m=()=>{if(p===dN)throw new Error(Dr(23));return p};let g;try{if(g=f(h),t.size>0){const y=d.getState(),v=Array.from(t.values());for(const b of v){let w=!1;try{w=b.predicate(h,y,p)}catch(j){w=!1,hN(n,j,{raisedBy:"predicate"})}w&&s(b,h,d,m)}}}finally{p=dN}return g},startListening:a,stopListening:o,clearListeners:c}};function Dr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},QA=zr({name:"chartLayout",initialState:kq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Oq,setLayout:Aq,setChartSize:Tq,setScale:Dq}=QA.actions,Iq=QA.reducer;function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){Mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mq(e,t,r){return(t=$q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}function Rq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yf=Math.PI/180,Lq=e=>e*180/Math.PI,st=(e,t,r,n)=>({x:e+Math.cos(-Yf*n)*r,y:t+Math.sin(-Yf*n)*r}),ZA=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Fq=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},Bq=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=Fq({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,c=Math.acos(s);return n>a&&(c=2*Math.PI-c),{radius:o,angle:Lq(c),angleInRadian:c}},zq=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},Uq=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},Wq=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=Bq({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:c,endAngle:u}=zq(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?mN(mN({},t),{},{radius:i,angle:Uq(d,t)}):null};function eT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return(t=qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var t=Kq(e,"string");return typeof t=="symbol"?t:t+""}function Kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ke(e,t,r){return Ue(e)||Ue(t)?r:Hn(t)?ha(e,t,r):typeof t=="function"?t(e):r}var Gq=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<s;c++){var u=c>0?r[c-1].coordinate:r[s-1].coordinate,d=r[c].coordinate,f=c>=s-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Nt(d-u)!==Nt(f-d)){var p=[];if(Nt(f-d)===Nt(i[1]-i[0])){h=f;var m=d+i[1]-i[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{h=u;var g=f+i[1]-i[0];p[0]=Math.min(d,(g+d)/2),p[1]=Math.max(d,(g+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:o}=r[c]);break}}else{var v=Math.min(u,f),b=Math.max(u,f);if(e>(v+d)/2&&e<=(b+d)/2){({index:o}=r[c]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},Vq=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&Q(e[a]))return Vr(Vr({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&Q(e[o]))return Vr(Vr({},e),{},{[o]:e[o]+(i||0)})}return e},Yn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",tT=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},rT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?Nt(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((v,b)=>{var w=n?n.indexOf(v):v;return{coordinate:o(w)+g,value:v,offset:g,index:b}});return y.filter(v=>!wr(v.coordinate))}return c&&u?u.map((v,b)=>({coordinate:o(v)+g,value:v,index:b,offset:g})):o.ticks&&d!=null?o.ticks(d).map((v,b)=>({coordinate:o(v)+g,value:v,offset:g,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+g,value:n?n[v]:v,index:b,offset:g}))},vN=1e-4,Yq=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-vN,a=Math.max(n[0],n[1])+vN,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},Xq=(e,t)=>{if(!t||t.length!==2||!Q(t[0])||!Q(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Q(e[0])||e[0]<r)&&(i[0]=r),(!Q(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Jq=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=wr(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},Qq=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=wr(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Zq={sign:Jq,expand:B7,none:ks,silhouette:z7,wiggle:U7,positive:Qq},eK=(e,t,r)=>{var n=Zq[r],i=F7().keys(t).value((a,o)=>+ke(a,o,0)).order(Oy).offset(n);return i(e)};function nT(e){return e==null?void 0:String(e)}function Xf(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ue(i[t.dataKey])){var s=MO(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=ke(i,Ue(o)?t.dataKey:o);return Ue(c)?null:t.scale(c)}var yN=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=ke(a,t.dataKey,t.scale.domain()[o]);return Ue(s)?null:t.scale(s)-i/2+n},tK=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},rK=e=>{var t=e.flat(2).filter(Q);return[Math.min(...t),Math.max(...t)]},nK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iK=(e,t,r)=>{if(e!=null)return nK(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((c,u)=>{var d=eT(u,t,r),f=rK(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},xN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mo=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Hp(t,d=>d.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var c=i[o],u=i[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function wN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Vr(Vr({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Sa(e,t){if(e)return String(e);if(typeof t=="string")return t}function aK(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?Wq({x:e,y:t},n):null}var oK=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Vr(Vr(Vr({},n),st(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:c}=n;return Vr(Vr(Vr({},n),st(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{x:0,y:0}},sK=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ei=e=>e.layout.width,Pi=e=>e.layout.height,lK=e=>e.layout.scale,iT=e=>e.layout.margin,Ob=$(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ab=$(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),aT="data-recharts-item-index",oT="data-recharts-item-data-key",Jp=60;function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){cK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cK(e,t,r){return(t=uK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uK(e){var t=dK(e,"string");return typeof t=="symbol"?t:t+""}function dK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fK=e=>e.brush.height,vt=$([Ei,Pi,iT,fK,Ob,Ab,_A,MH],(e,t,r,n,i,a,o,s)=>{var c=a.reduce((m,g)=>{var{orientation:y}=g;if(!g.mirror&&!g.hide){var v=typeof g.width=="number"?g.width:Jp;return Ii(Ii({},m),{},{[y]:m[y]+v})}return m},{left:r.left||0,right:r.right||0}),u=i.reduce((m,g)=>{var{orientation:y}=g;return!g.mirror&&!g.hide?Ii(Ii({},m),{},{[y]:ha(m,"".concat(y))+g.height}):m},{top:r.top||0,bottom:r.bottom||0}),d=Ii(Ii({},u),c),f=d.bottom;d.bottom+=n,d=Vq(d,o,s);var h=e-d.left-d.right,p=t-d.top-d.bottom;return Ii(Ii({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(p,0)})}),hK=$(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),sT=$(Ei,Pi,(e,t)=>({x:0,y:0,width:e,height:t})),pK=x.createContext(null),er=()=>x.useContext(pK)!=null,Qp=e=>e.brush,Zp=$([Qp,vt,iT],(e,t,r)=>({height:e.height,x:Q(e.x)?e.x:t.left,y:Q(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Q(e.width)?e.width:t.width})),Tb=()=>{var e,t=er(),r=ae(hK),n=ae(Zp),i=(e=ae(Qp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},mK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},lT=()=>{var e;return(e=ae(vt))!==null&&e!==void 0?e:mK},cT=()=>ae(Ei),uT=()=>ae(Pi),we=e=>e.layout.layoutType,ju=()=>ae(we),gK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dT=zr({name:"legend",initialState:gK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=li(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:$ce,setLegendSettings:Rce,addLegendPayload:fT,removeLegendPayload:hT}=dT.actions,vK=dT.reducer;function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){yK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yK(e,t,r){return(t=xK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wK(e){return Array.isArray(e)&&Hn(e[0])&&Hn(e[1])?e.join(" ~ "):e}var jK=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(a&&a.length){var S={padding:0,margin:0},N=(s?Hp(a,s):a).map((E,C)=>{if(E.type==="none")return null;var P=E.formatter||o||wK,{value:k,name:O}=E,_=k,A=O;if(P){var D=P(k,O,E,C,a);if(Array.isArray(D))[_,A]=D;else if(D!=null)_=D;else return null}var M=Dg({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:M},Hn(A)?x.createElement("span",{className:"recharts-tooltip-item-name"},A):null,Hn(A)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},_),x.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:S},N)}return null},m=Dg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Dg({margin:0},i),y=!Ue(d),v=y?d:"",b=je("recharts-default-tooltip",c),w=je("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(v=f(d,a));var j=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",By({className:b,style:m},j),x.createElement("p",{className:w,style:g},x.isValidElement(v)?v:"".concat(v)),p())},Sl="recharts-tooltip-wrapper",SK={visibility:"hidden"};function NK(e){var{coordinate:t,translateX:r,translateY:n}=e;return je(Sl,{["".concat(Sl,"-right")]:Q(r)&&t&&Q(t.x)&&r>=t.x,["".concat(Sl,"-left")]:Q(r)&&t&&Q(t.x)&&r<t.x,["".concat(Sl,"-bottom")]:Q(n)&&t&&Q(t.y)&&n>=t.y,["".concat(Sl,"-top")]:Q(n)&&t&&Q(t.y)&&n<t.y})}function NN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(a&&Q(a[n]))return a[n];var d=r[n]-s-(i>0?i:0),f=r[n]+i;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var p=d,m=h;return p<m?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var g=f+s,y=h+u;return g>y?Math.max(d,h):Math.max(f,h)}function EK(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function PK(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=NN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=NN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=EK({translateX:d,translateY:f,useTranslate3d:s})):u=SK,{cssProperties:u,cssClasses:NK({translateX:d,translateY:f,coordinate:r})}}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){zy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zy(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kK extends x.PureComponent{constructor(){super(...arguments),zy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=PK({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),j=v?{}:xd(xd({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=xd(xd({},j),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:y},a)}}var OK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Na={isSsr:OK()},pT=()=>ae(e=>e.rootProps.accessibilityLayer);function Bt(e){return Number.isFinite(e)}function Ts(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t,r){return(t=TK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=DK(e,"string");return typeof t=="symbol"?t:t+""}function DK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _N={curveBasisClosed:_7,curveBasisOpen:k7,curveBasis:C7,curveBumpX:h7,curveBumpY:p7,curveLinearClosed:O7,curveLinear:Rp,curveMonotoneX:A7,curveMonotoneY:T7,curveNatural:D7,curveStep:I7,curveStepAfter:$7,curveStepBefore:M7},bd=e=>Bt(e.x)&&Bt(e.y),Nl=e=>e.x,El=e=>e.y,IK=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(xu(e));return(r==="curveMonotone"||r==="curveBump")&&t?_N["".concat(r).concat(t==="vertical"?"Y":"X")]:_N[r]||Rp},MK=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=IK(t,i),s=a?r.filter(bd):r,c;if(Array.isArray(n)){var u=a?n.filter(f=>bd(f)):n,d=s.map((f,h)=>CN(CN({},f),{},{base:u[h]}));return i==="vertical"?c=pd().y(El).x1(Nl).x0(f=>f.base.x):c=pd().x(Nl).y1(El).y0(f=>f.base.y),c.defined(bd).curve(o),c(d)}return i==="vertical"&&Q(n)?c=pd().y(El).x1(Nl).x0(n):Q(n)?c=pd().x(Nl).y1(El).y0(n):c=HO().x(Nl).y(El),c.defined(bd).curve(o),c(s)},ds=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?MK(e):n;return x.createElement("path",Uy({},kn(e),db(e),{className:je("recharts-curve",t),d:a===null?void 0:a,ref:i}))},$K=["x","y","top","left","width","height","className"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){LK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LK(e,t,r){return(t=FK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zK(e,t){if(e==null)return{};var r,n,i=UK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WK=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),HK=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,c=zK(e,$K),u=RK({x:t,y:r,top:n,left:i,width:a,height:o},c);return!Q(t)||!Q(r)||!Q(a)||!Q(o)||!Q(n)||!Q(i)?null:x.createElement("path",Wy({},ze(u,!0),{className:je("recharts-cross",s),d:WK(t,r,a,o,n,i)}))};function qK(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){GK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GK(e,t,r){return(t=VK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VK(e){var t=YK(e,"string");return typeof t=="symbol"?t:t+""}function YK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t){var r=KK({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}var mT={},gT={},vT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(vT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vT,r=bb,n=zp,i=Up,a=Bp;function o(u,d,f){return s(u,d,void 0,void 0,void 0,void 0,f)}function s(u,d,f,h,p,m,g){const y=g(u,d,f,h,p,m);if(y!==void 0)return y;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,m,g)}return c(u,d,m,g)}function c(u,d,f,h){if(Object.is(u,d))return!0;let p=n.getTag(u),m=n.getTag(d);if(p===i.argumentsTag&&(p=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),p!==m)return!1;switch(p){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const v=u.valueOf(),b=d.valueOf();return a.eq(v,b)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const g=f.get(u),y=f.get(d);if(g!=null&&y!=null)return g===d;f.set(u,d),f.set(d,u);try{switch(p){case i.mapTag:{if(u.size!==d.size)return!1;for(const[v,b]of u.entries())if(!d.has(v)||!s(b,d.get(v),v,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const v=Array.from(u.values()),b=Array.from(d.values());for(let w=0;w<v.length;w++){const j=v[w],S=b.findIndex(N=>s(j,N,void 0,u,d,f,h));if(S===-1)return!1;b.splice(S,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let v=0;v<u.length;v++)if(!s(u[v],d[v],v,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const b=[...Object.keys(u),...r.getSymbols(u)],w=[...Object.keys(d),...r.getSymbols(d)];if(b.length!==w.length)return!1;for(let j=0;j<b.length;j++){const S=b[j],N=u[S];if(!Object.hasOwn(d,S))return!1;const E=d[S];if(!s(N,E,S,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=o})(gT);var yT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(yT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT,r=yT;function n(i,a){return t.isEqualWith(i,a,r.noop)}e.isEqual=n})(mT);var XK=mT.isEqual;const JK=un(XK);var Jf=1e-4,xT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],bT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),AN=(e,t)=>r=>{var n=xT(e,t);return bT(n,r)},QK=(e,t)=>r=>{var n=xT(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return bT(i,r)},TN=function(){for(var t,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,n,r,i]=o);var u=AN(t,r),d=AN(n,i),f=QK(t,r),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,y=g,v=0;v<8;++v){var b=u(y)-g,w=f(y);if(Math.abs(b-g)<Jf||w<Jf)return d(y);y=h(y-b/w)}return d(y)};return p.isStepper=!1,p},ZK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,c)=>{var u=-(o-s)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+o;return Math.abs(h-s)<Jf&&Math.abs(f)<Jf?[s,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},wT=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TN(e);case"spring":return ZK();default:if(e.split("(")[0]==="cubic-bezier")return TN(e)}return typeof e=="function"?e:null};function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return(t=tG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nG=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),iG=(e,t,r)=>e.map(n=>"".concat(nG(n)," ").concat(t,"ms ").concat(r)).join(","),aG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Mc=(e,t)=>Object.keys(t).reduce((r,n)=>IN(IN({},r),{},{[n]:e(n,t[n])}),{});function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){oG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=lG(e,"string");return typeof t=="symbol"?t:t+""}function lG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qf=(e,t,r)=>e+(t-e)*r,Hy=e=>{var{from:t,to:r}=e;return t!==r},jT=(e,t,r)=>{var n=Mc((i,a)=>{if(Hy(a)){var[o,s]=e(a.from,a.to,a.velocity);return Mt(Mt({},a),{},{from:o,velocity:s})}return a},t);return r<1?Mc((i,a)=>Hy(a)?Mt(Mt({},a),{},{velocity:Qf(a.velocity,n[i].velocity,r),from:Qf(a.from,n[i].from,r)}):a,t):jT(e,n,r-1)};function cG(e,t,r,n,i,a){var o,s=n.reduce((h,p)=>Mt(Mt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>Mc((h,p)=>p.from,s),u=()=>!Object.values(s).filter(Hy).length,d=null,f=h=>{o||(o=h);var p=h-o,m=p/r.dt;s=jT(r,s,m),i(Mt(Mt(Mt({},e),t),c())),o=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{d()})}function uG(e,t,r,n,i,a,o){var s=null,c=i.reduce((f,h)=>Mt(Mt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,p=Mc((g,y)=>Qf(...y,r(h)),c);if(a(Mt(Mt(Mt({},e),t),p)),h<1)s=o.setTimeout(d);else{var m=Mc((g,y)=>Qf(...y,r(1)),c);a(Mt(Mt(Mt({},e),t),m))}};return()=>(s=o.setTimeout(d),()=>{s()})}const ST=(e,t,r,n,i,a)=>{var o=aG(e,t);return r.isStepper===!0?cG(e,t,r,o,i,a):uG(e,t,r,n,o,i,a)};function dG(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...u]=s;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class fG{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function hG(){return dG(new fG)}var pG=x.createContext(hG);function NT(e,t){var r=x.useContext(pG);return x.useMemo(()=>t??r(e),[e,t,r])}var mG=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function gG(e,t){if(e==null)return{};var r,n,i=vG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){Va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Va(e,t,r){return(t=yG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Db extends x.PureComponent{constructor(t,r){super(t,r),Va(this,"mounted",!1),Va(this,"manager",void 0),Va(this,"stopJSAnimation",null),Va(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:o,children:s,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof s=="function"&&(this.state={style:o});return}if(a){if(typeof s=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:o,from:s}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:o}:o};this.state&&c&&(i&&c[i]!==o||!i&&c!==o)&&this.setState(u);return}if(!(JK(t.to,o)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||a?s:t.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(Mi(Mi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c}=t,u=ST(r,n,wT(a),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,o,d,i,s])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:a,easing:o,onAnimationStart:s,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof u=="function"||o==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:a}:a,f=iG(Object.keys(d),n,o);this.manager.start([s,r,Mi(Mi({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:o,isActive:s,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:p,animationManager:m}=t,g=gG(t,mG),y=x.Children.count(r),v=this.state.style;if(typeof r=="function")return r(v);if(!s||y===0||i<=0)return r;var b=w=>{var{style:j={},className:S}=w.props,N=x.cloneElement(w,Mi(Mi({},g),{},{style:Mi(Mi({},j),v),className:S}));return N};return y===1?b(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,w=>b(w)))}}Va(Db,"displayName","Animate");Va(Db,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Zf(e){var t,r=NT((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return x.createElement(Db,qy({},e,{animationManager:r}))}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eh.apply(null,arguments)}var RN=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+s*d[0],",").concat(t)),u+="L ".concat(e+r-s*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-s*d[2],",").concat(t+n)),u+="L ".concat(e+s*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);u="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+s*p,",").concat(t,`
            L `).concat(e+r-s*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-s*p,",").concat(t+n,`
            L `).concat(e+s*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},bG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ET=e=>{var t=dr(e,bG),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:a,y:o,width:s,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t;if(a!==+a||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var y=je("recharts-rectangle",d);return g?x.createElement(Zf,{canBegin:n>0,from:{width:s,height:c,x:a,y:o},to:{width:s,height:c,x:a,y:o},duration:h,animationEasing:f,isActive:g},v=>{var{width:b,height:w,x:j,y:S}=v;return x.createElement(Zf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:m,easing:f},x.createElement("path",eh({},ze(t,!0),{className:y,d:RN(j,S,b,w,u),ref:r})))}):x.createElement("path",eh({},ze(t,!0),{className:y,d:RN(a,o,s,c,u)}))};function PT(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=st(t,r,n,i),s=st(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}var wG=(e,t)=>{var r=Nt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},wd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,u=s*(o?1:-1)+n,d=Math.asin(s/u)/Yf,f=c?i:i+a*d,h=st(t,r,u,f),p=st(t,r,n,f),m=c?i-a*d:i,g=st(t,r,u*Math.cos(d*Yf),m);return{center:h,circleTangency:p,lineTangency:g,theta:d}},CT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=wG(a,o),c=a+s,u=st(t,r,i,a),d=st(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=st(t,r,n,a),p=st(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},jG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:u}=e,d=Nt(u-c),{circleTangency:f,lineTangency:h,theta:p}=wd({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:y}=wd({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:s}),v=s?Math.abs(c-u):Math.abs(c-u)-p-y;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):CT({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:S}=wd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:N,lineTangency:E,theta:C}=wd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),P=s?Math.abs(c-u):Math.abs(c-u)-S-C;if(P<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},SG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_T=e=>{var t=dr(e,SG),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=je("recharts-sector",f),p=a-i,m=sr(o,p,0,!0),g;return m>0&&Math.abs(u-d)<360?g=jG({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):g=CT({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),x.createElement("path",Ky({},ze(t,!0),{className:h,d:g}))};function NG(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=st(s,c,u,f),p=st(s,c,d,f);n=h.x,i=h.y,a=p.x,o=p.y}else return PT(t);return[{x:n,y:i},{x:a,y:o}]}var kT={},OT={},AT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(AT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AT;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(OT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nb,r=OT;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=i,i+=o;return c}e.range=n})(kT);var EG=kT.range;const TT=un(EG);function sa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ib(e){let t,r,n;e.length!==2?(t=sa,r=(s,c)=>sa(e(s),c),n=(s,c)=>e(s)-c):(t=e===sa||e===PG?e:CG,r=e,n=e);function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=i(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:i,center:o,right:a}}function CG(){return 0}function DT(e){return e===null?NaN:+e}function*_G(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const kG=Ib(sa),Su=kG.right;Ib(DT).center;class LN extends Map{constructor(t,r=TG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(FN(this,t))}has(t){return super.has(FN(this,t))}set(t,r){return super.set(OG(this,t),r)}delete(t){return super.delete(AG(this,t))}}function FN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function OG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function AG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function TG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function DG(e=sa){if(e===sa)return IT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function IT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const IG=Math.sqrt(50),MG=Math.sqrt(10),$G=Math.sqrt(2);function th(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=IG?10:a>=MG?5:a>=$G?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?th(e,t,r*2):[s,c,u]}function Gy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?th(t,e,r):th(e,t,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function Vy(e,t,r){return t=+t,e=+e,r=+r,th(e,t,r)[2]}function Yy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Vy(t,e,r):Vy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function BN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MT(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?IT:DG(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),m=Math.min(n,Math.floor(t+(c-u)*f/c+h));MT(e,t,p,m,i)}const a=e[t];let o=r,s=n;for(Pl(e,r,t),i(e[n],a)>0&&Pl(e,r,n);o<s;){for(Pl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?Pl(e,r,s):(++s,Pl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Pl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function RG(e,t,r){if(e=Float64Array.from(_G(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return zN(e);if(t>=1)return BN(e);var n,i=(n-1)*t,a=Math.floor(i),o=BN(MT(e,a).subarray(0,a+1)),s=zN(e.subarray(a+1));return o+(s-o)*(i-a)}}function LG(e,t,r=DT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function FG(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xy=Symbol("implicit");function Mb(){var e=new LN,t=[],r=[],n=Xy;function i(a){let o=e.get(a);if(o===void 0){if(n!==Xy)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new LN;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Mb(t,r).unknown(n)},fn.apply(i,arguments),i}function $b(){var e=Mb().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-c+u*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-c))*d,o=a*(1-c),s&&(m=Math.round(m),o=Math.round(o));var y=FG(h).map(function(v){return m+a*v});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return $b(t(),[n,i]).round(s).paddingInner(c).paddingOuter(u).align(d)},fn.apply(f(),arguments)}function $T(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $T(t())},e}function BG(){return $T($b.apply(null,arguments).paddingInner(1))}function Rb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Nu(){}var $c=.7,rh=1/$c,fs="\\s*([+-]?\\d+)\\s*",Rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zG=/^#([0-9a-f]{3,8})$/,UG=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),WG=new RegExp(`^rgb\\(${Wn},${Wn},${Wn}\\)$`),HG=new RegExp(`^rgba\\(${fs},${fs},${fs},${Rc}\\)$`),qG=new RegExp(`^rgba\\(${Wn},${Wn},${Wn},${Rc}\\)$`),KG=new RegExp(`^hsl\\(${Rc},${Wn},${Wn}\\)$`),GG=new RegExp(`^hsla\\(${Rc},${Wn},${Wn},${Rc}\\)$`),UN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rb(Nu,Lc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WN,formatHex:WN,formatHex8:VG,formatHsl:YG,formatRgb:HN,toString:HN});function WN(){return this.rgb().formatHex()}function VG(){return this.rgb().formatHex8()}function YG(){return LT(this).formatHsl()}function HN(){return this.rgb().formatRgb()}function Lc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?qN(t):r===3?new vr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UG.exec(e))?new vr(t[1],t[2],t[3],1):(t=WG.exec(e))?new vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HG.exec(e))?jd(t[1],t[2],t[3],t[4]):(t=qG.exec(e))?jd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KG.exec(e))?VN(t[1],t[2]/100,t[3]/100,1):(t=GG.exec(e))?VN(t[1],t[2]/100,t[3]/100,t[4]):UN.hasOwnProperty(e)?qN(UN[e]):e==="transparent"?new vr(NaN,NaN,NaN,0):null}function qN(e){return new vr(e>>16&255,e>>8&255,e&255,1)}function jd(e,t,r,n){return n<=0&&(e=t=r=NaN),new vr(e,t,r,n)}function XG(e){return e instanceof Nu||(e=Lc(e)),e?(e=e.rgb(),new vr(e.r,e.g,e.b,e.opacity)):new vr}function Jy(e,t,r,n){return arguments.length===1?XG(e):new vr(e,t,r,n??1)}function vr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Rb(vr,Jy,RT(Nu,{brighter(e){return e=e==null?rh:Math.pow(rh,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vr(no(this.r),no(this.g),no(this.b),nh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KN,formatHex:KN,formatHex8:JG,formatRgb:GN,toString:GN}));function KN(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}`}function JG(){return`#${Ya(this.r)}${Ya(this.g)}${Ya(this.b)}${Ya((isNaN(this.opacity)?1:this.opacity)*255)}`}function GN(){const e=nh(this.opacity);return`${e===1?"rgb(":"rgba("}${no(this.r)}, ${no(this.g)}, ${no(this.b)}${e===1?")":`, ${e})`}`}function nh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function no(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ya(e){return e=no(e),(e<16?"0":"")+e.toString(16)}function VN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new jn(e,t,r,n)}function LT(e){if(e instanceof jn)return new jn(e.h,e.s,e.l,e.opacity);if(e instanceof Nu||(e=Lc(e)),!e)return new jn;if(e instanceof jn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new jn(o,s,c,e.opacity)}function QG(e,t,r,n){return arguments.length===1?LT(e):new jn(e,t,r,n??1)}function jn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Rb(jn,QG,RT(Nu,{brighter(e){return e=e==null?rh:Math.pow(rh,e),new jn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$c:Math.pow($c,e),new jn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new vr(Ig(e>=240?e-240:e+120,i,n),Ig(e,i,n),Ig(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new jn(YN(this.h),Sd(this.s),Sd(this.l),nh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nh(this.opacity);return`${e===1?"hsl(":"hsla("}${YN(this.h)}, ${Sd(this.s)*100}%, ${Sd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function YN(e){return e=(e||0)%360,e<0?e+360:e}function Sd(e){return Math.max(0,Math.min(1,e||0))}function Ig(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Lb=e=>()=>e;function ZG(e,t){return function(r){return e+r*t}}function eV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function tV(e){return(e=+e)==1?FT:function(t,r){return r-t?eV(t,r,e):Lb(isNaN(t)?r:t)}}function FT(e,t){var r=t-e;return r?ZG(e,r):Lb(isNaN(e)?t:e)}const XN=function e(t){var r=tV(t);function n(i,a){var o=r((i=Jy(i)).r,(a=Jy(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),u=FT(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function rV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function nV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Qs(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function aV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ih(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function oV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Qs(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Qy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mg=new RegExp(Qy.source,"g");function sV(e){return function(){return e}}function lV(e){return function(t){return e(t)+""}}function cV(e,t){var r=Qy.lastIndex=Mg.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=Qy.exec(e))&&(i=Mg.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:ih(n,i)})),r=Mg.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?lV(c[0].x):sV(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function Qs(e,t){var r=typeof t,n;return t==null||r==="boolean"?Lb(t):(r==="number"?ih:r==="string"?(n=Lc(t))?(t=n,XN):cV:t instanceof Lc?XN:t instanceof Date?aV:nV(t)?rV:Array.isArray(t)?iV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oV:ih)(e,t)}function Fb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function uV(e,t){t===void 0&&(t=e,e=Qs);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function dV(e){return function(){return e}}function ah(e){return+e}var JN=[0,1];function ar(e){return e}function Zy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dV(isNaN(t)?NaN:.5)}function fV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function hV(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Zy(i,n),a=r(o,a)):(n=Zy(n,i),a=r(a,o)),function(s){return a(n(s))}}function pV(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Zy(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var c=Su(e,s,1,n)-1;return a[c](i[c](s))}}function Eu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function em(){var e=JN,t=JN,r=Qs,n,i,a,o=ar,s,c,u;function d(){var h=Math.min(e.length,t.length);return o!==ar&&(o=fV(e[0],e[h-1])),s=h>2?pV:hV,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(t,e.map(n),ih)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ah),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Fb,d()},f.clamp=function(h){return arguments.length?(o=h?!0:ar,d()):o!==ar},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function Bb(){return em()(ar,ar)}function mV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function oh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ds(e){return e=oh(Math.abs(e)),e?e[1]:NaN}function gV(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function vV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fc(e){if(!(t=yV.exec(e)))throw new Error("invalid format: "+e);var t;return new zb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fc.prototype=zb.prototype;function zb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xV(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var BT;function bV(e,t){var r=oh(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(BT=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+oh(e,Math.max(0,t+a-1))[0]}function QN(e,t){var r=oh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ZN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>QN(e*100,t),r:QN,s:bV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eE(e){return e}var tE=Array.prototype.map,rE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wV(e){var t=e.grouping===void 0||e.thousands===void 0?eE:gV(tE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?eE:vV(tE.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Fc(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,v=f.width,b=f.comma,w=f.precision,j=f.trim,S=f.type;S==="n"?(b=!0,S="g"):ZN[S]||(w===void 0&&(w=12),j=!0,S="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=g==="$"?n:/[%p]/.test(S)?o:"",C=ZN[S],P=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(O){var _=N,A=E,D,M,T;if(S==="c")A=C(O)+A,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),w),j&&(O=xV(O)),R&&+O==0&&m!=="+"&&(R=!1),_=(R?m==="("?m:s:m==="-"||m==="("?"":m)+_,A=(S==="s"?rE[8+BT/3]:"")+A+(R&&m==="("?")":""),P){for(D=-1,M=O.length;++D<M;)if(T=O.charCodeAt(D),48>T||T>57){A=(T===46?i+O.slice(D+1):O.slice(D))+A,O=O.slice(0,D);break}}}b&&!y&&(O=t(O,1/0));var I=_.length+O.length+A.length,F=I<v?new Array(v-I+1).join(h):"";switch(b&&y&&(O=t(F+O,F.length?v-A.length:1/0),F=""),p){case"<":O=_+O+A+F;break;case"=":O=_+F+O+A;break;case"^":O=F.slice(0,I=F.length>>1)+_+O+A+F.slice(I);break;default:O=F+_+O+A;break}return a(O)}return k.toString=function(){return f+""},k}function d(f,h){var p=u((f=Fc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Ds(h)/3)))*3,g=Math.pow(10,-m),y=rE[8+m/3];return function(v){return p(g*v)+y}}return{format:u,formatPrefix:d}}var Nd,Ub,zT;jV({thousands:",",grouping:[3],currency:["$",""]});function jV(e){return Nd=wV(e),Ub=Nd.format,zT=Nd.formatPrefix,Nd}function SV(e){return Math.max(0,-Ds(Math.abs(e)))}function NV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ds(t)/3)))*3-Ds(Math.abs(e)))}function EV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ds(t)-Ds(e))+1}function UT(e,t,r,n){var i=Yy(e,t,r),a;switch(n=Fc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=NV(i,o))&&(n.precision=a),zT(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=EV(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=SV(i))&&(n.precision=a-(n.type==="%")*2);break}}return Ub(n)}function Ea(e){var t=e.domain;return e.ticks=function(r){var n=t();return Gy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return UT(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=Vy(o,s,r),u===c)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function WT(){var e=Bb();return e.copy=function(){return Eu(e,WT())},fn.apply(e,arguments),Ea(e)}function HT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ah),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return HT(e).unknown(t)},e=arguments.length?Array.from(e,ah):[0,1],Ea(r)}function qT(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function nE(e){return Math.log(e)}function iE(e){return Math.exp(e)}function PV(e){return-Math.log(-e)}function CV(e){return-Math.exp(-e)}function _V(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kV(e){return e===10?_V:e===Math.E?Math.exp:t=>Math.pow(e,t)}function OV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function aE(e){return(t,r)=>-e(-t,r)}function Wb(e){const t=e(nE,iE),r=t.domain;let n=10,i,a;function o(){return i=OV(n),a=kV(n),r()[0]<0?(i=aE(i),a=aE(a),e(PV,CV)):e(nE,iE),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const y=s==null?10:+s;let v=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;v.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;v.push(g)}v.length*2<y&&(v=Gy(u,d,y))}else v=Gy(h,p,Math.min(p-h,y)).map(a);return f?v.reverse():v},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Fc(c)).precision==null&&(c.trim=!0),c=Ub(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(qT(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function KT(){const e=Wb(em()).domain([1,10]);return e.copy=()=>Eu(e,KT()).base(e.base()),fn.apply(e,arguments),e}function oE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Hb(e){var t=1,r=e(oE(t),sE(t));return r.constant=function(n){return arguments.length?e(oE(t=+n),sE(t)):t},Ea(r)}function GT(){var e=Hb(em());return e.copy=function(){return Eu(e,GT()).constant(e.constant())},fn.apply(e,arguments)}function lE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function AV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TV(e){return e<0?-e*e:e*e}function qb(e){var t=e(ar,ar),r=1;function n(){return r===1?e(ar,ar):r===.5?e(AV,TV):e(lE(r),lE(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ea(t)}function Kb(){var e=qb(em());return e.copy=function(){return Eu(e,Kb()).exponent(e.exponent())},fn.apply(e,arguments),e}function DV(){return Kb.apply(null,arguments).exponent(.5)}function cE(e){return Math.sign(e)*e*e}function IV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function VT(){var e=Bb(),t=[0,1],r=!1,n;function i(a){var o=IV(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(cE(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,ah)).map(cE)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return VT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fn.apply(i,arguments),Ea(i)}function YT(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=LG(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Su(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(sa),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return YT().domain(e).range(t).unknown(n)},fn.apply(a,arguments)}function XT(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Su(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return XT().domain([e,t]).range(i).unknown(a)},fn.apply(Ea(o),arguments)}function JT(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Su(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return JT().domain(e).range(t).unknown(r)},fn.apply(i,arguments)}const $g=new Date,Rg=new Date;function yt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return c},i.filter=a=>yt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>($g.setTime(+a),Rg.setTime(+o),e($g),e(Rg),Math.floor(r($g,Rg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const sh=yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):sh);sh.range;const ai=1e3,Jr=ai*60,oi=Jr*60,vi=oi*24,Gb=vi*7,uE=vi*30,Lg=vi*365,Xa=yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCSeconds());Xa.range;const Vb=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ai)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getMinutes());Vb.range;const Yb=yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jr)},(e,t)=>(t-e)/Jr,e=>e.getUTCMinutes());Yb.range;const Xb=yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ai-e.getMinutes()*Jr)},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getHours());Xb.range;const Jb=yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getUTCHours());Jb.range;const Pu=yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/vi,e=>e.getDate()-1);Pu.range;const tm=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vi,e=>e.getUTCDate()-1);tm.range;const QT=yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vi,e=>Math.floor(e/vi));QT.range;function Eo(e){return yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/Gb)}const rm=Eo(0),lh=Eo(1),MV=Eo(2),$V=Eo(3),Is=Eo(4),RV=Eo(5),LV=Eo(6);rm.range;lh.range;MV.range;$V.range;Is.range;RV.range;LV.range;function Po(e){return yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Gb)}const nm=Po(0),ch=Po(1),FV=Po(2),BV=Po(3),Ms=Po(4),zV=Po(5),UV=Po(6);nm.range;ch.range;FV.range;BV.range;Ms.range;zV.range;UV.range;const Qb=yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qb.range;const Zb=yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zb.range;const yi=yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yi.range;const xi=yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});xi.range;function ZT(e,t,r,n,i,a){const o=[[Xa,1,ai],[Xa,5,5*ai],[Xa,15,15*ai],[Xa,30,30*ai],[a,1,Jr],[a,5,5*Jr],[a,15,15*Jr],[a,30,30*Jr],[i,1,oi],[i,3,3*oi],[i,6,6*oi],[i,12,12*oi],[n,1,vi],[n,2,2*vi],[r,1,Gb],[t,1,uE],[t,3,3*uE],[e,1,Lg]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=Ib(([,,y])=>y).right(o,h);if(p===o.length)return e.every(Yy(u/Lg,d/Lg,f));if(p===0)return sh.every(Math.max(Yy(u,d,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,c]}const[WV,HV]=ZT(xi,Zb,nm,QT,Jb,Yb),[qV,KV]=ZT(yi,Qb,rm,Pu,Xb,Vb);function Fg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Bg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GV(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=_l(i),d=kl(i),f=_l(a),h=kl(a),p=_l(o),m=kl(o),g=_l(s),y=kl(s),v=_l(c),b=kl(c),w={a:R,A:I,b:F,B,c:null,d:gE,e:gE,f:gY,g:PY,G:_Y,H:hY,I:pY,j:mY,L:eD,m:vY,M:yY,p:J,q:L,Q:xE,s:bE,S:xY,u:bY,U:wY,V:jY,w:SY,W:NY,x:null,X:null,y:EY,Y:CY,Z:kY,"%":yE},j={a:ne,A:ce,b:he,B:oe,c:null,d:vE,e:vE,f:DY,g:WY,G:qY,H:OY,I:AY,j:TY,L:rD,m:IY,M:MY,p:ge,q:tr,Q:xE,s:bE,S:$Y,u:RY,U:LY,V:FY,w:BY,W:zY,x:null,X:null,y:UY,Y:HY,Z:KY,"%":yE},S={a:k,A:O,b:_,B:A,c:D,d:pE,e:pE,f:cY,g:hE,G:fE,H:mE,I:mE,j:aY,L:lY,m:iY,M:oY,p:P,q:nY,Q:dY,s:fY,S:sY,u:QV,U:ZV,V:eY,w:JV,W:tY,x:M,X:T,y:hE,Y:fE,Z:rY,"%":uY};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(X,ue){return function(pe){var z=[],wt=-1,Pe=0,Wt=X.length,At,hn,Fu;for(pe instanceof Date||(pe=new Date(+pe));++wt<Wt;)X.charCodeAt(wt)===37&&(z.push(X.slice(Pe,wt)),(hn=dE[At=X.charAt(++wt)])!=null?At=X.charAt(++wt):hn=At==="e"?" ":"0",(Fu=ue[At])&&(At=Fu(pe,hn)),z.push(At),Pe=wt+1);return z.push(X.slice(Pe,wt)),z.join("")}}function E(X,ue){return function(pe){var z=Cl(1900,void 0,1),wt=C(z,X,pe+="",0),Pe,Wt;if(wt!=pe.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ue&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Pe=Bg(Cl(z.y,0,1)),Wt=Pe.getUTCDay(),Pe=Wt>4||Wt===0?ch.ceil(Pe):ch(Pe),Pe=tm.offset(Pe,(z.V-1)*7),z.y=Pe.getUTCFullYear(),z.m=Pe.getUTCMonth(),z.d=Pe.getUTCDate()+(z.w+6)%7):(Pe=Fg(Cl(z.y,0,1)),Wt=Pe.getDay(),Pe=Wt>4||Wt===0?lh.ceil(Pe):lh(Pe),Pe=Pu.offset(Pe,(z.V-1)*7),z.y=Pe.getFullYear(),z.m=Pe.getMonth(),z.d=Pe.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Wt="Z"in z?Bg(Cl(z.y,0,1)).getUTCDay():Fg(Cl(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Wt+5)%7:z.w+z.U*7-(Wt+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,Bg(z)):Fg(z)}}function C(X,ue,pe,z){for(var wt=0,Pe=ue.length,Wt=pe.length,At,hn;wt<Pe;){if(z>=Wt)return-1;if(At=ue.charCodeAt(wt++),At===37){if(At=ue.charAt(wt++),hn=S[At in dE?ue.charAt(wt++):At],!hn||(z=hn(X,pe,z))<0)return-1}else if(At!=pe.charCodeAt(z++))return-1}return z}function P(X,ue,pe){var z=u.exec(ue.slice(pe));return z?(X.p=d.get(z[0].toLowerCase()),pe+z[0].length):-1}function k(X,ue,pe){var z=p.exec(ue.slice(pe));return z?(X.w=m.get(z[0].toLowerCase()),pe+z[0].length):-1}function O(X,ue,pe){var z=f.exec(ue.slice(pe));return z?(X.w=h.get(z[0].toLowerCase()),pe+z[0].length):-1}function _(X,ue,pe){var z=v.exec(ue.slice(pe));return z?(X.m=b.get(z[0].toLowerCase()),pe+z[0].length):-1}function A(X,ue,pe){var z=g.exec(ue.slice(pe));return z?(X.m=y.get(z[0].toLowerCase()),pe+z[0].length):-1}function D(X,ue,pe){return C(X,t,ue,pe)}function M(X,ue,pe){return C(X,r,ue,pe)}function T(X,ue,pe){return C(X,n,ue,pe)}function R(X){return o[X.getDay()]}function I(X){return a[X.getDay()]}function F(X){return c[X.getMonth()]}function B(X){return s[X.getMonth()]}function J(X){return i[+(X.getHours()>=12)]}function L(X){return 1+~~(X.getMonth()/3)}function ne(X){return o[X.getUTCDay()]}function ce(X){return a[X.getUTCDay()]}function he(X){return c[X.getUTCMonth()]}function oe(X){return s[X.getUTCMonth()]}function ge(X){return i[+(X.getUTCHours()>=12)]}function tr(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ue=N(X+="",w);return ue.toString=function(){return X},ue},parse:function(X){var ue=E(X+="",!1);return ue.toString=function(){return X},ue},utcFormat:function(X){var ue=N(X+="",j);return ue.toString=function(){return X},ue},utcParse:function(X){var ue=E(X+="",!0);return ue.toString=function(){return X},ue}}}var dE={"-":"",_:" ",0:"0"},kt=/^\s*\d+/,VV=/^%/,YV=/[\\^$*+?|[\]().{}]/g;function Ee(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function XV(e){return e.replace(YV,"\\$&")}function _l(e){return new RegExp("^(?:"+e.map(XV).join("|")+")","i")}function kl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function JV(e,t,r){var n=kt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QV(e,t,r){var n=kt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ZV(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function eY(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function tY(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function fE(e,t,r){var n=kt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function hE(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function rY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function nY(e,t,r){var n=kt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iY(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function pE(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aY(e,t,r){var n=kt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function mE(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function oY(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sY(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function lY(e,t,r){var n=kt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function cY(e,t,r){var n=kt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uY(e,t,r){var n=VV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function dY(e,t,r){var n=kt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function fY(e,t,r){var n=kt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function gE(e,t){return Ee(e.getDate(),t,2)}function hY(e,t){return Ee(e.getHours(),t,2)}function pY(e,t){return Ee(e.getHours()%12||12,t,2)}function mY(e,t){return Ee(1+Pu.count(yi(e),e),t,3)}function eD(e,t){return Ee(e.getMilliseconds(),t,3)}function gY(e,t){return eD(e,t)+"000"}function vY(e,t){return Ee(e.getMonth()+1,t,2)}function yY(e,t){return Ee(e.getMinutes(),t,2)}function xY(e,t){return Ee(e.getSeconds(),t,2)}function bY(e){var t=e.getDay();return t===0?7:t}function wY(e,t){return Ee(rm.count(yi(e)-1,e),t,2)}function tD(e){var t=e.getDay();return t>=4||t===0?Is(e):Is.ceil(e)}function jY(e,t){return e=tD(e),Ee(Is.count(yi(e),e)+(yi(e).getDay()===4),t,2)}function SY(e){return e.getDay()}function NY(e,t){return Ee(lh.count(yi(e)-1,e),t,2)}function EY(e,t){return Ee(e.getFullYear()%100,t,2)}function PY(e,t){return e=tD(e),Ee(e.getFullYear()%100,t,2)}function CY(e,t){return Ee(e.getFullYear()%1e4,t,4)}function _Y(e,t){var r=e.getDay();return e=r>=4||r===0?Is(e):Is.ceil(e),Ee(e.getFullYear()%1e4,t,4)}function kY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ee(t/60|0,"0",2)+Ee(t%60,"0",2)}function vE(e,t){return Ee(e.getUTCDate(),t,2)}function OY(e,t){return Ee(e.getUTCHours(),t,2)}function AY(e,t){return Ee(e.getUTCHours()%12||12,t,2)}function TY(e,t){return Ee(1+tm.count(xi(e),e),t,3)}function rD(e,t){return Ee(e.getUTCMilliseconds(),t,3)}function DY(e,t){return rD(e,t)+"000"}function IY(e,t){return Ee(e.getUTCMonth()+1,t,2)}function MY(e,t){return Ee(e.getUTCMinutes(),t,2)}function $Y(e,t){return Ee(e.getUTCSeconds(),t,2)}function RY(e){var t=e.getUTCDay();return t===0?7:t}function LY(e,t){return Ee(nm.count(xi(e)-1,e),t,2)}function nD(e){var t=e.getUTCDay();return t>=4||t===0?Ms(e):Ms.ceil(e)}function FY(e,t){return e=nD(e),Ee(Ms.count(xi(e),e)+(xi(e).getUTCDay()===4),t,2)}function BY(e){return e.getUTCDay()}function zY(e,t){return Ee(ch.count(xi(e)-1,e),t,2)}function UY(e,t){return Ee(e.getUTCFullYear()%100,t,2)}function WY(e,t){return e=nD(e),Ee(e.getUTCFullYear()%100,t,2)}function HY(e,t){return Ee(e.getUTCFullYear()%1e4,t,4)}function qY(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ms(e):Ms.ceil(e),Ee(e.getUTCFullYear()%1e4,t,4)}function KY(){return"+0000"}function yE(){return"%"}function xE(e){return+e}function bE(e){return Math.floor(+e/1e3)}var $o,iD,aD;GY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GY(e){return $o=GV(e),iD=$o.format,$o.parse,aD=$o.utcFormat,$o.utcParse,$o}function VY(e){return new Date(e)}function YY(e){return e instanceof Date?+e:+new Date(+e)}function ew(e,t,r,n,i,a,o,s,c,u){var d=Bb(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function S(N){return(c(N)<N?p:s(N)<N?m:o(N)<N?g:a(N)<N?y:n(N)<N?i(N)<N?v:b:r(N)<N?w:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,YY)):h().map(VY)},d.ticks=function(N){var E=h();return e(E[0],E[E.length-1],N??10)},d.tickFormat=function(N,E){return E==null?S:u(E)},d.nice=function(N){var E=h();return(!N||typeof N.range!="function")&&(N=t(E[0],E[E.length-1],N??10)),N?h(qT(E,N)):d},d.copy=function(){return Eu(d,ew(e,t,r,n,i,a,o,s,c,u))},d}function XY(){return fn.apply(ew(qV,KV,yi,Qb,rm,Pu,Xb,Vb,Xa,iD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JY(){return fn.apply(ew(WV,HV,xi,Zb,nm,tm,Jb,Yb,Xa,aD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function im(){var e=0,t=1,r,n,i,a,o=ar,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(Qs),u.rangeRound=d(Fb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Pa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oD(){var e=Ea(im()(ar));return e.copy=function(){return Pa(e,oD())},Ci.apply(e,arguments)}function sD(){var e=Wb(im()).domain([1,10]);return e.copy=function(){return Pa(e,sD()).base(e.base())},Ci.apply(e,arguments)}function lD(){var e=Hb(im());return e.copy=function(){return Pa(e,lD()).constant(e.constant())},Ci.apply(e,arguments)}function tw(){var e=qb(im());return e.copy=function(){return Pa(e,tw()).exponent(e.exponent())},Ci.apply(e,arguments)}function QY(){return tw.apply(null,arguments).exponent(.5)}function cD(){var e=[],t=ar;function r(n){if(n!=null&&!isNaN(n=+n))return t((Su(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(sa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>RG(e,a/n))},r.copy=function(){return cD(t).domain(e)},Ci.apply(r,arguments)}function am(){var e=0,t=.5,r=1,n=1,i,a,o,s,c,u=ar,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?s:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),a=d(t=+t),o=d(r=+r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,u=uV(g,[v,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(Qs),p.rangeRound=m(Fb),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(e),a=g(t),o=g(r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function uD(){var e=Ea(am()(ar));return e.copy=function(){return Pa(e,uD())},Ci.apply(e,arguments)}function dD(){var e=Wb(am()).domain([.1,1,10]);return e.copy=function(){return Pa(e,dD()).base(e.base())},Ci.apply(e,arguments)}function fD(){var e=Hb(am());return e.copy=function(){return Pa(e,fD()).constant(e.constant())},Ci.apply(e,arguments)}function rw(){var e=qb(am());return e.copy=function(){return Pa(e,rw()).exponent(e.exponent())},Ci.apply(e,arguments)}function ZY(){return rw.apply(null,arguments).exponent(.5)}const Bl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$b,scaleDiverging:uD,scaleDivergingLog:dD,scaleDivergingPow:rw,scaleDivergingSqrt:ZY,scaleDivergingSymlog:fD,scaleIdentity:HT,scaleImplicit:Xy,scaleLinear:WT,scaleLog:KT,scaleOrdinal:Mb,scalePoint:BG,scalePow:Kb,scaleQuantile:YT,scaleQuantize:XT,scaleRadial:VT,scaleSequential:oD,scaleSequentialLog:sD,scaleSequentialPow:tw,scaleSequentialQuantile:cD,scaleSequentialSqrt:QY,scaleSequentialSymlog:lD,scaleSqrt:DV,scaleSymlog:GT,scaleThreshold:JT,scaleTime:XY,scaleUtc:JY,tickFormat:UT},Symbol.toStringTag,{value:"Module"}));var Ca=e=>e.chartData,nw=$([Ca],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Cu=(e,t,r,n)=>n?nw(e):Ca(e);function $s(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Bt(t)&&Bt(r))return!0}return!1}function wE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function eX(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Bt(r))i=r;else if(typeof r=="function")return;if(Bt(n))a=n;else if(typeof n=="function")return;var o=[i,a];if($s(o))return o}}function tX(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($s(n))return wE(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Q(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&xN.test(i)){var c=xN.exec(i);if(c==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(Q(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&bN.test(a)){var d=bN.exec(a);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[o,s];if($s(h))return t==null?h:wE(h,t,r)}}}var Zs=1e9,rX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aw,Ge=!0,cn="[DecimalError] ",io=cn+"Invalid argument: ",iw=cn+"Exponent out of range: ",el=Math.floor,za=Math.pow,nX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cr,jt=1e7,He=7,hD=9007199254740991,uh=el(hD/He),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*He;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return ci(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return De(ci(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return ct(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Cr))throw Error(cn+"NaN");if(r.s<1)throw Error(cn+(r.s?"NaN":"-Infinity"));return r.eq(Cr)?new n(0):(Ge=!1,t=ci(Bc(r,a),Bc(e,a),a),Ge=!0,De(t,i))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gD(t,e):pD(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(cn+"NaN");return r.s?(Ge=!1,t=ci(r,e,0,1).times(e),Ge=!0,r.minus(t)):De(new n(r),i)};ee.naturalExponential=ee.exp=function(){return mD(this)};ee.naturalLogarithm=ee.ln=function(){return Bc(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pD(t,e):gD(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(io+e);if(t=ct(i)+1,n=i.d.length-1,r=n*He+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(cn+"NaN")}for(e=ct(s),Ge=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Fn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=el((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(ci(s,a,o+2)).times(.5),Fn(a.d).slice(0,o)===(t=Fn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(De(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Ge=!0,De(n,r)};ee.times=ee.mul=function(e){var t,r,n,i,a,o,s,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)s=a[i]+p[n]*h[i-n-1]+t,a[i--]=s%jt|0,t=s/jt|0;a[i]=(a[i]+t)%jt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ge?De(e,f.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qn(e,0,Zs),t===void 0?t=n.rounding:qn(t,0,8),De(r,e+ct(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=go(n,!0):(qn(e,0,Zs),t===void 0?t=i.rounding:qn(t,0,8),n=De(new i(n),e+1,t),r=go(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?go(i):(qn(e,0,Zs),t===void 0?t=a.rounding:qn(t,0,8),n=De(new a(i),e+ct(i)+1,t),r=go(n.abs(),!1,e+ct(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return De(new t(e),ct(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,i,a,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Cr);if(s=new c(s),!s.s){if(e.s<1)throw Error(cn+"Infinity");return s}if(s.eq(Cr))return s;if(n=c.precision,e.eq(Cr))return De(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=d<0?-d:d)<=hD){for(i=new c(Cr),t=Math.ceil(n/He+4),Ge=!1;r%2&&(i=i.times(s),SE(i.d,t)),r=el(r/2),r!==0;)s=s.times(s),SE(s.d,t);return Ge=!0,e.s<0?new c(Cr).div(i):De(i,n)}}else if(a<0)throw Error(cn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ge=!1,i=e.times(Bc(s,n+u)),Ge=!0,i=mD(i),i.s=a,i};ee.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ct(i),n=go(i,r<=a.toExpNeg||r>=a.toExpPos)):(qn(e,1,Zs),t===void 0?t=a.rounding:qn(t,0,8),i=De(new a(i),e,t),r=ct(i),n=go(i,e<=r||r<=a.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qn(e,1,Zs),t===void 0?t=n.rounding:qn(t,0,8)),De(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ct(e),r=e.constructor;return go(e,t<=r.toExpNeg||t>=r.toExpPos)};function pD(e,t){var r,n,i,a,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ge?De(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=u.length):(n=u,i=o,s=c.length),o=Math.ceil(f/He),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/jt|0,c[a]%=jt;for(r&&(c.unshift(r),++i),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=i,Ge?De(t,f):t}function qn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(io+e)}function Fn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=He-n.length,r&&(a+=zi(r)),a+=n;o=e[t],n=o+"",r=He-n.length,r&&(a+=zi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ci=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%jt|0,o=a/jt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*jt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,u,d,f,h,p,m,g,y,v,b,w,j,S,N,E,C,P=n.constructor,k=n.s==i.s?1:-1,O=n.d,_=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(cn+"Division by zero");for(c=n.e-i.e,E=_.length,S=O.length,p=new P(k),m=p.d=[],u=0;_[u]==(O[u]||0);)++u;if(_[u]>(O[u]||0)&&--c,a==null?b=a=P.precision:o?b=a+(ct(n)-ct(i))+1:b=a,b<0)return new P(0);if(b=b/He+2|0,u=0,E==1)for(d=0,_=_[0],b++;(u<S||d)&&b--;u++)w=d*jt+(O[u]||0),m[u]=w/_|0,d=w%_|0;else{for(d=jt/(_[0]+1)|0,d>1&&(_=e(_,d),O=e(O,d),E=_.length,S=O.length),j=E,g=O.slice(0,E),y=g.length;y<E;)g[y++]=0;C=_.slice(),C.unshift(0),N=_[0],_[1]>=jt/2&&++N;do d=0,s=t(_,g,E,y),s<0?(v=g[0],E!=y&&(v=v*jt+(g[1]||0)),d=v/N|0,d>1?(d>=jt&&(d=jt-1),f=e(_,d),h=f.length,y=g.length,s=t(f,g,h,y),s==1&&(d--,r(f,E<h?C:_,h))):(d==0&&(s=d=1),f=_.slice()),h=f.length,h<y&&f.unshift(0),r(g,f,y),s==-1&&(y=g.length,s=t(_,g,E,y),s<1&&(d++,r(g,E<y?C:_,y))),y=g.length):s===0&&(d++,g=[0]),m[u++]=d,s&&g[0]?g[y++]=O[j]||0:(g=[O[j]],y=1);while((j++<S||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=c,De(p,o?a+ct(p)+1:a)}}();function mD(e,t){var r,n,i,a,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(ct(e)>16)throw Error(iw+ct(e));if(!e.s)return new d(Cr);for(Ge=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(za(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new d(Cr),d.precision=s;;){if(i=De(i.times(e),s),r=r.times(++c),o=a.plus(ci(i,r,s)),Fn(o.d).slice(0,s)===Fn(a.d).slice(0,s)){for(;u--;)a=De(a.times(a),s);return d.precision=f,t==null?(Ge=!0,De(a,f)):a}a=o}}function ct(e){for(var t=e.e*He,r=e.d[0];r>=10;r/=10)t++;return t}function zg(e,t,r){if(t>e.LN10.sd())throw Ge=!0,r&&(e.precision=r),Error(cn+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function zi(e){for(var t="";e--;)t+="0";return t}function Bc(e,t){var r,n,i,a,o,s,c,u,d,f=1,h=10,p=e,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(cn+(p.s?"NaN":"-Infinity"));if(p.eq(Cr))return new g(0);if(t==null?(Ge=!1,u=y):u=t,p.eq(10))return t==null&&(Ge=!0),zg(g,u);if(u+=h,g.precision=u,r=Fn(m),n=r.charAt(0),a=ct(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Fn(p.d),n=r.charAt(0),f++;a=ct(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return c=zg(g,u+2,y).times(a+""),p=Bc(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=y,t==null?(Ge=!0,De(p,y)):p;for(s=o=p=ci(p.minus(Cr),p.plus(Cr),u),d=De(p.times(p),u),i=3;;){if(o=De(o.times(d),u),c=s.plus(ci(o,new g(i),u)),Fn(c.d).slice(0,u)===Fn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(zg(g,u+2,y).times(a+""))),s=ci(s,new g(f),u),g.precision=y,t==null?(Ge=!0,De(s,y)):s;s=c,i+=2}}function jE(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=el(r/He),e.d=[],n=(r+1)%He,r<0&&(n+=He),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=He;n<i;)e.d.push(+t.slice(n,n+=He));t=t.slice(n),n=He-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ge&&(e.e>uh||e.e<-uh))throw Error(iw+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,i,a,o,s,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=He,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/He),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=He,i=n-He+o}if(r!==void 0&&(a=za(10,o-i-1),s=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?i>0?u/za(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=ct(e),f.length=1,t=t-a-1,f[0]=za(10,(He-t%He)%He),e.e=el(-t/He)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=za(10,He-n),f[d]=i>0?(u/za(10,o-i)%za(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==jt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=jt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ge&&(e.e>uh||e.e<-uh))throw Error(iw+ct(e));return e}function gD(e,t){var r,n,i,a,o,s,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ge?De(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),i=Math.max(Math.ceil(p/He),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=jt-1;--c[a],c[i]+=jt}c[i]-=f[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ge?De(t,p):t):new h(0)}function go(e,t,r){var n,i=ct(e),a=Fn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+zi(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zi(-i-1)+a,r&&(n=r-o)>0&&(a+=zi(n))):i>=o?(a+=zi(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+zi(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=zi(n))),e.s<0?"-"+a:a}function SE(e,t){if(e.length>t)return e.length=t,!0}function vD(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(io+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return jE(o,a.toString())}else if(typeof a!="string")throw Error(io+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,nX.test(a))jE(o,a);else throw Error(io+a)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vD,i.config=i.set=iX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function iX(e){if(!e||typeof e!="object")throw Error(cn+"Object expected");var t,r,n,i=["precision",1,Zs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(el(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(io+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(io+r+": "+n);return this}var aw=vD(rX);Cr=new aw(1);const _e=aw;var aX=e=>e,yD={},xD=e=>e===yD,NE=e=>function t(){return arguments.length===0||arguments.length===1&&xD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},bD=(e,t)=>e===1?t:NE(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==yD).length;return a>=e?t(...n):bD(e-a,NE(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=n.map(d=>xD(d)?s.shift():d);return t(...u,...s)}))}),om=e=>bD(e.length,e),e0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},oX=om((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),sX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return aX;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,c)=>c(s),a(...arguments))}},t0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),wD=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[s])})||(t=i,r=e(...i)),r}};function jD(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function SD(e,t,r){for(var n=new _e(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}om((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});om((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});om((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var ND=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},ED=(e,t,r)=>{if(e.lte(0))return new _e(0);var n=jD(e.toNumber()),i=new _e(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new _e(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=s.mul(i);return t?new _e(c.toNumber()):new _e(Math.ceil(c.toNumber()))},lX=(e,t,r)=>{var n=new _e(1),i=new _e(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new _e(10).pow(jD(e)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new _e(Math.floor(e)))}else e===0?i=new _e(Math.floor((t-1)/2)):r||(i=new _e(Math.floor(e)));var o=Math.floor((t-1)/2),s=sX(oX(c=>i.add(new _e(c-o).mul(n)).toNumber()),e0);return s(0,t)},PD=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var o=ED(new _e(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new _e(0):(s=new _e(t).add(r).div(2),s=s.sub(new _e(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new _e(r).sub(s).div(o).toNumber()),d=c+u+1;return d>n?PD(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:s.sub(new _e(c).mul(o)),tickMax:s.add(new _e(u).mul(o))})};function cX(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=ND([t,r]);if(o===-1/0||s===1/0){var c=s===1/0?[o,...e0(0,n-1).map(()=>1/0)]:[...e0(0,n-1).map(()=>-1/0),s];return t>r?t0(c):c}if(o===s)return lX(o,n,i);var{step:u,tickMin:d,tickMax:f}=PD(o,s,a,i,0),h=SD(d,f.add(new _e(.1).mul(u)),u);return t>r?t0(h):h}function uX(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=ND([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),c=ED(new _e(o).sub(a).div(s-1),i,0),u=[...SD(new _e(a),new _e(o),c),o];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?t0(u):u}var dX=wD(cX),fX=wD(uX),CD=e=>e.rootProps.maxBarSize,hX=e=>e.rootProps.barGap,_D=e=>e.rootProps.barCategoryGap,pX=e=>e.rootProps.barSize,_u=e=>e.rootProps.stackOffset,ow=e=>e.options.chartName,sw=e=>e.rootProps.syncId,kD=e=>e.rootProps.syncMethod,lw=e=>e.options.eventEmitter,ti={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Er={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},sm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},mX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ti.angleAxisId,includeHidden:!1,name:void 0,reversed:ti.reversed,scale:ti.scale,tick:ti.tick,tickCount:void 0,ticks:void 0,type:ti.type,unit:void 0},gX={allowDataOverflow:Er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:Er.tickCount,ticks:void 0,type:Er.type,unit:void 0},vX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ti.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ti.scale,tick:ti.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yX={allowDataOverflow:Er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:Er.tickCount,ticks:void 0,type:"category",unit:void 0},cw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vX:mX,uw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yX:gX,lm=e=>e.polarOptions,dw=$([Ei,Pi,vt],ZA),OD=$([lm,dw],(e,t)=>{if(e!=null)return sr(e.innerRadius,t,0)}),AD=$([lm,dw],(e,t)=>{if(e!=null)return sr(e.outerRadius,t,t*.8)}),xX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},TD=$([lm],xX);$([cw,TD],sm);var DD=$([dw,OD,AD],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});$([uw,DD],sm);var ID=$([we,lm,OD,AD,Ei,Pi],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:u}=t;return{cx:sr(o,i,i/2),cy:sr(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ve=(e,t)=>t,ku=(e,t,r)=>r;function cm(e){return e==null?void 0:e.id}var xt=e=>{var t=we(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},tl=e=>e.tooltip.settings.axisId,bt=e=>{var t=xt(e),r=tl(e);return Ou(e,t,r)};function MD(e,t,r){var{chartData:n=[]}=t,i=r==null?void 0:r.dataKey,a=new Map;return e.forEach(o=>{var s,c=(s=o.data)!==null&&s!==void 0?s:n;if(!(c==null||c.length===0)){var u=cm(o);c.forEach((d,f)=>{var h=i==null?f:String(ke(d,i,null)),p=ke(d,o.dataKey,0),m;a.has(h)?m=a.get(h):m={},Object.assign(m,{[u]:p}),a.set(h,m)})}}),Array.from(a.values())}function um(e){return e.stackId!=null&&e.dataKey!=null}function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){bX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r0=[0,"auto"],jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},_i=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??jr},Sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:r0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jp},_a=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Sr},SX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??SX},at=(e,t,r)=>{switch(t){case"xAxis":return _i(e,r);case"yAxis":return _a(e,r);case"zAxis":return fw(e,r);case"angleAxis":return cw(e,r);case"radiusAxis":return uw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},NX=(e,t,r)=>{switch(t){case"xAxis":return _i(e,r);case"yAxis":return _a(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ou=(e,t,r)=>{switch(t){case"xAxis":return _i(e,r);case"yAxis":return _a(e,r);case"angleAxis":return cw(e,r);case"radiusAxis":return uw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$D=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function hw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Au=e=>e.graphicalItems.cartesianItems,EX=$([Ve,ku],hw),pw=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Tu=$([Au,at,EX],pw),RD=$([Tu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(um)),LD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),FD=$([Tu],LD),mw=e=>e.map(t=>t.data).filter(Boolean).flat(1),PX=$([Tu],mw),gw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},vw=$([PX,Cu],gw),yw=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ke(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:ke(i,n)}))):e.map(n=>({value:n})),dm=$([vw,at,Tu],yw);function BD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Co(e){return e.filter(t=>Hn(t)||t instanceof Date).map(Number).filter(t=>wr(t)===!1)}function CX(e,t,r){return!r||typeof t!="number"||wr(t)?[]:r.length?Co(r.flatMap(n=>{var i=ke(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Bt(a)||!Bt(o)))return[t-a,t+o]})):[]}var _X=$([RD,Cu,bt],MD),zD=(e,t,r)=>{var n={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,c=s.map(cm);return[o,{stackedData:eK(e,c,r),graphicalItems:s}]}))},zc=$([_X,RD,_u],zD),UD=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=iK(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},kX=$([zc,Ca,Ve],UD),WD=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(o=>{var s,c,u=(s=n[o.id])===null||s===void 0?void 0:s.filter(f=>BD(i,f)),d=ke(a,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:d,errorDomain:CX(a,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:ke(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),fm=e=>e.errorBars,HD=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>BD(r,n));$([FD,fm,Ve],HD);var OX=$([vw,at,FD,fm,Ve],WD);function AX(e){var{value:t}=e;if(Hn(t)||t instanceof Date)return t}var PE=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Co(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},TX=(e,t,r)=>{var n=e.map(AX).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&IO(n))?TT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},xw=e=>{var t;if(e==null||!("domain"in e))return r0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Co(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:r0},fh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},qD=e=>e.referenceElements.dots,rl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),DX=$([qD,Ve,ku],rl),KD=e=>e.referenceElements.areas,IX=$([KD,Ve,ku],rl),GD=e=>e.referenceElements.lines,MX=$([GD,Ve,ku],rl),VD=(e,t)=>{var r=Co(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$X=$(DX,Ve,VD),YD=(e,t)=>{var r=Co(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},RX=$([IX,Ve],YD),XD=(e,t)=>{var r=Co(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},LX=$(MX,Ve,XD),FX=$($X,LX,RX,(e,t,r)=>fh(e,r,t)),JD=$([at],xw),bw=(e,t,r,n,i,a,o)=>{var s=eX(t,e.allowDataOverflow);if(s!=null)return s;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=c?fh(r,i,PE(n)):fh(i,PE(n));return tX(t,u,e.allowDataOverflow)},BX=$([at,JD,kX,OX,FX,we,Ve],bw),zX=[0,1],ww=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,u=Yn(t,a);return u&&s==null?TT(0,r.length):c==="category"?TX(n,e,u):i==="expand"?zX:o}},jw=$([at,we,vw,dm,_u,Ve,BX],ww),QD=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(xu(a));return s in Bl?s:"point"}}},nl=$([at,we,$D,ow,Ve],QD);function UX(e){if(e!=null){if(e in Bl)return Bl[e]();var t="scale".concat(xu(e));if(t in Bl)return Bl[t]()}}function Sw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=UX(t);if(i!=null){var a=i.domain(r).range(n);return Yq(a),a}}}var Nw=(e,t,r)=>{var n=xw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$s(e))return dX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$s(e))return fX(e,t.tickCount,t.allowDecimals)}},Ew=$([jw,Ou,nl],Nw),Pw=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$s(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},WX=$([at,jw,Ew,Ve],Pw),HX=$(dm,at,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Co(e.map(s=>s.value))).sort((s,c)=>s-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),ZD=$(HX,we,_D,vt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Bt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=sr(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),qX=(e,t)=>{var r=_i(e,t);return r==null||typeof r.padding!="string"?0:ZD(e,"xAxis",t,r.padding)},KX=(e,t)=>{var r=_a(e,t);return r==null||typeof r.padding!="string"?0:ZD(e,"yAxis",t,r.padding)},GX=$(_i,qX,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),VX=$(_a,KX,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),YX=$([vt,GX,Zp,Qp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),XX=$([vt,we,VX,Zp,Qp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Du=(e,t,r,n)=>{var i;switch(t){case"xAxis":return YX(e,r,n);case"yAxis":return XX(e,r,n);case"zAxis":return(i=fw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return TD(e);case"radiusAxis":return DD(e,r);default:return}},eI=$([at,Du],sm),il=$([at,nl,WX,eI],Sw);$([Tu,fm,Ve],HD);function tI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var hm=(e,t)=>t,pm=(e,t,r)=>r,JX=$(Ob,hm,pm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(tI)),QX=$(Ab,hm,pm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(tI)),rI=(e,t)=>({width:e.width,height:t.height}),ZX=(e,t)=>{var r=typeof t.width=="number"?t.width:Jp;return{width:r,height:e.height}},nI=$(vt,_i,rI),eJ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},tJ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},rJ=$(Pi,vt,JX,hm,pm,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var c=rI(t,s);o==null&&(o=eJ(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),a}),nJ=$(Ei,vt,QX,hm,pm,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var c=ZX(t,s);o==null&&(o=tJ(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),a}),iJ=(e,t)=>{var r=vt(e),n=_i(e,t);if(n!=null){var i=rJ(e,n.orientation,n.mirror),a=i[t];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},aJ=(e,t)=>{var r=vt(e),n=_a(e,t);if(n!=null){var i=nJ(e,n.orientation,n.mirror),a=i[t];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},iI=$(vt,_a,(e,t)=>{var r=typeof t.width=="number"?t.width:Jp;return{width:r,height:e.height}}),CE=(e,t,r)=>{switch(t){case"xAxis":return nI(e,r).width;case"yAxis":return iI(e,r).height;default:return}},aI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=Yn(e,n),c=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&IO(c))return c}},Cw=$([we,dm,at,Ve],aI),oI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=Yn(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},_w=$([we,dm,Ou,Ve],oI),_E=$([we,NX,nl,il,Cw,_w,Du,Ew,Ve],(e,t,r,n,i,a,o,s,c)=>{if(t==null)return null;var u=Yn(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}),oJ=(e,t,r,n,i,a,o,s,c)=>{if(!(t==null||n==null)){var u=Yn(e,c),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/p:0;m=c==="angleAxis"&&a!=null&&a.length>=2?Nt(a[0]-a[1])*2*m:m;var g=f||i;if(g){var y=g.map((v,b)=>{var w=o?o.indexOf(v):v;return{index:b,coordinate:n(w)+m,value:v,offset:m}});return y.filter(v=>!wr(v.coordinate))}return u&&s?s.map((v,b)=>({coordinate:n(v)+m,value:v,index:b,offset:m})):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+m,value:v,offset:m})):n.domain().map((v,b)=>({coordinate:n(v)+m,value:o?o[v]:v,index:b,offset:m}))}},sI=$([we,Ou,nl,il,Ew,Du,Cw,_w,Ve],oJ),sJ=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=Yn(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Nt(n[0]-n[1])*2*u:u,s&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},Kn=$([we,Ou,il,Du,Cw,_w,Ve],sJ),Gn=$(at,il,(e,t)=>{if(!(e==null||t==null))return dh(dh({},e),{},{scale:t})}),lJ=$([at,nl,jw,eI],Sw);$((e,t,r)=>fw(e,r),lJ,(e,t)=>{if(!(e==null||t==null))return dh(dh({},e),{},{scale:t})});var cJ=$([we,Ob,Ab],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lI=e=>e.options.defaultTooltipEventType,cI=e=>e.options.validateTooltipEventTypes;function uI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function kw(e,t){var r=lI(e),n=cI(e);return uI(t,r,n)}function uJ(e){return ae(t=>kw(t,e))}var dI=(e,t)=>{var r,n=Number(t);if(!(wr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},dJ=e=>e.tooltip.settings,qi={active:!1,index:null,dataKey:void 0,coordinate:void 0},fJ={itemInteraction:{click:qi,hover:qi},axisInteraction:{click:qi,hover:qi},keyboardInteraction:qi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},fI=zr({name:"tooltip",initialState:fJ,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=li(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:hJ,removeTooltipEntrySettings:pJ,setTooltipSettingsState:mJ,setActiveMouseOverItemIndex:hI,mouseLeaveItem:gJ,mouseLeaveChart:pI,setActiveClickItemIndex:vJ,setMouseOverAxisIndex:mI,setMouseClickAxisIndex:yJ,setSyncInteraction:n0,setKeyboardInteraction:i0}=fI.actions,xJ=fI.reducer;function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(n){bJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bJ(e,t,r){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SJ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function NJ(e){return e.index!=null}var gI=(e,t,r,n)=>{if(t==null)return qi;var i=SJ(e,t,r);if(i==null)return qi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(NJ(i)){if(a)return Ed(Ed({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Ed(Ed({},qi),{},{coordinate:i.coordinate})},Ow=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Bt(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},vI=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var c=o[0],u=c==null?void 0:s(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},yI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Iu=e=>e.options.tooltipPayloadSearcher,al=e=>e.tooltip;function OE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(r),!0).forEach(function(n){EJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EJ(e,t,r){return(t=PJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _J(e,t){return e??t}var xI=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:y}=p,v=_J(g,s),b=Array.isArray(v)?eT(v,u,d):v,w=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,j=y==null?void 0:y.nameKey,S;if(n!=null&&n.dataKey&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?S=MO(b,n.dataKey,i):S=a(b,t,c,j),Array.isArray(S))S.forEach(E=>{var C=AE(AE({},y),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(wN({tooltipEntrySettings:C,dataKey:E.dataKey,payload:E.payload,value:ke(E.payload,E.dataKey),name:E.name}))});else{var N;h.push(wN({tooltipEntrySettings:y,dataKey:w,payload:S,value:ke(S,w),name:(N=ke(S,j))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},Aw=$([bt,we,$D,ow,xt],QD),kJ=$([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),OJ=$([xt,tl],hw),Mu=$([kJ,bt,OJ],pw),AJ=$([Mu],e=>e.filter(um)),TJ=$([Mu],mw),ol=$([TJ,Ca],gw),DJ=$([AJ,Ca,bt],MD),Tw=$([ol,bt,Mu],yw),IJ=$([bt],xw),MJ=$([Mu],e=>e.filter(um)),$J=$([DJ,MJ,_u],zD),RJ=$([$J,Ca,xt],UD),LJ=$([Mu],LD),FJ=$([ol,bt,LJ,fm,xt],WD),BJ=$([qD,xt,tl],rl),zJ=$([BJ,xt],VD),UJ=$([KD,xt,tl],rl),WJ=$([UJ,xt],YD),HJ=$([GD,xt,tl],rl),qJ=$([HJ,xt],XD),KJ=$([zJ,qJ,WJ],fh),GJ=$([bt,IJ,RJ,FJ,KJ,we,xt],bw),bI=$([bt,we,ol,Tw,_u,xt,GJ],ww),VJ=$([bI,bt,Aw],Nw),YJ=$([bt,bI,VJ,xt],Pw),wI=e=>{var t=xt(e),r=tl(e),n=!1;return Du(e,t,r,n)},jI=$([bt,wI],sm),SI=$([bt,Aw,YJ,jI],Sw),XJ=$([we,Tw,bt,xt],aI),JJ=$([we,Tw,bt,xt],oI),QJ=(e,t,r,n,i,a,o,s)=>{if(t){var{type:c}=t,u=Yn(e,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Nt(i[0]-i[1])*2*f:f,u&&o?o.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:a?a[h]:h,index:p,offset:f}))}}},ki=$([we,bt,Aw,SI,wI,XJ,JJ,xt],QJ),Dw=$([lI,cI,dJ],(e,t,r)=>uI(r.shared,e,t)),NI=e=>e.tooltip.settings.trigger,Iw=e=>e.tooltip.settings.defaultIndex,mm=$([al,Dw,NI,Iw],gI),pa=$([mm,ol],Ow),EI=$([ki,pa],dI),PI=$([mm],e=>{if(e)return e.dataKey}),CI=$([al,Dw,NI,Iw],yI),ZJ=$([Ei,Pi,we,vt,ki,Iw,CI,Iu],vI),eQ=$([mm,ZJ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),tQ=$([mm],e=>e.active),rQ=$([CI,pa,Ca,bt,EI,Iu,Dw],xI),nQ=$([rQ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){iQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iQ(e,t,r){return(t=aQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e){var t=oQ(e,"string");return typeof t=="symbol"?t:t+""}function oQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sQ=()=>ae(bt),lQ=()=>{var e=sQ(),t=ae(ki),r=ae(SI);return mo(DE(DE({},e),{},{scale:r}),t)},_I=()=>ae(ow),Mw=(e,t)=>t,kI=(e,t,r)=>r,$w=(e,t,r,n)=>n,cQ=$(ki,e=>Hp(e,t=>t.coordinate)),Rw=$([al,Mw,kI,$w],gI),OI=$([Rw,ol],Ow),uQ=(e,t,r)=>{if(t!=null){var n=al(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},AI=$([al,Mw,kI,$w],yI),hh=$([Ei,Pi,we,vt,ki,$w,AI,Iu],vI),dQ=$([Rw,hh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),TI=$(ki,OI,dI),fQ=$([AI,OI,Ca,bt,TI,Iu,Mw],xI),hQ=$([Rw],e=>({isActive:e.active,activeIndex:e.index})),pQ=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a)){var c=aK(e.chartX,e.chartY,t,r,s);if(c){var u=sK(c,t),d=Gq(u,o,a,n,i),f=oK(t,a,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(n){mQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mQ(e,t,r){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yQ(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!s||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,m;if(u==="ScatterChart")p=d,m=HK;else if(u==="BarChart")p=qK(o,d,i,a),m=ET;else if(o==="radial"){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:w}=PT(d);p={cx:g,cy:y,startAngle:b,endAngle:w,innerRadius:v,outerRadius:v},m=_T}else p={points:NG(o,d,i)},m=ds;var j=typeof s=="object"&&"className"in s?s.className:void 0,S=Pd(Pd(Pd(Pd({stroke:"#ccc",pointerEvents:"none"},i),p),ze(s,!1)),{},{payload:f,payloadIndex:h,className:je("recharts-tooltip-cursor",j)});return x.isValidElement(s)?x.cloneElement(s,S):x.createElement(m,S)}function xQ(e){var t=lQ(),r=lT(),n=ju(),i=_I();return x.createElement(yQ,a0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var DI=x.createContext(null),bQ=()=>x.useContext(DI),II={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,m),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var j=y.length,S;for(w=0;w<j;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(v-1);S<v;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(II);var wQ=II.exports;const jQ=un(wQ);var Uc=new jQ,o0="recharts.syncEvent.tooltip",ME="recharts.syncEvent.brush";function gm(e,t){if(t){var r=Number.parseInt(t,10);if(!wr(r))return e==null?void 0:e[r]}}var SQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},MI=zr({name:"options",initialState:SQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),NQ=MI.reducer,{createEventEmitter:EQ}=MI.actions;function PQ(e){return e.tooltip.syncInteraction}var CQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$I=zr({name:"chartData",initialState:CQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:$E,setDataStartEndIndexes:_Q,setComputedData:Lce}=$I.actions,kQ=$I.reducer,RI=()=>{};function OQ(){var e=ae(sw),t=ae(lw),r=it(),n=ae(kD),i=ae(ki),a=ju(),o=Tb(),s=ae(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return RI;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},m=n(i,p);h=i[m]}else n==="value"&&(h=i.find(N=>String(N.value)===d.payload.label));var{coordinate:g}=d.payload;if(h==null||d.payload.active===!1||g==null||o==null){r(n0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:v}=g,b=Math.min(y,o.x+o.width),w=Math.min(v,o.y+o.height),j={x:a==="horizontal"?h.coordinate:b,y:a==="horizontal"?w:h.coordinate},S=n0({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(S)}}};return Uc.on(o0,c),()=>{Uc.off(o0,c)}},[s,r,t,e,n,i,a,o])}function AQ(){var e=ae(sw),t=ae(lw),r=it();x.useEffect(()=>{if(e==null)return RI;var n=(i,a,o)=>{t!==o&&e===i&&r(_Q(a))};return Uc.on(ME,n),()=>{Uc.off(ME,n)}},[r,t,e])}function TQ(){var e=it();x.useEffect(()=>{e(EQ())},[e]),OQ(),AQ()}function DQ(e,t,r,n,i,a){var o=ae(h=>uQ(h,e,t)),s=ae(lw),c=ae(sw),u=ae(kD),d=ae(PQ),f=d==null?void 0:d.active;x.useEffect(()=>{if(!f&&c!=null&&s!=null){var h=n0({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});Uc.emit(o0,c,h,s)}},[f,r,o,i,n,s,c,u,a])}function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){IQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IQ(e,t,r){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RQ(e){return e.dataKey}function LQ(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(jK,t)}var FE=[],FQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Na.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Rs(e){var t=dr(e,FQ),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:w,axisId:j}=t,S=it(),N=typeof b=="number"?String(b):b;x.useEffect(()=>{S(mJ({shared:y,trigger:v,axisId:j,active:r,defaultIndex:N}))},[S,y,v,j,r,N]);var E=Tb(),C=pT(),P=uJ(y),{activeIndex:k,isActive:O}=ae(he=>hQ(he,P,v,N)),_=ae(he=>fQ(he,P,v,N)),A=ae(he=>TI(he,P,v,N)),D=ae(he=>dQ(he,P,v,N)),M=_,T=bQ(),R=r??O,[I,F]=RH([M,R]),B=P==="axis"?A:void 0;DQ(P,v,D,B,k,R);var J=w??T;if(J==null)return null;var L=M??FE;R||(L=FE),s&&L.length&&(L=tH(M.filter(he=>he.value!=null&&(he.hide!==!0||t.includeHidden)),d,RQ));var ne=L.length>0,ce=x.createElement(kK,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:R,coordinate:D,hasPayload:ne,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:E,wrapperStyle:m,lastBoundingBox:I,innerRef:F,hasPortalFromProps:!!w},LQ(o,LE(LE({},t),{},{payload:L,label:B,active:R,coordinate:D,accessibilityLayer:C})));return x.createElement(x.Fragment,null,eu.createPortal(ce,J),R&&x.createElement(xQ,{cursor:g,tooltipEventType:P,coordinate:D,payload:M,index:k}))}var LI={},FI={},BI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),o=void 0,s=null},y=()=>{d()},v=function(...b){if(i!=null&&i.aborted)return;o=this,s=b;const w=h==null;p(),c&&w&&d()};return v.schedule=p,v.cancel=g,v.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(BI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BI;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:c}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=n.apply(this,g),f=null},i,{edges:u}),p=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},m=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=m,p}e.debounce=r})(FI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(LI);var BQ=LI.throttle;const zQ=un(BQ);var nc=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bn=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:m={}}=e,g=x.useRef(null),y=x.useRef();y.current=p,x.useImperativeHandle(t,()=>g.current);var[v,b]=x.useState({containerWidth:n.width,containerHeight:n.height}),w=x.useCallback((S,N)=>{b(E=>{var C=Math.round(S),P=Math.round(N);return E.containerWidth===C&&E.containerHeight===P?E:{containerWidth:C,containerHeight:P}})},[]);x.useEffect(()=>{var S=P=>{var k,{width:O,height:_}=P[0].contentRect;w(O,_),(k=y.current)===null||k===void 0||k.call(y,O,_)};d>0&&(S=zQ(S,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(S),{width:E,height:C}=g.current.getBoundingClientRect();return w(E,C),N.observe(g.current),()=>{N.disconnect()}},[w,d]);var j=x.useMemo(()=>{var{containerWidth:S,containerHeight:N}=v;if(S<0||N<0)return null;nc(Ga(i)||Ga(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),nc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var E=Ga(i)?S:i,C=Ga(a)?N:a;return r&&r>0&&(E?C=E/r:C&&(E=C*r),c&&C>c&&(C=c)),nc(E>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,C,i,a,o,s,r),x.Children.map(u,P=>x.cloneElement(P,{width:E,height:C,style:Ug({width:E,height:C},P.props.style)}))},[r,u,a,c,s,o,v,i]);return x.createElement("div",{id:f?"".concat(f):void 0,className:je("recharts-responsive-container",h),style:Ug(Ug({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:c}),ref:g},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),vo=e=>null;vo.displayName="Cell";function qQ(e,t,r){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class VQ{constructor(t){qQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(n){XQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XQ(e,t,r){return(t=JQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZQ={cacheSize:2e3,enableCache:!0},zI=YQ({},ZQ),UE=new VQ(zI.cacheSize),eZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WE="recharts_measurement_span";function tZ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var HE=(e,t)=>{try{var r=document.getElementById(WE);r||(r=document.createElement("span"),r.setAttribute("id",WE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,eZ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ic=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Na.isSsr)return{width:0,height:0};if(!zI.enableCache)return HE(t,r);var n=tZ(t,r),i=UE.get(n);if(i)return i;var a=HE(t,r);return UE.set(n,a),a},qE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iZ=Object.keys(UI),rs="NaN";function aZ(e,t){return e*UI[t]}class hr{static parse(t){var r,[,n,i]=(r=nZ.exec(t))!==null&&r!==void 0?r:[];return new hr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wr(t)&&(this.unit=""),r!==""&&!rZ.test(r)&&(this.num=NaN,this.unit=""),iZ.includes(r)&&(this.num=aZ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new hr(NaN,""):new hr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new hr(NaN,""):new hr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wr(this.num)}}function WI(e){if(e.includes(rs))return rs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=qE.exec(t))!==null&&r!==void 0?r:[],o=hr.parse(n??""),s=hr.parse(a??""),c=i==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return rs;t=t.replace(qE,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=KE.exec(t))!==null&&u!==void 0?u:[],p=hr.parse(d??""),m=hr.parse(h??""),g=f==="+"?p.add(m):p.subtract(m);if(g.isNaN())return rs;t=t.replace(KE,g.toString())}return t}var GE=/\(([^()]*)\)/;function oZ(e){for(var t=e,r;(r=GE.exec(t))!=null;){var[,n]=r;t=t.replace(GE,WI(n))}return t}function sZ(e){var t=e.replace(/\s+/g,"");return t=oZ(t),t=WI(t),t}function lZ(e){try{return sZ(e)}catch{return rs}}function Wg(e){var t=lZ(e.slice(5,-1));return t===rs?"":t}var cZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uZ=["dx","dy","angle","className","breakAll"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}function VE(e,t){if(e==null)return{};var r,n,i=dZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HI=/[ \f\n\r\t\v\u2028\u2029]+/,qI=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Ue(t)||(r?i=t.toString().split(""):i=t.toString().split(HI));var a=i.map(s=>({word:s,width:ic(s,n).width})),o=r?0:ic(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},fZ=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:c}=e,u=Q(a),d=o,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((_,A)=>{var{word:D,width:M}=A,T=_[_.length-1];if(T&&(n==null||i||T.width+M+r<Number(n)))T.words.push(D),T.width+=M+r;else{var R={words:[D],width:M};_.push(R)}return _},[])},h=f(t),p=k=>k.reduce((O,_)=>O.width>_.width?O:_);if(!u||i)return h;var m=h.length>a||p(h).width>Number(n);if(!m)return h;for(var g="…",y=k=>{var O=d.slice(0,k),_=qI({breakAll:c,style:s,children:O+g}).wordsWithComputedWidth,A=f(_),D=A.length>a||p(A).width>Number(n);return[D,A]},v=0,b=d.length-1,w=0,j;v<=b&&w<=d.length-1;){var S=Math.floor((v+b)/2),N=S-1,[E,C]=y(N),[P]=y(S);if(!E&&!P&&(v=S+1),E&&P&&(b=S-1),!E&&P){j=C;break}w++}return j||h},YE=e=>{var t=Ue(e)?[]:e.toString().split(HI);return[{words:t}]},hZ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!Na.isSsr){var s,c,u=qI({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,c=f}else return YE(n);return fZ({breakAll:a,children:n,maxLines:o,style:i},s,c,t,r)}return YE(n)},XE="#808080",vm=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:c="end",fill:u=XE}=e,d=VE(e,cZ),f=x.useMemo(()=>hZ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:p,angle:m,className:g,breakAll:y}=d,v=VE(d,uZ);if(!Hn(r)||!Hn(n))return null;var b=r+(Q(h)?h:0),w=n+(Q(p)?p:0),j;switch(c){case"start":j=Wg("calc(".concat(a,")"));break;case"middle":j=Wg("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:j=Wg("calc(".concat(f.length-1," * -").concat(i,")"));break}var S=[];if(o){var N=f[0].width,{width:E}=d;S.push("scale(".concat(Q(E)?E/N:1,")"))}return m&&S.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),S.length&&(v.transform=S.join(" ")),x.createElement("text",s0({},ze(v,!0),{ref:t,x:b,y:w,className:je("recharts-text",g),textAnchor:s,fill:u.includes("url")?XE:u}),f.map((C,P)=>{var k=C.words.join(y?"":" ");return x.createElement("tspan",{x:b,dy:P===0?j:i,key:"".concat(k,"-").concat(P)},k)}))});vm.displayName="Text";var pZ=["offset"],mZ=["labelRef"];function JE(e,t){if(e==null)return{};var r,n,i=gZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(n){vZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vZ(e,t,r){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}var bZ=e=>{var{value:t,formatter:r}=e,n=Ue(e.children)?t:e.children;return typeof r=="function"?r(n):n},Lw=e=>e!=null&&typeof e=="function",wZ=(e,t)=>{var r=Nt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},jZ=(e,t,r,n)=>{var{position:i,offset:a,className:o}=e,{cx:s,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=n,m=(u+d)/2,g=wZ(f,h),y=g>=0?1:-1,v,b;i==="insideStart"?(v=f+y*a,b=p):i==="insideEnd"?(v=h-y*a,b=!p):i==="end"&&(v=h+y*a,b=p),b=g<=0?b:!b;var w=st(s,c,m,v),j=st(s,c,m,v+(b?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(j.x,",").concat(j.y),N=Ue(e.id)?Tc("recharts-radial-line-"):e.id;return x.createElement("text",ri({},r,{dominantBaseline:"central",className:je("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:N,d:S})),x.createElement("textPath",{xlinkHref:"#".concat(N)},t))},SZ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:d,y:f}=st(n,i,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:p,y:m}=st(n,i,h,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},NZ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:a,y:o,width:s,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=s>=0?1:-1,m=p*n,g=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var v={x:a+s/2,y:o-u*n,textAnchor:"middle",verticalAnchor:f};return Qe(Qe({},v),r?{height:Math.max(o-r.y,0),width:s}:{})}if(i==="bottom"){var b={x:a+s/2,y:o+c+d,textAnchor:"middle",verticalAnchor:h};return Qe(Qe({},b),r?{height:Math.max(r.y+r.height-(o+c),0),width:s}:{})}if(i==="left"){var w={x:a-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return Qe(Qe({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(i==="right"){var j={x:a+s+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return Qe(Qe({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var S=r?{width:s,height:c}:{};return i==="insideLeft"?Qe({x:a+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideRight"?Qe({x:a+s-m,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},S):i==="insideTop"?Qe({x:a+s/2,y:o+d,textAnchor:"middle",verticalAnchor:h},S):i==="insideBottom"?Qe({x:a+s/2,y:o+c-d,textAnchor:"middle",verticalAnchor:f},S):i==="insideTopLeft"?Qe({x:a+m,y:o+d,textAnchor:y,verticalAnchor:h},S):i==="insideTopRight"?Qe({x:a+s-m,y:o+d,textAnchor:g,verticalAnchor:h},S):i==="insideBottomLeft"?Qe({x:a+m,y:o+c-d,textAnchor:y,verticalAnchor:f},S):i==="insideBottomRight"?Qe({x:a+s-m,y:o+c-d,textAnchor:g,verticalAnchor:f},S):i&&typeof i=="object"&&(Q(i.x)||Ga(i.x))&&(Q(i.y)||Ga(i.y))?Qe({x:a+sr(i.x,s),y:o+sr(i.y,c),textAnchor:"end",verticalAnchor:"end"},S):Qe({x:a+s/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},EZ=e=>"cx"in e&&Q(e.cx);function Pr(e){var{offset:t=5}=e,r=JE(e,pZ),n=Qe({offset:t},r),{viewBox:i,position:a,value:o,children:s,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=ae(ID),p=Tb(),m=a==="center"?p:h??p,g=i||m;if(!g||Ue(o)&&Ue(s)&&!x.isValidElement(c)&&typeof c!="function")return null;var y=Qe(Qe({},n),{},{viewBox:g});if(x.isValidElement(c)){var{labelRef:v}=y,b=JE(y,mZ);return x.cloneElement(c,b)}var w;if(typeof c=="function"){if(w=x.createElement(c,y),x.isValidElement(w))return w}else w=bZ(n);var j=EZ(g),S=ze(n,!0);if(j&&(a==="insideStart"||a==="insideEnd"||a==="end"))return jZ(n,w,S,g);var N=j?SZ(g,n.offset,n.position):NZ(n,g);return x.createElement(vm,ri({ref:f,className:je("recharts-label",u)},S,N,{breakAll:d}),w)}Pr.displayName="Label";var KI=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:a,r:o,radius:s,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:p,width:m,height:g,clockWise:y,labelViewBox:v}=e;if(v)return v;if(Q(m)&&Q(g)){if(Q(d)&&Q(f))return{x:d,y:f,width:m,height:g};if(Q(h)&&Q(p))return{x:h,y:p,width:m,height:g}}if(Q(d)&&Q(f))return{x:d,y:f,width:0,height:0};if(Q(t)&&Q(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:c||0,outerRadius:u||s||o||0,clockWise:y};if(e.viewBox)return e.viewBox},PZ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Pr,ri({key:"label-implicit"},n)):Hn(e)?x.createElement(Pr,ri({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Pr?x.cloneElement(e,Qe({key:"label-implicit"},n)):x.createElement(Pr,ri({key:"label-implicit",content:e},n)):Lw(e)?x.createElement(Pr,ri({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Pr,ri({},e,{key:"label-implicit"},n)):null},CZ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:a}=t,o=KI(t),s=bu(i,Pr).map((u,d)=>x.cloneElement(u,{viewBox:r||o,key:"label-".concat(d)}));if(!n)return s;var c=PZ(t.label,r||o,a);return[c,...s]};Pr.parseViewBox=KI;Pr.renderCallByParent=CZ;var GI={},VI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(VI);var YI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(YI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VI,r=YI,n=Fp;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(GI);var _Z=GI.last;const kZ=un(_Z);var OZ=["valueAccessor"],AZ=["data","dataKey","clockWise","id","textBreakAll"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(null,arguments)}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tP(e,t){if(e==null)return{};var r,n,i=MZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $Z=e=>Array.isArray(e.value)?kZ(e.value):e.value;function ui(e){var{valueAccessor:t=$Z}=e,r=tP(e,OZ),{data:n,dataKey:i,clockWise:a,id:o,textBreakAll:s}=r,c=tP(r,AZ);return!n||!n.length?null:x.createElement(nt,{className:"recharts-label-list"},n.map((u,d)=>{var f=Ue(i)?t(u,d):ke(u&&u.payload,i),h=Ue(o)?{}:{id:"".concat(o,"-").concat(d)};return x.createElement(Pr,ph({},ze(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:s,viewBox:Pr.parseViewBox(Ue(a)?u:eP(eP({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}ui.displayName="LabelList";function RZ(e,t){return e?e===!0?x.createElement(ui,{key:"labelList-implicit",data:t}):x.isValidElement(e)||Lw(e)?x.createElement(ui,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?x.createElement(ui,ph({data:t},e,{key:"labelList-implicit"})):null:null}function LZ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=bu(n,ui).map((o,s)=>x.cloneElement(o,{data:t,key:"labelList-".concat(s)}));if(!r)return i;var a=RZ(e.label,t);return[a,...i]}ui.renderCallByParent=LZ;function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}var Fw=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=je("recharts-dot",i);return t===+t&&r===+r&&n===+n?x.createElement("circle",l0({},kn(e),db(e),{className:a,cx:t,cy:r,r:n})):null},XI=e=>e.graphicalItems.polarItems,FZ=$([Ve,ku],hw),Bw=$([XI,at,FZ],pw),BZ=$([Bw],mw),zw=$([BZ,nw],gw),zZ=$([zw,at,Bw],yw),UZ=$([zw,at,Bw],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=ke(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ke(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),rP=()=>{},WZ=$([at,JD,rP,UZ,rP,we,Ve],bw),JI=$([at,we,zw,zZ,_u,Ve,WZ],ww),HZ=$([JI,at,nl],Nw);$([at,JI,HZ,Ve],Pw);var qZ={radiusAxis:{},angleAxis:{}},QI=zr({name:"polarAxis",initialState:qZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Fce,removeRadiusAxis:Bce,addAngleAxis:zce,removeAngleAxis:Uce}=QI.actions,KZ=QI.reducer;function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){GZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GZ(e,t,r){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XZ=(e,t)=>t,Uw=$([XI,XZ],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),JZ=[],Ww=(e,t,r)=>(r==null?void 0:r.length)===0?JZ:r,ZI=$([nw,Uw,Ww],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>iP(iP({},t.presentationProps),a.props))),i!=null)return i}}),QZ=$([ZI,Uw,Ww],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=ke(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:Sa(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),ZZ=$([ZI,Uw,Ww,vt],(e,t,r,n)=>{if(!(t==null||e==null))return Hee({offset:n,pieSettings:t,displayedData:e,cells:r})}),eM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(eM);var eee=eM.isPlainObject;const tee=un(eee);function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}var aP=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},ree={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nee=e=>{var t=dr(e,ree),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:a,y:o,upperWidth:s,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=t;if(a!==+a||o!==+o||s!==+s||c!==+c||u!==+u||s===0&&c===0||u===0)return null;var g=je("recharts-trapezoid",d);return m?x.createElement(Zf,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:a,y:o},to:{upperWidth:s,lowerWidth:c,height:u,x:a,y:o},duration:h,animationEasing:f,isActive:m},y=>{var{upperWidth:v,lowerWidth:b,height:w,x:j,y:S}=y;return x.createElement(Zf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:f},x.createElement("path",mh({},ze(t,!0),{className:g,d:aP(j,S,v,b,w),ref:r})))}):x.createElement("g",null,x.createElement("path",mh({},ze(t,!0),{className:g,d:aP(a,o,s,c,u)})))},iee=["option","shapeType","propTransformer","activeClassName","isActive"];function aee(e,t){if(e==null)return{};var r,n,i=oee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){see(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function see(e,t,r){return(t=lee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lee(e){var t=cee(e,"string");return typeof t=="symbol"?t:t+""}function cee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uee(e,t){return gh(gh({},t),e)}function dee(e,t){return e==="symbols"}function sP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(ET,r);case"trapezoid":return x.createElement(nee,r);case"sector":return x.createElement(_T,r);case"symbols":if(dee(t))return x.createElement(rA,r);break;default:return null}}function fee(e){return x.isValidElement(e)?e.props:e}function tM(e){var{option:t,shapeType:r,propTransformer:n=uee,activeClassName:i="recharts-active-shape",isActive:a}=e,o=aee(e,iee),s;if(x.isValidElement(t))s=x.cloneElement(t,gh(gh({},o),fee(t)));else if(typeof t=="function")s=t(o);else if(tee(t)&&typeof t!="boolean"){var c=n(t,o);s=x.createElement(sP,{shapeType:r,elementProps:c})}else{var u=o;s=x.createElement(sP,{shapeType:r,elementProps:u})}return a?x.createElement(nt,{className:i},s):s}var Hw=(e,t)=>{var r=it();return(n,i)=>a=>{e==null||e(n,i,a),r(hI({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},qw=e=>{var t=it();return(r,n)=>i=>{e==null||e(r,n,i),t(gJ())}},Kw=(e,t)=>{var r=it();return(n,i)=>a=>{e==null||e(n,i,a),r(vJ({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function ym(e){var{fn:t,args:r}=e,n=it(),i=er();return x.useEffect(()=>{if(!i){var a=t(r);return n(hJ(a)),()=>{n(pJ(a))}}},[t,r,n,i]),null}var rM=()=>{};function Gw(e){var{legendPayload:t}=e,r=it(),n=er();return x.useEffect(()=>n?rM:(r(fT(t)),()=>{r(hT(t))}),[r,n,t]),null}function hee(e){var{legendPayload:t}=e,r=it(),n=ae(we);return x.useEffect(()=>n!=="centric"&&n!=="radial"?rM:(r(fT(t)),()=>{r(hT(t))}),[r,n,t]),null}function xm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Tc(t)),n=x.useRef(e);return n.current!==e&&(r.current=Tc(t),n.current=e),r.current}var Hg,pee=()=>{var[e]=x.useState(()=>Tc("uid-"));return e},mee=(Hg=_h.useId)!==null&&Hg!==void 0?Hg:pee;function gee(e,t){var r=mee();return t||(e?"".concat(e,"-").concat(r):r)}var vee=x.createContext(void 0),bm=e=>{var{id:t,type:r,children:n}=e,i=gee("recharts-".concat(r),t);return x.createElement(vee.Provider,{value:i},n(i))},yee={cartesianItems:[],polarItems:[]},nM=zr({name:"graphicalItems",initialState:yee,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=li(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=li(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=li(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:xee,replaceCartesianGraphicalItem:bee,removeCartesianGraphicalItem:wee,addPolarGraphicalItem:jee,removePolarGraphicalItem:See}=nM.actions,Nee=nM.reducer;function Vw(e){var t=it(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?t(xee(e)):r.current!==e&&t(bee({prev:r.current,next:e})),r.current=e},[t,e]),x.useEffect(()=>()=>{r.current&&(t(wee(r.current)),r.current=null)},[t]),null}function Eee(e){var t=it();return x.useEffect(()=>(t(jee(e)),()=>{t(See(e))}),[t,e]),null}function Pee(){}var Cee={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},lP={t:0},qg={t:1};function wm(e){var t=dr(e,Cee),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:c,children:u}=t,d=NT("JavascriptAnimate",t.animationManager),[f,h]=x.useState(r?lP:qg),p=x.useRef(null);return x.useEffect(()=>{r||h(qg)},[r]),x.useEffect(()=>{if(!r||!n)return Pee;var m=ST(lP,qg,wT(a),i,h,d.getTimeoutController()),g=()=>{p.current=m()};return d.start([c,o,g,i,s]),()=>{d.stop(),p.current&&p.current(),s()}},[r,n,i,a,o,c,s,d]),u(f.t)}var _ee=["onMouseEnter","onClick","onMouseLeave"],kee=["id"],Oee=["id"];function Yw(e,t){if(e==null)return{};var r,n,i=Aee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Aee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){Tee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tee(e,t,r){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dee(e){var t=Iee(e,"string");return typeof t=="symbol"?t:t+""}function Iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(null,arguments)}function Mee(e){var t=x.useMemo(()=>bu(e.children,vo),[e.children]),r=ae(n=>QZ(n,e.id,t));return r==null?null:x.createElement(hee,{legendPayload:r})}function $ee(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:Sa(s,t),hide:c,type:u,color:o,unit:""}}}var Ree=(e,t)=>e>t?"start":e<t?"end":"middle",Lee=(e,t,r)=>typeof t=="function"?t(e):sr(t,r,r*.8),Fee=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=ZA(a,o),c=i+sr(e.cx,a,a/2),u=n+sr(e.cy,o,o/2),d=sr(e.innerRadius,s,0),f=Lee(r,e.outerRadius,s),h=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Bee=(e,t)=>{var r=Nt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},zee=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=je("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(ds,bi({},t,{type:"linear",className:r}))},Uee=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var i=je("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return x.createElement(vm,bi({},t,{alignmentBaseline:"middle",className:i}),n)};function Wee(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=kn(r),c=ze(i,!1),u=ze(a,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,g=st(h.cx,h.cy,h.outerRadius+d,m),y=et(et(et(et({},s),h),{},{stroke:"none"},c),{},{index:p,textAnchor:Ree(g.x,h.cx)},g),v=et(et(et(et({},s),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[st(h.cx,h.cy,h.outerRadius,m),g],key:"line"});return x.createElement(nt,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},a&&zee(a,v),Uee(i,y,ke(h,o)))});return x.createElement(nt,{className:"recharts-pie-labels"},f)}function iM(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:a}=e,o=ae(pa),{onMouseEnter:s,onClick:c,onMouseLeave:u}=i,d=Yw(i,_ee),f=Hw(s,i.dataKey),h=qw(u),p=Kw(c,i.dataKey);return t==null?null:x.createElement(x.Fragment,null,t.map((m,g)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var y=r&&String(g)===o,v=o?n:null,b=y?r:v,w=et(et({},m),{},{stroke:m.stroke,tabIndex:-1,[aT]:g,[oT]:i.dataKey});return x.createElement(nt,bi({tabIndex:-1,className:"recharts-pie-sector"},Ip(d,m,g),{onMouseEnter:f(m,g),onMouseLeave:h(m,g),onClick:p(m,g),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(g)}),x.createElement(tM,bi({option:b,isActive:y,shapeType:"sector"},w)))}),x.createElement(Wee,{sectors:t,props:i,showLabels:a}))}function Hee(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),p=Bee(s,c),m=Math.abs(p),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(N=>ke(N,u,0)!==0).length,v=(m>=360?y:y-1)*g,b=m-y*h-v,w=n.reduce((N,E)=>{var C=ke(E,u,0);return N+(Q(C)?C:0)},0),j;if(w>0){var S;j=n.map((N,E)=>{var C=ke(N,u,0),P=ke(N,d,E),k=Fee(r,a,N),O=(Q(C)?C:0)/w,_,A=et(et({},N),i&&i[E]&&i[E].props);E?_=S.endAngle+Nt(p)*g*(C!==0?1:0):_=s;var D=_+Nt(p)*((C!==0?h:0)+O*b),M=(_+D)/2,T=(k.innerRadius+k.outerRadius)/2,R=[{name:P,value:C,payload:A,dataKey:u,type:f}],I=st(k.cx,k.cy,T,M);return S=et(et(et(et({},r.presentationProps),{},{percent:O,cornerRadius:o,name:P,tooltipPayload:R,midAngle:M,middleRadius:T,tooltipPosition:I},A),k),{},{value:ke(N,u),startAngle:_,endAngle:D,payload:A,paddingAngle:Nt(p)*g}),S})}return j}function qee(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=xm(t,"recharts-pie-"),p=r.current,[m,g]=x.useState(!0),y=x.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),v=x.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return x.createElement(wm,{begin:a,duration:o,isActive:i,easing:s,onAnimationStart:v,onAnimationEnd:y,key:h},b=>{var w=[],j=n&&n[0],S=j.startAngle;return n.forEach((N,E)=>{var C=p&&p[E],P=E>0?ha(N,"paddingAngle",0):0;if(C){var k=US(C.endAngle-C.startAngle,N.endAngle-N.startAngle),O=et(et({},N),{},{startAngle:S+P,endAngle:S+k(b)+P});w.push(O),S=O.endAngle}else{var{endAngle:_,startAngle:A}=N,D=US(0,_-A),M=D(b),T=et(et({},N),{},{startAngle:S+P,endAngle:S+M+P});w.push(T),S=T.endAngle}}),r.current=w,x.createElement(nt,null,x.createElement(iM,{sectors:w,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!m}))})}function Kee(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,a=x.useRef(null),o=a.current;return r&&t&&t.length&&(!o||o!==t)?x.createElement(qee,{props:e,previousSectorsRef:a}):x.createElement(iM,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function Gee(e){var{hide:t,className:r,rootTabIndex:n}=e,i=je("recharts-pie",r);return t?null:x.createElement(nt,{tabIndex:n,className:i},x.createElement(Kee,e))}var Vee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Na.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Yee(e){var{id:t}=e,r=Yw(e,kee),n=x.useMemo(()=>bu(e.children,vo),[e.children]),i=ae(a=>ZZ(a,t,n));return x.createElement(x.Fragment,null,x.createElement(ym,{fn:$ee,args:et(et({},e),{},{sectors:i})}),x.createElement(Gee,bi({},r,{sectors:i})))}function vh(e){var t=dr(e,Vee),{id:r}=t,n=Yw(t,Oee),i=kn(n);return x.createElement(bm,{id:r,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(Eee,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(Mee,bi({},n,{id:a})),x.createElement(Yee,bi({},n,{id:a})),n.children))}vh.displayName="Pie";var Xee=$([vt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Jee=$([Xee,Ei,Pi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),jm=()=>ae(Jee),Qee=()=>ae(nQ);function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){Zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zee(e,t,r){return(t=ete(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ete(e){var t=tte(e,"string");return typeof t=="symbol"?t:t+""}function tte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rte=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=dP(dP({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ze(i,!1)),db(i)),s;return x.isValidElement(i)?s=x.cloneElement(i,o):typeof i=="function"?s=i(o):s=x.createElement(Fw,o),x.createElement(nt,{className:"recharts-active-dot"},s)};function c0(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=ae(pa),o=Qee();if(t==null||o==null)return null;var s=t.find(c=>o.includes(c.payload));return Ue(s)?null:rte({point:s,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var nte=["x","y"];function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(null,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ite(e,t,r){return(t=ate(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ate(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e,t){if(e==null)return{};var r,n,i=lte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cte(e,t){var{x:r,y:n}=e,i=ste(e,nte),a="".concat(r),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Ol(Ol(Ol(Ol(Ol({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function aM(e){return x.createElement(tM,u0({shapeType:"rectangle",propTransformer:cte,activeClassName:"recharts-active-bar"},e))}var ute=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Q(t))return t;var a=Q(n)||Ue(n);return a?t(n,i):(a||D2(),r)}},dte={},oM=zr({name:"errorBars",initialState:dte,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Wce,removeErrorBar:Hce}=oM.actions,fte=oM.reducer,hte=["children"];function pte(e,t){if(e==null)return{};var r,n,i=mte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vte=x.createContext(gte);function sM(e){var{children:t}=e,r=pte(e,hte);return x.createElement(vte.Provider,{value:r},t)}function Sm(e,t){var r,n,i=ae(u=>_i(u,e)),a=ae(u=>_a(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:jr.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Sr.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function Xw(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=jm(),{needClipX:a,needClipY:o,needClip:s}=Sm(t,r);if(!s)return null;var{x:c,y:u,width:d,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:a?c:c-d/2,y:o?u:u-f/2,width:a?d:d*2,height:o?f:f*2}))}var yte=["onMouseEnter","onMouseLeave","onClick"],xte=["value","background","tooltipPosition"],bte=["id"],wte=["onMouseEnter","onClick","onMouseLeave"];function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(null,arguments)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jte(e,t,r){return(t=Ste(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ste(e){var t=Nte(e,"string");return typeof t=="symbol"?t:t+""}function Nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(e,t){if(e==null)return{};var r,n,i=Ete(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ete(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pte=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Sa(r,t),payload:e}]};function Cte(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Sa(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function _te(e){var t=ae(pa),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=a,u=yh(a,yte),d=Hw(o,n),f=qw(s),h=Kw(c,n);if(!i||r==null)return null;var p=ze(i,!1);return x.createElement(x.Fragment,null,r.map((m,g)=>{var{value:y,background:v,tooltipPosition:b}=m,w=yh(m,xte);if(!v)return null;var j=d(m,g),S=f(m,g),N=h(m,g),E=Vt(Vt(Vt(Vt(Vt({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},v),p),Ip(u,m,g)),{},{onMouseEnter:j,onMouseLeave:S,onClick:N,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return x.createElement(aM,Ls({key:"background-bar-".concat(g)},E))}))}function lM(e){var{data:t,props:r,showLabels:n}=e,i=kn(r),{id:a}=i,o=yh(i,bte),{shape:s,dataKey:c,activeBar:u}=r,d=ae(pa),f=ae(PI),{onMouseEnter:h,onClick:p,onMouseLeave:m}=r,g=yh(r,wte),y=Hw(h,c),v=qw(m),b=Kw(p,c);return t?x.createElement(x.Fragment,null,t.map((w,j)=>{var S=u&&String(j)===d&&(f==null||c===f),N=S?u:s,E=Vt(Vt(Vt({},o),w),{},{isActive:S,option:N,index:j,dataKey:c});return x.createElement(nt,Ls({className:"recharts-bar-rectangle"},Ip(g,w,j),{onMouseEnter:y(w,j),onMouseLeave:v(w,j),onClick:b(w,j),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(j)}),x.createElement(aM,E))}),n&&ui.renderCallByParent(r,t)):null}function kte(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=xm(t,"recharts-bar-"),[p,m]=x.useState(!1),g=x.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),y=x.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return x.createElement(wm,{begin:o,duration:s,isActive:a,easing:c,onAnimationEnd:g,onAnimationStart:y,key:h},v=>{var b=v===1?n:n==null?void 0:n.map((w,j)=>{var S=f&&f[j];if(S)return Vt(Vt({},w),{},{x:$t(S.x,w.x,v),y:$t(S.y,w.y,v),width:$t(S.width,w.width,v),height:$t(S.height,w.height,v)});if(i==="horizontal"){var N=$t(0,w.height,v);return Vt(Vt({},w),{},{y:w.y+w.height-N,height:N})}var E=$t(0,w.width,v);return Vt(Vt({},w),{},{width:E})});return v>0&&(r.current=b??null),b==null?null:x.createElement(nt,null,x.createElement(lM,{props:t,data:b,showLabels:!p}))})}function Ote(e){var{data:t,isAnimationActive:r}=e,n=x.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?x.createElement(kte,{previousRectanglesRef:n,props:e}):x.createElement(lM,{props:e,data:t,showLabels:!0})}var cM=0,Ate=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ke(e,t)}};class Tte extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:c,id:u}=this.props;if(t)return null;var d=je("recharts-bar",i),f=u;return x.createElement(nt,{className:d,id:u},s&&x.createElement("defs",null,x.createElement(Xw,{clipPathId:f,xAxisId:a,yAxisId:o})),x.createElement(nt,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},x.createElement(_te,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),x.createElement(Ote,this.props)),this.props.children)}}var Dte={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Na.isSsr,legendType:"rect",minPointSize:cM,xAxisId:0,yAxisId:0};function Ite(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=Sm(t,r),h=ju(),p=er(),m=bu(e.children,vo),g=ae(b=>sre(b,t,r,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var y,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?y=0:y=h==="vertical"?v.height/2:v.width/2,x.createElement(sM,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:Ate,errorBarOffset:y},x.createElement(Tte,Ls({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Mte(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p}=e,m=t==="horizontal"?s:o,g=d?m.scale.domain():null,y=tK({numericAxis:m});return f.map((v,b)=>{var w,j,S,N,E,C;d?w=Xq(d[b],g):(w=ke(v,r),Array.isArray(w)||(w=[y,w]));var P=ute(n,cM)(w[1],b);if(t==="horizontal"){var k,[O,_]=[s.scale(w[0]),s.scale(w[1])];j=yN({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:v,index:b}),S=(k=_??O)!==null&&k!==void 0?k:void 0,N=i.size;var A=O-_;if(E=wr(A)?0:A,C={x:j,y:h.top,width:N,height:h.height},Math.abs(P)>0&&Math.abs(E)<Math.abs(P)){var D=Nt(E||P)*(Math.abs(P)-Math.abs(E));S-=D,E+=D}}else{var[M,T]=[o.scale(w[0]),o.scale(w[1])];if(j=M,S=yN({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:v,index:b}),N=T-M,E=i.size,C={x:h.left,y:S,width:h.width,height:E},Math.abs(P)>0&&Math.abs(N)<Math.abs(P)){var R=Nt(N||P)*(Math.abs(P)-Math.abs(N));N+=R}}if(j==null||S==null||N==null||E==null)return null;var I=Vt(Vt({},v),{},{x:j,y:S,width:N,height:E,value:d?w:w[1],payload:v,background:C,tooltipPosition:{x:j+N/2,y:S+E/2}},p&&p[b]&&p[b].props);return I}).filter(Boolean)}function hs(e){var t=dr(e,Dte),r=er();return x.createElement(bm,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(Gw,{legendPayload:Pte(t)}),x.createElement(ym,{fn:Cte,args:t}),x.createElement(Vw,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:nT(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(Ite,Ls({},t,{id:n}))))}hs.displayName="Bar";function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){$te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $te(e,t,r){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=Lte(e,"string");return typeof t=="symbol"?t:t+""}function Lte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fte=(e,t)=>t,Bte=(e,t,r)=>r,zte=(e,t,r,n)=>n,Ute=(e,t,r,n,i)=>i,$u=$([Au,Ute],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Wte=$([$u],e=>e==null?void 0:e.maxBarSize),Hte=(e,t,r,n,i,a)=>a,mP=(e,t,r)=>{var n=r??e;if(!Ue(n))return sr(n,t,0)},qte=$([we,Au,Fte,Bte,zte],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Kte=(e,t,r,n)=>{var i=we(e);return i==="horizontal"?zc(e,"yAxis",r,n):zc(e,"xAxis",t,n)},Gte=(e,t,r)=>{var n=we(e);return n==="horizontal"?CE(e,"xAxis",t):CE(e,"yAxis",r)},Vte=(e,t,r)=>{var n={},i=e.filter(um),a=e.filter(u=>u.stackId==null),o=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),s=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(m=>m.dataKey),p=mP(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),c=a.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=mP(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...s,...c]},Yte=$([qte,pX,Gte],Vte),Xte=(e,t,r,n,i)=>{var a,o,s=$u(e,t,r,n,i);if(s!=null){var c=we(e),u=CD(e),{maxBarSize:d}=s,f=Ue(d)?u:d,h,p;return c==="horizontal"?(h=Gn(e,"xAxis",t,n),p=Kn(e,"xAxis",t,n)):(h=Gn(e,"yAxis",r,n),p=Kn(e,"yAxis",r,n)),(a=(o=mo(h,p,!0))!==null&&o!==void 0?o:f)!==null&&a!==void 0?a:0}},uM=(e,t,r,n)=>{var i=we(e),a,o;return i==="horizontal"?(a=Gn(e,"xAxis",t,n),o=Kn(e,"xAxis",t,n)):(a=Gn(e,"yAxis",r,n),o=Kn(e,"yAxis",r,n)),mo(a,o)};function Jte(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=sr(e,r,0,!0),s,c=[];if(Bt(n[0].barSize)){var u=!1,d=r/a,f=n.reduce((v,b)=>v+(b.barSize||0),0);f+=(a-1)*o,f>=r&&(f-=(a-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=a*d);var h=(r-f)/2>>0,p={offset:h-o,size:0};s=n.reduce((v,b)=>{var w,j={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+o,size:u?d:(w=b.barSize)!==null&&w!==void 0?w:0}},S=[...v,j];return p=S[S.length-1].position,S},c)}else{var m=sr(t,r,0,!0);r-2*m-(a-1)*o<=0&&(o=0);var g=(r-2*m-(a-1)*o)/a;g>1&&(g>>=0);var y=Bt(i)?Math.min(g,i):g;s=n.reduce((v,b,w)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(g+o)*w+(g-y)/2,size:y}}],c)}return s}}var Qte=(e,t,r,n,i,a,o)=>{var s=Ue(o)?t:o,c=Jte(r,n,i!==a?i:a,e,s);return i!==a&&c!=null&&(c=c.map(u=>Cd(Cd({},u),{},{position:Cd(Cd({},u.position),{},{offset:u.position.offset-i/2})}))),c},Zte=$([Yte,CD,hX,_D,Xte,uM,Wte],Qte),ere=(e,t,r,n)=>Gn(e,"xAxis",t,n),tre=(e,t,r,n)=>Gn(e,"yAxis",r,n),rre=(e,t,r,n)=>Kn(e,"xAxis",t,n),nre=(e,t,r,n)=>Kn(e,"yAxis",r,n),ire=$([Zte,$u],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),are=(e,t)=>{var r=cm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},ore=$([Kte,$u],are),sre=$([vt,ere,tre,rre,nre,ire,we,Cu,uM,ore,$u,Hte],(e,t,r,n,i,a,o,s,c,u,d,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:m}=s;if(!(d==null||a==null||o!=="horizontal"&&o!=="vertical"||t==null||r==null||n==null||i==null||c==null)){var{data:g}=d,y;if(g!=null&&g.length>0?y=g:y=h==null?void 0:h.slice(p,m+1),y!=null)return Mte({layout:o,barSettings:d,pos:a,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:y,offset:e,cells:f})}}),dM=e=>{var{chartData:t}=e,r=it(),n=er();return x.useEffect(()=>n?()=>{}:(r($E(t)),()=>{r($E(void 0))}),[t,r,n]),null},gP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},fM=zr({name:"brush",initialState:gP,reducers:{setBrushSettings(e,t){return t.payload==null?gP:t.payload}}}),{setBrushSettings:qce}=fM.actions,lre=fM.reducer;function cre(e,t,r){return(t=ure(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ure(e){var t=dre(e,"string");return typeof t=="symbol"?t:t+""}function dre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jw{static create(t){return new Jw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}cre(Jw,"EPS",1e-4);function fre(e){return(e%180+180)%180}var hre=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=fre(i),o=a*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},pre={dots:[],areas:[],lines:[]},hM=zr({name:"referenceElements",initialState:pre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=li(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=li(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=li(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Kce,removeDot:Gce,addArea:Vce,removeArea:Yce,addLine:Xce,removeLine:Jce}=hM.actions,mre=hM.reducer,gre=x.createContext(void 0),vre=e=>{var{children:t}=e,[r]=x.useState("".concat(Tc("recharts"),"-clip")),n=jm();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return x.createElement(gre.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function Kg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function yre(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hre(n,r)}function xre(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function xh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function bre(e,t){return pM(e,t+1)}function wre(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,c=0,u=1,d=o,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:pM(n,u)};var g=c,y,v=()=>(y===void 0&&(y=r(m,g)),y),b=m.coordinate,w=c===0||xh(e,b,v,d,s);w||(c=0,d=o,u+=1),w&&(d=b+e*(v()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jre(e,t,r){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ere(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:c}=t,u=function(h){var p=a[h],m,g=()=>(m===void 0&&(m=r(p,h)),m);if(h===o-1){var y=e*(p.coordinate+e*g()/2-c);a[h]=p=Kt(Kt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else a[h]=p=Kt(Kt({},p),{},{tickCoord:p.coordinate});var v=xh(e,p.tickCoord,g,s,c);v&&(c=p.tickCoord-e*(g()/2+i),a[h]=Kt(Kt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function Pre(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:c,end:u}=t;if(a){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);o[s-1]=d=Kt(Kt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=xh(e,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-e*(f/2+i),o[s-1]=Kt(Kt({},d),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(b){var w=o[b],j,S=()=>(j===void 0&&(j=r(w,b)),j);if(b===0){var N=e*(w.coordinate-e*S()/2-c);o[b]=w=Kt(Kt({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[b]=w=Kt(Kt({},w),{},{tickCoord:w.coordinate});var E=xh(e,w.tickCoord,S,c,u);E&&(c=w.tickCoord+e*(S()/2+i),o[b]=Kt(Kt({},w),{},{isShow:!0}))},y=0;y<m;y++)g(y);return o}function Qw(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(Q(c)||Na.isSsr){var h;return(h=bre(i,Q(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",g=d&&m==="width"?ic(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(w,j)=>{var S=typeof u=="function"?u(w.value,j):w.value;return m==="width"?yre(ic(S,{fontSize:t,letterSpacing:r}),g,f):ic(S,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?Nt(i[1].coordinate-i[0].coordinate):1,b=xre(a,v,m);return c==="equidistantPreserveStart"?wre(v,b,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=Pre(v,b,y,i,o,c==="preserveStartEnd"):p=Ere(v,b,y,i,o),p.filter(w=>w.isShow))}var Cre=["viewBox"],_re=["viewBox"];function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(null,arguments)}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){Zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xP(e,t){if(e==null)return{};var r,n,i=kre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zw(e,t,r){return(t=Ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ore(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ka extends x.Component{constructor(t){super(t),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=xP(t,Cre),a=this.props,{viewBox:o}=a,s=xP(a,_re);return!Kg(n,o)||!Kg(i,s)||!Kg(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:a,orientation:o,tickSize:s,mirror:c,tickMargin:u}=this.props,d,f,h,p,m,g,y=c?-1:1,v=t.tickSize||s,b=Q(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=f=t.coordinate,p=n+ +!c*a,h=p-y*v,g=h-y*u,m=b;break;case"left":h=p=t.coordinate,f=r+ +!c*i,d=f-y*v,m=d-y*u,g=b;break;case"right":h=p=t.coordinate,f=r+ +c*i,d=f+y*v,m=d+y*u,g=b;break;default:d=f=t.coordinate,p=n+ +c*a,h=p+y*v,g=h+y*u,m=b;break}return{line:{x1:d,y1:h,x2:f,y2:p},tick:{x:m,y:g}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s}=this.props,c=dt(dt(dt({},ze(this.props,!1)),ze(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);c=dt(dt({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);c=dt(dt({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return x.createElement("line",ns({},c,{className:je("recharts-cartesian-axis-line",ha(s,"className"))}))}static renderTickItem(t,r,n){var i,a=je(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,dt(dt({},r),{},{className:a}));else if(typeof t=="function")i=t(dt(dt({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=je(o,t.className)),i=x.createElement(vm,ns({},r,{className:o}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:s,unit:c,padding:u}=this.props,d=Qw(dt(dt({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=kn(this.props),m=ze(o,!1),g=dt(dt({},p),{},{fill:"none"},ze(i,!1)),y=d.map((v,b)=>{var{line:w,tick:j}=this.getTickLineCoord(v),S=dt(dt(dt(dt({textAnchor:f,verticalAnchor:h},p),{},{stroke:"none",fill:a},m),j),{},{index:b,payload:v,visibleTicksCount:d.length,tickFormatter:s,padding:u});return x.createElement(nt,ns({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},Ip(this.props,v,b)),i&&x.createElement("line",ns({},g,w,{className:je("recharts-cartesian-axis-tick-line",ha(i,"className"))})),o&&ka.renderTickItem(o,S,"".concat(typeof s=="function"?s(v.value,b):v.value).concat(c||"")))});return y.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(nt,{className:je("recharts-cartesian-axis",i),ref:s=>{if(s){var c=s.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Pr.renderCallByParent(this.props))}}Zw(ka,"displayName","CartesianAxis");Zw(ka,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tre=["x1","y1","x2","y2","key"],Dre=["offset"],Ire=["xAxisId","yAxisId"],Mre=["xAxisId","yAxisId"];function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){$re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $re(e,t,r){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rre(e){var t=Lre(e,"string");return typeof t=="symbol"?t:t+""}function Lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ja.apply(null,arguments)}function bh(e,t){if(e==null)return{};var r,n,i=Fre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return x.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function mM(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=t,c=bh(t,Tre),u=kn(c),{offset:d}=u,f=bh(u,Dre);r=x.createElement("line",Ja({},f,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function zre(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=bh(e,Ire),c=i.map((u,d)=>{var f=Yt(Yt({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return mM(n,f)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Ure(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=bh(e,Mre),c=i.map((u,d)=>{var f=Yt(Yt({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return mM(n,f)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Wre(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=s.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],m=p?i+o-f:u[h+1]-f;if(m<=0)return null;var g=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Hre(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],m=p?i+o-f:u[h+1]-f;if(m<=0)return null;var g=h%r.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:m,height:s,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var qre=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return tT(Qw(Yt(Yt(Yt({},ka.defaultProps),r),{},{ticks:rT(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},Kre=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return tT(Qw(Yt(Yt(Yt({},ka.defaultProps),r),{},{ticks:rT(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},Gre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function gM(e){var t=cT(),r=uT(),n=lT(),i=Yt(Yt({},dr(e,Gre)),{},{x:Q(e.x)?e.x:n.left,y:Q(e.y)?e.y:n.top,width:Q(e.width)?e.width:n.width,height:Q(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,m=er(),g=ae(P=>_E(P,"xAxis",a,m)),y=ae(P=>_E(P,"yAxis",o,m));if(!Q(u)||u<=0||!Q(d)||d<=0||!Q(s)||s!==+s||!Q(c)||c!==+c)return null;var v=i.verticalCoordinatesGenerator||qre,b=i.horizontalCoordinatesGenerator||Kre,{horizontalPoints:w,verticalPoints:j}=i;if((!w||!w.length)&&typeof b=="function"){var S=h&&h.length,N=b({yAxis:y?Yt(Yt({},y),{},{ticks:S?h:y.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);nc(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!j||!j.length)&&typeof v=="function"){var E=p&&p.length,C=v({xAxis:g?Yt(Yt({},g),{},{ticks:E?p:g.ticks}):void 0,width:t,height:r,offset:n},E?!0:f);nc(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(j=C)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Bre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Wre,Ja({},i,{horizontalPoints:w})),x.createElement(Hre,Ja({},i,{verticalPoints:j})),x.createElement(zre,Ja({},i,{offset:n,horizontalPoints:w,xAxis:g,yAxis:y})),x.createElement(Ure,Ja({},i,{offset:n,verticalPoints:j,xAxis:g,yAxis:y})))}gM.displayName="CartesianGrid";var vM=(e,t,r,n)=>Gn(e,"xAxis",t,n),yM=(e,t,r,n)=>Kn(e,"xAxis",t,n),xM=(e,t,r,n)=>Gn(e,"yAxis",r,n),bM=(e,t,r,n)=>Kn(e,"yAxis",r,n),Vre=$([we,vM,xM,yM,bM],(e,t,r,n,i)=>Yn(e,"xAxis")?mo(t,n,!1):mo(r,i,!1)),Yre=(e,t,r,n,i)=>i;function Xre(e){return e.type==="line"}var Jre=$([Au,Yre],(e,t)=>e.filter(Xre).find(r=>r.id===t)),Qre=$([we,vM,xM,yM,bM,Jre,Vre,Cu],(e,t,r,n,i,a,o,s)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=s;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:f,data:h}=a,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(u,d+1),p!=null)return xne({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:o,displayedData:p})}}),Zre=["id"],ene=["type","layout","connectNulls","needClip"],tne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rne(e,t,r){return(t=nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=ine(e,"string");return typeof t=="symbol"?t:t+""}function ine(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e1(e,t){if(e==null)return{};var r,n,i=ane(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ane(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yo.apply(null,arguments)}var one=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Sa(r,t),payload:e}]};function sne(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Sa(o,t),hide:s,type:e.tooltipType,color:e.stroke,unit:c}}}var wM=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function lne(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var cne=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return wM(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,s=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){s=[...r.slice(0,c),a-u];break}var d=s.length%2===0?[0,o]:[o];return[...lne(r,i),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function une(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=je("recharts-line-dot",typeof e!="boolean"?e.className:"");r=x.createElement(Fw,yo({},t,{className:n}))}return r}function dne(e,t){return e==null?!1:t?!0:e.length===1}function fne(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n;if(!dne(r,i))return null;var{id:s}=n,c=e1(n,Zre),u=Mp(i),d=kn(c),f=ze(i,!0),h=r.map((m,g)=>{var y=bn(bn(bn({key:"dot-".concat(g),r:3},d),f),{},{index:g,cx:m.x,cy:m.y,dataKey:a,value:m.value,payload:m.payload,points:r});return une(i,y)}),p={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return x.createElement(nt,yo({className:"recharts-line-dots",key:"dots"},p),h)}function d0(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a,showLabels:o}=e,{type:s,layout:c,connectNulls:u,needClip:d}=a,f=e1(a,ene),h=bn(bn({},ze(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:c,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(ds,yo({},h,{pathRef:r})),x.createElement(fne,{points:n,clipPathId:t,props:a}),o&&ui.renderCallByParent(a,n))}function hne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function pne(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:s,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:m,onAnimationEnd:g,onAnimationStart:y}=r,v=i.current,b=xm(r,"recharts-line-"),[w,j]=x.useState(!1),S=x.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),N=x.useCallback(()=>{typeof y=="function"&&y(),j(!0)},[y]),E=hne(n.current),C=a.current;return x.createElement(wm,{begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:S,onAnimationStart:N,key:b},P=>{var k=$t(C,E+C,P),O=Math.min(k,E),_;if(s){var A="".concat(s).split(/[,\s]+/gim).map(T=>parseFloat(T));_=cne(O,E,A)}else _=wM(E,O);if(v){var D=v.length/o.length,M=P===1?o:o.map((T,R)=>{var I=Math.floor(R*D);if(v[I]){var F=v[I];return bn(bn({},T),{},{x:$t(F.x,T.x,P),y:$t(F.y,T.y,P)})}return h?bn(bn({},T),{},{x:$t(p*2,T.x,P),y:$t(m/2,T.y,P)}):bn(bn({},T),{},{x:T.x,y:T.y})});return i.current=M,x.createElement(d0,{props:r,points:M,clipPathId:t,pathRef:n,showLabels:!w,strokeDasharray:_})}return P>0&&E>0&&(i.current=o,a.current=O),x.createElement(d0,{props:r,points:o,clipPathId:t,pathRef:n,showLabels:!w,strokeDasharray:_})})}function mne(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:i}=r,a=x.useRef(null),o=x.useRef(0),s=x.useRef(null),c=a.current;return i&&n&&n.length&&c!==n?x.createElement(pne,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:o,pathRef:s}):x.createElement(d0,{props:r,points:n,clipPathId:t,pathRef:s,showLabels:!0})}var gne=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ke(e.payload,t)});class vne extends x.Component{render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:c,left:u,width:d,height:f,id:h,needClip:p}=this.props;if(r)return null;var m=je("recharts-line",a),g=h,{r:y=3,strokeWidth:v=2}=(t=ze(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=Mp(n),w=y*2+v;return x.createElement(x.Fragment,null,x.createElement(nt,{className:m},p&&x.createElement("defs",null,x.createElement(Xw,{clipPathId:g,xAxisId:o,yAxisId:s}),!b&&x.createElement("clipPath",{id:"clipPath-dots-".concat(g)},x.createElement("rect",{x:u-w/2,y:c-w/2,width:d+w,height:f+w}))),x.createElement(mne,{props:this.props,clipPathId:g}),x.createElement(sM,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:gne,errorBarOffset:0},this.props.children)),x.createElement(c0,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var jM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Na.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function yne(e){var t=dr(e,jM),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:m,id:g}=t,y=e1(t,tne),{needClip:v}=Sm(p,m),b=jm(),w=ju(),j=er(),S=ae(k=>Qre(k,p,m,j,g));if(w!=="horizontal"&&w!=="vertical"||S==null||b==null)return null;var{height:N,width:E,x:C,y:P}=b;return x.createElement(vne,yo({},y,{id:g,connectNulls:s,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:m,points:S,layout:w,height:N,width:E,left:C,top:P,needClip:v}))}function xne(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:c}=e;return c.map((u,d)=>{var f=ke(u,o);if(t==="horizontal"){var h=Xf({axis:r,ticks:i,bandSize:s,entry:u,index:d}),p=Ue(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:u}}var m=Ue(f)?null:r.scale(f),g=Xf({axis:n,ticks:a,bandSize:s,entry:u,index:d});return m==null||g==null?null:{x:m,y:g,value:f,payload:u}}).filter(Boolean)}function Wc(e){var t=dr(e,jM),r=er();return x.createElement(bm,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(Gw,{legendPayload:one(t)}),x.createElement(ym,{fn:sne,args:t}),x.createElement(Vw,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(yne,yo({},t,{id:n}))))}Wc.displayName="Line";var SM=(e,t,r,n)=>Gn(e,"xAxis",t,n),NM=(e,t,r,n)=>Kn(e,"xAxis",t,n),EM=(e,t,r,n)=>Gn(e,"yAxis",r,n),PM=(e,t,r,n)=>Kn(e,"yAxis",r,n),bne=$([we,SM,EM,NM,PM],(e,t,r,n,i)=>Yn(e,"xAxis")?mo(t,n,!1):mo(r,i,!1)),wne=(e,t,r,n,i)=>i,CM=$([Au,wne],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),jne=(e,t,r,n,i)=>{var a,o=CM(e,t,r,n,i);if(o!=null){var s=we(e),c=Yn(s,"xAxis"),u;if(c?u=zc(e,"yAxis",r,n):u=zc(e,"xAxis",t,n),u!=null){var{stackId:d}=o,f=cm(o);if(!(d==null||f==null)){var h=(a=u[d])===null||a===void 0?void 0:a.stackedData;return h==null?void 0:h.find(p=>p.key===f)}}}},Sne=$([we,SM,EM,NM,PM,jne,Cu,bne,CM],(e,t,r,n,i,a,o,s,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{data:h}=c,p;if(h&&h.length>0?p=h:p=u==null?void 0:u.slice(d,f+1),p!=null){var m=void 0;return Wne({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:d,areaSettings:c,stackedData:a,displayedData:p,chartBaseValue:m,bandSize:s})}}}),Nne=["id"],Ene=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function _M(e,t){if(e==null)return{};var r,n,i=Pne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){Cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cne(e,t,r){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(null,arguments)}function wh(e,t){return e&&e!=="none"?e:t}var One=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:wh(n,i),value:Sa(r,t),payload:e}]};function Ane(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Sa(o,t),hide:s,type:e.tooltipType,color:wh(n,a),unit:c}}}var Tne=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=je("recharts-area-dot",typeof e!="boolean"?e.className:"");r=x.createElement(Fw,di({},t,{className:n}))}return r};function Dne(e,t){return e==null?!1:t?!0:e.length===1}function Ine(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:o}=n;if(!Dne(r,a))return null;var s=Mp(a),c=kn(n),u=ze(a,!0),d=r.map((h,p)=>{var m=Qa(Qa(Qa({key:"dot-".concat(p),r:3},c),u),{},{index:p,cx:h.x,cy:h.y,dataKey:o,value:h.value,payload:h.payload,points:r});return Tne(a,m)}),f={clipPath:i?"url(#clipPath-".concat(s?"":"dots-").concat(t,")"):void 0};return x.createElement(nt,di({className:"recharts-area-dots"},f),d)}function f0(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a,showLabels:o}=e,{layout:s,type:c,stroke:u,connectNulls:d,isRange:f}=a,{id:h}=a,p=_M(a,Nne),m=kn(p);return x.createElement(x.Fragment,null,(t==null?void 0:t.length)>1&&x.createElement(nt,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},x.createElement(ds,di({},m,{id:h,points:t,connectNulls:d,type:c,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&x.createElement(ds,di({},m,{className:"recharts-area-curve",layout:s,type:c,connectNulls:d,fill:"none",points:t})),u!=="none"&&f&&x.createElement(ds,di({},m,{className:"recharts-area-curve",layout:s,type:c,connectNulls:d,fill:"none",points:r}))),x.createElement(Ine,{points:t,props:p,clipPathId:i}),o&&ui.renderCallByParent(p,t))}function Mne(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].y,o=n[n.length-1].y;if(!Bt(a)||!Bt(o))return null;var s=t*Math.abs(a-o),c=Math.max(...n.map(u=>u.x||0));return Q(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),Q(c)?x.createElement("rect",{x:0,y:a<o?a:a-s,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(s)}):null}function $ne(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].x,o=n[n.length-1].x;if(!Bt(a)||!Bt(o))return null;var s=t*Math.abs(a-o),c=Math.max(...n.map(u=>u.y||0));return Q(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),Q(c)?x.createElement("rect",{x:a<o?a:a-s,y:0,width:s,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function Rne(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?x.createElement(Mne,{alpha:t,points:n,baseLine:i,strokeWidth:a}):x.createElement($ne,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function Lne(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:s,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,m=xm(n,"recharts-area-"),[g,y]=x.useState(!0),v=x.useCallback(()=>{typeof p=="function"&&p(),y(!1)},[p]),b=x.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]),w=i.current,j=a.current;return x.createElement(wm,{begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:v,onAnimationStart:b,key:m},S=>{if(w){var N=w.length/o.length,E=S===1?o:o.map((P,k)=>{var O=Math.floor(k*N);if(w[O]){var _=w[O];return Qa(Qa({},P),{},{x:$t(_.x,P.x,S),y:$t(_.y,P.y,S)})}return P}),C;return Q(s)?C=$t(j,s,S):Ue(s)||wr(s)?C=$t(j,0,S):C=s.map((P,k)=>{var O=Math.floor(k*N);if(Array.isArray(j)&&j[O]){var _=j[O];return Qa(Qa({},P),{},{x:$t(_.x,P.x,S),y:$t(_.y,P.y,S)})}return P}),S>0&&(i.current=E,a.current=C),x.createElement(f0,{points:E,baseLine:C,needClip:t,clipPathId:r,props:n,showLabels:!g})}return S>0&&(i.current=o,a.current=s),x.createElement(nt,null,x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(Rne,{alpha:S,points:o,baseLine:s,layout:n.layout,strokeWidth:n.strokeWidth}))),x.createElement(nt,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(f0,{points:o,baseLine:s,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function Fne(e){var{needClip:t,clipPathId:r,props:n}=e,{points:i,baseLine:a,isAnimationActive:o}=n,s=x.useRef(null),c=x.useRef(),u=s.current,d=c.current;return o&&i&&i.length&&(u!==i||d!==a)?x.createElement(Lne,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:c}):x.createElement(f0,{points:i,baseLine:a,needClip:t,clipPathId:r,props:n,showLabels:!0})}class Bne extends x.PureComponent{render(){var t,{hide:r,dot:n,points:i,className:a,top:o,left:s,needClip:c,xAxisId:u,yAxisId:d,width:f,height:h,id:p,baseLine:m}=this.props;if(r)return null;var g=je("recharts-area",a),y=p,{r:v=3,strokeWidth:b=2}=(t=ze(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=Mp(n),j=v*2+b;return x.createElement(x.Fragment,null,x.createElement(nt,{className:g},c&&x.createElement("defs",null,x.createElement(Xw,{clipPathId:y,xAxisId:u,yAxisId:d}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(y)},x.createElement("rect",{x:s-j/2,y:o-j/2,width:f+j,height:h+j}))),x.createElement(Fne,{needClip:c,clipPathId:y,props:this.props})),x.createElement(c0,{points:i,mainColor:wh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&x.createElement(c0,{points:m,mainColor:wh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var kM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Na.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function zne(e){var t,r=dr(e,kM),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:c,fill:u,fillOpacity:d,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:g,yAxisId:y}=r,v=_M(r,Ene),b=ju(),w=_I(),{needClip:j}=Sm(g,y),S=er(),{points:N,isRange:E,baseLine:C}=(t=ae(D=>Sne(D,g,y,S,e.id)))!==null&&t!==void 0?t:{},P=jm();if(b!=="horizontal"&&b!=="vertical"||P==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:k,width:O,x:_,y:A}=P;return!N||!N.length?null:x.createElement(Bne,di({},v,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:C,connectNulls:s,dot:c,fill:u,fillOpacity:d,height:k,hide:f,layout:b,isAnimationActive:h,isRange:E,legendType:p,needClip:j,points:N,stroke:m,width:O,left:_,top:A,xAxisId:g,yAxisId:y}))}var Une=(e,t,r,n,i)=>{var a=r??t;if(Q(a))return a;var o=e==="horizontal"?i:n,s=o.scale.domain();if(o.type==="number"){var c=Math.max(s[0],s[1]),u=Math.min(s[0],s[1]);return a==="dataMin"?u:a==="dataMax"||c<0?c:Math.max(Math.min(s[0],s[1]),0)}return a==="dataMin"?s[0]:a==="dataMax"?s[1]:s[0]};function Wne(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:o,xAxis:s,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,m=i&&i.length,g=Une(a,o,r,s,c),y=a==="horizontal",v=!1,b=u.map((j,S)=>{var N;m?N=i[d+S]:(N=ke(j,n),Array.isArray(N)?v=!0:N=[g,N]);var E=N[1]==null||m&&!t&&ke(j,n)==null;return y?{x:Xf({axis:s,ticks:f,bandSize:p,entry:j,index:S}),y:E?null:c.scale(N[1]),value:N,payload:j}:{x:E?null:s.scale(N[1]),y:Xf({axis:c,ticks:h,bandSize:p,entry:j,index:S}),value:N,payload:j}}),w;return m||v?w=b.map(j=>{var S=Array.isArray(j.value)?j.value[0]:null;return y?{x:j.x,y:S!=null&&j.y!=null?c.scale(S):null,payload:j.payload}:{x:S!=null?s.scale(S):null,y:j.y,payload:j.payload}}):w=y?c.scale(g):s.scale(g),{points:b,baseLine:w,isRange:v}}function ps(e){var t=dr(e,kM),r=er();return x.createElement(bm,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(Gw,{legendPayload:One(t)}),x.createElement(ym,{fn:Ane,args:t}),x.createElement(Vw,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:nT(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(zne,di({},t,{id:n}))))}ps.displayName="Area";function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){Hne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hne(e,t,r){return(t=qne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qne(e){var t=Kne(e,"string");return typeof t=="symbol"?t:t+""}function Kne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gne={xAxis:{},yAxis:{},zAxis:{}},OM=zr({name:"cartesianAxis",initialState:Gne,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=NP(NP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Vne,removeXAxis:Yne,addYAxis:Xne,removeYAxis:Jne,addZAxis:Qce,removeZAxis:Zce,updateYAxisWidth:Qne}=OM.actions,Zne=OM.reducer,eie=["children"],tie=["dangerouslySetInnerHTML","ticks"];function AM(e,t,r){return(t=rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rie(e){var t=nie(e,"string");return typeof t=="symbol"?t:t+""}function nie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(null,arguments)}function TM(e,t){if(e==null)return{};var r,n,i=iie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aie(e){var t=it(),r=x.useMemo(()=>{var{children:a}=e,o=TM(e,eie);return o},[e]),n=ae(a=>_i(a,r.id)),i=r===n;return x.useEffect(()=>(t(Vne(r)),()=>{t(Yne(r))}),[r,t]),i?e.children:null}var oie=e=>{var{xAxisId:t,className:r}=e,n=ae(sT),i=er(),a="xAxis",o=ae(p=>il(p,a,t,i)),s=ae(p=>sI(p,a,t,i)),c=ae(p=>nI(p,t)),u=ae(p=>iJ(p,t));if(c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,h=TM(e,tie);return x.createElement(ka,h0({},h,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:je("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},sie=e=>{var t,r,n,i,a;return x.createElement(aie,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter},x.createElement(oie,e))};class wi extends x.Component{render(){return x.createElement(sie,this.props)}}AM(wi,"displayName","XAxis");AM(wi,"defaultProps",{allowDataOverflow:jr.allowDataOverflow,allowDecimals:jr.allowDecimals,allowDuplicatedCategory:jr.allowDuplicatedCategory,height:jr.height,hide:!1,mirror:jr.mirror,orientation:jr.orientation,padding:jr.padding,reversed:jr.reversed,scale:jr.scale,tickCount:jr.tickCount,type:jr.type,xAxisId:0});var lie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=r?r.getBoundingClientRect().width:0,c=i+a,u=o+c+s+(r?n:0);return Math.round(u)}return 0},cie=["dangerouslySetInnerHTML","ticks"];function DM(e,t,r){return(t=uie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(null,arguments)}function fie(e,t){if(e==null)return{};var r,n,i=hie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pie(e){var t=it();return x.useEffect(()=>(t(Xne(e)),()=>{t(Jne(e))}),[e,t]),null}var mie=e=>{var t,{yAxisId:r,className:n,width:i,label:a}=e,o=x.useRef(null),s=x.useRef(null),c=ae(sT),u=er(),d=it(),f="yAxis",h=ae(w=>il(w,f,r,u)),p=ae(w=>iI(w,r)),m=ae(w=>aJ(w,r)),g=ae(w=>sI(w,f,r,u));if(x.useLayoutEffect(()=>{var w;if(!(i!=="auto"||!p||Lw(a)||x.isValidElement(a))){var j=o.current,S=j==null||(w=j.tickRefs)===null||w===void 0?void 0:w.current,{tickSize:N,tickMargin:E}=j.props,C=lie({ticks:S,label:s.current,labelGapWithTick:5,tickSize:N,tickMargin:E});Math.round(p.width)!==Math.round(C)&&d(Qne({id:r,width:C}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,p==null?void 0:p.width,p,d,a,r,i]),p==null||m==null)return null;var{dangerouslySetInnerHTML:y,ticks:v}=e,b=fie(e,cie);return x.createElement(ka,p0({},b,{ref:o,labelRef:s,scale:h,x:m.x,y:m.y,width:p.width,height:p.height,className:je("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:g}))},gie=e=>{var t,r,n,i,a;return x.createElement(x.Fragment,null,x.createElement(pie,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(a=e.tick)!==null&&a!==void 0?a:!0,tickFormatter:e.tickFormatter}),x.createElement(mie,e))},vie={allowDataOverflow:Sr.allowDataOverflow,allowDecimals:Sr.allowDecimals,allowDuplicatedCategory:Sr.allowDuplicatedCategory,hide:!1,mirror:Sr.mirror,orientation:Sr.orientation,padding:Sr.padding,reversed:Sr.reversed,scale:Sr.scale,tickCount:Sr.tickCount,type:Sr.type,width:Sr.width,yAxisId:0};class ji extends x.Component{render(){return x.createElement(gie,this.props)}}DM(ji,"displayName","YAxis");DM(ji,"defaultProps",vie);var yie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=x;function xie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bie=typeof Object.is=="function"?Object.is:xie,wie=Ru.useSyncExternalStore,jie=Ru.useRef,Sie=Ru.useEffect,Nie=Ru.useMemo,Eie=Ru.useDebugValue;yie.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=jie(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Nie(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,bie(d,p))return m;var g=n(p);return i!==void 0&&i(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var s=wie(e,a[0],a[1]);return Sie(function(){o.hasValue=!0,o.value=s},[s]),Eie(s),s};function Pie(e){e()}function Cie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Pie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var EP={notify(){},get:()=>[]};function _ie(e,t){let r,n=EP,i=0,a=!1;function o(g){d();const y=n.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),f())}}function s(){n.notify()}function c(){m.onStateChange&&m.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=Cie())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=EP)}function h(){a||(a=!0,d())}function p(){a&&(a=!1,f())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var kie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oie=kie(),Aie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tie=Aie(),Die=()=>Oie||Tie?x.useLayoutEffect:x.useEffect,Iie=Die(),Gg=Symbol.for("react-redux-context"),Vg=typeof globalThis<"u"?globalThis:{};function Mie(){if(!x.createContext)return{};const e=Vg[Gg]??(Vg[Gg]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var $ie=Mie();function Rie(e){const{children:t,context:r,serverState:n,store:i}=e,a=x.useMemo(()=>{const c=_ie(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),o=x.useMemo(()=>i.getState(),[i]);Iie(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const s=r||$ie;return x.createElement(s.Provider,{value:a},t)}var Lie=Rie,Fie=(e,t)=>t,t1=$([Fie,we,ID,xt,jI,ki,cQ,vt],pQ),r1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},IM=ln("mouseClick"),MM=wu();MM.startListening({actionCreator:IM,effect:(e,t)=>{var r=e.payload,n=t1(t.getState(),r1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(yJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var m0=ln("mouseMove"),$M=wu();$M.startListening({actionCreator:m0,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=kw(n,n.tooltip.settings.shared),a=t1(n,r1(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(mI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(pI()))}});function Bie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var PP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},RM=zr({name:"rootProps",initialState:PP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:PP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),zie=RM.reducer,{updateOptions:Uie}=RM.actions,LM=zr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Wie}=LM.actions,Hie=LM.reducer,FM=ln("keyDown"),BM=ln("focus"),n1=wu();n1.startListening({actionCreator:FM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(Ow(i,ol(r))),s=ki(r);if(a==="Enter"){var c=hh(r,"axis","hover",String(i.index));t.dispatch(i0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=cJ(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=o+f*d;if(!(s==null||h>=s.length||h<0)){var p=hh(r,"axis","hover",String(h));t.dispatch(i0({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});n1.startListening({actionCreator:BM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=hh(r,"axis","hover",String(a));t.dispatch(i0({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var qr=ln("externalEvent"),zM=wu();zM.startListening({actionCreator:qr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:eQ(r),activeDataKey:PI(r),activeIndex:pa(r),activeLabel:EI(r),activeTooltipIndex:pa(r),isTooltipActive:tQ(r)};e.payload.handler(n,e.payload.reactEvent)}}});var qie=$([al],e=>e.tooltipItemPayloads),Kie=$([qie,Iu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),UM=ln("touchMove"),WM=wu();WM.startListening({actionCreator:UM,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=kw(n,n.tooltip.settings.shared);if(i==="axis"){var a=t1(n,r1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(mI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(aT),d=(o=c.getAttribute(oT))!==null&&o!==void 0?o:void 0,f=Kie(t.getState(),u,d);t.dispatch(hI({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Gie=OA({brush:lre,cartesianAxis:Zne,chartData:kQ,errorBars:fte,graphicalItems:Nee,layout:Iq,legend:vK,options:NQ,polarAxis:KZ,polarOptions:Hie,referenceElements:mre,rootProps:zie,tooltip:xJ}),Vie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return aq({reducer:Gie,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([MM.middleware,$M.middleware,n1.middleware,zM.middleware,WM.middleware]),devTools:{serialize:{replacer:Bie},name:"recharts-".concat(r)}})};function HM(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=er(),a=x.useRef(null);if(i)return r;a.current==null&&(a.current=Vie(t,n));var o=jb;return x.createElement(Lie,{context:o,store:a.current},r)}function qM(e){var{layout:t,width:r,height:n,margin:i}=e,a=it(),o=er();return x.useEffect(()=>{o||(a(Aq(t)),a(Tq({width:r,height:n})),a(Oq(i)))},[a,o,t,r,n,i]),null}function KM(e){var t=it();return x.useEffect(()=>{t(Uie(e))},[t,e]),null}var Yie=["children"];function Xie(e,t){if(e==null)return{};var r,n,i=Jie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(null,arguments)}var Qie={width:"100%",height:"100%"},Zie=x.forwardRef((e,t)=>{var r=cT(),n=uT(),i=pT();if(!Ts(r)||!Ts(n))return null;var{children:a,otherAttributes:o,title:s,desc:c}=e,u,d;return typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,x.createElement(LO,jh({},o,{title:s,desc:c,role:d,tabIndex:u,width:r,height:n,style:Qie,ref:t}),a)}),eae=e=>{var{children:t}=e,r=ae(Zp);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return x.createElement(LO,{width:n,height:i,x:o,y:a},t)},CP=x.forwardRef((e,t)=>{var{children:r}=e,n=Xie(e,Yie),i=er();return i?x.createElement(eae,null,r):x.createElement(Zie,jh({ref:t},n),r)});function tae(){var e=it(),[t,r]=x.useState(null),n=ae(lK);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Bt(a)&&a!==n&&e(Dq(a))}},[t,e,n]),r}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nae(e,t,r){return(t=iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iae(e){var t=aae(e,"string");return typeof t=="symbol"?t:t+""}function aae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oae=x.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=it(),[w,j]=x.useState(null),[S,N]=x.useState(null);TQ();var E=tae(),C=x.useCallback(L=>{E(L),typeof t=="function"&&t(L),j(L),N(L)},[E,t,j,N]),P=x.useCallback(L=>{b(IM(L)),b(qr({handler:a,reactEvent:L}))},[b,a]),k=x.useCallback(L=>{b(m0(L)),b(qr({handler:u,reactEvent:L}))},[b,u]),O=x.useCallback(L=>{b(pI()),b(qr({handler:d,reactEvent:L}))},[b,d]),_=x.useCallback(L=>{b(m0(L)),b(qr({handler:f,reactEvent:L}))},[b,f]),A=x.useCallback(()=>{b(BM())},[b]),D=x.useCallback(L=>{b(FM(L.key))},[b]),M=x.useCallback(L=>{b(qr({handler:o,reactEvent:L}))},[b,o]),T=x.useCallback(L=>{b(qr({handler:s,reactEvent:L}))},[b,s]),R=x.useCallback(L=>{b(qr({handler:c,reactEvent:L}))},[b,c]),I=x.useCallback(L=>{b(qr({handler:h,reactEvent:L}))},[b,h]),F=x.useCallback(L=>{b(qr({handler:g,reactEvent:L}))},[b,g]),B=x.useCallback(L=>{b(UM(L)),b(qr({handler:m,reactEvent:L}))},[b,m]),J=x.useCallback(L=>{b(qr({handler:p,reactEvent:L}))},[b,p]);return x.createElement(DI.Provider,{value:w},x.createElement(c7.Provider,{value:S},x.createElement("div",{className:je("recharts-wrapper",n),style:rae({position:"relative",cursor:"default",width:v,height:i},y),onClick:P,onContextMenu:M,onDoubleClick:T,onFocus:A,onKeyDown:D,onMouseDown:R,onMouseEnter:k,onMouseLeave:O,onMouseMove:_,onMouseUp:I,onTouchEnd:J,onTouchMove:B,onTouchStart:F,ref:C},r)))}),sae=["children","className","width","height","style","compact","title","desc"];function lae(e,t){if(e==null)return{};var r,n,i=cae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GM=x.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:c,desc:u}=e,d=lae(e,sae),f=kn(d);return s?x.createElement(CP,{otherAttributes:f,title:c,desc:u},r):x.createElement(oae,{className:n,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(CP,{otherAttributes:f,title:c,desc:u,ref:t},x.createElement(vre,null,r)))}),uae=["width","height"];function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(null,arguments)}function dae(e,t){if(e==null)return{};var r,n,i=fae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hae={top:5,right:5,bottom:5,left:5},pae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hae,reverseStackOrder:!1,syncMethod:"index"},i1=x.forwardRef(function(t,r){var n,i=dr(t.categoricalChartProps,pae),{width:a,height:o}=i,s=dae(i,uae);if(!Ts(a)||!Ts(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(HM,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},x.createElement(dM,{chartData:h.data}),x.createElement(qM,{width:a,height:o,layout:i.layout,margin:i.margin}),x.createElement(KM,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(GM,g0({},s,{width:a,height:o,ref:r})))}),mae=["axis"],a1=x.forwardRef((e,t)=>x.createElement(i1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mae,tooltipPayloadSearcher:gm,categoricalChartProps:e,ref:t})),gae=["axis","item"],VM=x.forwardRef((e,t)=>x.createElement(i1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gae,tooltipPayloadSearcher:gm,categoricalChartProps:e,ref:t}));function vae(e){var t=it();return x.useEffect(()=>{t(Wie(e))},[t,e]),null}var yae=["width","height","layout"];function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(null,arguments)}function xae(e,t){if(e==null)return{};var r,n,i=bae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wae={top:5,right:5,bottom:5,left:5},jae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wae,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Sae=x.forwardRef(function(t,r){var n,i=dr(t.categoricalChartProps,jae),{width:a,height:o,layout:s}=i,c=xae(i,yae);if(!Ts(a)||!Ts(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(HM,{preloadedState:{options:p},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},x.createElement(dM,{chartData:i.data}),x.createElement(qM,{width:a,height:o,layout:s,margin:i.margin}),x.createElement(KM,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(vae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(GM,v0({width:a,height:o},c,{ref:r})))}),Nae=["item"],Eae={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},y0=x.forwardRef((e,t)=>{var r=dr(e,Eae);return x.createElement(Sae,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Nae,tooltipPayloadSearcher:gm,categoricalChartProps:r,ref:t})}),Pae=["axis"],YM=x.forwardRef((e,t)=>x.createElement(i1,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pae,tooltipPayloadSearcher:gm,categoricalChartProps:e,ref:t}));function Cae({widget:e,isDarkMode:t}){var o,s;const r=[{month:"Jan",revenue:12e3},{month:"Feb",revenue:15e3},{month:"Mar",revenue:11e3},{month:"Apr",revenue:18e3},{month:"May",revenue:22e3},{month:"Jun",revenue:19e3}],n=((o=r[r.length-1])==null?void 0:o.revenue)||0,i=((s=r[r.length-2])==null?void 0:s.revenue)||0,a=i?(n-i)/i*100:0;return l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-2",children:l.jsxs(Y,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(lr,{className:"h-4 w-4"}),"Revenue Trend"]})}),l.jsx(H,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:V(n)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]}),l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Qt,{className:`h-4 w-4 ${a>0?"text-green-500":"text-red-500"}`}),l.jsxs("span",{className:a>0?"text-green-500":"text-red-500",children:[Math.abs(a).toFixed(1),"%"]})]})]}),l.jsx("div",{className:"h-32",children:l.jsx(Bn,{width:"100%",height:"100%",children:l.jsxs(a1,{data:r,children:[l.jsx(wi,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:t?"#94a3b8":"#64748b"}}),l.jsx(ji,{hide:!0}),l.jsx(Rs,{formatter:c=>[V(c),"Revenue"],labelStyle:{color:t?"#fff":"#000"},contentStyle:{backgroundColor:t?"#1e293b":"#fff",border:t?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px"}}),l.jsx(Wc,{type:"monotone",dataKey:"revenue",stroke:"#2563eb",strokeWidth:2,dot:{fill:"#2563eb",strokeWidth:2,r:3},activeDot:{r:4,stroke:"#2563eb",strokeWidth:2}})]})})}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"6-month revenue trend"})]})})]})}function Ut(e){const{user:t}=Fr(),[r,n]=x.useState([]),[i,a]=x.useState(!0),[o,s]=x.useState(null),c=t==null?void 0:t.id,u=[{name:"Cisco",color:"#3B82F6",status:"active"},{name:"PTS",color:"#10B981",status:"active"},{name:"Other",color:"#F59E0B",status:"active"}],d=async()=>{if(!c){n([]),a(!1);return}try{a(!0),s(null);const{data:w,error:j}=await le.from("projects").select("*").eq("user_id",c).order("created_at",{ascending:!1});if(j)throw j;w.length===0?await f():n(w)}catch(w){console.error("Error fetching projects:",w),s(w instanceof Error?w.message:"Failed to fetch projects");const j=localStorage.getItem(`projects_${c}`);j&&n(JSON.parse(j))}finally{a(!1)}},f=async()=>{if(c)try{const w=u.map(N=>({...N,user_id:c})),{data:j,error:S}=await le.from("projects").insert(w).select();if(S)throw S;n(j||[]),localStorage.setItem(`projects_${c}`,JSON.stringify(j||[]))}catch(w){console.error("Error creating default projects:",w),s(w instanceof Error?w.message:"Failed to create default projects")}},h=async w=>{if(!c)throw new Error("User not authenticated");try{const j={...w,user_id:c,status:w.status||"planning",start_date:w.start_date||null,end_date:w.end_date||null,description:w.description||null,client_id:w.client_id||null};console.log("Attempting to insert project:",j);const{data:S,error:N}=await le.from("projects").insert([j]).select().single();if(N)throw console.error("Database insert error:",N),N;if(console.log("Project inserted successfully:",S),S){n(C=>[S,...C]);const E=[S,...r];return localStorage.setItem(`projects_${c}`,JSON.stringify(E)),S}return null}catch(j){console.error("Error adding project:",j);const N=[{id:`local_${Date.now()}`,name:w.name,color:w.color,client_id:w.client_id||null,description:w.description||null,status:w.status||"planning",start_date:w.start_date||null,end_date:w.end_date||null,budget:w.budget||null,hourly_rate:w.hourly_rate||null,user_id:c,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...r];throw n(N),localStorage.setItem(`projects_${c}`,JSON.stringify(N)),j}},p=async w=>{if(!c)throw new Error("User not authenticated");try{const{id:j,...S}=w,{data:N,error:E}=await le.from("projects").update({...S,updated_at:new Date().toISOString()}).eq("id",j).eq("user_id",c).select().single();if(E)throw E;if(N){n(P=>P.map(k=>k.id===j?N:k));const C=r.map(P=>P.id===j?N:P);return localStorage.setItem(`projects_${c}`,JSON.stringify(C)),N}return null}catch(j){throw console.error("Error updating project:",j),j}},m=async w=>{if(!c)throw new Error("User not authenticated");try{const{error:j}=await le.from("projects").delete().eq("id",w).eq("user_id",c);if(j)throw j;n(N=>N.filter(E=>E.id!==w));const S=r.filter(N=>N.id!==w);localStorage.setItem(`projects_${c}`,JSON.stringify(S))}catch(j){throw console.error("Error deleting project:",j),j}},g=w=>r.find(j=>j.id===w),y=w=>r.filter(j=>j.client_id===w),v=()=>r.filter(w=>w.status==="active"),b=async(w,j)=>{try{return{data:await h({name:w,color:j}),error:null}}catch(S){return{data:null,error:S instanceof Error?S.message:"Failed to create project"}}};return x.useEffect(()=>{d()},[c]),{projects:r,loading:i,error:o,addProject:h,updateProject:p,deleteProject:m,getProjectById:g,getProjectsByClient:y,getActiveProjects:v,createProject:b,refetch:d}}function Ot(e){const{user:t}=Fr(),[r,n]=x.useState([]),[i,a]=x.useState(!0),[o,s]=x.useState(null),c=t==null?void 0:t.id,u=async()=>{if(!c){n([]),a(!1);return}try{a(!0),s(null);const{data:v,error:b}=await le.from("clients").select("*").eq("user_id",c).order("created_at",{ascending:!1});if(b)throw b;n(v||[])}catch(v){console.error("Error fetching clients:",v),s(v instanceof Error?v.message:"Failed to fetch clients");const b=localStorage.getItem(`clients_${c}`);b&&n(JSON.parse(b))}finally{a(!1)}},d=async v=>{if(!c)throw new Error("User not authenticated");try{const b={...v,user_id:c,currency:v.currency||"SEK",status:v.status||"active"},{data:w,error:j}=await le.from("clients").insert([b]).select().single();if(j)throw j;if(w){n(N=>[w,...N]);const S=[w,...r];return localStorage.setItem(`clients_${c}`,JSON.stringify(S)),w}return null}catch(b){console.error("Error adding client:",b);const j=[{id:`local_${Date.now()}`,name:v.name,email:v.email||null,phone:v.phone||null,company:v.company||null,address:v.address||null,hourly_rate:v.hourly_rate||null,notes:v.notes||null,user_id:c,currency:v.currency||"SEK",status:v.status||"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...r];throw n(j),localStorage.setItem(`clients_${c}`,JSON.stringify(j)),b}},f=async v=>{if(!c)throw new Error("User not authenticated");try{const{id:b,...w}=v,{data:j,error:S}=await le.from("clients").update({...w,updated_at:new Date().toISOString()}).eq("id",b).eq("user_id",c).select().single();if(S)throw S;if(j){n(E=>E.map(C=>C.id===b?j:C));const N=r.map(E=>E.id===b?j:E);return localStorage.setItem(`clients_${c}`,JSON.stringify(N)),j}return null}catch(b){throw console.error("Error updating client:",b),b}},h=async v=>{if(!c)throw new Error("User not authenticated");try{const{error:b}=await le.from("clients").delete().eq("id",v).eq("user_id",c);if(b)throw b;n(j=>j.filter(S=>S.id!==v));const w=r.filter(j=>j.id!==v);localStorage.setItem(`clients_${c}`,JSON.stringify(w))}catch(b){throw console.error("Error deleting client:",b),b}},p=v=>r.find(b=>b.id===v),m=()=>r.filter(v=>v.status==="active"),g=async v=>{await f({id:v,status:"archived"})},y=async v=>{await f({id:v,status:"active"})};return x.useEffect(()=>{u()},[c]),{clients:r,loading:i,error:o,addClient:d,updateClient:f,deleteClient:h,getClientById:p,getActiveClients:m,archiveClient:g,activateClient:y,refetch:u}}function _ae({widget:e,isDarkMode:t}){const{projects:r}=Ut(),{clients:n}=Ot(),{entries:i}=Zt(),a=r.filter(m=>m.status==="active").length,o=n.filter(m=>m.status==="active").length,s=new Date;s.setDate(s.getDate()-30);const c=i.filter(m=>new Date(m.date+"T00:00:00")>=s),u=c.reduce((m,g)=>m+g.hours,0),d=new Set(c.map(m=>m.date)).size,f=d>0?u/d:0,h=i.length,p=[{label:"Active Projects",value:a.toString(),icon:Es,color:"text-blue-600",bgColor:"bg-blue-100",darkBgColor:"bg-blue-900/30"},{label:"Active Clients",value:o.toString(),icon:wa,color:"text-green-600",bgColor:"bg-green-100",darkBgColor:"bg-green-900/30"},{label:"Time Entries",value:h.toString(),icon:So,color:"text-purple-600",bgColor:"bg-purple-100",darkBgColor:"bg-purple-900/30"},{label:"Avg Hours/Day",value:f.toFixed(1),icon:Ie,color:"text-orange-600",bgColor:"bg-orange-100",darkBgColor:"bg-orange-900/30"}];return l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-3",children:l.jsx(Y,{className:"text-sm font-medium",children:"Quick Stats"})}),l.jsx(H,{children:l.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.map((m,g)=>{const y=m.icon;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`p-1.5 rounded-md ${t?m.darkBgColor:m.bgColor}`,children:l.jsx(y,{className:`h-3 w-3 ${m.color}`})}),l.jsx("div",{className:"text-lg font-bold",children:m.value})]}),l.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:m.label})]},g)})})})]})}function kae(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),i=[{icon:lt,label:"Add Income",description:"Log new income",color:"green",action:()=>t(!0)},{icon:Hj,label:"Add Expense",description:"Record expense",color:"red",action:()=>n(!0)},{icon:So,label:"Create Invoice",description:"Generate invoice",color:"blue",action:()=>console.log("Create invoice")},{icon:wa,label:"New Client",description:"Add client",color:"purple",action:()=>console.log("Add client")},{icon:zt,label:"Schedule Meeting",description:"Book appointment",color:"orange",action:()=>console.log("Schedule meeting")},{icon:Jk,label:"View Reports",description:"Analytics",color:"indigo",action:()=>console.log("View reports")}],a=s=>{s.preventDefault(),t(!1)},o=s=>{s.preventDefault(),n(!1)};return e?l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-3",children:l.jsxs(Y,{className:"text-lg flex items-center gap-2",children:[l.jsx(lt,{className:"h-5 w-5 text-green-600"}),"Add Income"]})}),l.jsx(H,{children:l.jsxs("form",{onSubmit:a,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Amount"}),l.jsx(fe,{type:"number",placeholder:"0.00",className:"text-lg font-bold",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Description"}),l.jsx(fe,{placeholder:"Client payment, consulting, etc.",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Category"}),l.jsxs("select",{className:"w-full p-2 border rounded text-sm",title:"Income Category",children:[l.jsx("option",{children:"Client Payment"}),l.jsx("option",{children:"Consulting"}),l.jsx("option",{children:"Retainer"}),l.jsx("option",{children:"Other"})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(W,{type:"submit",size:"sm",className:"flex-1",children:"Add Income"}),l.jsx(W,{type:"button",size:"sm",variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})})]}):r?l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-3",children:l.jsxs(Y,{className:"text-lg flex items-center gap-2",children:[l.jsx(Hj,{className:"h-5 w-5 text-red-600"}),"Add Expense"]})}),l.jsx(H,{children:l.jsxs("form",{onSubmit:o,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Amount"}),l.jsx(fe,{type:"number",placeholder:"0.00",className:"text-lg font-bold",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Description"}),l.jsx(fe,{placeholder:"Software, office supplies, etc.",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Category"}),l.jsxs("select",{className:"w-full p-2 border rounded text-sm",title:"Expense Category",children:[l.jsx("option",{children:"Software"}),l.jsx("option",{children:"Office"}),l.jsx("option",{children:"Travel"}),l.jsx("option",{children:"Marketing"}),l.jsx("option",{children:"Other"})]})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx(W,{type:"submit",size:"sm",className:"flex-1",children:"Add Expense"}),l.jsx(W,{type:"button",size:"sm",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})]}):l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-3",children:l.jsxs(Y,{className:"text-lg flex items-center gap-2",children:[l.jsx(tp,{className:"h-5 w-5 text-gray-600"}),"Quick Actions"]})}),l.jsxs(H,{children:[l.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map((s,c)=>{const u=s.icon,d={green:"bg-green-50 hover:bg-green-100 dark:bg-green-900/20 dark:hover:bg-green-900/30 text-green-700 dark:text-green-400",red:"bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-400",blue:"bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400",purple:"bg-purple-50 hover:bg-purple-100 dark:bg-purple-900/20 dark:hover:bg-purple-900/30 text-purple-700 dark:text-purple-400",orange:"bg-orange-50 hover:bg-orange-100 dark:bg-orange-900/20 dark:hover:bg-orange-900/30 text-orange-700 dark:text-orange-400",indigo:"bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:hover:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400"};return l.jsx("button",{onClick:s.action,className:`p-3 rounded-lg text-left transition-colors ${d[s.color]}`,children:l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx(u,{className:"h-5 w-5"}),l.jsx("div",{className:"text-xs font-medium text-center",children:s.label})]})},c)})}),l.jsxs("div",{className:"mt-4 pt-4 border-t",children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Today's Summary"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Income:"}),l.jsx("span",{className:"font-medium text-green-600",children:"+25,000 kr"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Expenses:"}),l.jsx("span",{className:"font-medium text-red-600",children:"-4,500 kr"})]})]})]})]})]})}function Oae({widget:e,isDarkMode:t}){const{entries:r}=Zt(),{projects:n}=Ut(),{clients:i}=Ot(),a=r.slice(0,10).map(d=>{const f=n.find(m=>m.id===d.project_id),h=i.find(m=>m.id===(f==null?void 0:f.client_id)),p=u(d.created_at);return{id:d.id,type:"time",message:`Logged ${d.hours}h on ${(f==null?void 0:f.name)||"Unknown Project"}${h?` for ${h.name}`:""}`,time:p,icon:Ie,color:"text-blue-600",date:d.created_at}}),o=n.sort((d,f)=>new Date(f.created_at||"").getTime()-new Date(d.created_at||"").getTime()).slice(0,3).map(d=>{const f=i.find(p=>p.id===d.client_id),h=u(d.created_at||"");return{id:`project-${d.id}`,type:"project",message:`Created project "${d.name}"${f?` for ${f.name}`:""}`,time:h,icon:Zh,color:"text-green-600",date:d.created_at||""}}),s=i.sort((d,f)=>new Date(f.created_at||"").getTime()-new Date(d.created_at||"").getTime()).slice(0,2).map(d=>{const f=u(d.created_at||"");return{id:`client-${d.id}`,type:"client",message:`Added new client "${d.name}"${d.company?` (${d.company})`:""}`,time:f,icon:Ks,color:"text-purple-600",date:d.created_at||""}}),c=[...a,...o,...s].sort((d,f)=>new Date(f.date).getTime()-new Date(d.date).getTime()).slice(0,6);function u(d){if(!d)return"Unknown time";const f=new Date(d),p=new Date().getTime()-f.getTime(),m=Math.floor(p/(1e3*60)),g=Math.floor(m/60),y=Math.floor(g/24);return m<1?"Just now":m<60?`${m} minutes ago`:g<24?`${g} hour${g>1?"s":""} ago`:y===1?"Yesterday":y<7?`${y} days ago`:y<30?`${Math.floor(y/7)} week${Math.floor(y/7)>1?"s":""} ago`:f.toLocaleDateString("sv-SE")}return l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-3",children:l.jsx(Y,{className:"text-sm font-medium",children:"Recent Activities"})}),l.jsx(H,{children:l.jsx("div",{className:"space-y-3",children:c.length===0?l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"No recent activities"})}):c.map(d=>{const f=d.icon;return l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-1.5 rounded-full bg-muted flex-shrink-0",children:l.jsx(f,{className:`h-3 w-3 ${d.color}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium leading-relaxed",children:d.message}),l.jsx("p",{className:"text-xs text-muted-foreground",children:d.time})]})]},d.id)})})})]})}function Aae({widget:e,isDarkMode:t}){const{projects:r}=Ut(),{clients:n}=Ot(),{entries:i}=Zt(),a=r.filter(d=>d.status==="active").slice(0,3).map(d=>{const f=n.find(g=>g.id===d.client_id),p=i.filter(g=>g.project_id===d.id).reduce((g,y)=>g+y.hours,0);let m=0;if(d.budget&&d.hourly_rate){const g=d.budget/d.hourly_rate;m=Math.min(p/g*100,100)}else if(d.start_date&&d.end_date){const g=new Date(d.start_date),y=new Date(d.end_date),v=new Date,b=y.getTime()-g.getTime(),w=v.getTime()-g.getTime();m=Math.max(0,Math.min(w/b*100,100))}else m=Math.min(p*2,100);return{id:d.id,name:d.name,client:(f==null?void 0:f.name)||"No Client",status:d.status||"active",progress:Math.round(m),hoursLogged:Math.round(p*10)/10,budget:d.budget||0,deadline:d.end_date,hourlyRate:d.hourly_rate}}),o=d=>{switch(d){case"active":return"text-blue-600 bg-blue-100";case"planning":return"text-yellow-600 bg-yellow-100";case"on-hold":return"text-orange-600 bg-orange-100";case"completed":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},s=d=>{switch(d){case"active":return"Active";case"planning":return"Planning";case"on-hold":return"On Hold";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return d}},c=d=>{if(!d)return!1;const f=new Date(d),h=new Date,p=Math.ceil((f.getTime()-h.getTime())/(1e3*60*60*24));return p<=7&&p>=0},u=d=>d?`Due ${new Date(d).toLocaleDateString("sv-SE")}`:"No deadline";return l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-3",children:l.jsxs(Y,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(Zh,{className:"h-4 w-4"}),"Active Projects"]})}),l.jsx(H,{children:l.jsx("div",{className:"space-y-4",children:a.length===0?l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"No active projects"})}):a.map(d=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-medium truncate",children:d.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:d.client})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[c(d.deadline)&&l.jsx(wx,{className:"h-3 w-3 text-red-500"}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(d.status)}`,children:s(d.status)})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsxs("span",{children:[d.progress,"% complete"]}),l.jsxs("span",{children:[d.hoursLogged,"h logged"]})]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:l.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${d.progress}%`}})})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs",children:"SEK"}),l.jsx("span",{children:d.budget>0?V(d.budget):"No budget"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ie,{className:"h-3 w-3"}),l.jsx("span",{children:u(d.deadline)})]})]})]},d.id))})})]})}function Tae({isDarkMode:e}){const t=[{month:"Jan",balance:45e3,netFlow:7e3},{month:"Feb",balance:53500,netFlow:8500},{month:"Mar",balance:59700,netFlow:6200},{month:"Apr",balance:70700,netFlow:11e3},{month:"May",balance:79200,netFlow:8500},{month:"Jun",balance:88200,netFlow:9e3}],r=t[t.length-1].balance,n=t[t.length-1].netFlow,i=t[t.length-2].netFlow,a=n-i,o=a/i*100,s=r+n*1.05;return l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-3",children:l.jsxs(Y,{className:"text-lg flex items-center gap-2",children:[l.jsx(lr,{className:"h-5 w-5 text-green-600"}),"Cash Flow"]})}),l.jsxs(H,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Balance"}),l.jsx("div",{className:"text-xl font-bold text-green-600",children:V(r)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Monthly Net Flow"}),l.jsxs("div",{className:`text-xl font-bold flex items-center gap-1 ${n>=0?"text-green-600":"text-red-600"}`,children:[n>=0?l.jsx(Qt,{className:"h-4 w-4"}):l.jsx(Cf,{className:"h-4 w-4"}),V(Math.abs(n))]})]})]}),l.jsx("div",{className:"h-24",children:l.jsx(Bn,{width:"100%",height:"100%",children:l.jsxs(a1,{data:t,children:[l.jsx(wi,{dataKey:"month",hide:!0}),l.jsx(ji,{hide:!0}),l.jsx(Rs,{formatter:c=>[V(c),"Balance"],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"12px"}}),l.jsx(Wc,{type:"monotone",dataKey:"balance",stroke:"#16a34a",strokeWidth:2,dot:!1,name:"Balance"})]})})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:`flex items-center gap-2 text-xs p-2 rounded ${a>=0?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:[a>=0?l.jsx(Qt,{className:"h-3 w-3"}):l.jsx(Cf,{className:"h-3 w-3"}),l.jsxs("span",{children:[a>=0?"+":"",o.toFixed(1),"% vs last month"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsx(lr,{className:"h-3 w-3"}),l.jsxs("span",{children:["Projected next month: ",V(s)]})]}),n<5e3&&l.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 rounded bg-yellow-50 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400",children:[l.jsx(jx,{className:"h-3 w-3"}),l.jsx("span",{children:"Consider increasing revenue streams"})]})]}),l.jsxs("div",{className:"pt-2 border-t",children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Quick Actions"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{className:"flex-1 text-xs py-1 px-2 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded transition-colors",children:"Add Income"}),l.jsx("button",{className:"flex-1 text-xs py-1 px-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-700 dark:text-red-400 rounded transition-colors",children:"Log Expense"})]})]})]})]})}function Dae({isDarkMode:e}){const t=[{month:"Apr",conservative:70700,realistic:70700,optimistic:70700},{month:"May",conservative:79200,realistic:79200,optimistic:79200},{month:"Jun",conservative:88200,realistic:88200,optimistic:88200},{month:"Jul",conservative:93e3,realistic:97e3,optimistic:102e3,isProjection:!0},{month:"Aug",conservative:97500,realistic:105500,optimistic:116e3,isProjection:!0},{month:"Sep",conservative:101800,realistic:114200,optimistic:131500,isProjection:!0}],r=88200,n=26e3/88200*100,a=Math.floor(r/18500);return l.jsxs(U,{className:"h-full",children:[l.jsx(G,{className:"pb-3",children:l.jsxs(Y,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qt,{className:"h-5 w-5 text-blue-600"}),"Cash Flow Projections"]})}),l.jsxs(H,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{className:"p-2 rounded bg-green-50 dark:bg-green-900/20",children:[l.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Conservative"}),l.jsx("div",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:V(t[t.length-1].conservative)})]}),l.jsxs("div",{className:"p-2 rounded bg-blue-50 dark:bg-blue-900/20",children:[l.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Realistic"}),l.jsx("div",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:V(t[t.length-1].realistic)})]}),l.jsxs("div",{className:"p-2 rounded bg-purple-50 dark:bg-purple-900/20",children:[l.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:"Optimistic"}),l.jsx("div",{className:"text-lg font-bold text-purple-700 dark:text-purple-300",children:V(t[t.length-1].optimistic)})]})]}),l.jsx("div",{className:"h-32",children:l.jsx(Bn,{width:"100%",height:"100%",children:l.jsxs(YM,{data:t,children:[l.jsx(wi,{dataKey:"month",tick:{fontSize:10,fill:e?"#94a3b8":"#64748b"},axisLine:!1,tickLine:!1}),l.jsx(ji,{hide:!0}),l.jsx(Rs,{formatter:(o,s)=>[V(o),s.charAt(0).toUpperCase()+s.slice(1)],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px",fontSize:"12px"}}),l.jsx(ps,{type:"monotone",dataKey:"optimistic",stackId:"1",stroke:"#9333ea",fill:"#9333ea",fillOpacity:.1,strokeWidth:1,strokeDasharray:"3 3"}),l.jsx(ps,{type:"monotone",dataKey:"realistic",stackId:"2",stroke:"#2563eb",fill:"#2563eb",fillOpacity:.2,strokeWidth:2}),l.jsx(ps,{type:"monotone",dataKey:"conservative",stackId:"3",stroke:"#16a34a",fill:"#16a34a",fillOpacity:.3,strokeWidth:1})]})})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[l.jsx(Qt,{className:"h-3 w-3"}),l.jsx("span",{children:"3-Month Growth"})]}),l.jsxs("span",{className:"font-medium",children:["+",n.toFixed(1),"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 text-orange-600 dark:text-orange-400",children:[l.jsx(zt,{className:"h-3 w-3"}),l.jsx("span",{children:"Cash Runway"})]}),l.jsxs("span",{className:"font-medium",children:[a," months"]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[l.jsx(Ni,{className:"h-3 w-3"}),l.jsx("span",{children:"Goal: 1,500,000 kr"})]}),l.jsx("span",{className:"font-medium",children:"75% achieved"})]})]}),a<6&&l.jsxs("div",{className:"flex items-center gap-2 text-xs p-2 rounded bg-orange-50 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400",children:[l.jsx(wx,{className:"h-3 w-3"}),l.jsx("span",{children:"Consider building larger cash reserves"})]}),l.jsxs("div",{className:"pt-2 border-t",children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Model Assumptions"}),l.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[l.jsx("div",{children:"• Conservative: 5% growth/month"}),l.jsx("div",{children:"• Realistic: 8% growth/month"}),l.jsx("div",{children:"• Optimistic: 12% growth/month"})]})]})]})]})}function XM({widget:e,isDarkMode:t}){return l.jsx(U,{className:"h-full border-dashed border-2",children:l.jsx(H,{className:"p-6 flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center mx-auto",children:l.jsx(lt,{className:"h-6 w-6 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-sm mb-1",children:"Add Content"}),l.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This widget is ready for your content"}),l.jsx(W,{variant:"outline",size:"sm",children:"Configure"})]})]})})})}function la(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Iae(e,t){const r=x.createContext(t),n=a=>{const{children:o,...s}=a,c=x.useMemo(()=>s,Object.values(s));return l.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Mae(e,t=[]){let r=[];function n(a,o){const s=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:p,...m}=f,g=((v=h==null?void 0:h[e])==null?void 0:v[c])||s,y=x.useMemo(()=>m,Object.values(m));return l.jsx(g.Provider,{value:y,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||s,m=x.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>x.createContext(o));return function(s){const c=(s==null?void 0:s[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...s,[e]:c}}),[s,c])}};return i.scopeName=e,[n,$ae(i,...t)]}function $ae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...s,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Hc=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Rae=_h[" useId ".trim().toString()]||(()=>{}),Lae=0;function Yg(e){const[t,r]=x.useState(Rae());return Hc(()=>{r(n=>n??String(Lae++))},[e]),e||(t?`radix-${t}`:"")}var Fae=_h[" useInsertionEffect ".trim().toString()]||Hc;function Bae({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=zae({defaultProp:t,onChange:r}),s=e!==void 0,c=s?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==s&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,n])}const u=x.useCallback(d=>{var f;if(s){const h=Uae(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[s,e,a,o]);return[c,u]}function zae({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),a=x.useRef(t);return Fae(()=>{a.current=t},[t]),x.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function Uae(e){return typeof e=="function"}var Wae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oi=Wae.reduce((e,t)=>{const r=Ox(`Primitive.${t}`),n=x.forwardRef((i,a)=>{const{asChild:o,...s}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Hae(e,t){e&&eu.flushSync(()=>e.dispatchEvent(t))}function qc(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function qae(e,t=globalThis==null?void 0:globalThis.document){const r=qc(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Kae="DismissableLayer",x0="dismissableLayer.update",Gae="dismissableLayer.pointerDownOutside",Vae="dismissableLayer.focusOutside",kP,JM=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),QM=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=e,u=x.useContext(JM),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),m=No(t,E=>f(E)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),b=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=v,S=Jae(E=>{const C=E.target,P=[...u.branches].some(k=>k.contains(C));!j||P||(i==null||i(E),o==null||o(E),E.defaultPrevented||s==null||s())},h),N=Qae(E=>{const C=E.target;[...u.branches].some(k=>k.contains(C))||(a==null||a(E),o==null||o(E),E.defaultPrevented||s==null||s())},h);return qae(E=>{b===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(kP=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),OP(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=kP)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),OP())},[d,u]),x.useEffect(()=>{const E=()=>p({});return document.addEventListener(x0,E),()=>document.removeEventListener(x0,E)},[]),l.jsx(Oi.div,{...c,ref:m,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:la(e.onFocusCapture,N.onFocusCapture),onBlurCapture:la(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:la(e.onPointerDownCapture,S.onPointerDownCapture)})});QM.displayName=Kae;var Yae="DismissableLayerBranch",Xae=x.forwardRef((e,t)=>{const r=x.useContext(JM),n=x.useRef(null),i=No(t,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(Oi.div,{...e,ref:i})});Xae.displayName=Yae;function Jae(e,t=globalThis==null?void 0:globalThis.document){const r=qc(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let c=function(){ZM(Gae,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Qae(e,t=globalThis==null?void 0:globalThis.document){const r=qc(e),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&ZM(Vae,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function OP(){const e=new CustomEvent(x0);document.dispatchEvent(e)}function ZM(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Hae(i,a):i.dispatchEvent(a)}var Xg="focusScope.autoFocusOnMount",Jg="focusScope.autoFocusOnUnmount",AP={bubbles:!1,cancelable:!0},Zae="FocusScope",e$=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,c]=x.useState(null),u=qc(i),d=qc(a),f=x.useRef(null),h=No(t,g=>c(g)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let g=function(w){if(p.paused||!s)return;const j=w.target;s.contains(j)?f.current=j:Li(f.current,{select:!0})},y=function(w){if(p.paused||!s)return;const j=w.relatedTarget;j!==null&&(s.contains(j)||Li(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Li(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(v);return s&&b.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[n,s,p.paused]),x.useEffect(()=>{if(s){DP.add(p);const g=document.activeElement;if(!s.contains(g)){const v=new CustomEvent(Xg,AP);s.addEventListener(Xg,u),s.dispatchEvent(v),v.defaultPrevented||(eoe(aoe(t$(s)),{select:!0}),document.activeElement===g&&Li(s))}return()=>{s.removeEventListener(Xg,u),setTimeout(()=>{const v=new CustomEvent(Jg,AP);s.addEventListener(Jg,d),s.dispatchEvent(v),v.defaultPrevented||Li(g??document.body,{select:!0}),s.removeEventListener(Jg,d),DP.remove(p)},0)}}},[s,u,d,p]);const m=x.useCallback(g=>{if(!r&&!n||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const b=g.currentTarget,[w,j]=toe(b);w&&j?!g.shiftKey&&v===j?(g.preventDefault(),r&&Li(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),r&&Li(j,{select:!0})):v===b&&g.preventDefault()}},[r,n,p.paused]);return l.jsx(Oi.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});e$.displayName=Zae;function eoe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Li(n,{select:t}),document.activeElement!==r)return}function toe(e){const t=t$(e),r=TP(t,e),n=TP(t.reverse(),e);return[r,n]}function t$(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function TP(e,t){for(const r of e)if(!roe(r,{upTo:t}))return r}function roe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function noe(e){return e instanceof HTMLInputElement&&"select"in e}function Li(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&noe(e)&&t&&e.select()}}var DP=ioe();function ioe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=IP(e,t),e.unshift(t)},remove(t){var r;e=IP(e,t),(r=e[0])==null||r.resume()}}}function IP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function aoe(e){return e.filter(t=>t.tagName!=="A")}var ooe="Portal",r$=x.forwardRef((e,t)=>{var s;const{container:r,...n}=e,[i,a]=x.useState(!1);Hc(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?ck.createPortal(l.jsx(Oi.div,{...n,ref:t}),o):null});r$.displayName=ooe;function soe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Nm=e=>{const{present:t,children:r}=e,n=loe(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=No(n.ref,coe(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};Nm.displayName="Presence";function loe(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),a=x.useRef("none"),o=e?"mounted":"unmounted",[s,c]=soe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=_d(n.current);a.current=s==="mounted"?u:"none"},[s]),Hc(()=>{const u=n.current,d=i.current;if(d!==e){const h=a.current,p=_d(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Hc(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=_d(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(a.current=_d(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function _d(e){return(e==null?void 0:e.animationName)||"none"}function coe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Qg=0;function uoe(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??MP()),document.body.insertAdjacentElement("beforeend",e[1]??MP()),Qg++,()=>{Qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Qg--}},[])}function MP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Rn=function(){return Rn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Rn.apply(this,arguments)};function n$(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function doe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Yd="right-scroll-bar-position",Xd="width-before-scroll-bar",foe="with-scroll-bars-hidden",hoe="--removed-body-scroll-bar-size";function Zg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function poe(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var moe=typeof window<"u"?x.useLayoutEffect:x.useEffect,$P=new WeakMap;function goe(e,t){var r=poe(null,function(n){return e.forEach(function(i){return Zg(i,n)})});return moe(function(){var n=$P.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(s){a.has(s)||Zg(s,null)}),a.forEach(function(s){i.has(s)||Zg(s,o)})}$P.set(r,e)},[e]),r}function voe(e){return e}function yoe(e,t){t===void 0&&(t=voe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function xoe(e){e===void 0&&(e={});var t=yoe(null);return t.options=Rn({async:!0,ssr:!1},e),t}var i$=function(e){var t=e.sideCar,r=n$(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Rn({},r))};i$.isSideCarExport=!0;function boe(e,t){return e.useMedium(t),i$}var a$=xoe(),ev=function(){},Em=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:ev,onWheelCapture:ev,onTouchMoveCapture:ev}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,y=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,w=e.gapMode,j=n$(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=goe([r,t]),E=Rn(Rn({},j),i);return x.createElement(x.Fragment,null,d&&x.createElement(S,{sideCar:a$,removeScrollBar:u,shards:f,noRelative:p,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:w}),o?x.cloneElement(x.Children.only(s),Rn(Rn({},E),{ref:N})):x.createElement(b,Rn({},E,{className:c,ref:N}),s))});Em.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Em.classNames={fullWidth:Xd,zeroRight:Yd};var woe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function joe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=woe();return t&&e.setAttribute("nonce",t),e}function Soe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Noe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Eoe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=joe())&&(Soe(t,r),Noe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Poe=function(){var e=Eoe();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},o$=function(){var e=Poe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Coe={left:0,top:0,right:0,gap:0},tv=function(e){return parseInt(e||"",10)||0},_oe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[tv(r),tv(n),tv(i)]},koe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Coe;var t=_oe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Ooe=o$(),ms="data-scroll-locked",Aoe=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(foe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(ms,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yd,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Xd,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ms,`] {
    `).concat(hoe,": ").concat(s,`px;
  }
`)},RP=function(){var e=parseInt(document.body.getAttribute(ms)||"0",10);return isFinite(e)?e:0},Toe=function(){x.useEffect(function(){return document.body.setAttribute(ms,(RP()+1).toString()),function(){var e=RP()-1;e<=0?document.body.removeAttribute(ms):document.body.setAttribute(ms,e.toString())}},[])},Doe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Toe();var a=x.useMemo(function(){return koe(i)},[i]);return x.createElement(Ooe,{styles:Aoe(a,!t,i,r?"":"!important")})},b0=!1;if(typeof window<"u")try{var kd=Object.defineProperty({},"passive",{get:function(){return b0=!0,!0}});window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{b0=!1}var Ro=b0?{passive:!1}:!1,Ioe=function(e){return e.tagName==="TEXTAREA"},s$=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ioe(e)&&r[t]==="visible")},Moe=function(e){return s$(e,"overflowY")},$oe=function(e){return s$(e,"overflowX")},LP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=l$(e,n);if(i){var a=c$(e,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Roe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Loe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},l$=function(e,t){return e==="v"?Moe(t):$oe(t)},c$=function(e,t){return e==="v"?Roe(t):Loe(t)},Foe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Boe=function(e,t,r,n,i){var a=Foe(e,window.getComputedStyle(t).direction),o=a*n,s=r.target,c=t.contains(s),u=!1,d=o>0,f=0,h=0;do{if(!s)break;var p=c$(e,s),m=p[0],g=p[1],y=p[2],v=g-y-a*m;(m||v)&&l$(e,s)&&(f+=v,h+=m);var b=s.parentNode;s=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&s!==document.body||c&&(t.contains(s)||t===s));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Od=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FP=function(e){return[e.deltaX,e.deltaY]},BP=function(e){return e&&"current"in e?e.current:e},zoe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Uoe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Woe=0,Lo=[];function Hoe(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(Woe++)[0],a=x.useState(o$)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=doe([e.lockRef.current],(e.shards||[]).map(BP),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=x.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Od(g),b=r.current,w="deltaX"in g?g.deltaX:b[0]-v[0],j="deltaY"in g?g.deltaY:b[1]-v[1],S,N=g.target,E=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&E==="h"&&N.type==="range")return!1;var C=LP(E,N);if(!C)return!0;if(C?S=E:(S=E==="v"?"h":"v",C=LP(E,N)),!C)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=S),!S)return!0;var P=n.current||S;return Boe(P,y,g,P==="h"?w:j)},[]),c=x.useCallback(function(g){var y=g;if(!(!Lo.length||Lo[Lo.length-1]!==a)){var v="deltaY"in y?FP(y):Od(y),b=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&zoe(S.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(BP).filter(Boolean).filter(function(S){return S.contains(y.target)}),j=w.length>0?s(y,w[0]):!o.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=x.useCallback(function(g,y,v,b){var w={name:g,delta:y,target:v,should:b,shadowParent:qoe(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=x.useCallback(function(g){r.current=Od(g),n.current=void 0},[]),f=x.useCallback(function(g){u(g.type,FP(g),g.target,s(g,e.lockRef.current))},[]),h=x.useCallback(function(g){u(g.type,Od(g),g.target,s(g,e.lockRef.current))},[]);x.useEffect(function(){return Lo.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ro),document.addEventListener("touchmove",c,Ro),document.addEventListener("touchstart",d,Ro),function(){Lo=Lo.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Ro),document.removeEventListener("touchmove",c,Ro),document.removeEventListener("touchstart",d,Ro)}},[]);var p=e.removeScrollBar,m=e.inert;return x.createElement(x.Fragment,null,m?x.createElement(a,{styles:Uoe(i)}):null,p?x.createElement(Doe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Koe=boe(a$,Hoe);var u$=x.forwardRef(function(e,t){return x.createElement(Em,Rn({},e,{ref:t,sideCar:Koe}))});u$.classNames=Em.classNames;var Goe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Fo=new WeakMap,Ad=new WeakMap,Td={},rv=0,d$=function(e){return e&&(e.host||d$(e.parentNode))},Voe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=d$(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Yoe=function(e,t,r,n){var i=Voe(t,Array.isArray(e)?e:[e]);Td[r]||(Td[r]=new WeakMap);var a=Td[r],o=[],s=new Set,c=new Set(i),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",g=(Fo.get(h)||0)+1,y=(a.get(h)||0)+1;Fo.set(h,g),a.set(h,y),o.push(h),g===1&&m&&Ad.set(h,!0),y===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),s.clear(),rv++,function(){o.forEach(function(f){var h=Fo.get(f)-1,p=a.get(f)-1;Fo.set(f,h),a.set(f,p),h||(Ad.has(f)||f.removeAttribute(n),Ad.delete(f)),p||f.removeAttribute(r)}),rv--,rv||(Fo=new WeakMap,Fo=new WeakMap,Ad=new WeakMap,Td={})}},Xoe=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Goe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Yoe(n,i,r,"aria-hidden")):function(){return null}},Pm="Dialog",[f$,eue]=Mae(Pm),[Joe,An]=f$(Pm),h$=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=x.useRef(null),c=x.useRef(null),[u,d]=Bae({prop:n,defaultProp:i??!1,onChange:a,caller:Pm});return l.jsx(Joe,{scope:t,triggerRef:s,contentRef:c,contentId:Yg(),titleId:Yg(),descriptionId:Yg(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};h$.displayName=Pm;var p$="DialogTrigger",m$=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=An(p$,r),a=No(t,i.triggerRef);return l.jsx(Oi.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":l1(i.open),...n,ref:a,onClick:la(e.onClick,i.onOpenToggle)})});m$.displayName=p$;var o1="DialogPortal",[Qoe,g$]=f$(o1,{forceMount:void 0}),v$=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=An(o1,t);return l.jsx(Qoe,{scope:t,forceMount:r,children:x.Children.map(n,o=>l.jsx(Nm,{present:r||a.open,children:l.jsx(r$,{asChild:!0,container:i,children:o})}))})};v$.displayName=o1;var Sh="DialogOverlay",y$=x.forwardRef((e,t)=>{const r=g$(Sh,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=An(Sh,e.__scopeDialog);return a.modal?l.jsx(Nm,{present:n||a.open,children:l.jsx(ese,{...i,ref:t})}):null});y$.displayName=Sh;var Zoe=Ox("DialogOverlay.RemoveScroll"),ese=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=An(Sh,r);return l.jsx(u$,{as:Zoe,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Oi.div,{"data-state":l1(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),xo="DialogContent",x$=x.forwardRef((e,t)=>{const r=g$(xo,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=An(xo,e.__scopeDialog);return l.jsx(Nm,{present:n||a.open,children:a.modal?l.jsx(tse,{...i,ref:t}):l.jsx(rse,{...i,ref:t})})});x$.displayName=xo;var tse=x.forwardRef((e,t)=>{const r=An(xo,e.__scopeDialog),n=x.useRef(null),i=No(t,r.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return Xoe(a)},[]),l.jsx(b$,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:la(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:la(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:la(e.onFocusOutside,a=>a.preventDefault())})}),rse=x.forwardRef((e,t)=>{const r=An(xo,e.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return l.jsx(b$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),b$=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=An(xo,r),c=x.useRef(null),u=No(t,c);return uoe(),l.jsxs(l.Fragment,{children:[l.jsx(e$,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(QM,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":l1(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(nse,{titleId:s.titleId}),l.jsx(ase,{contentRef:c,descriptionId:s.descriptionId})]})]})}),s1="DialogTitle",w$=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=An(s1,r);return l.jsx(Oi.h2,{id:i.titleId,...n,ref:t})});w$.displayName=s1;var j$="DialogDescription",S$=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=An(j$,r);return l.jsx(Oi.p,{id:i.descriptionId,...n,ref:t})});S$.displayName=j$;var N$="DialogClose",E$=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=An(N$,r);return l.jsx(Oi.button,{type:"button",...n,ref:t,onClick:la(e.onClick,()=>i.onOpenChange(!1))})});E$.displayName=N$;function l1(e){return e?"open":"closed"}var P$="DialogTitleWarning",[tue,C$]=Iae(P$,{contentName:xo,titleName:s1,docsSlug:"dialog"}),nse=({titleId:e})=>{const t=C$(P$),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ise="DialogDescriptionWarning",ase=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${C$(ise).contentName}}.`;return x.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ose=h$,sse=m$,lse=v$,_$=y$,k$=x$,O$=w$,A$=S$,cse=E$;const Nn=ose,use=sse,dse=lse,T$=x.forwardRef(({className:e,...t},r)=>l.jsx(_$,{ref:r,className:Ae("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));T$.displayName=_$.displayName;const Qr=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(dse,{children:[l.jsx(T$,{}),l.jsxs(k$,{ref:n,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(cse,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(_x,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qr.displayName=k$.displayName;const Zr=({className:e,...t})=>l.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zr.displayName="DialogHeader";const Lu=({className:e,...t})=>l.jsx("div",{className:Ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lu.displayName="DialogFooter";const en=x.forwardRef(({className:e,...t},r)=>l.jsx(O$,{ref:r,className:Ae("text-lg font-semibold leading-none tracking-tight",e),...t}));en.displayName=O$.displayName;const sl=x.forwardRef(({className:e,...t},r)=>l.jsx(A$,{ref:r,className:Ae("text-sm text-muted-foreground",e),...t}));sl.displayName=A$.displayName;const nv=[{type:"today-time",name:"Today's Hours",description:"Track your daily time logging progress",icon:Ie,category:"Time",size:{w:1,h:1}},{type:"time-logged",name:"Monthly Time",description:"Monitor your monthly time tracking progress",icon:Ie,category:"Time",size:{w:1,h:1}},{type:"quick-stats",name:"Quick Stats",description:"Key metrics at a glance",icon:ou,category:"Overview",size:{w:1,h:1}},{type:"projects-overview",name:"Projects Overview",description:"Status of your active projects",icon:Zh,category:"Projects",size:{w:2,h:1}},{type:"recent-activities",name:"Recent Activities",description:"Latest actions and updates",icon:Es,category:"Overview",size:{w:1,h:1}},{type:"quick-actions",name:"Quick Actions",description:"Fast access to common tasks",icon:g6,category:"Overview",size:{w:1,h:1}},{type:"monthly-expenses",name:"Monthly Expenses",description:"Track your monthly expenses and trends",icon:lr,category:"Finance",size:{w:1,h:1}},{type:"revenue-chart",name:"Revenue Chart",description:"Visual representation of revenue trends",icon:Qt,category:"Finance",size:{w:2,h:1}},{type:"cash-flow",name:"Cash Flow",description:"Monitor your cash flow and balance",icon:m6,category:"Finance",size:{w:1,h:1}},{type:"cash-flow-projections",name:"Cash Flow Projections",description:"Forecast future cash flow scenarios",icon:Ni,category:"Finance",size:{w:2,h:1}},{type:"blank-card",name:"Custom Widget",description:"Create your own custom content",icon:lt,category:"Custom",size:{w:1,h:1}}];function zP({onAddWidget:e,children:t}){const[r,n]=x.useState(!1),i=(u,d)=>{const f=nv.find(p=>p.type===u);if(!f)return;const h={id:Date.now().toString(),type:u,title:f.name,size:d,position:{x:0,y:999,w:d.w,h:d.h}};e(h),n(!1)},a=["All","Overview","Finance","Time","Projects","Custom"],[o,s]=x.useState("All"),c=o==="All"?nv:nv.filter(u=>u.category===o);return l.jsxs(Nn,{open:r,onOpenChange:n,children:[l.jsx(use,{asChild:!0,children:t}),l.jsxs(Qr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(Zr,{children:[l.jsx(en,{children:"Add Widget"}),l.jsx(sl,{children:"Choose a widget to add to your dashboard"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(u=>l.jsx(W,{variant:o===u?"default":"outline",size:"sm",onClick:()=>s(u),children:u},u))}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(u=>{const d=u.icon;return l.jsx(U,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>i(u.type,u.size),children:l.jsx(H,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(d,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-sm mb-1",children:u.name}),l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:u.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:u.category}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.size.w,"×",u.size.h]})]})]})]})})},u.type)})})]})]})]})}function fse({widgetId:e,widgetTitle:t,onRemove:r,className:n=""}){const[i,a]=x.useState(!1),o=()=>{r(e),a(!1)};return l.jsxs(l.Fragment,{children:[l.jsx(W,{variant:"ghost",size:"icon",className:`h-8 w-8 bg-red-500/10 hover:bg-red-500/20 text-red-600 hover:text-red-700 ${n}`,onClick:()=>a(!0),title:"Remove widget",children:l.jsx(_x,{className:"h-4 w-4"})}),l.jsx(Nn,{open:i,onOpenChange:a,children:l.jsxs(Qr,{children:[l.jsxs(Zr,{children:[l.jsxs(en,{className:"flex items-center gap-2",children:[l.jsx(jx,{className:"h-5 w-5 text-red-500"}),"Remove Widget"]}),l.jsxs(sl,{children:['Are you sure you want to remove the "',t,'" widget from your dashboard? This action cannot be undone.']})]}),l.jsxs(Lu,{children:[l.jsx(W,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(W,{onClick:o,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:"Remove Widget"})]})]})})]})}const hse={"company-motto":W9,"monthly-expenses":H9,"time-logged":q9,"today-time":K9,"revenue-chart":Cae,"quick-stats":_ae,"quick-actions":kae,"recent-activities":Oae,"projects-overview":Aae,"cash-flow":Tae,"cash-flow-projections":Dae,"blank-card":XM};function pse({isDarkMode:e}){const[t,r]=x.useState(!1),{user:n}=Fr(),{widgets:i,loading:a,updateWidgets:o,addWidget:s,removeWidget:c,updateWidget:u}=U9((n==null?void 0:n.id)||null),d=y=>{c(y)},f=y=>{const v=i.find(w=>w.id===y);if(!v)return;const b=v.size.w===1?2:v.size.w===2?3:1;u(y,{size:{...v.size,w:b},position:{...v.position,w:b}})},h=y=>{if(r(!1),!y.destination)return;const v=Array.from(i),[b]=v.splice(y.source.index,1);v.splice(y.destination.index,0,b);const w=v.map((j,S)=>({...j,position:{...j.position,y:S}}));o(w)},p=y=>{s(y)},m=()=>{r(!0)},g=y=>{switch(y){case 2:return"col-span-1 md:col-span-2";case 3:return"col-span-1 md:col-span-2 lg:col-span-3";default:return"col-span-1"}};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),l.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your business."})]}),l.jsx(zP,{onAddWidget:p,children:l.jsxs(W,{children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Add Widget"]})})]}),l.jsx(Q8,{onDragEnd:h,onDragStart:m,children:l.jsx(AO,{droppableId:"dashboard",children:y=>l.jsxs("div",{...y.droppableProps,ref:y.innerRef,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-min",children:[i.map((v,b)=>{const w=hse[v.type]||XM;return l.jsx(M9,{draggableId:v.id,index:b,children:(j,S)=>l.jsxs("div",{ref:j.innerRef,...j.draggableProps,className:`relative group ${g(v.size.w)} ${S.isDragging?"opacity-70 shadow-2xl z-50":""}`,style:j.draggableProps.style,children:[l.jsxs("div",{className:`absolute top-2 right-2 z-10 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity ${t?"opacity-100":""}`,children:[l.jsx(W,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-blue-500/10 hover:bg-blue-500/20 text-blue-600 hover:text-blue-700",onClick:()=>f(v.id),title:`Resize widget (currently ${v.size.w===1?"small":v.size.w===2?"medium":"large"})`,children:v.size.w===1?l.jsx(a6,{className:"h-4 w-4"}):l.jsx(o6,{className:"h-4 w-4"})}),l.jsx(fse,{widgetId:v.id,widgetTitle:v.title,onRemove:d}),l.jsx("div",{...j.dragHandleProps,children:l.jsx(W,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Drag to reorder",children:l.jsx(e6,{className:"h-4 w-4"})})})]}),l.jsx(w,{widget:v,isDarkMode:e})]})},v.id)}),y.placeholder]})})}),i.length===0&&l.jsx(U,{className:"border-dashed border-2",children:l.jsx(H,{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mx-auto",children:l.jsx(lt,{className:"h-8 w-8 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium mb-1",children:"No widgets yet"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Get started by adding your first widget to the dashboard"}),l.jsx(zP,{onAddWidget:p,children:l.jsxs(W,{children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Add Your First Widget"]})})]})]})})})]})}function mse({isDarkMode:e}){return l.jsx(pse,{isDarkMode:e})}function gse({isDarkMode:e,onTimeLogged:t}){const{projects:r}=Ut(),{clients:n}=Ot(),{createTimeEntry:i}=Zt(),[a,o]=x.useState(""),[s,c]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(new Date().toISOString().split("T")[0]),[p,m]=x.useState(!1),[g,y]=x.useState(!1),v=async S=>{if(S.preventDefault(),!a||!s||g)return;y(!0);const{error:N}=await i({date:f,hours:parseFloat(a),project_id:s,comment:u.trim()||void 0});N||(o(""),d(""),t==null||t()),y(!1)},b=S=>{const N=new Date(S+"T00:00:00"),E=new Date().toISOString().split("T")[0];return S===E?"Today":N.toLocaleDateString("sv-SE",{weekday:"short",month:"short",day:"numeric"})},w=r.filter(S=>S.status==="active"),j=S=>n.find(E=>E.id===S.client_id);return l.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:`p-2 rounded-lg ${e?"bg-blue-900":"bg-blue-100"}`,children:l.jsx(Ie,{className:`w-5 h-5 ${e?"text-blue-400":"text-blue-600"}`})}),l.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Log Today's Time"})]}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Date"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",onClick:()=>m(!p),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent flex items-center justify-between transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(zt,{className:`w-4 h-4 ${e?"text-slate-400":"text-slate-500"}`}),b(f)]})}),p&&l.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 border rounded-lg shadow-lg z-10 transition-colors duration-200 ${e?"bg-slate-700 border-slate-600":"bg-white border-slate-300"}`,children:l.jsx("input",{type:"date",value:f,onChange:S=>{h(S.target.value),m(!1)},"aria-label":"Select date for time entry",className:`w-full px-3 py-2 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-slate-700 text-white":"bg-white text-slate-900"}`})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Hours"}),l.jsx("input",{type:"number",step:"0.25",min:"0",max:"24",value:a,onChange:S=>o(S.target.value),placeholder:"0.0",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Project"}),l.jsxs("select",{value:s,onChange:S=>c(S.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,required:!0,"aria-label":"Select project",children:[l.jsx("option",{value:"",children:"Select project"}),w.map(S=>{const N=j(S);return l.jsxs("option",{value:S.id,children:[S.name," ",N?`- ${N.name}${N.company?` (${N.company})`:""}`:""]},S.id)})]}),w.length===0&&l.jsxs("p",{className:`text-sm mt-1 ${e?"text-slate-400":"text-slate-500"}`,children:["No active projects available. ",l.jsx("a",{href:"/projects",className:"text-blue-500 hover:underline",children:"Create a project"})," to start tracking time."]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Comment (Optional)"}),l.jsx("textarea",{value:u,onChange:S=>d(S.target.value),placeholder:"Add any notes about this time entry...",rows:3,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]}),l.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-2.5 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:g?l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(lt,{className:"w-4 h-4"}),"Log Time"]})})]})]})}function vse({isDarkMode:e}){const{entries:t}=Zt(),{clients:r}=Ot(),n=new Date().toISOString().split("T")[0],i=t.filter(c=>c.date===n),a=i.reduce((c,u)=>c+u.hours,0),o=c=>new Date(c+"T00:00:00").toLocaleDateString("sv-SE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),s=c=>r.find(u=>u.id===c);return l.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${e?"bg-green-900":"bg-green-100"}`,children:l.jsx(zt,{className:`w-5 h-5 ${e?"text-green-400":"text-green-600"}`})}),l.jsxs("div",{children:[l.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Today's Summary"}),l.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:o(n)})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:`flex items-center gap-2 text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[l.jsx(Ie,{className:`w-6 h-6 ${e?"text-blue-400":"text-blue-600"}`}),a.toFixed(1),"h"]}),l.jsxs("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:[i.length," entries"]})]})]}),i.length===0?l.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[l.jsx(Ie,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-slate-600":"text-slate-300"}`}),l.jsx("p",{children:"No time logged today yet"})]}):l.jsx("div",{className:"space-y-3",children:i.map(c=>{var d,f,h;const u=s((d=c.project)==null?void 0:d.client_id);return l.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[l.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:((f=c.project)==null?void 0:f.color)||"#64748B"}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:(h=c.project)==null?void 0:h.name}),u&&l.jsxs("div",{className:`flex items-center gap-1 text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[l.jsx(Ks,{className:"w-3 h-3"}),l.jsxs("span",{children:[u.name,u.company?` (${u.company})`:""]})]}),c.comment&&l.jsx("p",{className:`text-sm truncate ${e?"text-slate-400":"text-slate-600"}`,children:c.comment})]}),l.jsxs("div",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:[c.hours,"h"]})]},c.id)})})]})}function yse({isDarkMode:e}){const{entries:t}=Zt(),{projects:r}=Ut(),{clients:n}=Ot(),[i,a]=x.useState(""),[o,s]=x.useState(""),c=t.filter(p=>{var v,b;const m=n.find(w=>{var j;return w.id===((j=p.project)==null?void 0:j.client_id)}),g=!i||((v=p.project)==null?void 0:v.name.toLowerCase().includes(i.toLowerCase()))||(m==null?void 0:m.name.toLowerCase().includes(i.toLowerCase()))||((b=m==null?void 0:m.company)==null?void 0:b.toLowerCase().includes(i.toLowerCase()))||p.comment&&p.comment.toLowerCase().includes(i.toLowerCase()),y=!o||p.project_id===o;return g&&y}),u=c.reduce((p,m)=>p+m.hours,0),d=p=>new Date(p+"T00:00:00").toLocaleDateString("sv-SE",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),f=p=>n.find(m=>m.id===p),h=[...c].sort((p,m)=>new Date(m.date).getTime()-new Date(p.date).getTime());return l.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:`p-2 rounded-lg ${e?"bg-purple-900":"bg-purple-100"}`,children:l.jsx(Zk,{className:`w-5 h-5 ${e?"text-purple-400":"text-purple-600"}`})}),l.jsxs("div",{children:[l.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Time Entries"}),l.jsxs("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:[c.length," entries • ",u.toFixed(1)," hours total"]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ep,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${e?"text-slate-500":"text-slate-400"}`}),l.jsx("input",{type:"text",placeholder:"Search projects or comments...",value:i,onChange:p=>a(p.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-500"}`})]}),l.jsxs("select",{value:o,onChange:p=>s(p.target.value),"aria-label":"Filter by project",className:`px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[l.jsx("option",{value:"",children:"All projects"}),r.map(p=>{const m=f(p.client_id);return l.jsxs("option",{value:p.id,children:[p.name," ",m?`- ${m.name}`:""]},p.id)})]})]}),h.length===0?l.jsxs("div",{className:`text-center py-12 ${e?"text-slate-400":"text-slate-500"}`,children:[l.jsx(zt,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-slate-600":"text-slate-300"}`}),l.jsx("p",{children:"No time entries found"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:`border-b ${e?"border-slate-600":"border-slate-200"}`,children:[l.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Date"}),l.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Project"}),l.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Client"}),l.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Hours"}),l.jsx("th",{className:`text-left py-3 px-4 font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Comment"})]})}),l.jsx("tbody",{children:h.map(p=>{var g,y,v;const m=f((g=p.project)==null?void 0:g.client_id);return l.jsxs("tr",{className:`border-b transition-colors duration-150 ${e?"border-slate-700 hover:bg-slate-700":"border-slate-100 hover:bg-slate-50"}`,children:[l.jsx("td",{className:`py-3 px-4 ${e?"text-white":"text-slate-900"}`,children:d(p.date)}),l.jsx("td",{className:"py-3 px-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:((y=p.project)==null?void 0:y.color)||"#64748B"}}),l.jsx("span",{className:e?"text-white":"text-slate-900",children:(v=p.project)==null?void 0:v.name})]})}),l.jsx("td",{className:`py-3 px-4 ${e?"text-slate-300":"text-slate-600"}`,children:m?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ks,{className:"w-3 h-3"}),l.jsx("span",{children:m.name}),m.company&&l.jsxs("span",{className:"text-xs",children:["(",m.company,")"]})]}):"-"}),l.jsxs("td",{className:`py-3 px-4 font-medium ${e?"text-white":"text-slate-900"}`,children:[p.hours,"h"]}),l.jsx("td",{className:`py-3 px-4 ${e?"text-slate-400":"text-slate-600"}`,children:p.comment||"-"})]},p.id)})})]})})]})}function xse({isDarkMode:e}){const{entries:t}=Zt(),{projects:r}=Ut(),[n,i]=x.useState(""),[a,o]=x.useState(""),[s,c]=x.useState(""),u=t.filter(v=>{const b=new Date(v.date),w=n?new Date(n):null,j=a?new Date(a):null,S=(!w||b>=w)&&(!j||b<=j),N=!s||v.project_id===s;return S&&N}),d=u.reduce((v,b)=>v+b.hours,0),f=u.length>0?d/new Set(u.map(v=>v.date)).size:0,h=new Set(u.map(v=>v.date)).size,p=u.reduce((v,b)=>{var j,S;const w=((j=b.project)==null?void 0:j.name)||"Unknown";return v[w]||(v[w]={hours:0,color:((S=b.project)==null?void 0:S.color)||"#64748B"}),v[w].hours+=b.hours,v},{}),m=u.reduce((v,b)=>{const w=b.date.substring(0,7);return v[w]||(v[w]=0),v[w]+=b.hours,v},{}),g=v=>{const[b,w]=v.split("-");return new Date(parseInt(b),parseInt(w)-1).toLocaleDateString("sv-SE",{month:"long",year:"numeric"})},y=()=>!n&&!a?"All time":n&&!a?`From ${new Date(n).toLocaleDateString("sv-SE")}`:!n&&a?`Until ${new Date(a).toLocaleDateString("sv-SE")}`:`${new Date(n).toLocaleDateString("sv-SE")} - ${new Date(a).toLocaleDateString("sv-SE")}`;return l.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx("div",{className:`p-2 rounded-lg ${e?"bg-orange-900":"bg-orange-100"}`,children:l.jsx(So,{className:`w-5 h-5 ${e?"text-orange-400":"text-orange-600"}`})}),l.jsxs("div",{children:[l.jsx("h2",{className:`text-xl font-semibold ${e?"text-white":"text-slate-900"}`,children:"Summary"}),l.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:y()})]})]}),l.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Start Date"}),l.jsx("input",{type:"date",value:n,onChange:v=>i(v.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-600 border-slate-500 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"End Date"}),l.jsx("input",{type:"date",value:a,onChange:v=>o(v.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-600 border-slate-500 text-white":"bg-white border-slate-300 text-slate-900"}`})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium mb-2 ${e?"text-slate-300":"text-slate-700"}`,children:"Project Filter"}),l.jsxs("select",{value:s,onChange:v=>c(v.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${e?"bg-slate-600 border-slate-500 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[l.jsx("option",{value:"",children:"All projects"}),r.map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[l.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-blue-900":"bg-blue-50"}`,children:[l.jsxs("div",{className:`text-2xl font-bold ${e?"text-blue-400":"text-blue-600"}`,children:[d.toFixed(1),"h"]}),l.jsx("div",{className:`text-sm ${e?"text-blue-400":"text-blue-600"}`,children:"Total Hours"})]}),l.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-green-900":"bg-green-50"}`,children:[l.jsx("div",{className:`text-2xl font-bold ${e?"text-green-400":"text-green-600"}`,children:u.length}),l.jsx("div",{className:`text-sm ${e?"text-green-400":"text-green-600"}`,children:"Total Entries"})]}),l.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-purple-900":"bg-purple-50"}`,children:[l.jsx("div",{className:`text-2xl font-bold ${e?"text-purple-400":"text-purple-600"}`,children:h}),l.jsx("div",{className:`text-sm ${e?"text-purple-400":"text-purple-600"}`,children:"Days Worked"})]}),l.jsxs("div",{className:`rounded-lg p-4 transition-colors duration-200 ${e?"bg-orange-900":"bg-orange-50"}`,children:[l.jsxs("div",{className:`text-2xl font-bold ${e?"text-orange-400":"text-orange-600"}`,children:[f.toFixed(1),"h"]}),l.jsx("div",{className:`text-sm ${e?"text-orange-400":"text-orange-600"}`,children:"Avg. Hours/Day"})]})]}),Object.keys(p).length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:`text-lg font-semibold mb-3 ${e?"text-white":"text-slate-900"}`,children:"Hours by Project"}),l.jsx("div",{className:"space-y-3",children:Object.entries(p).sort(([,v],[,b])=>b.hours-v.hours).map(([v,b])=>l.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:b.color}}),l.jsx("span",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:v})]}),l.jsxs("div",{className:`font-semibold ${e?"text-white":"text-slate-900"}`,children:[b.hours.toFixed(1),"h"]})]},v))})]}),Object.keys(m).length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:`text-lg font-semibold mb-3 ${e?"text-white":"text-slate-900"}`,children:"Hours by Month"}),l.jsx("div",{className:"space-y-3",children:Object.entries(m).sort(([v],[b])=>b.localeCompare(v)).map(([v,b])=>l.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-colors duration-200 ${e?"bg-slate-700":"bg-slate-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(zt,{className:`w-4 h-4 ${e?"text-slate-400":"text-slate-500"}`}),l.jsx("span",{className:`font-medium ${e?"text-white":"text-slate-900"}`,children:g(v)})]}),l.jsxs("div",{className:`font-semibold ${e?"text-white":"text-slate-900"}`,children:[b.toFixed(1),"h"]})]},v))})]}),u.length===0&&l.jsxs("div",{className:`text-center py-8 ${e?"text-slate-400":"text-slate-500"}`,children:[l.jsx(Xk,{className:`w-12 h-12 mx-auto mb-3 ${e?"text-slate-600":"text-slate-300"}`}),l.jsx("p",{children:"No entries found for the selected filters"})]})]})}function bse({currentDate:e,onDateChange:t,isDarkMode:r}){const{entries:n}=Zt(),i=(f,h)=>new Date(f,h+1,0).getDate(),a=(f,h)=>new Date(f,h,1).getDay(),o=(f,h)=>{const p=i(f,h),m=a(f,h),g=[];for(let y=0;y<m;y++)g.push(null);for(let y=1;y<=p;y++){const v=`${f}-${String(h+1).padStart(2,"0")}-${String(y).padStart(2,"0")}`,b=n.filter(j=>j.date===v),w=b.reduce((j,S)=>j+S.hours,0);g.push({day:y,dateStr:v,entries:b,totalHours:w})}return g},s=f=>{const h=new Date(e);h.setMonth(h.getMonth()+(f==="next"?3:-3)),t(h)},c=[];for(let f=0;f<3;f++){const h=new Date(e.getFullYear(),e.getMonth()+f,1);c.push(h)}const u=f=>f.toLocaleDateString("sv-SE",{month:"long",year:"numeric"}),d=f=>`Q${Math.floor(f.getMonth()/3)+1} ${f.getFullYear()}`;return l.jsxs("div",{className:`rounded-xl shadow-sm border p-6 transition-colors duration-200 ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:`text-xl font-semibold ${r?"text-white":"text-slate-900"}`,children:["Quarter Overview - ",d(e)]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>s("prev"),title:"Previous quarter",className:`p-2 rounded-lg transition-colors duration-200 ${r?"hover:bg-slate-700 text-slate-400":"hover:bg-slate-100 text-slate-600"}`,children:l.jsx(Nx,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>s("next"),title:"Next quarter",className:`p-2 rounded-lg transition-colors duration-200 ${r?"hover:bg-slate-700 text-slate-400":"hover:bg-slate-100 text-slate-600"}`,children:l.jsx(Ex,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:c.map((f,h)=>{const p=o(f.getFullYear(),f.getMonth());return l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:`font-semibold text-center ${r?"text-white":"text-slate-900"}`,children:u(f)}),l.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(m=>l.jsx("div",{className:`text-xs font-medium text-center py-2 ${r?"text-slate-400":"text-slate-500"}`,children:m},m)),p.map((m,g)=>l.jsx("div",{className:"aspect-square",children:m?l.jsxs("div",{className:`w-full h-full rounded-lg border p-1 flex flex-col justify-between text-xs ${m.totalHours>0?r?"bg-blue-900 border-blue-700":"bg-blue-50 border-blue-200":r?"bg-slate-700 border-slate-600":"bg-white border-slate-200"}`,children:[l.jsx("div",{className:`font-medium ${r?"text-white":"text-slate-900"}`,children:m.day}),m.totalHours>0&&l.jsxs("div",{className:`font-medium ${r?"text-blue-400":"text-blue-600"}`,children:[m.totalHours,"h"]})]}):l.jsx("div",{})},g))]})]},h)})})]})}function wse({isDarkMode:e}){const[t,r]=x.useState("daily"),[n,i]=x.useState(new Date),{refetch:a,loading:o}=Zt(),s=x.useCallback(async()=>{await a()},[a]),c=x.useCallback(()=>{},[]),u=[{id:"daily",label:"Daily View",icon:Ie,description:"Log time and view today's summary"},{id:"summary",label:"Summary & Filters",icon:ou,description:"Overview with date filters and project breakdown"},{id:"quarterly",label:"Quarterly View",icon:zt,description:"Calendar view by quarters"},{id:"table",label:"All Entries",icon:Zk,description:"Detailed table of all time entries"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Time Tracking"}),l.jsx("p",{className:"text-muted-foreground",children:"Log your hours and track your productivity"})]}),l.jsxs("button",{onClick:s,disabled:o,className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors duration-200 ${e?"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"} ${o?"opacity-50 cursor-not-allowed":""}`,children:[l.jsx(u6,{className:`w-4 h-4 ${o?"animate-spin":""}`}),"Refresh"]})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(d=>{const f=d.icon,h=t===d.id;return l.jsxs("button",{onClick:()=>r(d.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors duration-200 ${h?e?"bg-blue-900 border-blue-700 text-blue-300":"bg-blue-50 border-blue-300 text-blue-700":e?"bg-slate-800 border-slate-700 text-slate-300 hover:bg-slate-700":"bg-white border-slate-300 text-slate-700 hover:bg-slate-50"}`,title:d.description,children:[l.jsx(f,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:d.label})]},d.id)})}),t==="daily"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"Log Time"})}),l.jsx(H,{children:l.jsx(gse,{isDarkMode:e,onTimeLogged:c})})]})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"Today's Summary"})}),l.jsx(H,{children:l.jsx(vse,{isDarkMode:e})})]})})]}),t==="summary"&&l.jsx(xse,{isDarkMode:e}),t==="quarterly"&&l.jsx(bse,{currentDate:n,onDateChange:i,isDarkMode:e}),t==="table"&&l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"All Time Entries"})}),l.jsx(H,{children:l.jsx(yse,{isDarkMode:e})})]})]})}function D$(e){const[t,r]=x.useState([]),[n,i]=x.useState(!0),[a,o]=x.useState(null),s=async()=>{if(!e){i(!1);return}try{i(!0);const{data:p,error:m}=await le.from("cash_flow_entries").select("*").eq("user_id",e).order("date",{ascending:!1});if(m)throw m;r(p||[])}catch(p){o(p instanceof Error?p.message:"An error occurred")}finally{i(!1)}},c=async p=>{if(!e)return null;try{const{data:m,error:g}=await le.from("cash_flow_entries").insert([{...p,user_id:e}]).select().single();if(g)throw g;return r(y=>[m,...y]),m}catch(m){return o(m instanceof Error?m.message:"Failed to add entry"),null}},u=async(p,m)=>{try{const{data:g,error:y}=await le.from("cash_flow_entries").update(m).eq("id",p).eq("user_id",e).select().single();if(y)throw y;return r(v=>v.map(b=>b.id===p?g:b)),g}catch(g){return o(g instanceof Error?g.message:"Failed to update entry"),null}},d=async p=>{try{const{error:m}=await le.from("cash_flow_entries").delete().eq("id",p).eq("user_id",e);if(m)throw m;return r(g=>g.filter(y=>y.id!==p)),!0}catch(m){return o(m instanceof Error?m.message:"Failed to delete entry"),!1}},f=async(p,m)=>{if(!e)return null;try{let g=le.from("cash_flow_entries").select("type, amount, date").eq("user_id",e);p&&(g=g.gte("date",p)),m&&(g=g.lte("date",m));const{data:y,error:v}=await g;if(v)throw v;const b=y==null?void 0:y.reduce((w,j)=>(j.type==="income"?w.totalIncome+=j.amount:w.totalExpenses+=j.amount,w),{totalIncome:0,totalExpenses:0});return{...b,netFlow:b?b.totalIncome-b.totalExpenses:0}}catch(g){return o(g instanceof Error?g.message:"Failed to get summary"),null}},h=async p=>{if(!e)return[];try{const{data:m,error:g}=await le.from("cash_flow_entries").select("category, amount").eq("user_id",e).eq("type",p);if(g)throw g;const y=m==null?void 0:m.reduce((v,b)=>(v[b.category]=(v[b.category]||0)+b.amount,v),{});return Object.entries(y||{}).map(([v,b])=>({category:v,amount:b}))}catch(m){return o(m instanceof Error?m.message:"Failed to get categories"),[]}};return x.useEffect(()=>{s()},[e]),{entries:t,loading:n,error:a,addEntry:c,updateEntry:u,deleteEntry:d,getCashFlowSummary:f,getEntriesByCategory:h,refetch:s}}function jse(e){const[t,r]=x.useState([]),[n,i]=x.useState(!0),[a,o]=x.useState(null),s=async()=>{if(!e){i(!1);return}try{i(!0);const{data:m,error:g}=await le.from("budgets").select("*").eq("user_id",e).eq("is_active",!0).order("created_at",{ascending:!1});if(g)throw g;r(m||[])}catch(m){o(m instanceof Error?m.message:"An error occurred")}finally{i(!1)}},c=async m=>{if(!e)return null;try{const{data:g,error:y}=await le.from("budgets").insert([{...m,user_id:e}]).select().single();if(y)throw y;return r(v=>[g,...v]),g}catch(g){return o(g instanceof Error?g.message:"Failed to add budget"),null}},u=async(m,g)=>{try{const{data:y,error:v}=await le.from("budgets").update(g).eq("id",m).eq("user_id",e).select().single();if(v)throw v;return r(b=>b.map(w=>w.id===m?y:w)),y}catch(y){return o(y instanceof Error?y.message:"Failed to update budget"),null}},d=async m=>{try{const{error:g}=await le.from("budgets").delete().eq("id",m).eq("user_id",e);if(g)throw g;return r(y=>y.filter(v=>v.id!==m)),!0}catch(g){return o(g instanceof Error?g.message:"Failed to delete budget"),!1}},f=async m=>{if(!e)return null;try{const{data:g,error:y}=await le.from("budget_entries").insert([{...m,user_id:e}]).select().single();if(y)throw y;return g}catch(g){return o(g instanceof Error?g.message:"Failed to add budget entry"),null}},h=async()=>{if(!e)return[];try{const{data:m,error:g}=await le.from("budget_status").select("*").eq("user_id",e);if(g)throw g;return m||[]}catch(m){return o(m instanceof Error?m.message:"Failed to get budget status"),[]}},p=async m=>{try{const{data:g,error:y}=await le.from("budget_entries").select("*").eq("budget_id",m).eq("user_id",e).order("date",{ascending:!1});if(y)throw y;return g||[]}catch(g){return o(g instanceof Error?g.message:"Failed to get budget entries"),[]}};return x.useEffect(()=>{s()},[e]),{budgets:t,loading:n,error:a,addBudget:c,updateBudget:u,deleteBudget:d,addBudgetEntry:f,getBudgetStatus:h,getBudgetEntries:p,refetch:s}}const ll=()=>{const[e,t]=x.useState([]),r=x.useCallback(({title:i,description:a,variant:o="default"})=>{const s=Math.random().toString(36).substr(2,9),c={id:s,title:i,description:a,variant:o};return t(u=>[...u,c]),console.log(`Toast: ${i}${a?` - ${a}`:""}`),setTimeout(()=>{t(u=>u.filter(d=>d.id!==s))},3e3),{id:s}},[]),n=x.useCallback(i=>{t(a=>a.filter(o=>o.id!==i))},[]);return{toast:r,dismiss:n,toasts:e}},Sse=()=>{const{user:e}=Fr(),{entries:t,refetch:r,addEntry:n,deleteEntry:i}=D$((e==null?void 0:e.id)||null),{budgets:a,addBudget:o,updateBudget:s,deleteBudget:c,loading:u}=jse((e==null?void 0:e.id)||null),{toast:d}=ll(),[f,h]=x.useState([]),[p,m]=x.useState([]),[g,y]=x.useState(!1),v=new Date().toISOString().slice(0,7),b=new Date().getFullYear(),w=()=>new Date().toLocaleDateString("sv-SE",{month:"long",year:"numeric"}),j=()=>new Date().getFullYear().toString(),S=(_,A)=>t?A==="monthly"?t.filter(D=>{const T=new Date(D.date).toISOString().slice(0,7);return D.type==="expense"&&T===v&&(D.category.toLowerCase()===_.toLowerCase()||D.category.toLowerCase().includes(_.toLowerCase().split(" ")[0]))}):t.filter(D=>{const T=new Date(D.date).getFullYear();return D.type==="expense"&&T===b&&D.category.toLowerCase()===_.toLowerCase()}):[],N=x.useMemo(()=>{const _=f.reduce((T,R)=>T+R.budgeted,0),A=f.reduce((T,R)=>T+R.spent,0),D=p.reduce((T,R)=>T+R.budgeted,0),M=p.reduce((T,R)=>T+R.spent,0);return{monthly:{budget:_,spent:A,remaining:_-A,percentage:_>0?A/_*100:0},annual:{budget:D,spent:M,remaining:D-M,percentage:D>0?M/D*100:0,completed:p.filter(T=>T.status==="completed").length,overdue:p.filter(T=>T.status==="overdue").length}}},[f,p]),E=x.useMemo(()=>f.map(_=>({name:_.name,budgeted:_.budgeted,spent:_.spent,remaining:_.budgeted-_.spent})),[f]),C=x.useMemo(()=>f.filter(_=>_.spent>0).map(_=>({name:_.name,value:_.spent,color:_.color})),[f]);return x.useEffect(()=>{(async()=>{if(!(!e||u||!t)){y(!0);try{const A=a.filter(F=>F.period==="monthly"),D=t.filter(F=>{const J=new Date(F.date).toISOString().slice(0,7);return F.type==="expense"&&J===v}),M=A.map((F,B)=>{const L=D.filter(ce=>ce.category.toLowerCase()===F.category.toLowerCase()||ce.category.toLowerCase().includes(F.category.toLowerCase().split(" ")[0])).reduce((ce,he)=>ce+he.amount,0),ne=["#2563eb","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"];return{id:F.id,name:F.name,budgeted:F.budget_limit,spent:L,color:ne[B%ne.length]}}),T=a.filter(F=>F.period==="yearly"),R=t.filter(F=>{const J=new Date(F.date).getFullYear();return F.type==="expense"&&J===b&&F.is_budget_entry===!0&&F.recurring_interval==="yearly"}),I=T.map((F,B)=>{const L=R.filter(ge=>ge.category.toLowerCase()===F.category.toLowerCase()).reduce((ge,tr)=>ge+tr.amount,0),ne=new Date(F.start_date||new Date),ce=new Date;let he="pending";L>=F.budget_limit?he="completed":ne<ce&&(he="overdue");const oe=["#dc2626","#ea580c","#d97706","#65a30d","#059669","#0891b2","#7c3aed","#c2410c"];return{id:F.id,name:F.name,budgeted:F.budget_limit,spent:L,targetDate:F.start_date||new Date().toISOString().split("T")[0],status:he,color:oe[B%oe.length]}});h(M),m(I)}catch(A){console.error("Error loading budgets and expenses:",A),d({title:"Fel",description:"Kunde inte ladda budgetdata.",variant:"destructive"})}finally{y(!1)}}})()},[e==null?void 0:e.id,a,u,t,d]),{categories:f,annualItems:p,totals:N,chartData:E,pieData:C,budgetsLoading:u,isLoading:g,getCurrentMonthName:w,getCurrentYear:j,getCategoryEntries:S,handleAddCategory:async(_,A)=>{if(a.find(M=>M.name.toLowerCase().trim()===_.toLowerCase().trim()||M.category.toLowerCase().trim()===_.toLowerCase().trim()))return d({title:"Kategori finns redan",description:`En kategori med namnet "${_.trim()}" finns redan.`,variant:"destructive"}),!1;if(A<0)return d({title:"Fel",description:"Budget kan inte vara negativ. Ange 0 för ingen budget.",variant:"destructive"}),!1;y(!0);try{if(await o({name:_.trim(),category:_.trim(),budget_limit:A,period:"monthly",start_date:new Date().toISOString().split("T")[0],is_active:!0})&&A>0){const T=new Date;T.setDate(1);const R=new Date(T);R.setMonth(R.getMonth()+1),await n({type:"expense",amount:A,description:`Budget för ${_.trim()}`,category:_.trim(),date:T.toISOString().split("T")[0],is_recurring:!0,recurring_interval:"monthly",next_due_date:R.toISOString().split("T")[0],is_budget_entry:!0,is_recurring_instance:!1})}return d({title:"Månadskategori tillagd",description:A>0?`${_.trim()} med budget ${V(A)}/månad har lagts till`:`${_.trim()} har lagts till utan automatisk budget`}),await r(),!0}catch(M){return console.error("Error adding category:",M),d({title:"Fel",description:"Kunde inte lägga till kategori.",variant:"destructive"}),!1}finally{y(!1)}},handleUpdateCategory:async(_,A)=>{if(A<0)return d({title:"Fel",description:"Budget kan inte vara negativ. Ange 0 för ingen budget.",variant:"destructive"}),!1;y(!0);try{if(await s(_,{budget_limit:A,updated_at:new Date().toISOString()})){const M=f.find(T=>T.id===_);return d({title:"Månadsbudget uppdaterad",description:`Budget för ${M==null?void 0:M.name} uppdaterad till ${V(A)}/månad`}),await r(),!0}return!1}catch(D){return console.error("Error updating category:",D),d({title:"Fel",description:"Kunde inte uppdatera budget.",variant:"destructive"}),!1}finally{y(!1)}},handleDeleteCategory:async _=>{y(!0);try{if(await c(_.id)){const D=t.filter(M=>M.category===_.name&&M.is_budget_entry===!0);for(const M of D)await i(M.id);return d({title:"Kategori borttagen",description:`${_.name} har tagits bort`}),await r(),!0}return!1}catch(A){return console.error("Error deleting category:",A),d({title:"Fel",description:"Kunde inte ta bort kategori.",variant:"destructive"}),!1}finally{y(!1)}},addEntry:n,deleteEntry:i,addBudget:o,updateBudget:s,deleteBudget:c,refetch:r,entries:t,budgets:a,toast:d}};function Nse({totals:e,getCurrentMonthName:t,getCurrentYear:r}){return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs(U,{children:[l.jsx(G,{className:"pb-2",children:l.jsxs(Y,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(lr,{className:"h-4 w-4"}),"Månadsbudget"]})}),l.jsxs(H,{children:[l.jsx("div",{className:"text-2xl font-bold",children:V(e.monthly.budget)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t()})]})]}),l.jsxs(U,{children:[l.jsx(G,{className:"pb-2",children:l.jsxs(Y,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(Qt,{className:"h-4 w-4"}),"Spenderat (månad)"]})}),l.jsxs(H,{children:[l.jsx("div",{className:"text-2xl font-bold",children:V(e.monthly.spent)}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.monthly.percentage.toFixed(1),"% av budget"]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(e.monthly.percentage,100)}%`}})})]})]}),l.jsxs(U,{children:[l.jsx(G,{className:"pb-2",children:l.jsxs(Y,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(Ni,{className:"h-4 w-4"}),"Årsbudget"]})}),l.jsxs(H,{children:[l.jsx("div",{className:"text-2xl font-bold",children:V(e.annual.budget)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:r()})]})]}),l.jsxs(U,{children:[l.jsx(G,{className:"pb-2",children:l.jsxs(Y,{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(QB,{className:"h-4 w-4"}),"Årliga poster"]})}),l.jsxs(H,{children:[l.jsxs("div",{className:"text-2xl font-bold",children:[e.annual.completed,"/",e.annual.completed+e.annual.overdue]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.annual.overdue>0&&l.jsxs("span",{className:"text-red-500",children:[e.annual.overdue," försenade"]}),e.annual.overdue===0&&"Inga försenade"]})]})]})]})}function Ese({chartData:e,pieData:t,isDarkMode:r}){return e.length===0?null:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"Månadsbudget vs Faktisk"})}),l.jsx(H,{children:l.jsx("div",{className:"h-64",children:l.jsx(Bn,{width:"100%",height:"100%",children:l.jsxs(VM,{data:e,children:[l.jsx(wi,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:r?"#94a3b8":"#64748b"}}),l.jsx(ji,{hide:!0}),l.jsx(hs,{dataKey:"budgeted",fill:"#e2e8f0",name:"Budget"}),l.jsx(hs,{dataKey:"spent",fill:"#2563eb",name:"Spenderat"})]})})})})]}),l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"Utgiftsfördelning"})}),l.jsx(H,{children:l.jsx("div",{className:"h-64",children:t.length>0?l.jsx(Bn,{width:"100%",height:"100%",children:l.jsx(y0,{children:l.jsx(vh,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,dataKey:"value",children:t.map((n,i)=>l.jsx(vo,{fill:n.color},`cell-${i}`))})})}):l.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Inga utgifter att visa än"})})})]})]})}function I$({percentage:e,isOverBudget:t=!1,className:r}){const n=Math.min(e,100);return l.jsx("div",{className:Ae("w-full bg-gray-200 rounded-full h-2",r),children:l.jsx("div",{className:Ae("h-2 rounded-full transition-all duration-300",t?"bg-red-500":"bg-green-500"),style:{width:`${n}%`}})})}function Pse({categories:e,onViewDetails:t,onAddExpense:r,onEditCategory:n,onDeleteCategory:i}){return e.length===0?null:l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"Månadskategorier"})}),l.jsx(H,{children:l.jsx("div",{className:"space-y-4",children:e.map(a=>{const o=a.budgeted>0?a.spent/a.budgeted*100:0,s=a.spent>a.budgeted;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),l.jsx("span",{className:"font-medium",children:a.name})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(W,{variant:"outline",size:"sm",onClick:()=>t(a),className:"h-8",children:[l.jsx(Yk,{className:"h-4 w-4 mr-1"}),"Detaljer"]}),l.jsxs(W,{variant:"outline",size:"sm",onClick:()=>r(a),className:"h-8",children:[l.jsx(qs,{className:"h-4 w-4 mr-1"}),"Lägg till"]}),l.jsx(W,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(a),children:l.jsx(Cx,{className:"h-4 w-4"})}),l.jsx(W,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>i(a),children:l.jsx(su,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[V(a.spent)," / ",V(a.budgeted)]}),l.jsxs("span",{className:s?"text-red-500":"text-muted-foreground",children:[o.toFixed(1),"%"]})]}),l.jsx(I$,{percentage:o,isOverBudget:s})]},a.id)})})})]})}function Cse({annualItems:e,getCurrentYear:t,onAddExpense:r,onDeleteItem:n}){return e.length===0?null:l.jsxs(U,{children:[l.jsx(G,{children:l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(Ni,{className:"h-5 w-5"}),"Årliga budgetposter ",t()]})}),l.jsx(H,{children:l.jsx("div",{className:"space-y-4",children:e.map(i=>{const a=i.budgeted>0?i.spent/i.budgeted*100:0,o=i.status==="completed",s=i.status==="overdue";return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:i.name}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Målmåndag: ",new Date(i.targetDate).toLocaleDateString("sv-SE"),o&&l.jsx("span",{className:"text-green-600 ml-2",children:"✓ Genomförd"}),s&&l.jsx("span",{className:"text-red-600 ml-2",children:"⚠ Försenad"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(W,{variant:"outline",size:"sm",onClick:()=>r(i),className:"h-8",disabled:o,children:[l.jsx(qs,{className:"h-4 w-4 mr-1"}),"Lägg till utgift"]}),l.jsx(W,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(i),children:l.jsx(su,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[V(i.spent)," / ",V(i.budgeted)]}),l.jsxs("span",{className:o?"text-green-600":s?"text-red-500":"text-muted-foreground",children:[a.toFixed(1),"%"]})]}),l.jsx(I$,{percentage:a,isOverBudget:!1,className:o?"bg-green-100":s?"bg-red-100":""})]},i.id)})})})]})}function _se({onAddCategory:e,onAddAnnualItem:t}){return l.jsx(U,{children:l.jsxs(H,{className:"text-center py-12",children:[l.jsx(Jk,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ingen budget än"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Skapa din första budgetkategori eller årliga post för att börja spåra utgifter"}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mt-4 text-sm",children:[l.jsx("p",{className:"font-medium mb-2",children:"💡 Så fungerar det:"}),l.jsxs("ul",{className:"text-left space-y-1 text-muted-foreground",children:[l.jsxs("li",{children:["• ",l.jsx("strong",{children:"Månadskategorier:"})," Återkommande utgifter (mat, transport, hyra)"]}),l.jsxs("li",{children:["• ",l.jsx("strong",{children:"Årliga poster:"})," Engångsutgifter (konferenser, utrustning, resor)"]}),l.jsx("li",{children:"• Allt syns automatiskt i Cash Flow för helhetsbild"})]})]}),l.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[l.jsxs(W,{variant:"outline",onClick:t,children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Årlig post"]}),l.jsxs(W,{onClick:e,children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Månadskategori"]})]})]})})}function kse({categories:e,annualItems:t,totals:r,chartData:n,pieData:i,isDarkMode:a,getCurrentMonthName:o,getCurrentYear:s,onViewDetails:c,onAddExpense:u,onEditCategory:d,onDeleteCategory:f,onDeleteItem:h,onAddCategory:p,onAddAnnualItem:m}){console.log("📊 Rendering OVERVIEW");const g=e.length>0||t.length>0;return l.jsxs("div",{className:"space-y-6",children:[l.jsx(U,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:l.jsx(H,{className:"py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"h-5 w-5 text-blue-600"}),l.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Spåra utgifter mot dina budgetmål"})]}),l.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.length," månadskategorier • ",t.length," årliga poster"]})]})})}),g?l.jsxs(l.Fragment,{children:[l.jsx(Nse,{totals:r,getCurrentMonthName:o,getCurrentYear:s}),l.jsx(Ese,{chartData:n,pieData:i,isDarkMode:a}),e.length>0&&l.jsx(Pse,{categories:e,onViewDetails:c,onAddExpense:u,onEditCategory:d,onDeleteCategory:f}),t.length>0&&l.jsx(Cse,{annualItems:t,getCurrentYear:s,onAddExpense:u,onDeleteItem:h})]}):l.jsx(_se,{onAddCategory:p,onAddAnnualItem:m})]})}function Ose({categories:e,annualItems:t,totals:r,getCurrentMonthName:n,getCurrentYear:i,getCategoryEntries:a}){return console.log("📋 Rendering DETAILED view"),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(U,{className:"shadow-lg",children:[l.jsxs(G,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 rounded-t-lg",children:[l.jsx(Y,{className:"flex items-center gap-3 text-xl",children:"📅 Månadskategorier"}),l.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2",children:["Totalsumma: ",l.jsx("span",{className:"bg-blue-200/60 dark:bg-blue-800/60 px-2 py-1 rounded-md font-semibold text-blue-900 dark:text-blue-100 shadow-sm border border-blue-300/30 dark:border-blue-600/30",children:V(r.monthly.spent)})," / Budgeterat: ",V(r.monthly.budget)]})]}),l.jsx(H,{className:"p-0",children:l.jsx("div",{className:"space-y-0",children:e.length>0?e.map((o,s)=>{const c=a(o.name,"monthly"),u=c.reduce((d,f)=>d+f.amount,0);return l.jsxs("div",{className:"border-b last:border-b-0",style:{borderLeft:`6px solid ${o.color}`,backgroundColor:`${o.color}08`},children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-5 h-5 rounded-lg shadow-sm",style:{backgroundColor:o.color}}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-base font-semibold",children:o.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:V(u)})," / ",V(o.budgeted),l.jsxs("span",{className:"ml-2 text-xs",children:["(",c.length," utgifter)"]})]})]})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-900",children:c.length>0?l.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:c.map((d,f)=>l.jsxs("div",{className:`flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors ${f%2===0?"bg-gray-25 dark:bg-gray-900":"bg-white dark:bg-gray-850"}`,children:[l.jsx("div",{className:"flex-1 truncate pr-2",children:l.jsx("div",{className:"text-sm font-medium truncate",children:d.description})}),l.jsx("div",{className:"text-sm font-semibold tabular-nums",style:{color:o.color},children:V(d.amount)})]},d.id))}):l.jsx("div",{className:"p-6 text-center text-muted-foreground",children:l.jsx("p",{className:"text-sm",children:"Inga utgifter registrerade"})})})]},o.id)}):l.jsx("div",{className:"p-8 text-center text-muted-foreground",children:l.jsx("p",{className:"text-base",children:"Inga månadskategorier ännu"})})})})]}),l.jsxs(U,{className:"shadow-lg",children:[l.jsxs(G,{className:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 rounded-t-lg",children:[l.jsx(Y,{className:"flex items-center gap-3 text-xl",children:"🎯 Årliga poster"}),l.jsxs("div",{className:"text-sm text-purple-700 dark:text-purple-300 mt-2",children:["Totalsumma: ",l.jsx("span",{className:"bg-purple-200/60 dark:bg-purple-800/60 px-2 py-1 rounded-md font-semibold text-purple-900 dark:text-purple-100 shadow-sm border border-purple-300/30 dark:border-purple-600/30",children:V(r.annual.spent)})," / Budgeterat: ",V(r.annual.budget)]})]}),l.jsx(H,{className:"p-0",children:l.jsx("div",{className:"space-y-0",children:t.length>0?t.map((o,s)=>{const c=a(o.name,"yearly"),u=c.reduce((d,f)=>d+f.amount,0);return l.jsxs("div",{className:"border-b last:border-b-0",style:{borderLeft:`6px solid ${o.color}`,backgroundColor:`${o.color}08`},children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-5 h-5 rounded-lg shadow-sm",style:{backgroundColor:o.color}}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-base font-semibold",children:o.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("span",{className:"font-medium",children:V(u)})," / ",V(o.budgeted),l.jsxs("span",{className:"ml-2 text-xs",children:["(",c.length," utgifter)"]})]})]})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-900",children:c.length>0?l.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:c.map((d,f)=>l.jsxs("div",{className:`flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors ${f%2===0?"bg-gray-25 dark:bg-gray-900":"bg-white dark:bg-gray-850"}`,children:[l.jsx("div",{className:"flex-1 truncate pr-2",children:l.jsx("div",{className:"text-sm font-medium truncate",children:d.description})}),l.jsx("div",{className:"text-sm font-semibold tabular-nums",style:{color:o.color},children:V(d.amount)})]},d.id))}):l.jsx("div",{className:"p-6 text-center text-muted-foreground",children:l.jsx("p",{className:"text-sm",children:"Inga utgifter registrerade"})})})]},o.id)}):l.jsx("div",{className:"p-8 text-center text-muted-foreground",children:l.jsx("p",{className:"text-base",children:"Inga årliga poster ännu"})})})})]})]})}const xe=x.forwardRef(({className:e,...t},r)=>l.jsx("label",{ref:r,className:Ae("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));xe.displayName="Label";const Cm=x.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:Ae("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Cm.displayName="Textarea";function Ase({handleAddCategory:e,handleUpdateCategory:t,handleDeleteCategory:r,addEntry:n,toast:i}){const[a,o]=x.useState(!1),[s,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[p,m]=x.useState(!1),[g,y]=x.useState(""),[v,b]=x.useState(""),[w,j]=x.useState(null),[S,N]=x.useState(null),[E,C]=x.useState(null),[P,k]=x.useState(null),[O,_]=x.useState(""),[A,D]=x.useState(""),[M,T]=x.useState(new Date().toISOString().split("T")[0]),R=()=>o(!0),I=oe=>{j(oe),b(oe.budgeted.toString()),c(!0)},F=oe=>{N(oe),d(!0)},B=oe=>{C(oe),_(""),D(""),T(new Date().toISOString().split("T")[0]),h(!0)},J=oe=>{k(oe),m(!0)},L=async()=>{if(!g.trim()){i({title:"Fel",description:"Ange ett namn för kategorin.",variant:"destructive"});return}const oe=parseFloat(v)||0;await e(g.trim(),oe)&&(y(""),b(""),o(!1))},ne=async()=>{if(!w)return;const oe=parseFloat(v)||0;await t(w.id,oe)&&(j(null),b(""),c(!1))},ce=async()=>{if(!S)return;await r(S)&&(N(null),d(!1))},he=async()=>{if(!E||!O||!A){i({title:"Fel",description:"Fyll i alla fält.",variant:"destructive"});return}const oe=parseFloat(O);if(oe<=0){i({title:"Fel",description:"Beloppet måste vara större än 0.",variant:"destructive"});return}try{await n({type:"expense",amount:oe,description:A,category:E.name,date:M,is_recurring:!1,is_budget_entry:!1}),i({title:"Utgift tillagd",description:`${V(oe)} för ${A}`}),_(""),D(""),T(new Date().toISOString().split("T")[0]),h(!1),C(null)}catch{i({title:"Fel",description:"Kunde inte lägga till utgift.",variant:"destructive"})}};return l.jsxs(l.Fragment,{children:[l.jsx(Nn,{open:a,onOpenChange:o,children:l.jsxs(Qr,{children:[l.jsx(Zr,{children:l.jsx(en,{children:"Lägg till månadskategori"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(xe,{htmlFor:"categoryName",children:"Kategorinamn"}),l.jsx(fe,{id:"categoryName",value:g,onChange:oe=>y(oe.target.value),placeholder:"t.ex. Mat & Dryck"})]}),l.jsxs("div",{children:[l.jsx(xe,{htmlFor:"categoryBudget",children:"Månadsbudget (kr)"}),l.jsx(fe,{id:"categoryBudget",type:"number",value:v,onChange:oe=>b(oe.target.value),placeholder:"0 = ingen automatisk budget"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(W,{variant:"outline",onClick:()=>o(!1),children:"Avbryt"}),l.jsx(W,{onClick:L,children:"Lägg till"})]})]})]})}),l.jsx(Nn,{open:s,onOpenChange:c,children:l.jsxs(Qr,{children:[l.jsx(Zr,{children:l.jsxs(en,{children:["Redigera kategori: ",w==null?void 0:w.name]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(xe,{htmlFor:"editCategoryBudget",children:"Månadsbudget (kr)"}),l.jsx(fe,{id:"editCategoryBudget",type:"number",value:v,onChange:oe=>b(oe.target.value)})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(W,{variant:"outline",onClick:()=>c(!1),children:"Avbryt"}),l.jsx(W,{onClick:ne,children:"Spara"})]})]})]})}),l.jsx(Nn,{open:u,onOpenChange:d,children:l.jsxs(Qr,{children:[l.jsx(Zr,{children:l.jsx(en,{children:"Ta bort kategori"})}),l.jsxs("p",{children:['Är du säker på att du vill ta bort kategorin "',S==null?void 0:S.name,'"?']}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(W,{variant:"outline",onClick:()=>d(!1),children:"Avbryt"}),l.jsx(W,{variant:"destructive",onClick:ce,children:"Ta bort"})]})]})}),l.jsx(Nn,{open:f,onOpenChange:h,children:l.jsxs(Qr,{children:[l.jsx(Zr,{children:l.jsxs(en,{children:["Lägg till utgift - ",E==null?void 0:E.name]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(xe,{htmlFor:"expenseAmount",children:"Belopp (kr)"}),l.jsx(fe,{id:"expenseAmount",type:"number",value:O,onChange:oe=>_(oe.target.value),placeholder:"0"})]}),l.jsxs("div",{children:[l.jsx(xe,{htmlFor:"expenseDescription",children:"Beskrivning"}),l.jsx(Cm,{id:"expenseDescription",value:A,onChange:oe=>D(oe.target.value),placeholder:"Vad köpte du?"})]}),l.jsxs("div",{children:[l.jsx(xe,{htmlFor:"expenseDate",children:"Datum"}),l.jsx(fe,{id:"expenseDate",type:"date",value:M,onChange:oe=>T(oe.target.value)})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(W,{variant:"outline",onClick:()=>h(!1),children:"Avbryt"}),l.jsx(W,{onClick:he,children:"Lägg till"})]})]})]})}),(window.budgetDialogs={openAddCategoryDialog:R,openEditCategoryDialog:I,openDeleteDialog:F,openAddExpenseDialog:B,openDetailDialog:J},null)]})}function Tse({isDarkMode:e}){const[t,r]=x.useState(!1),n=Sse();if(console.log("🔍 Budget component render - isDetailedView:",t),n.budgetsLoading)return l.jsx("div",{className:"space-y-6",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Budget"}),l.jsx("p",{className:"text-muted-foreground",children:"Laddar budgetdata..."})]})})});const i=()=>{var f;(f=window.budgetDialogs)==null||f.openAddCategoryDialog()},a=()=>{var f;(f=window.budgetDialogs)==null||f.openAddAnnualItemDialog()},o=f=>{var h;(h=window.budgetDialogs)==null||h.openDetailDialog(f)},s=f=>{var h;(h=window.budgetDialogs)==null||h.openAddExpenseDialog(f)},c=f=>{var h;(h=window.budgetDialogs)==null||h.openEditCategoryDialog(f)},u=f=>{var h;(h=window.budgetDialogs)==null||h.openDeleteDialog(f)},d=f=>{console.log("Delete annual item:",f)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Budget"}),l.jsx("p",{className:"text-muted-foreground",children:"Hantera din månads- och årsbudget - synkroniseras med Cash Flow"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(W,{variant:t?"default":"outline",onClick:()=>{console.log("🔘 Button clicked! Current state:",t,"-> New state:",!t),r(!t)},children:[l.jsx(Yk,{className:"h-4 w-4 mr-2"}),t?"Översikt":"Detaljvy"]}),l.jsxs(W,{variant:"outline",onClick:a,children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Årlig post"]}),l.jsxs(W,{onClick:i,children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Månadskategori"]})]})]}),t?l.jsx(Ose,{...n}):l.jsx(kse,{...n,isDarkMode:e,onViewDetails:o,onAddExpense:s,onEditCategory:c,onDeleteCategory:u,onDeleteItem:d,onAddCategory:i,onAddAnnualItem:a}),l.jsx(Ase,{...n})]})}function Dse({isDarkMode:e}){const{user:t}=Fr(),{entries:r,loading:n,addEntry:i,deleteEntry:a,error:o}=D$((t==null?void 0:t.id)||null),{toast:s}=ll(),[c,u]=x.useState(!1),[d,f]=x.useState("income"),[h,p]=x.useState(""),[m,g]=x.useState({amount:"",description:"",category:"",date:new Date().toISOString().split("T")[0],isRecurring:!1}),[y,v]=x.useState([]),[b,w]=x.useState({income:[],expense:[]});x.useEffect(()=>{r.length>0?(S(),E()):j()},[r]);const j=()=>{const T=[],R=new Date;for(let I=-2;I<=4;I++){const F=new Date(R.getFullYear(),R.getMonth()+I,1),B=`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}`,J=F.toLocaleDateString("sv-SE",{month:"long",year:"numeric"});T.push({month:B,monthName:J,income:0,expenses:0,netFlow:0,cumulativeBalance:5e4,entries:[],isPast:I<0,isCurrent:I===0,isFuture:I>0})}v(T)},S=()=>{const T=[],R=new Date;for(let L=-2;L<=4;L++){const ne=new Date(R.getFullYear(),R.getMonth()+L,1),ce=`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}`,he=ne.toLocaleDateString("sv-SE",{month:"long",year:"numeric"});T.push({month:ce,monthName:he,income:0,expenses:0,netFlow:0,cumulativeBalance:0,entries:[],isPast:L<0,isCurrent:L===0,isFuture:L>0})}const I=new Map;T.forEach(L=>{I.set(L.month,L)});const F=N(r,T);console.log("Total entries after generation:",F.length),console.log("Original entries:",r.length),console.log("Generated entries:",F.length-r.length),F.forEach(L=>{const ne=L.date.toString().slice(0,7),ce=I.get(ne);ce&&(ce.entries.push(L),L.type==="income"?ce.income+=L.amount:L.type==="expense"&&(ce.expenses+=L.amount))});let B=5e4;const J=T.map(L=>(L.netFlow=L.income-L.expenses,B+=L.netFlow,L.cumulativeBalance=B,L));console.log("Final monthly breakdown:",J.map(L=>({month:L.month,monthName:L.monthName,entriesCount:L.entries.length,income:L.income,expenses:L.expenses}))),v(J)},N=(T,R)=>{const I=[...T],F=R.map(ne=>ne.month),B=T.filter(ne=>ne.is_recurring);console.log("Found recurring entries to process:",B.length);const J=new Map;B.forEach(ne=>{const ce=`${ne.description}_${ne.amount}_${ne.category}`;J.has(ce)?console.log(`Skipping duplicate recurring entry: ${ne.description}`):J.set(ce,ne)});const L=Array.from(J.values());return console.log("Deduplicated recurring entries:",L.length),L.forEach(ne=>{const ce=new Date(ne.date),he=ne.date.slice(0,7);console.log(`Processing recurring entry: ${ne.description} from ${he}`),F.forEach(oe=>{if(oe===he){console.log(`Skipping original month ${oe} for ${ne.description}`);return}const[ge,tr]=oe.split("-").map(Number);let X=new Date(ge,tr-1,ce.getDate());X.getMonth()!==tr-1&&(X=new Date(ge,tr,0));const ue=X.toISOString().split("T")[0],pe=ue.slice(0,7);if(pe!==oe){console.error(`Date generation error: expected ${oe}, got ${pe}`);return}const z={...ne,id:`${ne.id}_recurring_${oe}`,date:ue,is_generated:!0,original_entry_id:ne.id};console.log(`Generated entry for ${oe}:`,{id:z.id,description:z.description,amount:z.amount,date:z.date,targetMonth:oe}),I.push(z)})}),I},E=()=>{const T=new Map,R=new Map,I=r.filter(B=>{const J=B.description.toLowerCase().includes("budget för")||B.description.toLowerCase().includes("budget for"),L=!J;return console.log(`Entry "${B.description}": isBudgetEntry=${J}, isActualTransaction=${L}`),L});console.log("Processing category data:"),console.log("Total entries:",r.length),console.log("Actual transaction entries only:",I.length),console.log("Filtered out budget entries:",r.length-I.length),I.forEach(B=>{if(console.log(`Processing actual entry: ${B.description} - ${B.category} - ${B.amount}`),B.type==="income"){const J=T.get(B.category)||0;T.set(B.category,J+B.amount)}else{const J=R.get(B.category)||0;R.set(B.category,J+B.amount)}}),console.log("Final income categories:",Array.from(T.entries())),console.log("Final expense categories:",Array.from(R.entries()));const F=["#2563eb","#16a34a","#ca8a04","#9333ea","#dc2626","#06b6d4","#84cc16","#f59e0b"];w({income:Array.from(T.entries()).map(([B,J],L)=>({name:B,value:J,color:F[L%F.length]})),expense:Array.from(R.entries()).map(([B,J],L)=>({name:B,value:J,color:F[L%F.length]}))})},C=async T=>{if(T.preventDefault(),!m.amount||!m.description||!m.category){s({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const R={type:d,amount:parseFloat(m.amount),description:m.description,category:m.category,date:m.date,is_recurring:m.isRecurring,recurring_interval:m.isRecurring?"monthly":null,next_due_date:m.isRecurring?k(m.date):null};if(await i(R))s({title:"Success",description:`${d==="income"?"Income":"Expense"} added successfully`}),g({amount:"",description:"",category:"",date:new Date().toISOString().split("T")[0],isRecurring:!1}),u(!1);else throw new Error("Failed to add entry")}catch(R){console.error("Error adding transaction:",R),s({title:"Error",description:"Failed to add transaction",variant:"destructive"})}},P=async(T,R)=>{if(window.confirm(`Are you sure you want to delete "${R}"?`))try{if(await a(T))s({title:"Success",description:"Transaction deleted successfully"});else throw new Error("Failed to delete entry")}catch(I){console.error("Error deleting transaction:",I),s({title:"Error",description:"Failed to delete transaction",variant:"destructive"})}},k=T=>{const R=new Date(T);return R.setMonth(R.getMonth()+1),R.toISOString().split("T")[0]},O=()=>y.find(R=>R.isCurrent)||{month:new Date().toISOString().slice(0,7),monthName:new Date().toLocaleDateString("sv-SE",{month:"long",year:"numeric"}),income:0,expenses:0,netFlow:0,cumulativeBalance:5e4,entries:[],isPast:!1,isCurrent:!0,isFuture:!1},_=()=>h&&y.find(R=>R.month===h)||O(),A=T=>{const R=T.description.toLowerCase().includes("budget för")||T.description.toLowerCase().includes("budget for"),I=T.is_generated;return!R&&!I};if(n)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"text-lg",children:"Loading cash flow data..."})});if(o)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-lg text-red-600",children:["Error: ",o]})});const D=O(),M=_();return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Cash Flow Analysis"}),l.jsxs("p",{className:"text-muted-foreground",children:["Monitor your income and expenses flow (",r.length," entries) - 7 month view"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(W,{variant:"outline",children:[l.jsx(Xk,{className:"h-4 w-4 mr-2"}),"Filter"]}),l.jsxs(W,{variant:"outline",children:[l.jsx(Qh,{className:"h-4 w-4 mr-2"}),"Export"]}),l.jsxs(W,{onClick:()=>u(!0),children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Add Transaction"]})]})]}),c&&l.jsxs(U,{children:[l.jsx(G,{children:l.jsxs(Y,{children:["Add ",d==="income"?"Income":"Expense"]})}),l.jsx(H,{children:l.jsxs("form",{onSubmit:C,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{children:"Type"}),l.jsxs("select",{value:d,onChange:T=>f(T.target.value),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[l.jsx("option",{value:"income",children:"Income"}),l.jsx("option",{value:"expense",children:"Expense"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{children:"Amount (SEK)"}),l.jsx(fe,{type:"number",placeholder:"0.00",step:"0.01",value:m.amount,onChange:T=>g(R=>({...R,amount:T.target.value})),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{children:"Category"}),l.jsxs("select",{value:m.category,onChange:T=>g(R=>({...R,category:T.target.value})),className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[l.jsx("option",{value:"",children:"Select category"}),d==="income"?l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Client Payment",children:"Client Payment"}),l.jsx("option",{value:"Consulting",children:"Consulting"}),l.jsx("option",{value:"Retainer",children:"Retainer"}),l.jsx("option",{value:"Investment",children:"Investment"}),l.jsx("option",{value:"Other",children:"Other"})]}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Software & Tools",children:"Software & Tools"}),l.jsx("option",{value:"Office Expenses",children:"Office Expenses"}),l.jsx("option",{value:"Travel",children:"Travel"}),l.jsx("option",{value:"Marketing",children:"Marketing"}),l.jsx("option",{value:"Insurance",children:"Insurance"}),l.jsx("option",{value:"Professional Development",children:"Professional Development"}),l.jsx("option",{value:"Tax",children:"Tax"}),l.jsx("option",{value:"Other",children:"Other"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{children:"Date"}),l.jsx(fe,{type:"date",value:m.date,onChange:T=>g(R=>({...R,date:T.target.value})),required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{children:"Description"}),l.jsx(fe,{placeholder:"Description of transaction",value:m.description,onChange:T=>g(R=>({...R,description:T.target.value})),required:!0})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"recurring",checked:m.isRecurring,onChange:T=>g(R=>({...R,isRecurring:T.target.checked})),className:"h-4 w-4 rounded border-gray-300"}),l.jsx(xe,{htmlFor:"recurring",children:"Recurring monthly transaction"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(W,{type:"submit",children:"Add Transaction"}),l.jsx(W,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]})})]}),l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsx(Y,{children:"7-Month Cash Flow Overview"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"2 past months • Current month • 4 future months"})]}),l.jsx(H,{children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:y.map(T=>l.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all ${h===T.month?"border-blue-500 bg-blue-50 dark:bg-blue-950":T.isCurrent?"border-green-500 bg-green-50 dark:bg-green-950":T.isPast?"border-gray-300 bg-gray-50 dark:bg-gray-800":"border-purple-300 bg-purple-50 dark:bg-purple-950"}`,onClick:()=>p(h===T.month?"":T.month),children:[l.jsxs("div",{className:"text-sm font-medium text-muted-foreground mb-2 flex items-center justify-between",children:[l.jsx("span",{children:T.monthName}),T.isCurrent&&l.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full dark:bg-green-900 dark:text-green-200",children:"NOW"}),T.isPast&&l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full dark:bg-gray-700 dark:text-gray-300",children:"PAST"}),T.isFuture&&l.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full dark:bg-purple-900 dark:text-purple-200",children:"FUTURE"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"text-xs text-green-600",children:["In: ",V(T.income)]}),l.jsxs("div",{className:"text-xs text-red-600",children:["Out: ",V(T.expenses)]}),l.jsxs("div",{className:`text-sm font-bold ${T.netFlow>=0?"text-green-600":"text-red-600"}`,children:["Net: ",V(T.netFlow)]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Balance: ",V(T.cumulativeBalance)]})]})]},T.month))})})]}),l.jsxs(U,{children:[l.jsx(G,{children:l.jsxs(Y,{children:[h?M.monthName:D.monthName," Details",!h&&l.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full dark:bg-green-900 dark:text-green-200",children:"CURRENT MONTH"}),h&&M.isPast&&l.jsx("span",{className:"ml-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full dark:bg-gray-700 dark:text-gray-300",children:"PAST MONTH"}),h&&M.isFuture&&l.jsx("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full dark:bg-purple-900 dark:text-purple-200",children:"FUTURE MONTH"})]})}),l.jsxs(H,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[l.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-950 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:V(M.income)}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Income"})]}),l.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-950 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:V(M.expenses)}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Expenses"})]}),l.jsxs("div",{className:`text-center p-4 rounded-lg ${M.netFlow>=0?"bg-blue-50 dark:bg-blue-950":"bg-orange-50 dark:bg-orange-950"}`,children:[l.jsx("div",{className:`text-2xl font-bold ${M.netFlow>=0?"text-blue-600":"text-orange-600"}`,children:V(M.netFlow)}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Net Flow"})]}),l.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-950 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:V(M.cumulativeBalance)}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Balance"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"font-medium",children:["Transactions (",M.entries.length,")"]}),l.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2",children:[M.entries.map(T=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded border",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-full ${T.type==="income"?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-300"}`,children:T.type==="income"?l.jsx(Qt,{className:"h-4 w-4"}):l.jsx(Cf,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:T.description}),l.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx("span",{children:T.category}),l.jsx("span",{children:"•"}),l.jsx("span",{children:new Date(T.date).toLocaleDateString("sv-SE")}),T.is_recurring&&!T.is_generated&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(zt,{className:"h-3 w-3"}),l.jsx("span",{children:"Recurring"})]})]}),T.is_generated&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx("span",{className:"text-purple-600 text-xs",children:"Auto-Generated"})]}),(T.description.toLowerCase().includes("budget för")||T.description.toLowerCase().includes("budget for"))&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"•"}),l.jsx("span",{className:"text-blue-600 text-xs",children:"Budget Entry"})]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:`text-lg font-semibold ${T.type==="income"?"text-green-600":"text-red-600"}`,children:[T.type==="income"?"+":"-",V(T.amount)]}),A(T)&&l.jsx(W,{variant:"ghost",size:"sm",onClick:()=>P(T.id,T.description),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950",title:T.is_recurring?"Delete recurring transaction":"Delete transaction",children:l.jsx(su,{className:"h-4 w-4"})})]})]},T.id)),M.entries.length===0&&l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:M.isFuture?"No planned transactions for this future month":"No transactions for this month"})]})]})]})]}),y.some(T=>T.income>0||T.expenses>0)&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"7-Month Trend"})}),l.jsx(H,{children:l.jsx("div",{className:"h-64",children:l.jsx(Bn,{width:"100%",height:"100%",children:l.jsxs(a1,{data:y,children:[l.jsx(wi,{dataKey:"monthName",tick:{fontSize:10,fill:e?"#94a3b8":"#64748b"},axisLine:!1,tickLine:!1}),l.jsx(ji,{hide:!0}),l.jsx(Rs,{formatter:(T,R)=>[V(T),R==="netFlow"?"Net Flow":R==="cumulativeBalance"?"Balance":R],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px"}}),l.jsx(Wc,{type:"monotone",dataKey:"netFlow",stroke:"#2563eb",strokeWidth:2,dot:{fill:"#2563eb",strokeWidth:2,r:3},name:"Net Flow"}),l.jsx(Wc,{type:"monotone",dataKey:"cumulativeBalance",stroke:"#16a34a",strokeWidth:2,dot:{fill:"#16a34a",strokeWidth:2,r:3},name:"Balance"})]})})})})]}),l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"Income vs Expenses"})}),l.jsx(H,{children:l.jsx("div",{className:"h-64",children:l.jsx(Bn,{width:"100%",height:"100%",children:l.jsxs(YM,{data:y,children:[l.jsx(wi,{dataKey:"monthName",tick:{fontSize:10,fill:e?"#94a3b8":"#64748b"},axisLine:!1,tickLine:!1}),l.jsx(ji,{hide:!0}),l.jsx(Rs,{formatter:(T,R)=>[V(T),R==="income"?"Income":"Expenses"],labelStyle:{color:e?"#fff":"#000"},contentStyle:{backgroundColor:e?"#1e293b":"#fff",border:e?"1px solid #334155":"1px solid #e2e8f0",borderRadius:"6px"}}),l.jsx(ps,{type:"monotone",dataKey:"income",stackId:"1",stroke:"#16a34a",fill:"#16a34a",fillOpacity:.6,name:"Income"}),l.jsx(ps,{type:"monotone",dataKey:"expenses",stackId:"2",stroke:"#dc2626",fill:"#dc2626",fillOpacity:.6,name:"Expenses"})]})})})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"Income Categories (Actual Transactions Only)"})}),l.jsx(H,{children:b.income.length>0?l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"h-32 w-32",children:l.jsx(Bn,{width:"100%",height:"100%",children:l.jsx(y0,{children:l.jsx(vh,{data:b.income,cx:"50%",cy:"50%",innerRadius:30,outerRadius:60,dataKey:"value",children:b.income.map((T,R)=>l.jsx(vo,{fill:T.color},`income-${R}`))})})})}),l.jsx("div",{className:"flex-1 space-y-2",children:b.income.map((T,R)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),l.jsx("span",{className:"text-sm",children:T.name})]}),l.jsx("span",{className:"text-sm font-medium",children:V(T.value)})]},R))})]}):l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No actual income transactions yet"})})]}),l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:"Expense Categories (Actual Transactions Only)"})}),l.jsx(H,{children:b.expense.length>0?l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"h-32 w-32",children:l.jsx(Bn,{width:"100%",height:"100%",children:l.jsx(y0,{children:l.jsx(vh,{data:b.expense,cx:"50%",cy:"50%",innerRadius:30,outerRadius:60,dataKey:"value",children:b.expense.map((T,R)=>l.jsx(vo,{fill:T.color},`expense-${R}`))})})})}),l.jsx("div",{className:"flex-1 space-y-2",children:b.expense.map((T,R)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),l.jsx("span",{className:"text-sm",children:T.name})]}),l.jsx("span",{className:"text-sm font-medium",children:V(T.value)})]},R))})]}):l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No actual expense transactions yet"})})]})]})]})}function Ise(){const{projects:e,loading:t,error:r,addProject:n,updateProject:i,deleteProject:a}=Ut(),{clients:o,loading:s}=Ot(),[c,u]=x.useState(""),[d,f]=x.useState(!1),[h,p]=x.useState(null),[m,g]=x.useState("all"),[y,v]=x.useState("all"),[b,w]=x.useState({name:"",color:"#3B82F6",description:"",client_id:"",status:"planning",start_date:"",end_date:"",budget:void 0,hourly_rate:void 0}),j=e.filter(_=>{var R,I;const A=o.find(F=>F.id===_.client_id),D=_.name.toLowerCase().includes(c.toLowerCase())||((R=_.description)==null?void 0:R.toLowerCase().includes(c.toLowerCase()))||(A==null?void 0:A.name.toLowerCase().includes(c.toLowerCase()))||((I=A==null?void 0:A.company)==null?void 0:I.toLowerCase().includes(c.toLowerCase())),M=m==="all"||_.status===m,T=y==="all"||_.client_id===y;return D&&M&&T}),S=async _=>{_.preventDefault();try{h?(await i({...b,id:h.id}),p(null)):await n(b),w({name:"",color:"#3B82F6",description:"",client_id:"",status:"planning",start_date:"",end_date:"",budget:void 0,hourly_rate:void 0}),f(!1)}catch(A){console.error("Error saving project:",A)}},N=_=>{p(_),w({name:_.name,color:_.color,description:_.description||"",client_id:_.client_id||"",status:_.status||"planning",start_date:_.start_date||"",end_date:_.end_date||"",budget:_.budget||void 0,hourly_rate:_.hourly_rate||void 0}),f(!0)},E=async _=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await a(_)}catch(A){console.error("Error deleting project:",A)}},C=async _=>{try{await i({id:_,status:"cancelled"})}catch(A){console.error("Error archiving project:",A)}},P=async _=>{try{await i({id:_,status:"active"})}catch(A){console.error("Error activating project:",A)}},k=_=>{switch(_){case"active":return{icon:Ln,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"};case"completed":return{icon:Ln,color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20"};case"on-hold":return{icon:Ie,color:"text-yellow-600",bg:"bg-yellow-50 dark:bg-yellow-900/20"};case"cancelled":return{icon:rp,color:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20"};case"planning":return{icon:Ie,color:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20"};default:return{icon:Ln,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"}}},O=_=>{if(!_.start_date)return null;const A=new Date(_.start_date),D=_.end_date?new Date(_.end_date):new Date,M=new Date,T=Math.max(1,(D.getTime()-A.getTime())/(1e3*60*60*24)),R=Math.max(0,(M.getTime()-A.getTime())/(1e3*60*60*24));return Math.min(100,Math.max(0,R/T*100))};return t||s?l.jsx("div",{className:"space-y-6",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Projects"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading projects..."})]})})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Projects"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your projects and track progress"})]}),l.jsxs(W,{onClick:()=>f(!0),className:"flex items-center gap-2",children:[l.jsx(lt,{className:"h-4 w-4"}),"Add Project"]})]}),r&&l.jsx(U,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",children:l.jsx(H,{className:"pt-6",children:l.jsx("p",{className:"text-red-600 dark:text-red-400",children:r})})}),o.length===0&&l.jsx(U,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20",children:l.jsx(H,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wx,{className:"h-5 w-5 text-yellow-600"}),l.jsxs("p",{className:"text-yellow-800 dark:text-yellow-200",children:["You need to add clients first before creating projects.",l.jsx("a",{href:"/clients",className:"underline font-medium ml-1",children:"Go to Clients"})]})]})})}),l.jsx(U,{children:l.jsx(H,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(fe,{placeholder:"Search projects...",value:c,onChange:_=>u(_.target.value),className:"pl-10"})]}),l.jsxs("select",{value:m,onChange:_=>g(_.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter projects by status",children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"planning",children:"Planning"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"on-hold",children:"On Hold"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]}),l.jsxs("select",{value:y,onChange:_=>v(_.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter projects by client",children:[l.jsx("option",{value:"all",children:"All Clients"}),o.map(_=>l.jsxs("option",{value:_.id,children:[_.name," ",_.company?`(${_.company})`:""]},_.id))]})]})})}),d&&l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:h?"Edit Project":"Add New Project"})}),l.jsx(H,{children:l.jsxs("form",{onSubmit:S,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name *"}),l.jsx(fe,{value:b.name,onChange:_=>w({...b,name:_.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client *"}),l.jsxs("select",{value:b.client_id||"",onChange:_=>w({...b,client_id:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,"aria-label":"Select client for project",children:[l.jsx("option",{value:"",children:"Select a client"}),o.filter(_=>_.status==="active").map(_=>l.jsxs("option",{value:_.id,children:[_.name," ",_.company?`(${_.company})`:""]},_.id))]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),l.jsx("textarea",{value:b.description,onChange:_=>w({...b,description:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]",placeholder:"Project description..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:b.status,onChange:_=>w({...b,status:_.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Project status",children:[l.jsx("option",{value:"planning",children:"Planning"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"on-hold",children:"On Hold"}),l.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Color"}),l.jsx(fe,{type:"color",value:b.color,onChange:_=>w({...b,color:_.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Start Date"}),l.jsx(fe,{type:"date",value:b.start_date,onChange:_=>w({...b,start_date:_.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"End Date"}),l.jsx(fe,{type:"date",value:b.end_date,onChange:_=>w({...b,end_date:_.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Budget (SEK)"}),l.jsx(fe,{type:"number",step:"0.01",value:b.budget||"",onChange:_=>w({...b,budget:_.target.value?parseFloat(_.target.value):void 0})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hourly Rate (SEK)"}),l.jsx(fe,{type:"number",step:"0.01",value:b.hourly_rate||"",onChange:_=>w({...b,hourly_rate:_.target.value?parseFloat(_.target.value):void 0})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Summary"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure your project settings above. Use the color to help identify projects in time tracking."})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(W,{type:"submit",children:h?"Update Project":"Add Project"}),l.jsx(W,{type:"button",variant:"outline",onClick:()=>{f(!1),p(null),w({name:"",color:"#3B82F6",description:"",client_id:"",status:"planning",start_date:"",end_date:"",budget:void 0,hourly_rate:void 0})},children:"Cancel"})]})]})})]}),j.length===0?l.jsx(U,{children:l.jsx(H,{className:"pt-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(YB,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:c||m!=="all"||y!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first project."}),!c&&m==="all"&&y==="all"&&o.length>0&&l.jsxs(W,{onClick:()=>f(!0),children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Add Your First Project"]})]})})}):l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:j.map(_=>{var R;const A=k(_.status),D=A.icon,M=o.find(I=>I.id===_.client_id),T=O(_);return l.jsxs(U,{className:"hover:shadow-lg transition-shadow",children:[l.jsx(G,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Y,{className:"text-lg",children:_.name}),M&&l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[l.jsx(Ks,{className:"h-3 w-3"}),M.name,M.company&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Sx,{className:"h-3 w-3"}),M.company]})]})]}),l.jsxs("div",{className:`px-2 py-1 rounded-full flex items-center gap-1 ${A.bg}`,children:[l.jsx(D,{className:`h-3 w-3 ${A.color}`}),l.jsx("span",{className:`text-xs font-medium capitalize ${A.color}`,children:((R=_.status)==null?void 0:R.replace("-"," "))||"planning"})]})]})}),l.jsxs(H,{className:"space-y-3",children:[_.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:_.description}),(_.start_date||_.end_date)&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(zt,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("span",{children:[_.start_date&&new Date(_.start_date).toLocaleDateString("sv-SE"),_.start_date&&_.end_date&&" - ",_.end_date&&new Date(_.end_date).toLocaleDateString("sv-SE")]})]}),T!==null&&_.status==="active"&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between text-xs",children:[l.jsx("span",{children:"Progress"}),l.jsxs("span",{children:[Math.round(T),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[_.budget&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ni,{className:"h-3 w-3 text-muted-foreground"}),l.jsx("span",{children:V(_.budget)})]}),_.hourly_rate&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ie,{className:"h-3 w-3 text-muted-foreground"}),l.jsxs("span",{children:[V(_.hourly_rate),"/h"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("div",{className:"w-3 h-3 rounded-full border",style:{backgroundColor:_.color||"#3B82F6"}}),l.jsx("span",{children:"Project Color"})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsxs(W,{size:"sm",variant:"outline",onClick:()=>N(_),className:"flex-1",children:[l.jsx(Cx,{className:"h-3 w-3 mr-1"}),"Edit"]}),_.status!=="cancelled"?l.jsx(W,{size:"sm",variant:"outline",onClick:()=>C(_.id),children:l.jsx(Gk,{className:"h-3 w-3"})}):l.jsx(W,{size:"sm",variant:"outline",onClick:()=>P(_.id),children:l.jsx(Ln,{className:"h-3 w-3"})}),l.jsx(W,{size:"sm",variant:"outline",onClick:()=>E(_.id),className:"text-red-600 hover:text-red-700",children:l.jsx(su,{className:"h-3 w-3"})})]})]})]},_.id)})}),l.jsx(U,{children:l.jsx(H,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(_=>_.status==="active").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(_=>_.status==="completed").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(_=>_.status==="on-hold").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"On Hold"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(_=>_.status==="cancelled").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Cancelled"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:e.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Projects"})]})]})})})]})}function Mse(){const{clients:e,loading:t,error:r,addClient:n,updateClient:i,deleteClient:a,archiveClient:o,activateClient:s}=Ot(),[c,u]=x.useState(""),[d,f]=x.useState(!1),[h,p]=x.useState(null),[m,g]=x.useState("all"),[y,v]=x.useState({name:"",email:"",phone:"",company:"",address:"",hourly_rate:void 0,currency:"SEK",status:"active",notes:""}),b=e.filter(P=>{var _,A;const k=P.name.toLowerCase().includes(c.toLowerCase())||((_=P.company)==null?void 0:_.toLowerCase().includes(c.toLowerCase()))||((A=P.email)==null?void 0:A.toLowerCase().includes(c.toLowerCase())),O=m==="all"||P.status===m;return k&&O}),w=async P=>{P.preventDefault();try{h?(await i({...y,id:h.id}),p(null)):await n(y),v({name:"",email:"",phone:"",company:"",address:"",hourly_rate:void 0,currency:"SEK",status:"active",notes:""}),f(!1)}catch(k){console.error("Error saving client:",k)}},j=P=>{p(P),v({name:P.name,email:P.email||"",phone:P.phone||"",company:P.company||"",address:P.address||"",hourly_rate:P.hourly_rate||void 0,currency:P.currency||"SEK",status:P.status,notes:P.notes||""}),f(!0)},S=async P=>{if(window.confirm("Are you sure you want to delete this client? This action cannot be undone."))try{await a(P)}catch(k){console.error("Error deleting client:",k)}},N=async P=>{try{await o(P)}catch(k){console.error("Error archiving client:",k)}},E=async P=>{try{await s(P)}catch(k){console.error("Error activating client:",k)}},C=P=>{switch(P){case"active":return{icon:Ln,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"};case"inactive":return{icon:Ie,color:"text-yellow-600",bg:"bg-yellow-50 dark:bg-yellow-900/20"};case"archived":return{icon:rp,color:"text-gray-600",bg:"bg-gray-50 dark:bg-gray-900/20"};default:return{icon:Ln,color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"}}};return t?l.jsx("div",{className:"space-y-6",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Clients"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading clients..."})]})})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Clients"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage your clients and track relationships"})]}),l.jsxs(W,{onClick:()=>f(!0),className:"flex items-center gap-2",children:[l.jsx(lt,{className:"h-4 w-4"}),"Add Client"]})]}),r&&l.jsx(U,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20",children:l.jsx(H,{className:"pt-6",children:l.jsx("p",{className:"text-red-600 dark:text-red-400",children:r})})}),l.jsx(U,{children:l.jsx(H,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(fe,{placeholder:"Search clients...",value:c,onChange:P=>u(P.target.value),className:"pl-10"})]}),l.jsxs("select",{value:m,onChange:P=>g(P.target.value),className:"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter clients by status",children:[l.jsx("option",{value:"all",children:"All Statuses"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"archived",children:"Archived"})]})]})})}),d&&l.jsxs(U,{children:[l.jsx(G,{children:l.jsx(Y,{children:h?"Edit Client":"Add New Client"})}),l.jsx(H,{children:l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name *"}),l.jsx(fe,{value:y.name,onChange:P=>v({...y,name:P.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company"}),l.jsx(fe,{value:y.company,onChange:P=>v({...y,company:P.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx(fe,{type:"email",value:y.email,onChange:P=>v({...y,email:P.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),l.jsx(fe,{value:y.phone,onChange:P=>v({...y,phone:P.target.value})})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),l.jsx(fe,{value:y.address,onChange:P=>v({...y,address:P.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hourly Rate (SEK)"}),l.jsx(fe,{type:"number",step:"0.01",value:y.hourly_rate||"",onChange:P=>v({...y,hourly_rate:P.target.value?parseFloat(P.target.value):void 0})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:y.status,onChange:P=>v({...y,status:P.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Client status",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"archived",children:"Archived"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),l.jsx("textarea",{value:y.notes,onChange:P=>v({...y,notes:P.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[80px]",placeholder:"Additional notes about this client..."})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(W,{type:"submit",children:h?"Update Client":"Add Client"}),l.jsx(W,{type:"button",variant:"outline",onClick:()=>{f(!1),p(null),v({name:"",email:"",phone:"",company:"",address:"",hourly_rate:void 0,currency:"SEK",status:"active",notes:""})},children:"Cancel"})]})]})})]}),b.length===0?l.jsx(U,{children:l.jsx(H,{className:"pt-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(wa,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:c||m!=="all"?"Try adjusting your search or filter criteria.":"Get started by adding your first client."}),!c&&m==="all"&&l.jsxs(W,{onClick:()=>f(!0),children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Add Your First Client"]})]})})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(P=>{const k=C(P.status),O=k.icon;return l.jsxs(U,{className:"hover:shadow-lg transition-shadow",children:[l.jsx(G,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(Y,{className:"text-lg",children:P.name}),P.company&&l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[l.jsx(Sx,{className:"h-3 w-3"}),P.company]})]}),l.jsxs("div",{className:`px-2 py-1 rounded-full flex items-center gap-1 ${k.bg}`,children:[l.jsx(O,{className:`h-3 w-3 ${k.color}`}),l.jsx("span",{className:`text-xs font-medium capitalize ${k.color}`,children:P.status})]})]})}),l.jsxs(H,{className:"space-y-3",children:[P.email&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(i6,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"truncate",children:P.email})]}),P.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(c6,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{children:P.phone})]}),P.hourly_rate&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("span",{children:[V(P.hourly_rate),"/hour"]})]}),P.notes&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:P.notes}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsxs(W,{size:"sm",variant:"outline",onClick:()=>j(P),className:"flex-1",children:[l.jsx(Cx,{className:"h-3 w-3 mr-1"}),"Edit"]}),P.status==="active"?l.jsx(W,{size:"sm",variant:"outline",onClick:()=>N(P.id),children:l.jsx(Gk,{className:"h-3 w-3"})}):l.jsx(W,{size:"sm",variant:"outline",onClick:()=>E(P.id),children:l.jsx(Ln,{className:"h-3 w-3"})}),l.jsx(W,{size:"sm",variant:"outline",onClick:()=>S(P.id),className:"text-red-600 hover:text-red-700",children:l.jsx(su,{className:"h-3 w-3"})})]})]})]},P.id)})}),l.jsx(U,{children:l.jsx(H,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(P=>P.status==="active").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Clients"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(P=>P.status==="inactive").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Inactive Clients"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold text-gray-600",children:e.filter(P=>P.status==="archived").length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Archived Clients"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold",children:e.length}),l.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Clients"})]})]})})})]})}const M$=6048e5,$se=864e5,$$=6e4,R$=36e5,UP=Symbol.for("constructDateFrom");function Vn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&UP in e?e[UP](t):e instanceof Date?new e.constructor(t):new Date(t)}function gt(e,t){return Vn(t||e,e)}function Rse(e,t,r){const n=gt(e,r==null?void 0:r.in);return isNaN(t)?Vn(e,NaN):(t&&n.setDate(n.getDate()+t),n)}let Lse={};function _m(){return Lse}function Kc(e,t){var s,c,u,d;const r=_m(),n=(t==null?void 0:t.weekStartsOn)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=gt(e,t==null?void 0:t.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Nh(e,t){return Kc(e,{...t,weekStartsOn:1})}function L$(e,t){const r=gt(e,t==null?void 0:t.in),n=r.getFullYear(),i=Vn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Nh(i),o=Vn(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Nh(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function WP(e){const t=gt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function F$(e,...t){const r=Vn.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function HP(e,t){const r=gt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function B$(e,t,r){const[n,i]=F$(r==null?void 0:r.in,e,t),a=HP(n),o=HP(i),s=+a-WP(a),c=+o-WP(o);return Math.round((s-c)/$se)}function Fse(e,t){const r=L$(e,t),n=Vn(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Nh(n)}function Bse(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zse(e){return!(!Bse(e)&&typeof e!="number"||isNaN(+gt(e)))}function Use(e,t,r){const[n,i]=F$(r==null?void 0:r.in,e,t),a=qP(n,i),o=Math.abs(B$(n,i));n.setDate(n.getDate()-a*o);const s=+(qP(n,i)===-a),c=a*(o-s);return c===0?0:c}function qP(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function iv(e,t){const r=gt(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function av(e,t){const r=gt(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Wse(e,t){const r=gt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Hse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qse=(e,t,r)=>{let n;const i=Hse[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ov(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Kse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yse={date:ov({formats:Kse,defaultWidth:"full"}),time:ov({formats:Gse,defaultWidth:"full"}),dateTime:ov({formats:Vse,defaultWidth:"full"})},Xse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jse=(e,t,r,n)=>Xse[e];function Al(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{const o=e.defaultWidth,s=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[s]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Qse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ele={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ile=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ale={ordinalNumber:ile,era:Al({values:Qse,defaultWidth:"wide"}),quarter:Al({values:Zse,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Al({values:ele,defaultWidth:"wide"}),day:Al({values:tle,defaultWidth:"wide"}),dayPeriod:Al({values:rle,defaultWidth:"wide",formattingValues:nle,defaultFormattingWidth:"wide"})};function Tl(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?sle(s,f=>f.test(o)):ole(s,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function ole(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function sle(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function lle(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const s=t.slice(i.length);return{value:o,rest:s}}}const cle=/^(\d+)(th|st|nd|rd)?/i,ule=/\d+/i,dle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fle={any:[/^b/i,/^(a|c)/i]},hle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ple={any:[/1/i,/2/i,/3/i,/4/i]},mle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ble={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wle={ordinalNumber:lle({matchPattern:cle,parsePattern:ule,valueCallback:e=>parseInt(e,10)}),era:Tl({matchPatterns:dle,defaultMatchWidth:"wide",parsePatterns:fle,defaultParseWidth:"any"}),quarter:Tl({matchPatterns:hle,defaultMatchWidth:"wide",parsePatterns:ple,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tl({matchPatterns:mle,defaultMatchWidth:"wide",parsePatterns:gle,defaultParseWidth:"any"}),day:Tl({matchPatterns:vle,defaultMatchWidth:"wide",parsePatterns:yle,defaultParseWidth:"any"}),dayPeriod:Tl({matchPatterns:xle,defaultMatchWidth:"any",parsePatterns:ble,defaultParseWidth:"any"})},jle={code:"en-US",formatDistance:qse,formatLong:Yse,formatRelative:Jse,localize:ale,match:wle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sle(e,t){const r=gt(e,t==null?void 0:t.in);return B$(r,Wse(r))+1}function Nle(e,t){const r=gt(e,t==null?void 0:t.in),n=+Nh(r)-+Fse(r);return Math.round(n/M$)+1}function z$(e,t){var d,f,h,p;const r=gt(e,t==null?void 0:t.in),n=r.getFullYear(),i=_m(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Vn((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const s=Kc(o,t),c=Vn((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Kc(c,t);return+r>=+s?n+1:+r>=+u?n:n-1}function Ele(e,t){var s,c,u,d;const r=_m(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(s=t==null?void 0:t.locale)==null?void 0:s.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=z$(e,t),a=Vn((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Kc(a,t)}function Ple(e,t){const r=gt(e,t==null?void 0:t.in),n=+Kc(r,t)-+Ele(r,t);return Math.round(n/M$)+1}function Ce(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const $i={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ce(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ce(r+1,2)},d(e,t){return Ce(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ce(e.getHours()%12||12,t.length)},H(e,t){return Ce(e.getHours(),t.length)},m(e,t){return Ce(e.getMinutes(),t.length)},s(e,t){return Ce(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ce(i,t.length)}},Bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return $i.y(e,t)},Y:function(e,t,r,n){const i=z$(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Ce(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ce(a,t.length)},R:function(e,t){const r=L$(e);return Ce(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ce(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ce(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ce(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return $i.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ce(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=Ple(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Ce(i,t.length)},I:function(e,t,r){const n=Nle(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ce(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):$i.d(e,t)},D:function(e,t,r){const n=Sle(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ce(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ce(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ce(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Ce(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Bo.noon:n===0?i=Bo.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Bo.evening:n>=12?i=Bo.afternoon:n>=4?i=Bo.morning:i=Bo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return $i.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):$i.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ce(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ce(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):$i.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):$i.s(e,t)},S:function(e,t){return $i.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return VP(n);case"XXXX":case"XX":return Ua(n);case"XXXXX":case"XXX":default:return Ua(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return VP(n);case"xxxx":case"xx":return Ua(n);case"xxxxx":case"xxx":default:return Ua(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+GP(n,":");case"OOOO":default:return"GMT"+Ua(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+GP(n,":");case"zzzz":default:return"GMT"+Ua(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ce(n,t.length)},T:function(e,t,r){return Ce(+e,t.length)}};function GP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Ce(a,2)}function VP(e,t){return e%60===0?(e>0?"-":"+")+Ce(Math.abs(e)/60,2):Ua(e,t)}function Ua(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Ce(Math.trunc(n/60),2),a=Ce(n%60,2);return r+i+t+a}const YP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},U$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Cle=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return YP(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",YP(n,t)).replace("{{time}}",U$(i,t))},_le={p:U$,P:Cle},kle=/^D+$/,Ole=/^Y+$/,Ale=["D","DD","YY","YYYY"];function Tle(e){return kle.test(e)}function Dle(e){return Ole.test(e)}function Ile(e,t,r){const n=Mle(e,t,r);if(console.warn(n),Ale.includes(e))throw new RangeError(n)}function Mle(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $le=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lle=/^'([^]*?)'?$/,Fle=/''/g,Ble=/[a-zA-Z]/;function Gc(e,t,r){var d,f,h,p;const n=_m(),i=n.locale??jle,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=gt(e,r==null?void 0:r.in);if(!zse(s))throw new RangeError("Invalid time value");let c=t.match(Rle).map(m=>{const g=m[0];if(g==="p"||g==="P"){const y=_le[g];return y(m,i.formatLong)}return m}).join("").match($le).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:zle(m)};if(KP[g])return{isToken:!0,value:m};if(g.match(Ble))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(m=>{if(!m.isToken)return m.value;const g=m.value;(Dle(g)||Tle(g))&&Ile(g,t,String(e));const y=KP[g[0]];return y(s,g,i.localize,u)}).join("")}function zle(e){const t=e.match(Lle);return t?t[1].replace(Fle,"'"):e}function ca(e,t,r){const n=+gt(e,r==null?void 0:r.in),[i,a]=[+gt(t.start,r==null?void 0:r.in),+gt(t.end,r==null?void 0:r.in)].sort((o,s)=>o-s);return n>=i&&n<=a}function Dd(e,t,r){return Rse(e,-t,r)}function tn(e,t){const r=()=>Vn(t==null?void 0:t.in,NaN),i=qle(e);let a;if(i.date){const u=Kle(i.date,2);a=Gle(u.restDateString,u.year)}if(!a||isNaN(+a))return r();const o=+a;let s=0,c;if(i.time&&(s=Vle(i.time),isNaN(s)))return r();if(i.timezone){if(c=Yle(i.timezone),isNaN(c))return r()}else{const u=new Date(o+s),d=gt(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return gt(o+s+c,t==null?void 0:t.in)}const Id={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ule=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Wle=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Hle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qle(e){const t={},r=e.split(Id.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Id.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Id.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Id.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function Kle(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function Gle(e,t){if(t===null)return new Date(NaN);const r=e.match(Ule);if(!r)return new Date(NaN);const n=!!r[4],i=Dl(r[1]),a=Dl(r[2])-1,o=Dl(r[3]),s=Dl(r[4]),c=Dl(r[5])-1;if(n)return ece(t,s,c)?Xle(t,s,c):new Date(NaN);{const u=new Date(0);return!Qle(t,a,o)||!Zle(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}}function Dl(e){return e?parseInt(e):1}function Vle(e){const t=e.match(Wle);if(!t)return NaN;const r=sv(t[1]),n=sv(t[2]),i=sv(t[3]);return tce(r,n,i)?r*R$+n*$$+i*1e3:NaN}function sv(e){return e&&parseFloat(e.replace(",","."))||0}function Yle(e){if(e==="Z")return 0;const t=e.match(Hle);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return rce(n,i)?r*(n*R$+i*$$):NaN}function Xle(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const Jle=[31,null,31,30,31,30,31,31,30,31,30,31];function W$(e){return e%400===0||e%4===0&&e%100!==0}function Qle(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Jle[t]||(W$(e)?29:28))}function Zle(e,t){return t>=1&&t<=(W$(e)?366:365)}function ece(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function tce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function rce(e,t){return t>=0&&t<=59}function Oa(e){const{user:t}=Fr(),{clients:r}=Ot(),{projects:n}=Ut(),{entries:i}=Zt(),[a,o]=x.useState([]),[s,c]=x.useState(!0),[u,d]=x.useState(null),f=t==null?void 0:t.id,h=x.useCallback(async()=>{if(!f){o([]),c(!1);return}try{c(!0),d(null);const{data:N,error:E}=await le.from("invoice_items").select("*").eq("user_id",f).order("created_at",{ascending:!1});if(E)throw E;o(N||[])}catch(N){console.error("Error fetching invoice items:",N),d(N instanceof Error?N.message:"Failed to fetch invoice items");const E=localStorage.getItem(`invoice_items_${f}`);E&&o(JSON.parse(E))}finally{c(!1)}},[f]),p=x.useCallback(async N=>{if(!f)throw new Error("User not authenticated");try{let E;N.type==="hourly"?E=(N.quantity||0)*(N.rate||0):E=N.rate||0;const C={user_id:f,client_id:N.client_id||null,project_id:N.project_id||null,description:N.description,hours:N.type==="hourly"?N.quantity:null,hourly_rate:N.type==="hourly"?N.rate:null,fixed_amount:N.type==="fixed"?N.rate:null,total_amount:E,currency:"SEK",invoice_date:N.date||new Date().toISOString().split("T")[0],status:N.status||"draft"},{data:P,error:k}=await le.from("invoice_items").insert([C]).select().single();if(k)throw k;if(P){o(_=>[P,..._]);const O=[P,...a];return localStorage.setItem(`invoice_items_${f}`,JSON.stringify(O)),P}return null}catch(E){console.error("Error adding invoice item:",E);const C=N.type==="hourly"?(N.quantity||0)*(N.rate||0):N.rate||0,k=[{id:`local_${Date.now()}`,user_id:f,client_id:N.client_id||null,project_id:N.project_id||null,description:N.description,hours:N.type==="hourly"?N.quantity:null,hourly_rate:N.type==="hourly"?N.rate:null,fixed_amount:N.type==="fixed"?N.rate:null,total_amount:C,currency:"SEK",invoice_date:N.date||new Date().toISOString().split("T")[0],due_date:null,status:N.status||"draft",notes:N.notes||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...a];throw o(k),localStorage.setItem(`invoice_items_${f}`,JSON.stringify(k)),E}},[f,a]),m=x.useCallback(async N=>{if(!f)throw new Error("User not authenticated");try{const{id:E,...C}=N,P={};if(C.quantity!==void 0||C.rate!==void 0||C.type!==void 0){const _=a.find(A=>A.id===E);if(_){const A=C.type||(_.hours?"hourly":"fixed"),D=C.quantity??(_.hours||1),M=C.rate??(_.hourly_rate||_.fixed_amount||0);A==="hourly"?(P.hours=D,P.hourly_rate=M,P.fixed_amount=null,P.total_amount=D*M):(P.hours=null,P.hourly_rate=null,P.fixed_amount=M,P.total_amount=M)}}C.description!==void 0&&(P.description=C.description),C.client_id!==void 0&&(P.client_id=C.client_id),C.project_id!==void 0&&(P.project_id=C.project_id),C.date!==void 0&&(P.invoice_date=C.date),C.status!==void 0&&(P.status=C.status),C.notes!==void 0&&(P.notes=C.notes);const{data:k,error:O}=await le.from("invoice_items").update({...P,updated_at:new Date().toISOString()}).eq("id",E).eq("user_id",f).select().single();if(O)throw O;if(k){o(A=>A.map(D=>D.id===E?k:D));const _=a.map(A=>A.id===E?k:A);return localStorage.setItem(`invoice_items_${f}`,JSON.stringify(_)),k}return null}catch(E){throw console.error("Error updating invoice item:",E),E}},[f,a]),g=x.useCallback(async N=>{if(!f)throw new Error("User not authenticated");try{const{error:E}=await le.from("invoice_items").delete().eq("id",N).eq("user_id",f);if(E)throw E;o(P=>P.filter(k=>k.id!==N));const C=a.filter(P=>P.id!==N);localStorage.setItem(`invoice_items_${f}`,JSON.stringify(C))}catch(E){throw console.error("Error deleting invoice item:",E),E}},[f,a]),y=x.useCallback(()=>{const N=a.reduce((C,P)=>{switch(C.itemCount++,P.status){case"draft":C.totalDraft+=P.total_amount,C.totalUnbilled+=P.total_amount;break;case"sent":C.totalSent+=P.total_amount;break;case"paid":C.totalPaid+=P.total_amount;break}return C},{totalUnbilled:0,totalDraft:0,totalSent:0,totalPaid:0,itemCount:0,clientCount:0}),E=new Set(a.map(C=>C.client_id));return N.clientCount=E.size,N},[a]),v=x.useCallback(()=>{const N=new Map;a.forEach(C=>{if(!C.client_id)return;const P=r.find(O=>O.id===C.client_id);if(!P)return;N.has(C.client_id)||N.set(C.client_id,{client_id:C.client_id,client_name:P.name,company:P.company||void 0,totalUnbilled:0,totalDraft:0,totalSent:0,totalPaid:0,itemCount:0,projectCount:0,lastActivity:C.created_at});const k=N.get(C.client_id);switch(k.itemCount++,C.created_at>k.lastActivity&&(k.lastActivity=C.created_at),C.status){case"draft":k.totalDraft+=C.total_amount,k.totalUnbilled+=C.total_amount;break;case"sent":k.totalSent+=C.total_amount;break;case"paid":k.totalPaid+=C.total_amount;break}});const E=new Map;return a.forEach(C=>{!C.client_id||!C.project_id||(E.has(C.client_id)||E.set(C.client_id,new Set),E.get(C.client_id).add(C.project_id))}),N.forEach((C,P)=>{var k;C.projectCount=((k=E.get(P))==null?void 0:k.size)||0}),Array.from(N.values()).sort((C,P)=>P.totalUnbilled-C.totalUnbilled)},[a,r]),b=x.useCallback(()=>{const N=new Map;return a.forEach(E=>{if(!E.project_id||!E.client_id)return;const C=n.find(O=>O.id===E.project_id),P=r.find(O=>O.id===E.client_id);if(!C||!P)return;N.has(E.project_id)||N.set(E.project_id,{project_id:E.project_id,project_name:C.name,client_id:E.client_id,client_name:P.name,totalUnbilled:0,totalDraft:0,totalSent:0,totalPaid:0,itemCount:0,totalHours:0,averageRate:0,lastActivity:E.created_at});const k=N.get(E.project_id);switch(k.itemCount++,E.created_at>k.lastActivity&&(k.lastActivity=E.created_at),E.hours&&(k.totalHours+=E.hours),E.status){case"draft":k.totalDraft+=E.total_amount,k.totalUnbilled+=E.total_amount;break;case"sent":k.totalSent+=E.total_amount;break;case"paid":k.totalPaid+=E.total_amount;break}}),N.forEach(E=>{const C=a.filter(O=>O.project_id===E.project_id),P=C.reduce((O,_)=>O+_.total_amount,0),k=C.reduce((O,_)=>O+(_.hours||0),0);E.averageRate=k>0?P/k:0}),Array.from(N.values()).sort((E,C)=>C.totalUnbilled-E.totalUnbilled)},[a,n,r]),w=x.useCallback(async(N,E,C)=>{const P=i.filter(D=>N.includes(D.id));if(P.length===0)return null;const k=P.reduce((D,M)=>D+M.hours,0),O=n.find(D=>D.id===P[0].project_id),_=r.find(D=>D.id===E);if(!O||!_)return null;const A=O.hourly_rate||_.hourly_rate||0;return p({client_id:E,project_id:P[0].project_id,description:C||`${O.name} - ${k} hours`,quantity:k,rate:A,type:"hourly",date:new Date().toISOString().split("T")[0]})},[i,n,r,p]),j=x.useCallback(async N=>{const E=N.map(C=>m({id:C,status:"sent"}));await Promise.all(E)},[m]),S=x.useCallback(async N=>{const E=N.map(C=>m({id:C,status:"paid"}));await Promise.all(E)},[m]);return x.useEffect(()=>{h()},[h]),{invoiceItems:a,loading:s,error:u,addInvoiceItem:p,updateInvoiceItem:m,deleteInvoiceItem:g,getInvoiceSummary:y,getClientSummaries:v,getProjectSummaries:b,createInvoiceFromTimeEntries:w,markAsInvoiced:j,markAsPaid:S,refetch:h}}function nce({dateRange:e}){const{invoiceItems:t,loading:r}=Oa(),{entries:n,loading:i}=Zt(),{clients:a}=Ot(),{projects:o}=Ut(),[s,c]=x.useState({totalRevenue:0,totalHours:0,activeClients:0,growthRate:0,averageHourlyRate:0,productivityScore:0});x.useEffect(()=>{if(!t||!n||r||i)return;const h=t.filter(_=>{const A=tn(_.invoice_date);return ca(A,{start:e.from,end:e.to})}),p=n.filter(_=>{const A=tn(_.date);return ca(A,{start:e.from,end:e.to})}),m=h.reduce((_,A)=>_+A.total_amount,0),g=p.reduce((_,A)=>_+A.hours,0),v=new Set([...h.map(_=>{const A=o.find(D=>D.id===_.project_id);return A==null?void 0:A.client_id}).filter(Boolean),...p.map(_=>{const A=o.find(D=>D.id===_.project_id);return A==null?void 0:A.client_id}).filter(Boolean)]).size,b=e.to.getTime()-e.from.getTime(),w=new Date(e.from.getTime()-b),j=new Date(e.to.getTime()-b),N=t.filter(_=>{const A=tn(_.invoice_date);return ca(A,{start:w,end:j})}).reduce((_,A)=>_+A.total_amount,0),E=N>0?(m-N)/N*100:0,C=g>0?m/g:0,k=Math.ceil((e.to.getTime()-e.from.getTime())/(1e3*60*60*24))*8,O=k>0?Math.min(g/k*100,100):0;c({totalRevenue:m,totalHours:g,activeClients:v,growthRate:E,averageHourlyRate:C,productivityScore:O})},[t,n,r,i,e,a,o]);const u=h=>{const p=Math.floor(h),m=Math.round((h-p)*60);return`${p}h ${m}m`};if(r||i)return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((h,p)=>l.jsxs(U,{className:"animate-pulse",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),l.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),l.jsxs(H,{children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 mb-1"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},p))});const f=[{title:"Total Revenue",value:V(s.totalRevenue),description:`${s.growthRate>=0?"+":""}${s.growthRate.toFixed(1)}% vs previous period`,icon:lr,color:"text-green-600",bgColor:"bg-green-100"},{title:"Total Hours",value:u(s.totalHours),description:"Time tracked this period",icon:Ie,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Active Clients",value:s.activeClients.toString(),description:"Clients with activity",icon:wa,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Avg Hourly Rate",value:V(s.averageHourlyRate),description:"Revenue per hour",icon:Ni,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Productivity",value:`${s.productivityScore.toFixed(1)}%`,description:"Of expected work hours",icon:Es,color:"text-indigo-600",bgColor:"bg-indigo-100"},{title:"Growth Trend",value:`${s.growthRate>=0?"+":""}${s.growthRate.toFixed(1)}%`,description:"Revenue growth rate",icon:Qt,color:s.growthRate>=0?"text-green-600":"text-red-600",bgColor:s.growthRate>=0?"bg-green-100":"bg-red-100"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:f.map(h=>{const p=h.icon;return l.jsxs(U,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Y,{className:"text-sm font-medium text-gray-600",children:h.title}),l.jsx("div",{className:`p-2 rounded-full ${h.bgColor}`,children:l.jsx(p,{className:`h-4 w-4 ${h.color}`})})]}),l.jsxs(H,{children:[l.jsx("div",{className:"text-2xl font-bold",children:h.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.description})]})]},h.title)})}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(U,{children:[l.jsx(G,{children:l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(qs,{className:"h-5 w-5"}),"Revenue Summary"]})}),l.jsxs(H,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),l.jsx("span",{className:"font-semibold",children:V(s.totalRevenue)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Average Hourly Rate"}),l.jsx("span",{className:"font-semibold",children:V(s.averageHourlyRate)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Growth Rate"}),l.jsxs("span",{className:`font-semibold ${s.growthRate>=0?"text-green-600":"text-red-600"}`,children:[s.growthRate>=0?"+":"",s.growthRate.toFixed(1),"%"]})]})]})]}),l.jsxs(U,{children:[l.jsx(G,{children:l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(Es,{className:"h-5 w-5"}),"Activity Summary"]})}),l.jsxs(H,{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Total Hours"}),l.jsx("span",{className:"font-semibold",children:u(s.totalHours)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Active Clients"}),l.jsx("span",{className:"font-semibold",children:s.activeClients})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Productivity Score"}),l.jsxs("span",{className:"font-semibold",children:[s.productivityScore.toFixed(1),"%"]})]})]})]})]})]})}function ice({dateRange:e}){const{invoiceItems:t,loading:r}=Oa(),{clients:n}=Ot(),{projects:i}=Ut(),[a,o]=x.useState({totalRevenue:0,paidRevenue:0,pendingRevenue:0,overdueRevenue:0,averageInvoiceValue:0,invoiceCount:0,growthRate:0,collectionRate:0}),[s,c]=x.useState([]);if(x.useEffect(()=>{if(!t||r)return;const d=t.filter(P=>{const k=tn(P.invoice_date);return ca(k,{start:e.from,end:e.to})}),f=d.reduce((P,k)=>P+k.total_amount,0),h=d.filter(P=>P.status==="paid").reduce((P,k)=>P+k.total_amount,0),p=d.filter(P=>P.status==="sent").reduce((P,k)=>P+k.total_amount,0),m=d.filter(P=>{if(!P.due_date)return!1;const k=tn(P.due_date);return P.status==="sent"&&k<new Date}).reduce((P,k)=>P+k.total_amount,0),g=d.length>0?f/d.length:0,y=f>0?h/f*100:0,v=e.to.getTime()-e.from.getTime(),b=new Date(e.from.getTime()-v),w=new Date(e.to.getTime()-v),S=t.filter(P=>{const k=tn(P.invoice_date);return ca(k,{start:b,end:w})}).reduce((P,k)=>P+k.total_amount,0),N=S>0?(f-S)/S*100:0;o({totalRevenue:f,paidRevenue:h,pendingRevenue:p,overdueRevenue:m,averageInvoiceValue:g,invoiceCount:d.length,growthRate:N,collectionRate:y});const E=new Map;d.forEach(P=>{const k=i.find(M=>M.id===P.project_id),O=n.find(M=>M.id===(k==null?void 0:k.client_id)),_=(O==null?void 0:O.id)||"unknown",A=(O==null?void 0:O.name)||"Unknown Client",D=E.get(_)||{revenue:0,invoiceCount:0};E.set(_,{revenue:D.revenue+P.total_amount,invoiceCount:D.invoiceCount+1,name:A})});const C=Array.from(E.entries()).map(([P,k])=>({clientId:P,clientName:k.name,revenue:k.revenue,invoiceCount:k.invoiceCount,percentage:f>0?k.revenue/f*100:0}));C.sort((P,k)=>k.revenue-P.revenue),c(C)},[t,r,e,n,i]),r)return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((d,f)=>l.jsxs(U,{className:"animate-pulse",children:[l.jsx(G,{className:"space-y-0 pb-2",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),l.jsxs(H,{children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]},f))});const u=[{title:"Total Revenue",value:V(a.totalRevenue),description:`${a.growthRate>=0?"+":""}${a.growthRate.toFixed(1)}% vs previous period`,icon:lr,color:"text-green-600",bgColor:"bg-green-100"},{title:"Collected Revenue",value:V(a.paidRevenue),description:`${a.collectionRate.toFixed(1)}% collection rate`,icon:Ni,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Pending Revenue",value:V(a.pendingRevenue),description:"Awaiting payment",icon:zt,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Average Invoice",value:V(a.averageInvoiceValue),description:`${a.invoiceCount} invoices`,icon:lr,color:"text-purple-600",bgColor:"bg-purple-100"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:u.map(d=>{const f=d.icon;return l.jsxs(U,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Y,{className:"text-sm font-medium text-gray-600",children:d.title}),l.jsx("div",{className:`p-2 rounded-full ${d.bgColor}`,children:l.jsx(f,{className:`h-4 w-4 ${d.color}`})})]}),l.jsxs(H,{children:[l.jsx("div",{className:"text-2xl font-bold",children:d.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:d.description})]})]},d.title)})}),a.growthRate!==0&&l.jsx(U,{children:l.jsxs(G,{children:[l.jsxs(Y,{className:"flex items-center gap-2",children:[a.growthRate>=0?l.jsx(Qt,{className:"h-5 w-5 text-green-600"}):l.jsx(Cf,{className:"h-5 w-5 text-red-600"}),"Revenue Trend"]}),l.jsxs(Xt,{children:[a.growthRate>=0?"Revenue is growing":"Revenue has decreased"," by"," ",Math.abs(a.growthRate).toFixed(1),"% compared to the previous period"]})]})}),a.overdueRevenue>0&&l.jsx(U,{className:"border-red-200 bg-red-50",children:l.jsxs(G,{children:[l.jsx(Y,{className:"text-red-700",children:"Overdue Revenue"}),l.jsxs(Xt,{className:"text-red-600",children:["You have ",V(a.overdueRevenue)," in overdue invoices that need attention"]})]})}),l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsx(Y,{children:"Revenue by Client"}),l.jsx(Xt,{children:"Revenue distribution across your clients for the selected period"})]}),l.jsx(H,{children:s.length>0?l.jsxs("div",{className:"space-y-4",children:[s.slice(0,10).map(d=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:d.clientName}),l.jsxs("p",{className:"text-sm text-gray-500",children:[d.invoiceCount," invoice",d.invoiceCount!==1?"s":""]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[d.percentage.toFixed(1),"%"]}),l.jsx("span",{className:"font-medium",children:V(d.revenue)})]})]},d.clientId)),s.length>10&&l.jsxs("p",{className:"text-sm text-gray-500 text-center pt-2 border-t",children:["And ",s.length-10," more clients..."]})]}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No revenue data found for the selected period"})})]}),l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsx(Y,{children:"Period Summary"}),l.jsxs(Xt,{children:["Revenue summary from ",Gc(e.from,"MMM d, yyyy")," to ",Gc(e.to,"MMM d, yyyy")]})]}),l.jsx(H,{children:l.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:V(a.paidRevenue)}),l.jsx("p",{className:"text-sm text-gray-500",children:"Collected"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:V(a.pendingRevenue)}),l.jsx("p",{className:"text-sm text-gray-500",children:"Pending"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:V(a.overdueRevenue)}),l.jsx("p",{className:"text-sm text-gray-500",children:"Overdue"})]})]})})]})]})}function ace({dateRange:e}){const{entries:t,loading:r}=Zt(),{projects:n}=Ut(),{clients:i}=Ot(),[a,o]=x.useState({totalHours:0,billableHours:0,billableRate:0,averageHoursPerDay:0,totalSessions:0,averageSessionLength:0,estimatedRevenue:0,productivity:0}),[s,c]=x.useState([]),[u,d]=x.useState([]);x.useEffect(()=>{if(!t||r)return;const p=t.filter(D=>{const M=tn(D.date);return ca(M,{start:e.from,end:e.to})}),m=p.reduce((D,M)=>D+M.hours,0),g=m,y=g>0?100:0,v=Math.max(1,Math.ceil((e.to.getTime()-e.from.getTime())/(1e3*60*60*24))),b=m/v,w=p.length,j=w>0?m/w:0,S=1e3,N=g*S,C=v*8,P=C>0?m/C*100:0;o({totalHours:m,billableHours:g,billableRate:y,averageHoursPerDay:b,totalSessions:w,averageSessionLength:j,estimatedRevenue:N,productivity:Math.min(P,100)});const k=new Map;p.forEach(D=>{const M=n.find(L=>L.id===D.project_id),T=i.find(L=>L.id===(M==null?void 0:M.client_id)),R=(M==null?void 0:M.id)||"unknown",I=(M==null?void 0:M.name)||"Unknown Project",F=(T==null?void 0:T.name)||"Unknown Client",B=(M==null?void 0:M.hourly_rate)||S,J=k.get(R)||{hours:0,name:I,clientName:F,rate:B};k.set(R,{...J,hours:J.hours+D.hours})});const O=Array.from(k.entries()).map(([D,M])=>({projectId:D,projectName:M.name,clientName:M.clientName,hours:M.hours,percentage:m>0?M.hours/m*100:0,estimatedValue:M.hours*M.rate}));O.sort((D,M)=>M.hours-D.hours),c(O);const _=new Map;p.forEach(D=>{const M=D.date,T=_.get(M)||{hours:0,sessions:0};_.set(M,{hours:T.hours+D.hours,sessions:T.sessions+1})});const A=Array.from(_.entries()).map(([D,M])=>({date:D,hours:M.hours,sessions:M.sessions}));A.sort((D,M)=>D.date.localeCompare(M.date)),d(A)},[t,r,e,n,i]);const f=p=>{const m=Math.floor(p),g=Math.round((p-m)*60);return`${m}h ${g}m`};if(r)return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((p,m)=>l.jsxs(U,{className:"animate-pulse",children:[l.jsx(G,{className:"space-y-0 pb-2",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),l.jsxs(H,{children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]},m))});const h=[{title:"Total Hours",value:f(a.totalHours),description:`${a.totalSessions} work sessions`,icon:Ie,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Daily Average",value:f(a.averageHoursPerDay),description:"Per work day",icon:zt,color:"text-green-600",bgColor:"bg-green-100"},{title:"Estimated Revenue",value:V(a.estimatedRevenue),description:"Based on tracked time",icon:Qt,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Productivity",value:`${a.productivity.toFixed(1)}%`,description:"Of expected work hours",icon:Es,color:"text-orange-600",bgColor:"bg-orange-100"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:h.map(p=>{const m=p.icon;return l.jsxs(U,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Y,{className:"text-sm font-medium text-gray-600",children:p.title}),l.jsx("div",{className:`p-2 rounded-full ${p.bgColor}`,children:l.jsx(m,{className:`h-4 w-4 ${p.color}`})})]}),l.jsxs(H,{children:[l.jsx("div",{className:"text-2xl font-bold",children:p.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p.description})]})]},p.title)})}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(Es,{className:"h-5 w-5"}),"Productivity Overview"]}),l.jsx(Xt,{children:"Your work patterns and efficiency metrics"})]}),l.jsx(H,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold",children:f(a.averageSessionLength)}),l.jsx("p",{className:"text-xs text-gray-500",children:"Avg Session"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-lg font-semibold",children:[a.productivity.toFixed(1),"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Productivity"})]})]})})]}),l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsx(Y,{children:"Recent Trends"}),l.jsx(Xt,{children:"Daily time tracking patterns"})]}),l.jsx(H,{children:u.length>0?l.jsx("div",{className:"space-y-2",children:u.slice(-7).map(p=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500",children:Gc(tn(p.date),"MMM d")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:f(p.hours)}),l.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[p.sessions," sessions"]})]})]},p.date))}):l.jsx("div",{className:"text-center py-4 text-gray-500",children:"No time data for selected period"})})]})]}),l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsx(Y,{children:"Time by Project"}),l.jsx(Xt,{children:"How you've allocated your time across different projects"})]}),l.jsx(H,{children:s.length>0?l.jsxs("div",{className:"space-y-4",children:[s.slice(0,10).map(p=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:p.projectName}),l.jsx("p",{className:"text-sm text-gray-500",children:p.clientName})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-medium",children:f(p.hours)}),l.jsx("div",{className:"text-xs text-gray-500",children:V(p.estimatedValue)})]}),l.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[p.percentage.toFixed(1),"%"]})]})]},p.projectId)),s.length>10&&l.jsxs("p",{className:"text-sm text-gray-500 text-center pt-2 border-t",children:["And ",s.length-10," more projects..."]})]}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No time entries found for the selected period"})})]})]})}function oce({dateRange:e}){const{clients:t}=Ot(),{projects:r}=Ut(),{invoiceItems:n,loading:i}=Oa(),{entries:a,loading:o}=Zt(),[s,c]=x.useState({totalClients:0,activeClients:0,newClients:0,retentionRate:0,averageProjectValue:0}),[u,d]=x.useState([]);x.useEffect(()=>{if(!t||!r||!n||!a||i||o)return;const g=n.filter(O=>{const _=tn(O.invoice_date);return ca(_,{start:e.from,end:e.to})}),y=a.filter(O=>{const _=tn(O.date);return ca(_,{start:e.from,end:e.to})}),v=t.length,w=new Set([...g.map(O=>{const _=r.find(A=>A.id===O.project_id);return _==null?void 0:_.client_id}).filter(Boolean),...y.map(O=>{const _=r.find(A=>A.id===O.project_id);return _==null?void 0:_.client_id}).filter(Boolean)]).size,j=0,S=v>0?w/v*100:0,N=g.reduce((O,_)=>O+_.total_amount,0),E=new Set(g.map(O=>O.project_id)).size,C=E>0?N/E:0;c({totalClients:v,activeClients:w,newClients:j,retentionRate:S,averageProjectValue:C});const P=new Map;t.forEach(O=>{P.set(O.id,{name:O.name,revenue:0,hours:0,projects:new Set,invoices:0,lastActivity:new Date(0)})}),g.forEach(O=>{const _=r.find(A=>A.id===O.project_id);if(_!=null&&_.client_id&&O.project_id&&P.has(_.client_id)){const A=P.get(_.client_id);A.revenue+=O.total_amount,A.projects.add(O.project_id),A.invoices+=1;const D=tn(O.invoice_date);D>A.lastActivity&&(A.lastActivity=D)}}),y.forEach(O=>{const _=r.find(A=>A.id===O.project_id);if(_!=null&&_.client_id&&P.has(_.client_id)){const A=P.get(_.client_id);A.hours+=O.hours,A.projects.add(O.project_id);const D=tn(O.date);D>A.lastActivity&&(A.lastActivity=D)}});const k=Array.from(P.entries()).map(([O,_])=>{const A=_.projects.size,D=A>0?_.revenue/A:0,M=Use(new Date,_.lastActivity);let T="inactive",R=0;return(_.revenue>0||_.hours>0)&&(M<=30?(T="active",R=90-Math.min(M*2,40)):M<=90?(T="at-risk",R=50-Math.min((M-30)*.5,25)):(T="inactive",R=Math.max(25-(M-90)*.1,0))),{clientId:O,clientName:_.name,revenue:_.revenue,hours:_.hours,projects:A,invoices:_.invoices,avgProjectValue:D,lastActivity:_.lastActivity.toISOString(),status:T,healthScore:Math.round(R)}});k.sort((O,_)=>O.revenue!==_.revenue?_.revenue-O.revenue:_.healthScore-O.healthScore),d(k)},[t,r,n,a,i,o,e]);const f=g=>{const y=Math.floor(g),v=Math.round((g-y)*60);return`${y}h ${v}m`},h=g=>{switch(g){case"active":return"bg-green-500";case"at-risk":return"bg-yellow-500";case"inactive":return"bg-red-500";default:return"bg-gray-500"}},p=g=>g>=90?"w-full":g>=80?"w-5/6":g>=70?"w-4/6":g>=60?"w-3/6":g>=50?"w-2/6":g>=25?"w-1/6":"w-1/12";if(i||o)return l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((g,y)=>l.jsxs(U,{className:"animate-pulse",children:[l.jsx(G,{className:"space-y-0 pb-2",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),l.jsxs(H,{children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]})]},y))});const m=[{title:"Total Clients",value:s.totalClients.toString(),description:`${s.activeClients} active this period`,icon:wa,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Client Retention",value:`${s.retentionRate.toFixed(1)}%`,description:"Activity retention rate",icon:Qt,color:"text-green-600",bgColor:"bg-green-100"},{title:"New Clients",value:s.newClients.toString(),description:"Acquired this period",icon:f6,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Avg Project Value",value:V(s.averageProjectValue),description:"Per project average",icon:lr,color:"text-orange-600",bgColor:"bg-orange-100"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:m.map(g=>{const y=g.icon;return l.jsxs(U,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Y,{className:"text-sm font-medium text-gray-600",children:g.title}),l.jsx("div",{className:`p-2 rounded-full ${g.bgColor}`,children:l.jsx(y,{className:`h-4 w-4 ${g.color}`})})]}),l.jsxs(H,{children:[l.jsx("div",{className:"text-2xl font-bold",children:g.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.description})]})]},g.title)})}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[l.jsxs(U,{className:"bg-green-50 border-green-200",children:[l.jsx(G,{children:l.jsx(Y,{className:"text-green-700",children:"Active Clients"})}),l.jsxs(H,{children:[l.jsx("div",{className:"text-3xl font-bold text-green-600",children:u.filter(g=>g.status==="active").length}),l.jsx("p",{className:"text-sm text-green-600",children:"Recent activity within 30 days"})]})]}),l.jsxs(U,{className:"bg-yellow-50 border-yellow-200",children:[l.jsx(G,{children:l.jsxs(Y,{className:"text-yellow-700 flex items-center gap-2",children:[l.jsx(jx,{className:"h-4 w-4"}),"At-Risk Clients"]})}),l.jsxs(H,{children:[l.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:u.filter(g=>g.status==="at-risk").length}),l.jsx("p",{className:"text-sm text-yellow-600",children:"No activity in 30-90 days"})]})]}),l.jsxs(U,{className:"bg-red-50 border-red-200",children:[l.jsx(G,{children:l.jsx(Y,{className:"text-red-700",children:"Inactive Clients"})}),l.jsxs(H,{children:[l.jsx("div",{className:"text-3xl font-bold text-red-600",children:u.filter(g=>g.status==="inactive").length}),l.jsx("p",{className:"text-sm text-red-600",children:"No activity in 90+ days"})]})]})]}),l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsx(Y,{children:"Client Performance"}),l.jsx(Xt,{children:"Detailed performance metrics for each client"})]}),l.jsx(H,{children:u.length>0?l.jsxs("div",{className:"space-y-4",children:[u.slice(0,15).map(g=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${h(g.status)}`}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:g.clientName}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[l.jsxs("span",{children:[g.projects," projects"]}),l.jsxs("span",{children:[g.invoices," invoices"]}),l.jsx("span",{children:f(g.hours)})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-medium",children:V(g.revenue)}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Avg: ",V(g.avgProjectValue)]})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-sm font-medium",children:[g.healthScore,"%"]}),l.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full bg-blue-500 transition-all ${p(g.healthScore)}`})})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded capitalize ${g.status==="active"?"bg-green-100 text-green-700":g.status==="at-risk"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:g.status})]})]},g.clientId)),u.length>15&&l.jsx("div",{className:"text-center pt-4 border-t",children:l.jsxs(W,{variant:"outline",size:"sm",children:["View All ",u.length," Clients"]})})]}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No client data found for the selected period"})})]})]})}function sce(){const[e,t]=x.useState({from:av(new Date),to:iv(new Date)}),[r,n]=x.useState("overview"),i=[{label:"This Month",range:{from:av(new Date),to:iv(new Date)}},{label:"Last Month",range:{from:av(Dd(new Date,30)),to:iv(Dd(new Date,30))}},{label:"Last 30 Days",range:{from:Dd(new Date,30),to:new Date}},{label:"Last 90 Days",range:{from:Dd(new Date,90),to:new Date}},{label:"This Year",range:{from:new Date(new Date().getFullYear(),0,1),to:new Date(new Date().getFullYear(),11,31)}}],a=[{id:"overview",label:"Overview",icon:ou},{id:"revenue",label:"Revenue",icon:lr},{id:"time",label:"Time & Productivity",icon:Ie},{id:"clients",label:"Client Analytics",icon:wa}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Business Analytics"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive insights and reports for your consulting business"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[l.jsx(JB,{className:"h-4 w-4"}),l.jsxs("span",{children:[Gc(e.from,"MMM d")," - ",Gc(e.to,"MMM d, yyyy")]})]})]}),l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"h-5 w-5"}),"Date Range"]}),l.jsx(Xt,{children:"Select a date range to analyze your business performance"})]}),l.jsx(H,{children:l.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(o=>l.jsx(W,{variant:e.from.getTime()===o.range.from.getTime()&&e.to.getTime()===o.range.to.getTime()?"default":"outline",size:"sm",onClick:()=>t(o.range),className:"text-xs",children:o.label},o.label))})})]}),l.jsx("div",{className:"flex space-x-1 rounded-lg bg-gray-100 p-1",children:a.map(o=>{const s=o.icon;return l.jsxs(W,{variant:r===o.id?"default":"ghost",className:"flex-1",onClick:()=>n(o.id),children:[l.jsx(s,{className:"h-4 w-4 mr-2"}),o.label]},o.id)})}),l.jsxs("div",{className:"space-y-6",children:[r==="overview"&&l.jsx(nce,{dateRange:e}),r==="revenue"&&l.jsx(ice,{dateRange:e}),r==="time"&&l.jsx(ace,{dateRange:e}),r==="clients"&&l.jsx(oce,{dateRange:e})]})]})}function lce({summary:e,loading:t}){const r=({className:i})=>l.jsx("span",{className:`font-bold ${i}`,children:"SEK"});if(t)return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(i=>l.jsxs(U,{className:"animate-pulse",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Y,{className:"text-sm font-medium",children:l.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),l.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded"})]}),l.jsxs(H,{children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 mb-1"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},i))});const n=[{title:"Unbilled Work",value:V(e.totalUnbilled),description:`${e.itemCount} items pending`,icon:Ie,color:"text-orange-600",bgColor:"bg-orange-100"},{title:"Invoiced",value:V(e.totalSent),description:"Awaiting payment",icon:qs,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Paid",value:V(e.totalPaid),description:"Completed revenue",icon:r,color:"text-green-600",bgColor:"bg-green-100"},{title:"Active Clients",value:e.clientCount.toString(),description:"With unbilled work",icon:wa,color:"text-purple-600",bgColor:"bg-purple-100"}];return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(i=>{const a=i.icon;return l.jsxs(U,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Y,{className:"text-sm font-medium text-gray-600",children:i.title}),l.jsx("div",{className:`p-2 rounded-full ${i.bgColor}`,children:l.jsx(a,{className:`h-4 w-4 ${i.color}`})})]}),l.jsxs(H,{children:[l.jsx("div",{className:"text-2xl font-bold",children:i.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.description})]})]},i.title)})})}function cce({clients:e,loading:t,onClientClick:r}){if(t)return l.jsxs(U,{className:"h-[400px]",children:[l.jsx(G,{children:l.jsx(Y,{className:"text-lg",children:"Client Overview"})}),l.jsx(H,{children:l.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg animate-pulse",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-1"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]},i))})})]});const n=e.slice(0,5);return l.jsxs(U,{className:"h-[400px]",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between",children:[l.jsx(Y,{className:"text-lg",children:"Client Overview"}),l.jsx(W,{variant:"ghost",size:"sm",children:l.jsx(Px,{className:"h-4 w-4"})})]}),l.jsxs(H,{children:[l.jsx("div",{className:"space-y-3",children:n.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(XB,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No client data available"}),l.jsx("p",{className:"text-sm",children:"Add some invoice items to see client overview"})]}):n.map(i=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>r==null?void 0:r(i.client_id),children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-medium truncate",children:i.client_name}),i.company&&l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:i.company})]}),l.jsxs("div",{className:"flex gap-3 text-sm text-gray-600",children:[l.jsxs("span",{children:[i.itemCount," items"]}),l.jsxs("span",{children:[i.projectCount," projects"]})]})]}),l.jsxs("div",{className:"text-right",children:[i.totalUnbilled>0&&l.jsxs("div",{className:"flex items-center gap-1 text-orange-600 font-medium mb-1",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"SEK"}),l.jsx("span",{className:"text-sm",children:V(i.totalUnbilled)})]}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",V(i.totalPaid+i.totalSent+i.totalUnbilled)]})]})]},i.client_id))}),e.length>5&&l.jsxs(W,{variant:"outline",className:"w-full mt-3",size:"sm",children:["View All Clients (",e.length,")"]})]})]})}function uce({items:e,loading:t,onItemClick:r,clients:n,projects:i}){if(t)return l.jsxs(U,{className:"h-[400px]",children:[l.jsx(G,{children:l.jsx(Y,{className:"text-lg",children:"Recent Items"})}),l.jsx(H,{children:l.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(u=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg animate-pulse",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-1"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]},u))})})]});const a=e.slice(0,6),o=u=>{switch(u){case"draft":return"text-orange-600 bg-orange-100";case"sent":return"text-blue-600 bg-blue-100";case"paid":return"text-green-600 bg-green-100";case"overdue":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},s=u=>{const d=n.find(f=>f.id===u);return(d==null?void 0:d.name)||"Unknown Client"},c=u=>i.find(f=>f.id===u)||{name:"Unknown Project",color:"#9CA3AF"};return l.jsxs(U,{className:"h-[400px]",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between",children:[l.jsx(Y,{className:"text-lg",children:"Recent Items"}),l.jsx(W,{variant:"ghost",size:"sm",children:l.jsx(Px,{className:"h-4 w-4"})})]}),l.jsxs(H,{children:[l.jsx("div",{className:"space-y-3",children:a.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Ie,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No invoice items yet"}),l.jsx("p",{className:"text-sm",children:"Create your first invoice item to track unbilled work"})]}):a.map(u=>{const d=s(u.client_id||""),f=c(u.project_id||"");return l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>r==null?void 0:r(u.id),children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0 bg-gray-300",style:{backgroundColor:f.color||"#9CA3AF"}}),l.jsx("h4",{className:"font-medium truncate",children:u.description})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[l.jsx("span",{children:d}),l.jsx("span",{children:"•"}),l.jsx("span",{children:f.name}),l.jsx("span",{children:"•"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(zt,{className:"h-3 w-3"}),new Date(u.invoice_date).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[l.jsxs("div",{className:"flex items-center gap-1 font-medium",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"SEK"}),l.jsx("span",{children:V(u.total_amount)})]}),l.jsx("span",{className:`px-2 py-1 rounded text-xs ${o(u.status)}`,children:u.status})]})]},u.id)})}),e.length>6&&l.jsxs(W,{variant:"outline",className:"w-full mt-3",size:"sm",children:["View All Items (",e.length,")"]})]})]})}function dce({onCreateInvoiceItem:e,onCreateFromTime:t,onMarkAsInvoiced:r,onMarkAsPaid:n,onExportToFortnox:i,onExportPlainText:a}){const o=[{title:"New Invoice Item",description:"Create manual invoice item",icon:lt,onClick:e,color:"text-blue-600 bg-blue-100",disabled:!1},{title:"From Time Entries",description:"Convert time to invoice items",icon:Ie,onClick:t,color:"text-green-600 bg-green-100",disabled:!1},{title:"Mark as Invoiced",description:"Update status to invoiced",icon:qs,onClick:r,color:"text-orange-600 bg-orange-100",disabled:!1},{title:"Mark as Paid",description:"Update status to paid",icon:lr,onClick:n,color:"text-green-600 bg-green-100",disabled:!1},{title:"Export to Fortnox",description:"Export to Fortnox API",icon:So,onClick:i,color:"text-purple-600 bg-purple-100",disabled:!1},{title:"Export as Text",description:"Download readable text files",icon:Qh,onClick:a,color:"text-teal-600 bg-teal-100",disabled:!1}];return l.jsxs(U,{className:"h-[480px]",children:[l.jsx(G,{children:l.jsx(Y,{className:"text-lg",children:"Quick Actions"})}),l.jsx(H,{children:l.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.map(s=>{const c=s.icon;return l.jsx(W,{variant:"outline",className:`h-auto p-4 justify-start ${s.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,onClick:s.disabled?void 0:s.onClick,disabled:s.disabled,children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx("div",{className:`p-2 rounded-full ${s.color}`,children:l.jsx(c,{className:"h-4 w-4"})}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("div",{className:"font-medium",children:s.title}),l.jsx("div",{className:"text-sm text-gray-500",children:s.description})]})]})},s.title)})})})]})}function fce({items:e,loading:t}){if(t)return l.jsxs(U,{className:"h-[400px]",children:[l.jsx(G,{children:l.jsx(Y,{className:"text-lg",children:"Monthly Revenue"})}),l.jsx(H,{children:l.jsx("div",{className:"w-full h-64 bg-gray-100 rounded animate-pulse"})})]});const n=(()=>{const o=[],s=new Date;for(let c=5;c>=0;c--){const u=new Date(s.getFullYear(),s.getMonth()-c,1),d=`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}`,f=u.toLocaleDateString("en-US",{month:"short"});o.push({month:f,monthKey:d,invoiced:0,paid:0,pending:0})}return e.forEach(c=>{const u=new Date(c.date),d=`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}`,f=o.find(h=>h.monthKey===d);if(f)switch(c.status){case"invoiced":f.invoiced+=c.amount;break;case"paid":f.paid+=c.amount;break;case"pending":f.pending+=c.amount;break}}),o})(),i=n.some(o=>o.invoiced>0||o.paid>0||o.pending>0),a=({active:o,payload:s,label:c})=>o&&s&&s.length?l.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[l.jsx("p",{className:"font-medium",children:c}),s.map((u,d)=>l.jsxs("p",{className:"text-sm",children:[u.name,": ",V(u.value)]},d))]}):null;return l.jsxs(U,{className:"h-[400px]",children:[l.jsxs(G,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qt,{className:"h-5 w-5 text-green-600"}),l.jsx(Y,{className:"text-lg",children:"Monthly Revenue"})]}),l.jsx(W,{variant:"ghost",size:"sm",children:l.jsx(Px,{className:"h-4 w-4"})})]}),l.jsx(H,{children:i?l.jsx(Bn,{width:"100%",height:280,children:l.jsxs(VM,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[l.jsx(gM,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),l.jsx(wi,{dataKey:"month",axisLine:!1,tickLine:!1,fontSize:12}),l.jsx(ji,{axisLine:!1,tickLine:!1,fontSize:12,tickFormatter:o=>`${o/1e3}k`}),l.jsx(Rs,{content:l.jsx(a,{})}),l.jsx(hs,{dataKey:"paid",stackId:"a",fill:"#10B981",name:"Paid",radius:[0,0,0,0]}),l.jsx(hs,{dataKey:"invoiced",stackId:"a",fill:"#3B82F6",name:"Invoiced",radius:[0,0,0,0]}),l.jsx(hs,{dataKey:"pending",stackId:"a",fill:"#F59E0B",name:"Pending",radius:[4,4,0,0]})]})}):l.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Qt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No revenue data yet"}),l.jsx("p",{className:"text-sm",children:"Data will appear as you add invoice items"})]})})})]})}function hce({open:e,onOpenChange:t}){const{addInvoiceItem:r}=Oa(),{clients:n}=Ot(),{projects:i}=Ut(),{toast:a}=ll();console.log("Dialog opened, clients:",n,"projects:",i);const[o,s]=x.useState({client_id:"",project_id:"",description:"",quantity:1,rate:0,type:"hourly",date:new Date().toISOString().split("T")[0],status:"draft"}),[c,u]=x.useState(!1),d=n.find(g=>g.id===o.client_id),f=i.filter(g=>g.client_id===o.client_id),h=async g=>{if(g.preventDefault(),!o.client_id||!o.project_id||!o.description){a({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}u(!0);try{await r(o),a({title:"Success",description:"Invoice item created successfully"}),t(!1),s({client_id:"",project_id:"",description:"",quantity:1,rate:0,type:"hourly",date:new Date().toISOString().split("T")[0],status:"draft"})}catch{a({title:"Error",description:"Failed to create invoice item",variant:"destructive"})}finally{u(!1)}},p=g=>{s(y=>{var v;return{...y,client_id:g,project_id:"",rate:((v=n.find(b=>b.id===g))==null?void 0:v.hourly_rate)||0}})},m=g=>{const y=i.find(v=>v.id===g);s(v=>({...v,project_id:g,rate:(y==null?void 0:y.hourly_rate)||(d==null?void 0:d.hourly_rate)||v.rate||0}))};return l.jsx(Nn,{open:e,onOpenChange:t,children:l.jsxs(Qr,{className:"sm:max-w-[500px]",children:[l.jsx(Zr,{children:l.jsx(en,{children:"Create Invoice Item"})}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"client",children:"Client *"}),l.jsxs("select",{id:"client",title:"Select client",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:o.client_id,onChange:g=>p(g.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select client"}),n.map(g=>l.jsx("option",{value:g.id,children:g.name},g.id))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"project",children:"Project *"}),l.jsxs("select",{id:"project",title:"Select project",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:o.project_id,onChange:g=>m(g.target.value),disabled:!o.client_id,required:!0,children:[l.jsx("option",{value:"",children:"Select project"}),f.map(g=>l.jsx("option",{value:g.id,children:g.name},g.id))]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"description",children:"Description *"}),l.jsx(Cm,{id:"description",value:o.description,onChange:g=>s(y=>({...y,description:g.target.value})),placeholder:"Describe the work performed...",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"type",children:"Type"}),l.jsxs("select",{id:"type",title:"Select type",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:o.type,onChange:g=>s(y=>({...y,type:g.target.value})),children:[l.jsx("option",{value:"hourly",children:"Hourly"}),l.jsx("option",{value:"fixed",children:"Fixed Price"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"quantity",children:o.type==="hourly"?"Hours":"Quantity"}),l.jsx(fe,{id:"quantity",type:"number",step:"0.25",min:"0",value:o.quantity,onChange:g=>s(y=>({...y,quantity:parseFloat(g.target.value)||0})),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"rate",children:o.type==="hourly"?"Rate/Hour":"Total Price"}),l.jsx(fe,{id:"rate",type:"number",min:"0",value:o.rate,onChange:g=>s(y=>({...y,rate:parseFloat(g.target.value)||0})),required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"date",children:"Date"}),l.jsx(fe,{id:"date",type:"date",value:o.date,onChange:g=>s(y=>({...y,date:g.target.value})),required:!0})]}),o.quantity&&o.rate&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount:"}),l.jsx("div",{className:"text-lg font-semibold",children:new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK"}).format((o.quantity||0)*(o.rate||0))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(W,{type:"submit",disabled:c,children:c?"Creating...":"Create Invoice Item"})]})]})]})})}function pce({open:e,onOpenChange:t}){const{createInvoiceFromTimeEntries:r}=Oa(),{clients:n}=Ot(),{projects:i}=Ut(),{entries:a}=Zt(),{toast:o}=ll(),[s,c]=x.useState([]),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,m]=x.useState(!1),g=a,y=g.reduce((E,C)=>{const P=i.find(_=>_.id===C.project_id),k=n.find(_=>_.id===(P==null?void 0:P.client_id));if(!P||!k)return E;const O=`${k.id}-${P.id}`;return E[O]||(E[O]={client:k,project:P,entries:[]}),E[O].entries.push(C),E},{}),v=g.filter(E=>s.includes(E.id)),b=v.reduce((E,C)=>E+C.hours,0),w=v.reduce((E,C)=>{const P=i.find(_=>_.id===C.project_id),k=n.find(_=>_.id===(P==null?void 0:P.client_id)),O=(P==null?void 0:P.hourly_rate)||(k==null?void 0:k.hourly_rate)||0;return E+C.hours*O},0),j=async E=>{if(E.preventDefault(),s.length===0||!u){o({title:"Error",description:"Please select time entries and a client",variant:"destructive"});return}m(!0);try{await r(s,u,f||`Time entries - ${b} hours`),o({title:"Success",description:"Invoice item created from time entries"}),t(!1),c([]),d(""),h("")}catch{o({title:"Error",description:"Failed to create invoice item",variant:"destructive"})}finally{m(!1)}},S=E=>{c(C=>C.includes(E)?C.filter(P=>P!==E):[...C,E])},N=E=>{const C=E.map(k=>k.id),P=C.every(k=>s.includes(k));c(P?k=>k.filter(O=>!C.includes(O)):k=>[...new Set([...k,...C])])};return x.useEffect(()=>{if(v.length>0){const E=v[0],C=i.find(P=>P.id===E.project_id);C!=null&&C.client_id&&!u&&d(C.client_id)}},[v,i,u]),l.jsx(Nn,{open:e,onOpenChange:t,children:l.jsxs(Qr,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[l.jsx(Zr,{children:l.jsx(en,{children:"Convert Time Entries to Invoice Item"})}),l.jsxs("form",{onSubmit:j,className:"space-y-4",children:[Object.keys(y).length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx("p",{children:"No unbilled time entries found"}),l.jsx("p",{className:"text-sm",children:"All your time entries have been converted to invoice items"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(xe,{children:"Select Time Entries to Convert:"}),Object.values(y).map(({client:E,project:C,entries:P})=>{const k=P.reduce((D,M)=>D+M.hours,0),O=P.map(D=>D.id),_=O.every(D=>s.includes(D)),A=O.some(D=>s.includes(D));return l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-medium",children:[E.name," - ",C.name]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[k," hours total"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",title:"Select all entries for this project",checked:_,ref:D=>{D&&(D.indeterminate=A&&!_)},onChange:()=>N(P),className:"h-4 w-4"}),l.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>N(P),children:_?"Deselect All":"Select All"})]})]}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:P.map(D=>l.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",title:`Select time entry for ${new Date(D.date).toLocaleDateString()}`,checked:s.includes(D.id),onChange:()=>S(D.id),className:"h-4 w-4"}),l.jsx("span",{children:new Date(D.date).toLocaleDateString()}),l.jsxs("span",{children:[D.hours,"h"]}),D.comment&&l.jsxs("span",{className:"text-gray-600 truncate max-w-32",children:["- ",D.comment]})]})},D.id))})]},`${E.id}-${C.id}`)})]}),s.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"client",children:"Client"}),l.jsxs("select",{id:"client",title:"Select client",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:u,onChange:E=>d(E.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select client"}),n.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"description",children:"Description (Optional)"}),l.jsx(Cm,{id:"description",value:f,onChange:E=>h(E.target.value),placeholder:`Time entries - ${b} hours`})]}),l.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-sm text-blue-700",children:l.jsx("strong",{children:"Summary:"})}),l.jsxs("div",{className:"text-sm text-blue-600",children:[s.length," entries • ",b," hours • ",V(w)]})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx(W,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.length>0&&l.jsx(W,{type:"submit",disabled:p,children:p?"Creating...":"Create Invoice Item"})]})]})]})})}const mce=f2("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Eh=x.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:Ae(mce({variant:t}),e),...r}));Eh.displayName="Alert";const Ph=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ae("text-sm [&_p]:leading-relaxed",e),...t}));Ph.displayName="AlertDescription";const Vc=x.forwardRef(({className:e,checked:t,onCheckedChange:r,disabled:n,id:i,...a},o)=>l.jsxs("div",{className:"relative inline-flex items-center",children:[l.jsx("input",{ref:o,type:"checkbox",id:i,checked:t,onChange:s=>r==null?void 0:r(s.target.checked),disabled:n,className:"sr-only",...a}),l.jsx("div",{className:Ae("h-4 w-4 shrink-0 rounded-sm border border-gray-300 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",t&&"bg-blue-600 text-white border-blue-600",n&&"cursor-not-allowed opacity-50",e),onClick:()=>!n&&(r==null?void 0:r(!t)),children:t&&l.jsx(Vk,{className:"h-3 w-3 text-white"})})]}));Vc.displayName="Checkbox";class gce{constructor(){Bu(this,"config",null)}configure(t){this.config={...t,baseUrl:t.baseUrl||"https://api.fortnox.se/3"}}async makeRequest(t,r="GET",n){if(!this.config)throw new Error("Fortnox service not configured. Please set API credentials.");const i=`${this.config.baseUrl}${t}`,a={"Access-Token":this.config.accessToken,"Client-Secret":this.config.clientSecret,"Content-Type":"application/json",Accept:"application/json"};try{const o=await fetch(i,{method:r,headers:a,body:n?JSON.stringify(n):void 0});if(!o.ok){const s=await o.text();throw new Error(`Fortnox API error (${o.status}): ${s}`)}return await o.json()}catch(o){throw console.error("Fortnox API request failed:",o),o}}async testConnection(){try{return await this.makeRequest("/companyinformation"),!0}catch(t){return console.error("Fortnox connection test failed:",t),!1}}async getCustomers(){try{return(await this.makeRequest("/customers")).Customers||[]}catch(t){return console.error("Failed to fetch Fortnox customers:",t),[]}}async createCustomer(t){try{return(await this.makeRequest("/customers","POST",{Customer:t})).Customer||null}catch(r){return console.error("Failed to create Fortnox customer:",r),null}}async findOrCreateCustomer(t,r,n){try{const a=(await this.getCustomers()).find(c=>c.Name===t||c.Name===n);if(a&&a.CustomerNumber)return a.CustomerNumber;const o={Name:n||t,Email:r},s=await this.createCustomer(o);return(s==null?void 0:s.CustomerNumber)||null}catch(i){return console.error("Failed to find or create customer:",i),null}}async createInvoice(t){try{const r=await this.makeRequest("/invoices","POST",{Invoice:t});return r.Invoice?{success:!0,invoiceNumber:r.Invoice.InvoiceNumber,documentNumber:r.Invoice.DocumentNumber}:{success:!1,error:"No invoice data returned from Fortnox"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Unknown error occurred"}}}convertInvoiceItemsToFortnox(t,r,n){const i=t.map(s=>({Description:s.description,Price:s.hourly_rate||s.fixed_amount||0,Quantity:s.hours||1,Unit:s.hours?"h":"st",VAT:25})),a=new Date().toISOString().split("T")[0],o=new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0];return{CustomerNumber:r,InvoiceDate:a,DueDate:o,Currency:"SEK",Language:"SV",InvoiceRows:i,Remarks:`Exported from consultant time tracker - ${t.length} items for ${n}`}}async exportInvoiceItems(t,r,n,i){try{if(!this.config)return{success:!1,error:"Fortnox service not configured"};if(t.length===0)return{success:!1,error:"No invoice items to export"};const a=await this.findOrCreateCustomer(r,n,i);if(!a)return{success:!1,error:"Failed to find or create customer in Fortnox"};const o=this.convertInvoiceItemsToFortnox(t,a,r);return await this.createInvoice(o)}catch(a){return{success:!1,error:a instanceof Error?a.message:"Export failed"}}}generatePlainTextInvoice(t,r,n,i,a){if(t.length===0)return"No items to export";const o=new Date().toLocaleDateString("sv-SE"),s=new Date(Date.now()+30*24*60*60*1e3).toLocaleDateString("sv-SE"),c=t.reduce((m,g)=>m+g.total_amount,0),d=c*.25,f=c+d,h=m=>new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",minimumFractionDigits:2}).format(m);let p="";return p+="=".repeat(60)+`
`,p+=`                         FAKTURA
`,p+="=".repeat(60)+`

`,p+=`Fakturanummer: ${a||"XXXX"}
`,p+=`Fakturadatum: ${o}
`,p+=`Förfallodatum: ${s}
`,p+=`Valuta: SEK

`,p+=`KUND:
`,p+="-".repeat(20)+`
`,i&&(p+=`Företag: ${i}
`),p+=`Namn: ${r}
`,n&&(p+=`E-post: ${n}
`),p+=`
`,p+=`FAKTURARADER:
`,p+="-".repeat(60)+`
`,p+=`${"Beskrivning".padEnd(30)} ${"Tim/Ant".padStart(8)} ${"Pris".padStart(10)} ${"Summa".padStart(10)}
`,p+="-".repeat(60)+`
`,t.forEach(m=>{const g=m.description.length>28?m.description.substring(0,25)+"...":m.description;let y,v;m.hours&&m.hourly_rate?(y=m.hours.toFixed(2),v=h(m.hourly_rate)):(y="1.00",v=h(m.fixed_amount||0));const b=h(m.total_amount);p+=`${g.padEnd(30)} ${y.padStart(8)} ${v.padStart(10)} ${b.padStart(10)}
`}),p+="-".repeat(60)+`
`,p+=`
SUMMERING:
`,p+="-".repeat(30)+`
`,p+=`Summa exkl. moms: ${h(c).padStart(15)}
`,p+=`Moms (25%): ${h(d).padStart(21)}
`,p+=`TOTALT: ${h(f).padStart(23)}

`,p+=`BETALNINGSINFORMATION:
`,p+="-".repeat(30)+`
`,p+=`Betalningsvillkor: 30 dagar
`,p+=`Dröjsmålsränta: 2% per månad

`,t.some(m=>m.description.length>28||m.notes)&&(p+=`DETALJERADE BESKRIVNINGAR:
`,p+="-".repeat(40)+`
`,t.forEach((m,g)=>{p+=`${g+1}. ${m.description}
`,m.notes&&(p+=`   Anteckningar: ${m.notes}
`),m.hours&&m.hourly_rate&&(p+=`   ${m.hours} timmar à ${h(m.hourly_rate)}
`),p+=`
`})),p+="Exporterad från Konsult Tid System - "+new Date().toLocaleString("sv-SE")+`
`,p+="=".repeat(60),p}downloadPlainTextInvoice(t,r,n,i,a){const o=this.generatePlainTextInvoice(t,r,n,i,a),s=new Blob([o],{type:"text/plain;charset=utf-8"}),c=URL.createObjectURL(s),u=document.createElement("a");u.href=c,u.download=`faktura_${r.replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)}}const ao=new gce;function w0(e){return!!(e.accessToken&&e.clientSecret)}function ac(){try{const e=localStorage.getItem("fortnox_config");if(!e)return null;const t=JSON.parse(e);return w0(t)?t:null}catch{return null}}function XP(e){localStorage.setItem("fortnox_config",JSON.stringify(e))}function vce(){localStorage.removeItem("fortnox_config")}function H$({open:e,onOpenChange:t,onConfigured:r}){const[n,i]=x.useState({accessToken:"",clientSecret:""}),[a,o]=x.useState(!1),[s,c]=x.useState("idle"),[u,d]=x.useState(""),[f,h]=x.useState(!1);x.useEffect(()=>{if(e){const w=ac();w?(i(w),h(!0),c("success")):(i({accessToken:"",clientSecret:""}),h(!1),c("idle"))}},[e]);const p=(w,j)=>{i(S=>({...S,[w]:j})),c("idle"),d("")},m=async()=>{if(!w0(n)){d("Please provide both Access Token and Client Secret"),c("error");return}o(!0),d("");try{ao.configure(n),await ao.testConnection()?(c("success"),XP(n),h(!0)):(c("error"),d("Failed to connect to Fortnox. Please check your credentials."))}catch(w){c("error"),d(w instanceof Error?w.message:"Connection test failed")}finally{o(!1)}},g=()=>{s==="success"&&w0(n)&&(XP(n),r==null||r(),t(!1))},y=()=>{vce(),i({accessToken:"",clientSecret:""}),h(!1),c("idle"),d("")},v=()=>{switch(s){case"success":return l.jsx(Ln,{className:"h-4 w-4 text-green-600"});case"error":return l.jsx(rp,{className:"h-4 w-4 text-red-600"});default:return l.jsx(tp,{className:"h-4 w-4 text-gray-400"})}},b=()=>{switch(s){case"success":return"Connected successfully";case"error":return"Connection failed";default:return"Not configured"}};return l.jsx(Nn,{open:e,onOpenChange:t,children:l.jsxs(Qr,{className:"sm:max-w-md",children:[l.jsxs(Zr,{children:[l.jsx(en,{children:"Fortnox Integration"}),l.jsx(sl,{children:"Configure your Fortnox API credentials to export invoice items directly to Fortnox."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(U,{children:[l.jsx(G,{className:"pb-3",children:l.jsxs(Y,{className:"text-sm flex items-center gap-2",children:[v(),"Connection Status: ",b()]})}),s==="success"&&l.jsx(H,{className:"pt-0",children:l.jsx("p",{className:"text-sm text-green-600",children:"Your Fortnox integration is ready to use."})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"accessToken",children:"Access Token"}),l.jsx(fe,{id:"accessToken",type:"password",placeholder:"Enter your Fortnox Access Token",value:n.accessToken||"",onChange:w=>p("accessToken",w.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"clientSecret",children:"Client Secret"}),l.jsx(fe,{id:"clientSecret",type:"password",placeholder:"Enter your Fortnox Client Secret",value:n.clientSecret||"",onChange:w=>p("clientSecret",w.target.value)})]}),l.jsx(Eh,{children:l.jsx(Ph,{className:"text-sm",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{children:"To get your Fortnox API credentials:"}),l.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[l.jsx("li",{children:"Log in to your Fortnox account"}),l.jsx("li",{children:"Go to Settings → Integrations → API"}),l.jsx("li",{children:"Create a new integration or use existing one"}),l.jsx("li",{children:"Copy the Access Token and Client Secret"})]}),l.jsxs("a",{href:"https://developer.fortnox.se/general/authentication/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 text-xs",children:["Learn more ",l.jsx(ZB,{className:"h-3 w-3"})]})]})})}),u&&l.jsx(Eh,{variant:"destructive",children:l.jsx(Ph,{children:u})}),l.jsx(W,{onClick:m,disabled:a||!n.accessToken||!n.clientSecret,className:"w-full",variant:"outline",children:a?l.jsxs(l.Fragment,{children:[l.jsx(Pf,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing Connection..."]}):"Test Connection"})]})]}),l.jsxs(Lu,{className:"flex gap-2",children:[f&&l.jsx(W,{variant:"outline",onClick:y,className:"mr-auto",children:"Clear Config"}),l.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),l.jsx(W,{onClick:g,disabled:s!=="success",children:"Save Configuration"})]})]})})}function yce({open:e,onOpenChange:t}){const{invoiceItems:r,markAsInvoiced:n}=Oa(),{clients:i}=Ot(),{projects:a}=Ut(),[o,s]=x.useState(!1),[c,u]=x.useState(new Set),[d,f]=x.useState(!0),[h,p]=x.useState(!1),[m,g]=x.useState([]),[y,v]=x.useState(!1),b=r.filter(_=>_.status==="draft");x.useEffect(()=>{if(e){const _=ac();v(!!_),_&&ao.configure(_),u(new Set),g([])}},[e]);const w=_=>{u(A=>{const D=new Set(A);return D.has(_)?D.delete(_):D.add(_),D})},j=()=>{c.size===b.length?u(new Set):u(new Set(b.map(_=>_.id)))},S=_=>{const A=i.find(D=>D.id===_);return(A==null?void 0:A.name)||"Unknown Client"},N=_=>i.find(A=>A.id===_),E=_=>{const A=a.find(D=>D.id===_);return(A==null?void 0:A.name)||"Unknown Project"},C=_=>{const A=new Map;return _.forEach(D=>{const M=D.client_id||"no-client";A.has(M)||A.set(M,[]),A.get(M).push(D)}),A},P=async()=>{var _;if(!y){s(!0);return}if(c.size!==0){p(!0),g([]);try{const A=b.filter(R=>c.has(R.id)),D=[];if(d){const R=C(A);for(const[I,F]of R){const B=N(I),J=(B==null?void 0:B.name)||"Unknown Client",L=await ao.exportInvoiceItems(F,J,(B==null?void 0:B.email)||void 0,(B==null?void 0:B.company)||void 0);D.push({...L,clientName:J,itemCount:F.length,items:F.map(ne=>ne.id)})}}else{const R=N(((_=A[0])==null?void 0:_.client_id)||""),I=(R==null?void 0:R.name)||"Mixed Clients",F=await ao.exportInvoiceItems(A,I,(R==null?void 0:R.email)||void 0,(R==null?void 0:R.company)||void 0);D.push({...F,clientName:I,itemCount:A.length,items:A.map(B=>B.id)})}g(D);const T=D.filter(R=>R.success).flatMap(R=>R.items||[]);T.length>0&&await n(T)}catch(A){console.error("Export failed:",A),g([{success:!1,error:A instanceof Error?A.message:"Export failed"}])}finally{p(!1)}}},k=b.filter(_=>c.has(_.id)).reduce((_,A)=>_+A.total_amount,0),O=C(b.filter(_=>c.has(_.id)));return l.jsxs(l.Fragment,{children:[l.jsx(Nn,{open:e,onOpenChange:t,children:l.jsxs(Qr,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(Zr,{children:[l.jsxs(en,{className:"flex items-center gap-2",children:[l.jsx(So,{className:"h-5 w-5"}),"Export to Fortnox"]}),l.jsx(sl,{children:"Export invoice items to Fortnox as invoices. Only draft items can be exported."})]}),l.jsxs("div",{className:"space-y-4",children:[!y&&l.jsx(Eh,{variant:"destructive",children:l.jsx(Ph,{children:"Fortnox integration is not configured. Please configure your API credentials first."})}),l.jsxs(U,{children:[l.jsx(G,{className:"pb-3",children:l.jsx(Y,{className:"text-sm",children:"Export Options"})}),l.jsx(H,{className:"space-y-3",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Vc,{id:"groupByClient",checked:d,onCheckedChange:f}),l.jsx("label",{htmlFor:"groupByClient",className:"text-sm",children:"Create separate invoices for each client"})]})})]}),l.jsxs(U,{children:[l.jsx(G,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Y,{className:"text-sm",children:["Select Items (",b.length," available)"]}),l.jsx(W,{variant:"outline",size:"sm",onClick:j,children:c.size===b.length?"Deselect All":"Select All"})]})}),l.jsx(H,{children:l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:b.length===0?l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No draft items available for export"}):b.map(_=>l.jsxs("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[l.jsx(Vc,{checked:c.has(_.id),onCheckedChange:()=>w(_.id)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium truncate",children:_.description}),l.jsxs("div",{className:"text-xs text-gray-500",children:[S(_.client_id||"")," • ",E(_.project_id||"")]})]}),l.jsx("div",{className:"text-sm font-medium",children:V(_.total_amount)})]},_.id))})})]}),c.size>0&&l.jsxs(U,{children:[l.jsx(G,{className:"pb-3",children:l.jsx(Y,{className:"text-sm",children:"Export Summary"})}),l.jsx(H,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Selected items:"}),l.jsx("span",{children:c.size})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Total amount:"}),l.jsx("span",{className:"font-medium",children:V(k)})]}),d&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Invoices to create:"}),l.jsx("span",{children:O.size})]})]})})]}),m.length>0&&l.jsxs(U,{children:[l.jsx(G,{className:"pb-3",children:l.jsx(Y,{className:"text-sm",children:"Export Results"})}),l.jsx(H,{children:l.jsx("div",{className:"space-y-2",children:m.map((_,A)=>l.jsxs("div",{className:`flex items-center gap-2 p-2 rounded text-sm ${_.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[_.success?l.jsx(Ln,{className:"h-4 w-4"}):l.jsx(rp,{className:"h-4 w-4"}),l.jsx("div",{className:"flex-1",children:_.success?l.jsxs(l.Fragment,{children:[l.jsx("div",{children:"Invoice created successfully"}),_.invoiceNumber&&l.jsxs("div",{className:"text-xs",children:["Invoice #: ",_.invoiceNumber]})]}):l.jsxs("div",{children:["Failed: ",_.error]})})]},A))})})]})]}),l.jsxs(Lu,{className:"flex gap-2",children:[!y&&l.jsxs(W,{variant:"outline",onClick:()=>s(!0),className:"mr-auto",children:[l.jsx(tp,{className:"h-4 w-4 mr-2"}),"Configure Fortnox"]}),l.jsx(W,{variant:"outline",onClick:()=>t(!1),children:"Close"}),l.jsx(W,{onClick:P,disabled:!y||c.size===0||h,children:h?l.jsxs(l.Fragment,{children:[l.jsx(Pf,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Qh,{className:"h-4 w-4 mr-2"}),"Export to Fortnox"]})})]})]})}),l.jsx(H$,{open:o,onOpenChange:s,onConfigured:()=>{v(!0),s(!1)}})]})}function xce({open:e,onOpenChange:t}){const{invoiceItems:r,markAsInvoiced:n}=Oa(),{clients:i}=Ot(),{projects:a}=Ut(),[o,s]=x.useState(new Set),[c,u]=x.useState(!0),[d,f]=x.useState(""),[h,p]=x.useState(!1),m=r.filter(C=>C.status==="draft");x.useEffect(()=>{e&&(s(new Set),f(""),p(!1))},[e]);const g=C=>{s(P=>{const k=new Set(P);return k.has(C)?k.delete(C):k.add(C),k})},y=()=>{o.size===m.length?s(new Set):s(new Set(m.map(C=>C.id)))},v=C=>{const P=i.find(k=>k.id===C);return(P==null?void 0:P.name)||"Unknown Client"},b=C=>i.find(P=>P.id===C),w=C=>{const P=a.find(k=>k.id===C);return(P==null?void 0:P.name)||"Unknown Project"},j=C=>{const P=new Map;return C.forEach(k=>{const O=k.client_id||"no-client";P.has(O)||P.set(O,[]),P.get(O).push(k)}),P},S=async()=>{var P;if(o.size===0)return;const C=m.filter(k=>o.has(k.id));if(c)j(C).forEach((O,_)=>{const A=b(_),D=(A==null?void 0:A.name)||"Unknown Client";ao.downloadPlainTextInvoice(O,D,(A==null?void 0:A.email)||void 0,(A==null?void 0:A.company)||void 0,d||void 0)});else{const k=b(((P=C[0])==null?void 0:P.client_id)||""),O=(k==null?void 0:k.name)||"Mixed Clients";ao.downloadPlainTextInvoice(C,O,(k==null?void 0:k.email)||void 0,(k==null?void 0:k.company)||void 0,d||void 0)}await n(C.map(k=>k.id)),p(!0)},N=m.filter(C=>o.has(C.id)).reduce((C,P)=>C+P.total_amount,0),E=j(m.filter(C=>o.has(C.id)));return l.jsx(Nn,{open:e,onOpenChange:t,children:l.jsxs(Qr,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[l.jsxs(Zr,{children:[l.jsxs(en,{className:"flex items-center gap-2",children:[l.jsx(So,{className:"h-5 w-5"}),"Export as Plain Text"]}),l.jsx(sl,{children:"Export invoice items as readable text files for manual invoice creation. Only draft items can be exported."})]}),h?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ln,{className:"h-12 w-12 mx-auto text-green-600 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-green-700 mb-2",children:"Export Successful!"}),l.jsxs("p",{className:"text-gray-600",children:["Your invoice",E.size>1?"s have":" has"," been downloaded as text file",E.size>1?"s":"","."]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs(U,{children:[l.jsx(G,{className:"pb-3",children:l.jsx(Y,{className:"text-sm",children:"Export Options"})}),l.jsxs(H,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Vc,{id:"groupByClient",checked:c,onCheckedChange:u}),l.jsx("label",{htmlFor:"groupByClient",className:"text-sm",children:"Create separate files for each client"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"invoiceNumber",className:"text-sm",children:"Invoice Number (optional)"}),l.jsx(fe,{id:"invoiceNumber",placeholder:"e.g., INV-2025-001",value:d,onChange:C=>f(C.target.value)}),l.jsx("p",{className:"text-xs text-gray-500",children:"Leave empty to use placeholder (XXXX) in the exported file"})]})]})]}),l.jsxs(U,{children:[l.jsx(G,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Y,{className:"text-sm",children:["Select Items (",m.length," available)"]}),l.jsx(W,{variant:"outline",size:"sm",onClick:y,children:o.size===m.length?"Deselect All":"Select All"})]})}),l.jsx(H,{children:l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.length===0?l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No draft items available for export"}):m.map(C=>l.jsxs("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[l.jsx(Vc,{checked:o.has(C.id),onCheckedChange:()=>g(C.id)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-sm font-medium truncate",children:C.description}),l.jsxs("div",{className:"text-xs text-gray-500",children:[v(C.client_id||"")," • ",w(C.project_id||"")]})]}),l.jsx("div",{className:"text-sm font-medium",children:V(C.total_amount)})]},C.id))})})]}),o.size>0&&l.jsxs(U,{children:[l.jsx(G,{className:"pb-3",children:l.jsx(Y,{className:"text-sm",children:"Export Summary"})}),l.jsx(H,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Selected items:"}),l.jsx("span",{children:o.size})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Total amount:"}),l.jsx("span",{className:"font-medium",children:V(N)})]}),c&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Files to create:"}),l.jsx("span",{children:E.size})]})]})})]})]}),l.jsxs(Lu,{className:"flex gap-2",children:[l.jsx(W,{variant:"outline",onClick:()=>t(!1),children:h?"Close":"Cancel"}),!h&&l.jsxs(W,{onClick:S,disabled:o.size===0,children:[l.jsx(Qh,{className:"h-4 w-4 mr-2"}),"Export Text Files"]})]})]})})}function bce(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[i,a]=x.useState(!1),[o,s]=x.useState(!1),{invoiceItems:c,loading:u,getInvoiceSummary:d,getClientSummaries:f}=Oa(),{clients:h,loading:p}=Ot(),{projects:m,loading:g}=Ut(),y=u||p||g,v=d(),b=f(),w=()=>{t(!0)},j=()=>{n(!0)},S=()=>{console.log("Mark as invoiced")},N=()=>{console.log("Mark as paid")},E=()=>{a(!0)},C=()=>{s(!0)},P=O=>{console.log("Client clicked:",O)},k=O=>{console.log("Item clicked:",O)};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Invoicing"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Track unbilled work and manage invoice items for clients and projects"})]}),l.jsxs(W,{onClick:w,className:"sm:w-auto w-full",children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"New Invoice Item"]})]}),l.jsx(lce,{summary:v,loading:y}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[l.jsx(cce,{clients:b,loading:y,onClientClick:P}),l.jsx(uce,{items:c,loading:y,onItemClick:k,clients:h,projects:m}),l.jsx(dce,{onCreateInvoiceItem:w,onCreateFromTime:j,onMarkAsInvoiced:S,onMarkAsPaid:N,onExportToFortnox:E,onExportPlainText:C})]}),l.jsx("div",{className:"grid grid-cols-1",children:l.jsx(fce,{items:c,loading:y})}),!y&&c.length===0&&l.jsx(U,{className:"text-center py-12",children:l.jsxs(H,{children:[l.jsx(qs,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No invoice items yet"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Start tracking your unbilled work by creating invoice items for your clients and projects. You can create items manually or convert time entries into billable items."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l.jsxs(W,{onClick:w,children:[l.jsx(lt,{className:"h-4 w-4 mr-2"}),"Create First Invoice Item"]}),l.jsxs(W,{variant:"outline",onClick:j,children:[l.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Import from Time Tracking"]})]})]})}),l.jsx(hce,{open:e,onOpenChange:t}),l.jsx(pce,{open:r,onOpenChange:n}),l.jsx(yce,{open:i,onOpenChange:a}),l.jsx(xce,{open:o,onOpenChange:s})]})}const c1=x.createContext(void 0),wce=({value:e,defaultValue:t,onValueChange:r,children:n,className:i})=>{const[a,o]=x.useState(t||""),s=e!==void 0?e:a,c=x.useCallback(d=>{e===void 0&&o(d),r==null||r(d)},[e,r]),u=x.useMemo(()=>({value:s,onValueChange:c}),[s,c]);return l.jsx(c1.Provider,{value:u,children:l.jsx("div",{className:i,children:n})})},q$=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,role:"tablist",className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));q$.displayName="TabsList";const zl=x.forwardRef(({className:e,value:t,...r},n)=>{const i=x.useContext(c1);if(!i)throw new Error("TabsTrigger must be used within a Tabs component");const a=i.value===t;return l.jsx("button",{ref:n,role:"tab","aria-selected":a,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a?"bg-background text-foreground shadow-sm":"",e),onClick:()=>i.onValueChange(t),...r})});zl.displayName="TabsTrigger";const Ul=x.forwardRef(({className:e,value:t,...r},n)=>{const i=x.useContext(c1);if(!i)throw new Error("TabsContent must be used within a Tabs component");return i.value!==t?null:l.jsx("div",{ref:n,role:"tabpanel",className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r})});Ul.displayName="TabsContent";const K$=x.forwardRef(({className:e,orientation:t="horizontal",...r},n)=>l.jsx("div",{ref:n,className:Ae("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));K$.displayName="Separator";const zo=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];function jce(){const{user:e}=Fr(),{toast:t}=ll(),[r,n]=x.useState(()=>{const g=new Date;return{year:g.getFullYear(),month:g.getMonth()+1}}),[i,a]=x.useState({billing_percentage:94,absence_percentage:15}),[o,s]=x.useState(!1),[c,u]=x.useState(!1);x.useEffect(()=>{(async()=>{if(e)try{u(!0);const{data:y,error:v}=await le.from("monthly_settings").select("billing_percentage, absence_percentage").eq("user_id",e.id).eq("year",r.year).eq("month",r.month).single();if(y&&!v)console.log(`Loading settings for ${r.month}/${r.year}:`,y),a({billing_percentage:y.billing_percentage,absence_percentage:y.absence_percentage});else{console.log(`No specific settings for ${r.month}/${r.year}, using defaults`);const{data:b,error:w}=await le.from("user_profiles").select("debit_rate_monthly, absence_percentage").eq("id",e.id).single();a(b&&!w?{billing_percentage:b.debit_rate_monthly||94,absence_percentage:b.absence_percentage||15}:{billing_percentage:94,absence_percentage:15})}}catch(y){console.error("Error loading monthly settings:",y),a({billing_percentage:94,absence_percentage:15})}finally{u(!1)}})()},[e,r.year,r.month]);const d=g=>{n(y=>{let v=y.month+(g==="next"?1:-1),b=y.year;return v>12?(v=1,b++):v<1&&(v=12,b--),{year:b,month:v}})},f=async()=>{if(e)try{s(!0),console.log(`🔄 Saving settings for ${zo[r.month-1]} ${r.year}:`,{month:r.month,year:r.year,settings:i});const{error:g}=await le.from("monthly_settings").upsert({user_id:e.id,year:r.year,month:r.month,billing_percentage:i.billing_percentage,absence_percentage:i.absence_percentage,updated_at:new Date().toISOString()},{onConflict:"user_id,year,month"});if(g)throw g;console.log(`✅ Successfully saved settings for ${zo[r.month-1]} ${r.year}`),t({title:"Sparade månadsspecifika inställningar",description:`Inställningar för ${zo[r.month-1]} ${r.year} har sparats`})}catch(g){console.error("Error saving monthly settings:",g),t({title:"Fel vid sparande",description:g instanceof Error?`Databasfel: ${g.message}. Kontrollera att monthly_settings tabellen existerar.`:"Kunde inte spara månadsspecifika inställningar.",variant:"destructive"})}finally{s(!1)}},h=8*5*4.33,p=Math.round(h*(1-i.absence_percentage/100)),m=Math.round(p*(i.billing_percentage/100));return l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"w-5 h-5"}),"Månadsspecifika inställningar"]}),l.jsx(Xt,{children:"Konfigurera debiteringsgrad och frånvaro per månad för noggrannare prognoser. Varje månad kan ha unika inställningar."})]}),l.jsxs(H,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-3 rounded-lg",children:[l.jsx(W,{variant:"ghost",size:"icon",onClick:()=>d("prev"),className:"h-8 w-8",children:l.jsx(Nx,{className:"h-4 w-4"})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"font-semibold text-lg",children:[zo[r.month-1]," ",r.year]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Månadsspecifika inställningar"})]}),l.jsx(W,{variant:"ghost",size:"icon",onClick:()=>d("next"),className:"h-8 w-8",children:l.jsx(Ex,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"billing_percentage",children:"Debiteringsgrad (%)"}),l.jsx(fe,{id:"billing_percentage",type:"number",min:"0",max:"100",step:"1",value:i.billing_percentage,onChange:g=>a(y=>({...y,billing_percentage:parseFloat(g.target.value)>=0?parseFloat(g.target.value):0}))}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Procent av arbetstimmar som faktiskt debiteras denna månad"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"absence_percentage",children:"Frånvaroprocent (%)"}),l.jsx(fe,{id:"absence_percentage",type:"number",min:"0",max:"100",step:"1",value:i.absence_percentage,onChange:g=>a(y=>({...y,absence_percentage:parseFloat(g.target.value)>=0?parseFloat(g.target.value):0}))}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Förväntad frånvaro för denna månad (semester, sjukdom, etc.)"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"font-medium",children:["Beräkning för ",zo[r.month-1]]}),l.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2 text-sm",children:[l.jsxs("p",{children:["• Arbetstimmar: ",Math.round(h)," timmar"]}),l.jsxs("p",{children:["• Efter frånvaro (",i.absence_percentage,"%): ",p," timmar"]}),l.jsxs("p",{children:["• Debiterbara timmar (",i.billing_percentage,"%): ",m," timmar"]})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs(W,{onClick:f,disabled:o||c,className:"flex items-center gap-2",children:[l.jsx(Qk,{className:"w-4 h-4"}),o?"Sparar...":`Spara för ${zo[r.month-1]}`]})})]})]})}function Sce(){const{user:e}=Fr(),{toast:t}=ll(),[r,n]=x.useState(!0),[i,a]=x.useState(!1),[o,s]=x.useState(!1),[c,u]=x.useState({id:"",company_name:"",company_motto:"",hourly_rate:500,currency:"SEK",timezone:"Europe/Stockholm",debit_rate_monthly:0,absence_percentage:15,work_hours_per_day:8,work_days_per_week:5}),d=x.useCallback(async()=>{if(e)try{n(!0);const{data:p,error:m}=await le.from("user_profiles").select("*").eq("id",e==null?void 0:e.id).single();if(m&&m.code!=="PGRST116")throw m;p&&u({id:p.id,company_name:p.company_name||"",company_motto:p.company_motto||"",hourly_rate:p.hourly_rate||500,currency:p.currency||"SEK",timezone:p.timezone||"Europe/Stockholm",debit_rate_monthly:0,absence_percentage:15,work_hours_per_day:8,work_days_per_week:5})}catch(p){console.error("Error loading settings:",p),t({title:"Fel",description:"Kunde inte ladda inställningar",variant:"destructive"})}finally{n(!1)}},[e,t]);x.useEffect(()=>{d()},[d]);const f=async()=>{try{a(!0);const{error:p}=await le.from("user_profiles").upsert({id:e==null?void 0:e.id,company_name:c.company_name,company_motto:c.company_motto,hourly_rate:c.hourly_rate,currency:c.currency,timezone:c.timezone,debit_rate_monthly:c.debit_rate_monthly,absence_percentage:c.absence_percentage,work_hours_per_day:c.work_hours_per_day,work_days_per_week:c.work_days_per_week,updated_at:new Date().toISOString()});if(p)throw p;t({title:"Sparade inställningar",description:"Dina inställningar har uppdaterats"})}catch(p){console.error("Error saving settings:",p),t({title:"Fel",description:"Kunde inte spara inställningar",variant:"destructive"})}finally{a(!1)}},h=(p,m)=>{u(g=>({...g,[p]:m}))};return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Pf,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Laddar inställningar..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Inställningar"}),l.jsx("p",{className:"text-muted-foreground",children:"Hantera dina konto- och applikationsinställningar"})]}),l.jsx(W,{onClick:f,disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(Pf,{className:"w-4 h-4 mr-2 animate-spin"}),"Sparar..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Qk,{className:"w-4 h-4 mr-2"}),"Spara ändringar"]})})]}),l.jsxs(wce,{defaultValue:"profile",className:"space-y-6",children:[l.jsxs(q$,{className:"grid w-full grid-cols-4",children:[l.jsxs(zl,{value:"profile",className:"flex items-center gap-2",children:[l.jsx(Ks,{className:"w-4 h-4"}),"Profil"]}),l.jsxs(zl,{value:"timetracking",className:"flex items-center gap-2",children:[l.jsx(Ie,{className:"w-4 h-4"}),"Tidrapportering"]}),l.jsxs(zl,{value:"billing",className:"flex items-center gap-2",children:[l.jsx(lr,{className:"w-4 h-4"}),"Fakturering"]}),l.jsxs(zl,{value:"preferences",className:"flex items-center gap-2",children:[l.jsx(qj,{className:"w-4 h-4"}),"Preferenser"]})]}),l.jsx(Ul,{value:"profile",className:"space-y-6",children:l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(Sx,{className:"w-5 h-5"}),"Företagsinformation"]}),l.jsx(Xt,{children:"Grundläggande information om ditt företag"})]}),l.jsxs(H,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"company_name",children:"Företagsnamn"}),l.jsx(fe,{id:"company_name",value:c.company_name,onChange:p=>h("company_name",p.target.value),placeholder:"Mitt Konsultföretag AB"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"currency",children:"Valuta"}),l.jsx(fe,{id:"currency",value:c.currency,onChange:p=>h("currency",p.target.value),placeholder:"SEK"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"company_motto",children:"Företagsmotto"}),l.jsx(fe,{id:"company_motto",value:c.company_motto,onChange:p=>h("company_motto",p.target.value),placeholder:"Bygger framtiden, ett projekt i taget."})]})]})]})}),l.jsxs(Ul,{value:"timetracking",className:"space-y-6",children:[l.jsx(jce,{}),l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(Ie,{className:"w-5 h-5"}),"Grundinställningar för tidrapportering"]}),l.jsx(Xt,{children:"Standardinställningar som används som bas för månadsspecifika inställningar"})]}),l.jsxs(H,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium",children:"Arbetstider"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"work_hours_per_day",children:"Arbetstimmar per dag"}),l.jsx(fe,{id:"work_hours_per_day",type:"number",min:"1",max:"24",step:"0.5",value:c.work_hours_per_day,onChange:p=>h("work_hours_per_day",parseFloat(p.target.value))}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Standard arbetstimmar per arbetsdag"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"work_days_per_week",children:"Arbetsdagar per vecka"}),l.jsx(fe,{id:"work_days_per_week",type:"number",min:"1",max:"7",value:c.work_days_per_week,onChange:p=>h("work_days_per_week",parseInt(p.target.value))}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Antal arbetsdagar per vecka"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-medium",children:"Ekonomiska inställningar"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"debit_rate_monthly",children:"Debiteringsgrad (%)"}),l.jsx(fe,{id:"debit_rate_monthly",type:"number",min:"0",max:"100",step:"1",value:c.debit_rate_monthly,onChange:p=>h("debit_rate_monthly",parseFloat(p.target.value)),placeholder:"94"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Procent av arbetstimmar som faktiskt debiteras (t.ex. 94% av 170h = 160h)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"absence_percentage",children:"Frånvaroprocent (%)"}),l.jsx(fe,{id:"absence_percentage",type:"number",min:"0",max:"100",step:"1",value:c.absence_percentage,onChange:p=>h("absence_percentage",parseFloat(p.target.value))}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Uppskattad procent av frånvaro (semester, sjukdom, etc.)"})]})]})]}),l.jsx(K$,{}),l.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Beräkningsexempel"}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsxs("p",{children:["• Arbetstimmar per månad: ",Math.round(c.work_hours_per_day*c.work_days_per_week*4.33)," timmar"]}),l.jsxs("p",{children:["• Effektiva timmar (efter frånvaro): ",Math.round(c.work_hours_per_day*c.work_days_per_week*4.33*(1-c.absence_percentage/100))," timmar"]}),l.jsxs("p",{children:["• Debiterbara timmar (",c.debit_rate_monthly,"%): ",Math.round(c.work_hours_per_day*c.work_days_per_week*4.33*(1-c.absence_percentage/100)*(c.debit_rate_monthly/100))," timmar"]}),c.hourly_rate>0&&l.jsxs("p",{children:["• Uppskattad månadsomsättning: ",Math.round(c.work_hours_per_day*c.work_days_per_week*4.33*(1-c.absence_percentage/100)*(c.debit_rate_monthly/100)*c.hourly_rate).toLocaleString("sv-SE")," SEK"]})]})]})]})]})]}),l.jsxs(Ul,{value:"billing",className:"space-y-6",children:[l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(lr,{className:"w-5 h-5"}),"Faktureringsinställningar"]}),l.jsx(Xt,{children:"Inställningar för priser och fakturering"})]}),l.jsx(H,{className:"space-y-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"hourly_rate",children:"Timpris (SEK)"}),l.jsx(fe,{id:"hourly_rate",type:"number",min:"0",step:"50",value:c.hourly_rate,onChange:p=>h("hourly_rate",parseFloat(p.target.value))}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ditt standardtimpris för konsultarbete"})]})})]}),l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(d6,{className:"w-5 h-5"}),"Fortnox Integration"]}),l.jsx(Xt,{children:"Konfigurera Fortnox API för att exportera fakturor direkt"})]}),l.jsx(H,{className:"space-y-4",children:l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-medium",children:"Fortnox API"}),ac()?l.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:"Konfigurerad"}):l.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Inte konfigurerad"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:ac()?"Du kan nu exportera fakturor direkt till Fortnox.":"Ställ in dina API-uppgifter för att aktivera Fortnox-export."})]}),l.jsx(W,{variant:"outline",onClick:()=>s(!0),children:ac()?"Hantera":"Konfigurera"})]})})]})]}),l.jsx(Ul,{value:"preferences",className:"space-y-6",children:l.jsxs(U,{children:[l.jsxs(G,{children:[l.jsxs(Y,{className:"flex items-center gap-2",children:[l.jsx(qj,{className:"w-5 h-5"}),"Applikationspreferenser"]}),l.jsx(Xt,{children:"Anpassa applikationens utseende och beteende"})]}),l.jsx(H,{className:"space-y-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(xe,{htmlFor:"timezone",children:"Tidszon"}),l.jsx(fe,{id:"timezone",value:c.timezone,onChange:p=>h("timezone",p.target.value),placeholder:"Europe/Stockholm"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Din lokala tidszon för tiddisplay"})]})})]})})]}),l.jsx(H$,{open:o,onOpenChange:s})]})}function Nce(){const{user:e,loading:t,signOut:r}=Fr(),[n,i]=x.useState(!1);x.useEffect(()=>{const s=localStorage.getItem("darkMode");s&&i(JSON.parse(s))},[]),x.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(n)),n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);const a=async()=>{await r()},o=()=>{i(!n)};return t?l.jsx("div",{className:`min-h-screen flex items-center justify-center ${n?"bg-slate-900":"bg-slate-50"}`,children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:n?"text-white":"text-slate-900",children:"Loading..."})]})}):e?l.jsx(j4,{children:l.jsx(l5,{isDarkMode:n,onToggleDarkMode:o,onSignOut:a,user:e,children:l.jsxs(p4,{children:[l.jsx(Dn,{path:"/",element:l.jsx(mse,{isDarkMode:n})}),l.jsx(Dn,{path:"/time-tracking",element:l.jsx(wse,{isDarkMode:n})}),l.jsx(Dn,{path:"/budget",element:l.jsx(Tse,{isDarkMode:n})}),l.jsx(Dn,{path:"/cash-flow",element:l.jsx(Dse,{isDarkMode:n})}),l.jsx(Dn,{path:"/projects",element:l.jsx(Ise,{})}),l.jsx(Dn,{path:"/clients",element:l.jsx(Mse,{})}),l.jsx(Dn,{path:"/analytics",element:l.jsx(sce,{isDarkMode:n})}),l.jsx(Dn,{path:"/invoicing",element:l.jsx(bce,{})}),l.jsx(Dn,{path:"/settings",element:l.jsx(Sce,{})})]})})}):l.jsx(v6,{isDarkMode:n})}uk(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx(Nce,{})}));
